<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>DayFusion</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="assets/images/logo_dayfusion.png">
  <!-- Font Awesome -->
  <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" rel="stylesheet"/>
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet"/>
  <!-- Content Security Policy: permite blob/scripts necessários para AWS Face Liveness Widget -->
  <!-- Conforme AWS_FaceLiveness_WidgetAccessError.md: CSP restritiva pode bloquear scripts/blob do widget -->
  <!-- Adicionado worker-src blob: para permitir web workers do widget AWS -->
  <meta http-equiv="Content-Security-Policy"
        content="default-src * blob: data: gap:; style-src * 'unsafe-inline'; script-src * 'unsafe-inline' 'unsafe-eval' * blob:; worker-src blob: *; child-src blob: *;">
  <!-- Polyfill para process.env (necessário para widget.js) -->
  <script>
    // Polyfill para process.env usado pelo widget AWS Face Liveness
    if (typeof process === 'undefined') {
      window.process = {
        env: {
          NODE_ENV: 'development'
        }
      };
    }
  </script>
  <!-- AWS SDK v3 (necessário para widget local) -->
  <script src="https://sdk.amazonaws.com/js/aws-sdk-2.1536.0.min.js" onerror="console.warn('AWS SDK failed to load')"></script>
  <!-- Widget AWS Face Liveness (conforme aws_widget_angular19.md) -->
  <script src="https://d2vvq1ykw7p3zk.cloudfront.net/faceLiveness/latest/faceLiveness.js" onerror="console.warn('AWS CloudFront script failed to load')"></script>
  <!-- Widget AWS Face Liveness V2 (oficial) - fallback -->
  <!-- Conforme dayfusion-liveness-modal-aws-v2.md: usar sempre o domínio oficial -->
  <script src="https://assets.face-liveness.aws.dev/v2/face-liveness.js" onerror="console.warn('V2 script failed to load')"></script>
  <link rel="stylesheet" href="https://assets.face-liveness.aws.dev/v2/face-liveness.css" onerror="console.warn('V2 CSS failed to load')" />
  <!-- Widget local como fallback -->
  <script src="/assets/liveness/widget.js" onerror="console.warn('Local widget script failed to load')"></script>
</head>
<body>
  <app-root></app-root>
</body>
</html>
