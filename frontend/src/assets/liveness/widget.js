(function(){"use strict";function $0(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(t,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var _d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ph(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function J7(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var a=!1;try{a=this instanceof r}catch{}return a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var a=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return t[r]}})}),n}var F0={exports:{}},Gn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FA;function Z7(){if(FA)return Gn;FA=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),g=Symbol.iterator;function y(Q){return Q===null||typeof Q!="object"?null:(Q=g&&Q[g]||Q["@@iterator"],typeof Q=="function"?Q:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,k={};function _(Q,ue,ke){this.props=Q,this.context=ue,this.refs=k,this.updater=ke||S}_.prototype.isReactComponent={},_.prototype.setState=function(Q,ue){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,ue,"setState")},_.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function I(){}I.prototype=_.prototype;function R(Q,ue,ke){this.props=Q,this.context=ue,this.refs=k,this.updater=ke||S}var A=R.prototype=new I;A.constructor=R,E(A,_.prototype),A.isPureReactComponent=!0;var O=Array.isArray,L=Object.prototype.hasOwnProperty,U={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function J(Q,ue,ke){var Ce,Me={},Ve=null,Ke=null;if(ue!=null)for(Ce in ue.ref!==void 0&&(Ke=ue.ref),ue.key!==void 0&&(Ve=""+ue.key),ue)L.call(ue,Ce)&&!j.hasOwnProperty(Ce)&&(Me[Ce]=ue[Ce]);var He=arguments.length-2;if(He===1)Me.children=ke;else if(1<He){for(var Xe=Array(He),ct=0;ct<He;ct++)Xe[ct]=arguments[ct+2];Me.children=Xe}if(Q&&Q.defaultProps)for(Ce in He=Q.defaultProps,He)Me[Ce]===void 0&&(Me[Ce]=He[Ce]);return{$$typeof:t,type:Q,key:Ve,ref:Ke,props:Me,_owner:U.current}}function q(Q,ue){return{$$typeof:t,type:Q.type,key:ue,ref:Q.ref,props:Q.props,_owner:Q._owner}}function K(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===t}function z(Q){var ue={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(ke){return ue[ke]})}var te=/\/+/g;function ee(Q,ue){return typeof Q=="object"&&Q!==null&&Q.key!=null?z(""+Q.key):ue.toString(36)}function le(Q,ue,ke,Ce,Me){var Ve=typeof Q;(Ve==="undefined"||Ve==="boolean")&&(Q=null);var Ke=!1;if(Q===null)Ke=!0;else switch(Ve){case"string":case"number":Ke=!0;break;case"object":switch(Q.$$typeof){case t:case e:Ke=!0}}if(Ke)return Ke=Q,Me=Me(Ke),Q=Ce===""?"."+ee(Ke,0):Ce,O(Me)?(ke="",Q!=null&&(ke=Q.replace(te,"$&/")+"/"),le(Me,ue,ke,"",function(ct){return ct})):Me!=null&&(K(Me)&&(Me=q(Me,ke+(!Me.key||Ke&&Ke.key===Me.key?"":(""+Me.key).replace(te,"$&/")+"/")+Q)),ue.push(Me)),1;if(Ke=0,Ce=Ce===""?".":Ce+":",O(Q))for(var He=0;He<Q.length;He++){Ve=Q[He];var Xe=Ce+ee(Ve,He);Ke+=le(Ve,ue,ke,Xe,Me)}else if(Xe=y(Q),typeof Xe=="function")for(Q=Xe.call(Q),He=0;!(Ve=Q.next()).done;)Ve=Ve.value,Xe=Ce+ee(Ve,He++),Ke+=le(Ve,ue,ke,Xe,Me);else if(Ve==="object")throw ue=String(Q),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.");return Ke}function ce(Q,ue,ke){if(Q==null)return Q;var Ce=[],Me=0;return le(Q,Ce,"","",function(Ve){return ue.call(ke,Ve,Me++)}),Ce}function ye(Q){if(Q._status===-1){var ue=Q._result;ue=ue(),ue.then(function(ke){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=ke)},function(ke){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=ke)}),Q._status===-1&&(Q._status=0,Q._result=ue)}if(Q._status===1)return Q._result.default;throw Q._result}var ve={current:null},oe={transition:null},he={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:oe,ReactCurrentOwner:U};function ge(){throw Error("act(...) is not supported in production builds of React.")}return Gn.Children={map:ce,forEach:function(Q,ue,ke){ce(Q,function(){ue.apply(this,arguments)},ke)},count:function(Q){var ue=0;return ce(Q,function(){ue++}),ue},toArray:function(Q){return ce(Q,function(ue){return ue})||[]},only:function(Q){if(!K(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}},Gn.Component=_,Gn.Fragment=n,Gn.Profiler=a,Gn.PureComponent=R,Gn.StrictMode=r,Gn.Suspense=f,Gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=he,Gn.act=ge,Gn.cloneElement=function(Q,ue,ke){if(Q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Q+".");var Ce=E({},Q.props),Me=Q.key,Ve=Q.ref,Ke=Q._owner;if(ue!=null){if(ue.ref!==void 0&&(Ve=ue.ref,Ke=U.current),ue.key!==void 0&&(Me=""+ue.key),Q.type&&Q.type.defaultProps)var He=Q.type.defaultProps;for(Xe in ue)L.call(ue,Xe)&&!j.hasOwnProperty(Xe)&&(Ce[Xe]=ue[Xe]===void 0&&He!==void 0?He[Xe]:ue[Xe])}var Xe=arguments.length-2;if(Xe===1)Ce.children=ke;else if(1<Xe){He=Array(Xe);for(var ct=0;ct<Xe;ct++)He[ct]=arguments[ct+2];Ce.children=He}return{$$typeof:t,type:Q.type,key:Me,ref:Ve,props:Ce,_owner:Ke}},Gn.createContext=function(Q){return Q={$$typeof:u,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Q.Provider={$$typeof:o,_context:Q},Q.Consumer=Q},Gn.createElement=J,Gn.createFactory=function(Q){var ue=J.bind(null,Q);return ue.type=Q,ue},Gn.createRef=function(){return{current:null}},Gn.forwardRef=function(Q){return{$$typeof:l,render:Q}},Gn.isValidElement=K,Gn.lazy=function(Q){return{$$typeof:c,_payload:{_status:-1,_result:Q},_init:ye}},Gn.memo=function(Q,ue){return{$$typeof:p,type:Q,compare:ue===void 0?null:ue}},Gn.startTransition=function(Q){var ue=oe.transition;oe.transition={};try{Q()}finally{oe.transition=ue}},Gn.unstable_act=ge,Gn.useCallback=function(Q,ue){return ve.current.useCallback(Q,ue)},Gn.useContext=function(Q){return ve.current.useContext(Q)},Gn.useDebugValue=function(){},Gn.useDeferredValue=function(Q){return ve.current.useDeferredValue(Q)},Gn.useEffect=function(Q,ue){return ve.current.useEffect(Q,ue)},Gn.useId=function(){return ve.current.useId()},Gn.useImperativeHandle=function(Q,ue,ke){return ve.current.useImperativeHandle(Q,ue,ke)},Gn.useInsertionEffect=function(Q,ue){return ve.current.useInsertionEffect(Q,ue)},Gn.useLayoutEffect=function(Q,ue){return ve.current.useLayoutEffect(Q,ue)},Gn.useMemo=function(Q,ue){return ve.current.useMemo(Q,ue)},Gn.useReducer=function(Q,ue,ke){return ve.current.useReducer(Q,ue,ke)},Gn.useRef=function(Q){return ve.current.useRef(Q)},Gn.useState=function(Q){return ve.current.useState(Q)},Gn.useSyncExternalStore=function(Q,ue,ke){return ve.current.useSyncExternalStore(Q,ue,ke)},Gn.useTransition=function(){return ve.current.useTransition()},Gn.version="18.3.1",Gn}var pv={exports:{}};/**
 * @license React
 * react.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */pv.exports;var PA;function e9(){return PA||(PA=1,(function(t,e){process.env.NODE_ENV!=="production"&&(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var n="18.3.1",r=Symbol.for("react.element"),a=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),p=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),k=Symbol.for("react.offscreen"),_=Symbol.iterator,I="@@iterator";function R(V){if(V===null||typeof V!="object")return null;var de=_&&V[_]||V[I];return typeof de=="function"?de:null}var A={current:null},O={transition:null},L={current:null,isBatchingLegacy:!1,didScheduleLegacyUpdate:!1},U={current:null},j={},J=null;function q(V){J=V}j.setExtraStackFrame=function(V){J=V},j.getCurrentStack=null,j.getStackAddendum=function(){var V="";J&&(V+=J);var de=j.getCurrentStack;return de&&(V+=de()||""),V};var K=!1,z=!1,te=!1,ee=!1,le=!1,ce={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:O,ReactCurrentOwner:U};ce.ReactDebugCurrentFrame=j,ce.ReactCurrentActQueue=L;function ye(V){{for(var de=arguments.length,$e=new Array(de>1?de-1:0),x=1;x<de;x++)$e[x-1]=arguments[x];oe("warn",V,$e)}}function ve(V){{for(var de=arguments.length,$e=new Array(de>1?de-1:0),x=1;x<de;x++)$e[x-1]=arguments[x];oe("error",V,$e)}}function oe(V,de,$e){{var x=ce.ReactDebugCurrentFrame,M=x.getStackAddendum();M!==""&&(de+="%s",$e=$e.concat([M]));var B=$e.map(function(W){return String(W)});B.unshift("Warning: "+de),Function.prototype.apply.call(console[V],console,B)}}var he={};function ge(V,de){{var $e=V.constructor,x=$e&&($e.displayName||$e.name)||"ReactClass",M=x+"."+de;if(he[M])return;ve("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",de,x),he[M]=!0}}var Q={isMounted:function(V){return!1},enqueueForceUpdate:function(V,de,$e){ge(V,"forceUpdate")},enqueueReplaceState:function(V,de,$e,x){ge(V,"replaceState")},enqueueSetState:function(V,de,$e,x){ge(V,"setState")}},ue=Object.assign,ke={};Object.freeze(ke);function Ce(V,de,$e){this.props=V,this.context=de,this.refs=ke,this.updater=$e||Q}Ce.prototype.isReactComponent={},Ce.prototype.setState=function(V,de){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw new Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,de,"setState")},Ce.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};{var Me={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},Ve=function(V,de){Object.defineProperty(Ce.prototype,V,{get:function(){ye("%s(...) is deprecated in plain JavaScript React classes. %s",de[0],de[1])}})};for(var Ke in Me)Me.hasOwnProperty(Ke)&&Ve(Ke,Me[Ke])}function He(){}He.prototype=Ce.prototype;function Xe(V,de,$e){this.props=V,this.context=de,this.refs=ke,this.updater=$e||Q}var ct=Xe.prototype=new He;ct.constructor=Xe,ue(ct,Ce.prototype),ct.isPureReactComponent=!0;function St(){var V={current:null};return Object.seal(V),V}var Rt=Array.isArray;function Dt(V){return Rt(V)}function jt(V){{var de=typeof Symbol=="function"&&Symbol.toStringTag,$e=de&&V[Symbol.toStringTag]||V.constructor.name||"Object";return $e}}function zt(V){try{return vt(V),!1}catch{return!0}}function vt(V){return""+V}function on(V){if(zt(V))return ve("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",jt(V)),vt(V)}function dn(V,de,$e){var x=V.displayName;if(x)return x;var M=de.displayName||de.name||"";return M!==""?$e+"("+M+")":$e}function mn(V){return V.displayName||"Context"}function Jt(V){if(V==null)return null;if(typeof V.tag=="number"&&ve("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof V=="function")return V.displayName||V.name||null;if(typeof V=="string")return V;switch(V){case o:return"Fragment";case a:return"Portal";case l:return"Profiler";case u:return"StrictMode";case g:return"Suspense";case y:return"SuspenseList"}if(typeof V=="object")switch(V.$$typeof){case p:var de=V;return mn(de)+".Consumer";case f:var $e=V;return mn($e._context)+".Provider";case c:return dn(V,V.render,"ForwardRef");case S:var x=V.displayName||null;return x!==null?x:Jt(V.type)||"Memo";case E:{var M=V,B=M._payload,W=M._init;try{return Jt(W(B))}catch{return null}}}return null}var Rn=Object.prototype.hasOwnProperty,bn={key:!0,ref:!0,__self:!0,__source:!0},Dn,Vn,gn;gn={};function Un(V){if(Rn.call(V,"ref")){var de=Object.getOwnPropertyDescriptor(V,"ref").get;if(de&&de.isReactWarning)return!1}return V.ref!==void 0}function Nn(V){if(Rn.call(V,"key")){var de=Object.getOwnPropertyDescriptor(V,"key").get;if(de&&de.isReactWarning)return!1}return V.key!==void 0}function pr(V,de){var $e=function(){Dn||(Dn=!0,ve("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",de))};$e.isReactWarning=!0,Object.defineProperty(V,"key",{get:$e,configurable:!0})}function Lr(V,de){var $e=function(){Vn||(Vn=!0,ve("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",de))};$e.isReactWarning=!0,Object.defineProperty(V,"ref",{get:$e,configurable:!0})}function st(V){if(typeof V.ref=="string"&&U.current&&V.__self&&U.current.stateNode!==V.__self){var de=Jt(U.current.type);gn[de]||(ve('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',de,V.ref),gn[de]=!0)}}var gt=function(V,de,$e,x,M,B,W){var re={$$typeof:r,type:V,key:de,ref:$e,props:W,_owner:B};return re._store={},Object.defineProperty(re._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(re,"_self",{configurable:!1,enumerable:!1,writable:!1,value:x}),Object.defineProperty(re,"_source",{configurable:!1,enumerable:!1,writable:!1,value:M}),Object.freeze&&(Object.freeze(re.props),Object.freeze(re)),re};function ln(V,de,$e){var x,M={},B=null,W=null,re=null,me=null;if(de!=null){Un(de)&&(W=de.ref,st(de)),Nn(de)&&(on(de.key),B=""+de.key),re=de.__self===void 0?null:de.__self,me=de.__source===void 0?null:de.__source;for(x in de)Rn.call(de,x)&&!bn.hasOwnProperty(x)&&(M[x]=de[x])}var ie=arguments.length-2;if(ie===1)M.children=$e;else if(ie>1){for(var Te=Array(ie),De=0;De<ie;De++)Te[De]=arguments[De+2];Object.freeze&&Object.freeze(Te),M.children=Te}if(V&&V.defaultProps){var Ue=V.defaultProps;for(x in Ue)M[x]===void 0&&(M[x]=Ue[x])}if(B||W){var it=typeof V=="function"?V.displayName||V.name||"Unknown":V;B&&pr(M,it),W&&Lr(M,it)}return gt(V,B,W,re,me,U.current,M)}function Cn(V,de){var $e=gt(V.type,de,V.ref,V._self,V._source,V._owner,V.props);return $e}function Mn(V,de,$e){if(V==null)throw new Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var x,M=ue({},V.props),B=V.key,W=V.ref,re=V._self,me=V._source,ie=V._owner;if(de!=null){Un(de)&&(W=de.ref,ie=U.current),Nn(de)&&(on(de.key),B=""+de.key);var Te;V.type&&V.type.defaultProps&&(Te=V.type.defaultProps);for(x in de)Rn.call(de,x)&&!bn.hasOwnProperty(x)&&(de[x]===void 0&&Te!==void 0?M[x]=Te[x]:M[x]=de[x])}var De=arguments.length-2;if(De===1)M.children=$e;else if(De>1){for(var Ue=Array(De),it=0;it<De;it++)Ue[it]=arguments[it+2];M.children=Ue}return gt(V.type,B,W,re,me,ie,M)}function vn(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}var sr=".",Hr=":";function Xn(V){var de=/[=:]/g,$e={"=":"=0",":":"=2"},x=V.replace(de,function(M){return $e[M]});return"$"+x}var Qn=!1,$n=/\/+/g;function ia(V){return V.replace($n,"$&/")}function lr(V,de){return typeof V=="object"&&V!==null&&V.key!=null?(on(V.key),Xn(""+V.key)):de.toString(36)}function Fn(V,de,$e,x,M){var B=typeof V;(B==="undefined"||B==="boolean")&&(V=null);var W=!1;if(V===null)W=!0;else switch(B){case"string":case"number":W=!0;break;case"object":switch(V.$$typeof){case r:case a:W=!0}}if(W){var re=V,me=M(re),ie=x===""?sr+lr(re,0):x;if(Dt(me)){var Te="";ie!=null&&(Te=ia(ie)+"/"),Fn(me,de,Te,"",function(Vo){return Vo})}else me!=null&&(vn(me)&&(me.key&&(!re||re.key!==me.key)&&on(me.key),me=Cn(me,$e+(me.key&&(!re||re.key!==me.key)?ia(""+me.key)+"/":"")+ie)),de.push(me));return 1}var De,Ue,it=0,xt=x===""?sr:x+Hr;if(Dt(V))for(var Qt=0;Qt<V.length;Qt++)De=V[Qt],Ue=xt+lr(De,Qt),it+=Fn(De,de,$e,Ue,M);else{var Mt=R(V);if(typeof Mt=="function"){var un=V;Mt===un.entries&&(Qn||ye("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),Qn=!0);for(var Hn=Mt.call(un),cr,Tr=0;!(cr=Hn.next()).done;)De=cr.value,Ue=xt+lr(De,Tr++),it+=Fn(De,de,$e,Ue,M)}else if(B==="object"){var Sa=String(V);throw new Error("Objects are not valid as a React child (found: "+(Sa==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Sa)+"). If you meant to render a collection of children, use an array instead.")}}return it}function $a(V,de,$e){if(V==null)return V;var x=[],M=0;return Fn(V,x,"","",function(B){return de.call($e,B,M++)}),x}function ua(V){var de=0;return $a(V,function(){de++}),de}function Le(V,de,$e){$a(V,function(){de.apply(this,arguments)},$e)}function et(V){return $a(V,function(de){return de})||[]}function Ot(V){if(!vn(V))throw new Error("React.Children.only expected to receive a single React element child.");return V}function lt(V){var de={$$typeof:p,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};de.Provider={$$typeof:f,_context:de};var $e=!1,x=!1,M=!1;{var B={$$typeof:p,_context:de};Object.defineProperties(B,{Provider:{get:function(){return x||(x=!0,ve("Rendering <Context.Consumer.Provider> is not supported and will be removed in a future major release. Did you mean to render <Context.Provider> instead?")),de.Provider},set:function(W){de.Provider=W}},_currentValue:{get:function(){return de._currentValue},set:function(W){de._currentValue=W}},_currentValue2:{get:function(){return de._currentValue2},set:function(W){de._currentValue2=W}},_threadCount:{get:function(){return de._threadCount},set:function(W){de._threadCount=W}},Consumer:{get:function(){return $e||($e=!0,ve("Rendering <Context.Consumer.Consumer> is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?")),de.Consumer}},displayName:{get:function(){return de.displayName},set:function(W){M||(ye("Setting `displayName` on Context.Consumer has no effect. You should set it directly on the context with Context.displayName = '%s'.",W),M=!0)}}}),de.Consumer=B}return de._currentRenderer=null,de._currentRenderer2=null,de}var kn=-1,Tn=0,Ht=1,Kt=2;function er(V){if(V._status===kn){var de=V._result,$e=de();if($e.then(function(B){if(V._status===Tn||V._status===kn){var W=V;W._status=Ht,W._result=B}},function(B){if(V._status===Tn||V._status===kn){var W=V;W._status=Kt,W._result=B}}),V._status===kn){var x=V;x._status=Tn,x._result=$e}}if(V._status===Ht){var M=V._result;return M===void 0&&ve(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))

Did you accidentally put curly braces around the import?`,M),"default"in M||ve(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))`,M),M.default}else throw V._result}function Vr(V){var de={_status:kn,_result:V},$e={$$typeof:E,_payload:de,_init:er};{var x,M;Object.defineProperties($e,{defaultProps:{configurable:!0,get:function(){return x},set:function(B){ve("React.lazy(...): It is not supported to assign `defaultProps` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),x=B,Object.defineProperty($e,"defaultProps",{enumerable:!0})}},propTypes:{configurable:!0,get:function(){return M},set:function(B){ve("React.lazy(...): It is not supported to assign `propTypes` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),M=B,Object.defineProperty($e,"propTypes",{enumerable:!0})}}})}return $e}function Jr(V){V!=null&&V.$$typeof===S?ve("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):typeof V!="function"?ve("forwardRef requires a render function but was given %s.",V===null?"null":typeof V):V.length!==0&&V.length!==2&&ve("forwardRef render functions accept exactly two parameters: props and ref. %s",V.length===1?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),V!=null&&(V.defaultProps!=null||V.propTypes!=null)&&ve("forwardRef render functions do not support propTypes or defaultProps. Did you accidentally pass a React component?");var de={$$typeof:c,render:V};{var $e;Object.defineProperty(de,"displayName",{enumerable:!1,configurable:!0,get:function(){return $e},set:function(x){$e=x,!V.name&&!V.displayName&&(V.displayName=x)}})}return de}var fe;fe=Symbol.for("react.module.reference");function Ye(V){return!!(typeof V=="string"||typeof V=="function"||V===o||V===l||le||V===u||V===g||V===y||ee||V===k||K||z||te||typeof V=="object"&&V!==null&&(V.$$typeof===E||V.$$typeof===S||V.$$typeof===f||V.$$typeof===p||V.$$typeof===c||V.$$typeof===fe||V.getModuleId!==void 0))}function ft(V,de){Ye(V)||ve("memo: The first argument must be a component. Instead received: %s",V===null?"null":typeof V);var $e={$$typeof:S,type:V,compare:de===void 0?null:de};{var x;Object.defineProperty($e,"displayName",{enumerable:!1,configurable:!0,get:function(){return x},set:function(M){x=M,!V.name&&!V.displayName&&(V.displayName=M)}})}return $e}function ut(){var V=A.current;return V===null&&ve(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.`),V}function Gt(V){var de=ut();if(V._context!==void 0){var $e=V._context;$e.Consumer===V?ve("Calling useContext(Context.Consumer) is not supported, may cause bugs, and will be removed in a future major release. Did you mean to call useContext(Context) instead?"):$e.Provider===V&&ve("Calling useContext(Context.Provider) is not supported. Did you mean to call useContext(Context) instead?")}return de.useContext(V)}function Zt(V){var de=ut();return de.useState(V)}function In(V,de,$e){var x=ut();return x.useReducer(V,de,$e)}function wn(V){var de=ut();return de.useRef(V)}function Zr(V,de){var $e=ut();return $e.useEffect(V,de)}function wr(V,de){var $e=ut();return $e.useInsertionEffect(V,de)}function hr(V,de){var $e=ut();return $e.useLayoutEffect(V,de)}function Wr(V,de){var $e=ut();return $e.useCallback(V,de)}function Lo(V,de){var $e=ut();return $e.useMemo(V,de)}function Bo(V,de,$e){var x=ut();return x.useImperativeHandle(V,de,$e)}function fn(V,de){{var $e=ut();return $e.useDebugValue(V,de)}}function En(){var V=ut();return V.useTransition()}function mo(V){var de=ut();return de.useDeferredValue(V)}function Xi(){var V=ut();return V.useId()}function wi(V,de,$e){var x=ut();return x.useSyncExternalStore(V,de,$e)}var Js=0,Jo,Cs,so,Xu,Fa,Qu,Qi;function Ei(){}Ei.__reactDisabledLog=!0;function ks(){{if(Js===0){Jo=console.log,Cs=console.info,so=console.warn,Xu=console.error,Fa=console.group,Qu=console.groupCollapsed,Qi=console.groupEnd;var V={configurable:!0,enumerable:!0,value:Ei,writable:!0};Object.defineProperties(console,{info:V,log:V,warn:V,error:V,group:V,groupCollapsed:V,groupEnd:V})}Js++}}function ka(){{if(Js--,Js===0){var V={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:ue({},V,{value:Jo}),info:ue({},V,{value:Cs}),warn:ue({},V,{value:so}),error:ue({},V,{value:Xu}),group:ue({},V,{value:Fa}),groupCollapsed:ue({},V,{value:Qu}),groupEnd:ue({},V,{value:Qi})})}Js<0&&ve("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var jr=ce.ReactCurrentDispatcher,zo;function bu(V,de,$e){{if(zo===void 0)try{throw Error()}catch(M){var x=M.stack.trim().match(/\n( *(at )?)/);zo=x&&x[1]||""}return`
`+zo+V}}var xi=!1,Zs;{var _a=typeof WeakMap=="function"?WeakMap:Map;Zs=new _a}function Ci(V,de){if(!V||xi)return"";{var $e=Zs.get(V);if($e!==void 0)return $e}var x;xi=!0;var M=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var B;B=jr.current,jr.current=null,ks();try{if(de){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(xt){x=xt}Reflect.construct(V,[],W)}else{try{W.call()}catch(xt){x=xt}V.call(W.prototype)}}else{try{throw Error()}catch(xt){x=xt}V()}}catch(xt){if(xt&&x&&typeof xt.stack=="string"){for(var re=xt.stack.split(`
`),me=x.stack.split(`
`),ie=re.length-1,Te=me.length-1;ie>=1&&Te>=0&&re[ie]!==me[Te];)Te--;for(;ie>=1&&Te>=0;ie--,Te--)if(re[ie]!==me[Te]){if(ie!==1||Te!==1)do if(ie--,Te--,Te<0||re[ie]!==me[Te]){var De=`
`+re[ie].replace(" at new "," at ");return V.displayName&&De.includes("<anonymous>")&&(De=De.replace("<anonymous>",V.displayName)),typeof V=="function"&&Zs.set(V,De),De}while(ie>=1&&Te>=0);break}}}finally{xi=!1,jr.current=B,ka(),Error.prepareStackTrace=M}var Ue=V?V.displayName||V.name:"",it=Ue?bu(Ue):"";return typeof V=="function"&&Zs.set(V,it),it}function Pa(V,de,$e){return Ci(V,!1)}function Ju(V){var de=V.prototype;return!!(de&&de.isReactComponent)}function Uo(V,de,$e){if(V==null)return"";if(typeof V=="function")return Ci(V,Ju(V));if(typeof V=="string")return bu(V);switch(V){case g:return bu("Suspense");case y:return bu("SuspenseList")}if(typeof V=="object")switch(V.$$typeof){case c:return Pa(V.render);case S:return Uo(V.type,de,$e);case E:{var x=V,M=x._payload,B=x._init;try{return Uo(B(M),de,$e)}catch{}}}return""}var Wn={},ki=ce.ReactDebugCurrentFrame;function On(V){if(V){var de=V._owner,$e=Uo(V.type,V._source,de?de.type:null);ki.setExtraStackFrame($e)}else ki.setExtraStackFrame(null)}function Ji(V,de,$e,x,M){{var B=Function.call.bind(Rn);for(var W in V)if(B(V,W)){var re=void 0;try{if(typeof V[W]!="function"){var me=Error((x||"React class")+": "+$e+" type `"+W+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof V[W]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw me.name="Invariant Violation",me}re=V[W](de,W,x,$e,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(ie){re=ie}re&&!(re instanceof Error)&&(On(M),ve("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",x||"React class",$e,W,typeof re),On(null)),re instanceof Error&&!(re.message in Wn)&&(Wn[re.message]=!0,On(M),ve("Failed %s type: %s",$e,re.message),On(null))}}}function go(V){if(V){var de=V._owner,$e=Uo(V.type,V._source,de?de.type:null);q($e)}else q(null)}var en;en=!1;function ei(){if(U.current){var V=Jt(U.current.type);if(V)return`

Check the render method of \``+V+"`."}return""}function Gr(V){if(V!==void 0){var de=V.fileName.replace(/^.*[\\\/]/,""),$e=V.lineNumber;return`

Check your code at `+de+":"+$e+"."}return""}function Ho(V){return V!=null?Gr(V.__source):""}var la={};function io(V){var de=ei();if(!de){var $e=typeof V=="string"?V:V.displayName||V.name;$e&&(de=`

Check the top-level render call using <`+$e+">.")}return de}function _r(V,de){if(!(!V._store||V._store.validated||V.key!=null)){V._store.validated=!0;var $e=io(de);if(!la[$e]){la[$e]=!0;var x="";V&&V._owner&&V._owner!==U.current&&(x=" It was passed a child from "+Jt(V._owner.type)+"."),go(V),ve('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',$e,x),go(null)}}}function ae(V,de){if(typeof V=="object"){if(Dt(V))for(var $e=0;$e<V.length;$e++){var x=V[$e];vn(x)&&_r(x,de)}else if(vn(V))V._store&&(V._store.validated=!0);else if(V){var M=R(V);if(typeof M=="function"&&M!==V.entries)for(var B=M.call(V),W;!(W=B.next()).done;)vn(W.value)&&_r(W.value,de)}}}function _e(V){{var de=V.type;if(de==null||typeof de=="string")return;var $e;if(typeof de=="function")$e=de.propTypes;else if(typeof de=="object"&&(de.$$typeof===c||de.$$typeof===S))$e=de.propTypes;else return;if($e){var x=Jt(de);Ji($e,V.props,"prop",x,V)}else if(de.PropTypes!==void 0&&!en){en=!0;var M=Jt(de);ve("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",M||"Unknown")}typeof de.getDefaultProps=="function"&&!de.getDefaultProps.isReactClassApproved&&ve("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Qe(V){{for(var de=Object.keys(V.props),$e=0;$e<de.length;$e++){var x=de[$e];if(x!=="children"&&x!=="key"){go(V),ve("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",x),go(null);break}}V.ref!==null&&(go(V),ve("Invalid attribute `ref` supplied to `React.Fragment`."),go(null))}}function Tt(V,de,$e){var x=Ye(V);if(!x){var M="";(V===void 0||typeof V=="object"&&V!==null&&Object.keys(V).length===0)&&(M+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var B=Ho(de);B?M+=B:M+=ei();var W;V===null?W="null":Dt(V)?W="array":V!==void 0&&V.$$typeof===r?(W="<"+(Jt(V.type)||"Unknown")+" />",M=" Did you accidentally export a JSX literal instead of a component?"):W=typeof V,ve("React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",W,M)}var re=ln.apply(this,arguments);if(re==null)return re;if(x)for(var me=2;me<arguments.length;me++)ae(arguments[me],V);return V===o?Qe(re):_e(re),re}var Vt=!1;function rn(V){var de=Tt.bind(null,V);return de.type=V,Vt||(Vt=!0,ye("React.createFactory() is deprecated and will be removed in a future major release. Consider using JSX or use React.createElement() directly instead.")),Object.defineProperty(de,"type",{enumerable:!1,get:function(){return ye("Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:V}),V}}),de}function ht(V,de,$e){for(var x=Mn.apply(this,arguments),M=2;M<arguments.length;M++)ae(arguments[M],x.type);return _e(x),x}function Nt(V,de){var $e=O.transition;O.transition={};var x=O.transition;O.transition._updatedFibers=new Set;try{V()}finally{if(O.transition=$e,$e===null&&x._updatedFibers){var M=x._updatedFibers.size;M>10&&ye("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),x._updatedFibers.clear()}}}var Jn=!1,ca=null;function Zo(V){if(ca===null)try{var de=("require"+Math.random()).slice(0,7),$e=t&&t[de];ca=$e.call(t,"timers").setImmediate}catch{ca=function(M){Jn===!1&&(Jn=!0,typeof MessageChannel>"u"&&ve("This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."));var B=new MessageChannel;B.port1.onmessage=M,B.port2.postMessage(void 0)}}return ca(V)}var vo=0,yo=!1;function es(V){{var de=vo;vo++,L.current===null&&(L.current=[]);var $e=L.isBatchingLegacy,x;try{if(L.isBatchingLegacy=!0,x=V(),!$e&&L.didScheduleLegacyUpdate){var M=L.current;M!==null&&(L.didScheduleLegacyUpdate=!1,Su(M))}}catch(Ue){throw Nr(de),Ue}finally{L.isBatchingLegacy=$e}if(x!==null&&typeof x=="object"&&typeof x.then=="function"){var B=x,W=!1,re={then:function(Ue,it){W=!0,B.then(function(xt){Nr(de),vo===0?ts(xt,Ue,it):Ue(xt)},function(xt){Nr(de),it(xt)})}};return!yo&&typeof Promise<"u"&&Promise.resolve().then(function(){}).then(function(){W||(yo=!0,ve("You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"))}),re}else{var me=x;if(Nr(de),vo===0){var ie=L.current;ie!==null&&(Su(ie),L.current=null);var Te={then:function(Ue,it){L.current===null?(L.current=[],ts(me,Ue,it)):Ue(me)}};return Te}else{var De={then:function(Ue,it){Ue(me)}};return De}}}}function Nr(V){V!==vo-1&&ve("You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "),vo=V}function ts(V,de,$e){{var x=L.current;if(x!==null)try{Su(x),Zo(function(){x.length===0?(L.current=null,de(V)):ts(V,de,$e)})}catch(M){$e(M)}else de(V)}}var ti=!1;function Su(V){if(!ti){ti=!0;var de=0;try{for(;de<V.length;de++){var $e=V[de];do $e=$e(!0);while($e!==null)}V.length=0}catch(x){throw V=V.slice(de+1),x}finally{ti=!1}}}var Zu=Tt,Hl=ht,Zi=rn,ni={map:$a,forEach:Le,count:ua,toArray:et,only:Ot};e.Children=ni,e.Component=Ce,e.Fragment=o,e.Profiler=l,e.PureComponent=Xe,e.StrictMode=u,e.Suspense=g,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,e.act=es,e.cloneElement=Hl,e.createContext=lt,e.createElement=Zu,e.createFactory=Zi,e.createRef=St,e.forwardRef=Jr,e.isValidElement=vn,e.lazy=Vr,e.memo=ft,e.startTransition=Nt,e.unstable_act=es,e.useCallback=Wr,e.useContext=Gt,e.useDebugValue=fn,e.useDeferredValue=mo,e.useEffect=Zr,e.useId=Xi,e.useImperativeHandle=Bo,e.useInsertionEffect=wr,e.useLayoutEffect=hr,e.useMemo=Lo,e.useReducer=In,e.useRef=wn,e.useState=Zt,e.useSyncExternalStore=wi,e.useTransition=En,e.version=n,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})()})(pv,pv.exports)),pv.exports}var LA;function bc(){return LA||(LA=1,process.env.NODE_ENV==="production"?F0.exports=Z7():F0.exports=e9()),F0.exports}var Ie=bc();const wt=Ph(Ie),t9=$0({__proto__:null,default:wt},[Ie]);var Lh={},P0={exports:{}},hi={},L0={exports:{}},FC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BA;function n9(){return BA||(BA=1,(function(t){function e(oe,he){var ge=oe.length;oe.push(he);e:for(;0<ge;){var Q=ge-1>>>1,ue=oe[Q];if(0<a(ue,he))oe[Q]=he,oe[ge]=ue,ge=Q;else break e}}function n(oe){return oe.length===0?null:oe[0]}function r(oe){if(oe.length===0)return null;var he=oe[0],ge=oe.pop();if(ge!==he){oe[0]=ge;e:for(var Q=0,ue=oe.length,ke=ue>>>1;Q<ke;){var Ce=2*(Q+1)-1,Me=oe[Ce],Ve=Ce+1,Ke=oe[Ve];if(0>a(Me,ge))Ve<ue&&0>a(Ke,Me)?(oe[Q]=Ke,oe[Ve]=ge,Q=Ve):(oe[Q]=Me,oe[Ce]=ge,Q=Ce);else if(Ve<ue&&0>a(Ke,ge))oe[Q]=Ke,oe[Ve]=ge,Q=Ve;else break e}}return he}function a(oe,he){var ge=oe.sortIndex-he.sortIndex;return ge!==0?ge:oe.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,l=u.now();t.unstable_now=function(){return u.now()-l}}var f=[],p=[],c=1,g=null,y=3,S=!1,E=!1,k=!1,_=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(oe){for(var he=n(p);he!==null;){if(he.callback===null)r(p);else if(he.startTime<=oe)r(p),he.sortIndex=he.expirationTime,e(f,he);else break;he=n(p)}}function O(oe){if(k=!1,A(oe),!E)if(n(f)!==null)E=!0,ye(L);else{var he=n(p);he!==null&&ve(O,he.startTime-oe)}}function L(oe,he){E=!1,k&&(k=!1,I(J),J=-1),S=!0;var ge=y;try{for(A(he),g=n(f);g!==null&&(!(g.expirationTime>he)||oe&&!z());){var Q=g.callback;if(typeof Q=="function"){g.callback=null,y=g.priorityLevel;var ue=Q(g.expirationTime<=he);he=t.unstable_now(),typeof ue=="function"?g.callback=ue:g===n(f)&&r(f),A(he)}else r(f);g=n(f)}if(g!==null)var ke=!0;else{var Ce=n(p);Ce!==null&&ve(O,Ce.startTime-he),ke=!1}return ke}finally{g=null,y=ge,S=!1}}var U=!1,j=null,J=-1,q=5,K=-1;function z(){return!(t.unstable_now()-K<q)}function te(){if(j!==null){var oe=t.unstable_now();K=oe;var he=!0;try{he=j(!0,oe)}finally{he?ee():(U=!1,j=null)}}else U=!1}var ee;if(typeof R=="function")ee=function(){R(te)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,ce=le.port2;le.port1.onmessage=te,ee=function(){ce.postMessage(null)}}else ee=function(){_(te,0)};function ye(oe){j=oe,U||(U=!0,ee())}function ve(oe,he){J=_(function(){oe(t.unstable_now())},he)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(oe){oe.callback=null},t.unstable_continueExecution=function(){E||S||(E=!0,ye(L))},t.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<oe?Math.floor(1e3/oe):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(oe){switch(y){case 1:case 2:case 3:var he=3;break;default:he=y}var ge=y;y=he;try{return oe()}finally{y=ge}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(oe,he){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var ge=y;y=oe;try{return he()}finally{y=ge}},t.unstable_scheduleCallback=function(oe,he,ge){var Q=t.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Q+ge:Q):ge=Q,oe){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=ge+ue,oe={id:c++,callback:he,priorityLevel:oe,startTime:ge,expirationTime:ue,sortIndex:-1},ge>Q?(oe.sortIndex=ge,e(p,oe),n(f)===null&&oe===n(p)&&(k?(I(J),J=-1):k=!0,ve(O,ge-Q))):(oe.sortIndex=ue,e(f,oe),E||S||(E=!0,ye(L))),oe},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(oe){var he=y;return function(){var ge=y;y=he;try{return oe.apply(this,arguments)}finally{y=ge}}}})(FC)),FC}var PC={};/**
 * @license React
 * scheduler.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zA;function r9(){return zA||(zA=1,(function(t){process.env.NODE_ENV!=="production"&&(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var e=!1,n=5;function r(st,gt){var ln=st.length;st.push(gt),u(st,gt,ln)}function a(st){return st.length===0?null:st[0]}function o(st){if(st.length===0)return null;var gt=st[0],ln=st.pop();return ln!==gt&&(st[0]=ln,l(st,ln,0)),gt}function u(st,gt,ln){for(var Cn=ln;Cn>0;){var Mn=Cn-1>>>1,vn=st[Mn];if(f(vn,gt)>0)st[Mn]=gt,st[Cn]=vn,Cn=Mn;else return}}function l(st,gt,ln){for(var Cn=ln,Mn=st.length,vn=Mn>>>1;Cn<vn;){var sr=(Cn+1)*2-1,Hr=st[sr],Xn=sr+1,Qn=st[Xn];if(f(Hr,gt)<0)Xn<Mn&&f(Qn,Hr)<0?(st[Cn]=Qn,st[Xn]=gt,Cn=Xn):(st[Cn]=Hr,st[sr]=gt,Cn=sr);else if(Xn<Mn&&f(Qn,gt)<0)st[Cn]=Qn,st[Xn]=gt,Cn=Xn;else return}}function f(st,gt){var ln=st.sortIndex-gt.sortIndex;return ln!==0?ln:st.id-gt.id}var p=1,c=2,g=3,y=4,S=5;function E(st,gt){}var k=typeof performance=="object"&&typeof performance.now=="function";if(k){var _=performance;t.unstable_now=function(){return _.now()}}else{var I=Date,R=I.now();t.unstable_now=function(){return I.now()-R}}var A=1073741823,O=-1,L=250,U=5e3,j=1e4,J=A,q=[],K=[],z=1,te=null,ee=g,le=!1,ce=!1,ye=!1,ve=typeof setTimeout=="function"?setTimeout:null,oe=typeof clearTimeout=="function"?clearTimeout:null,he=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ge(st){for(var gt=a(K);gt!==null;){if(gt.callback===null)o(K);else if(gt.startTime<=st)o(K),gt.sortIndex=gt.expirationTime,r(q,gt);else return;gt=a(K)}}function Q(st){if(ye=!1,ge(st),!ce)if(a(q)!==null)ce=!0,gn(ue);else{var gt=a(K);gt!==null&&Un(Q,gt.startTime-st)}}function ue(st,gt){ce=!1,ye&&(ye=!1,Nn()),le=!0;var ln=ee;try{var Cn;if(!e)return ke(st,gt)}finally{te=null,ee=ln,le=!1}}function ke(st,gt){var ln=gt;for(ge(ln),te=a(q);te!==null&&!(te.expirationTime>ln&&(!st||dn()));){var Cn=te.callback;if(typeof Cn=="function"){te.callback=null,ee=te.priorityLevel;var Mn=te.expirationTime<=ln,vn=Cn(Mn);ln=t.unstable_now(),typeof vn=="function"?te.callback=vn:te===a(q)&&o(q),ge(ln)}else o(q);te=a(q)}if(te!==null)return!0;var sr=a(K);return sr!==null&&Un(Q,sr.startTime-ln),!1}function Ce(st,gt){switch(st){case p:case c:case g:case y:case S:break;default:st=g}var ln=ee;ee=st;try{return gt()}finally{ee=ln}}function Me(st){var gt;switch(ee){case p:case c:case g:gt=g;break;default:gt=ee;break}var ln=ee;ee=gt;try{return st()}finally{ee=ln}}function Ve(st){var gt=ee;return function(){var ln=ee;ee=gt;try{return st.apply(this,arguments)}finally{ee=ln}}}function Ke(st,gt,ln){var Cn=t.unstable_now(),Mn;if(typeof ln=="object"&&ln!==null){var vn=ln.delay;typeof vn=="number"&&vn>0?Mn=Cn+vn:Mn=Cn}else Mn=Cn;var sr;switch(st){case p:sr=O;break;case c:sr=L;break;case S:sr=J;break;case y:sr=j;break;case g:default:sr=U;break}var Hr=Mn+sr,Xn={id:z++,callback:gt,priorityLevel:st,startTime:Mn,expirationTime:Hr,sortIndex:-1};return Mn>Cn?(Xn.sortIndex=Mn,r(K,Xn),a(q)===null&&Xn===a(K)&&(ye?Nn():ye=!0,Un(Q,Mn-Cn))):(Xn.sortIndex=Hr,r(q,Xn),!ce&&!le&&(ce=!0,gn(ue))),Xn}function He(){}function Xe(){!ce&&!le&&(ce=!0,gn(ue))}function ct(){return a(q)}function St(st){st.callback=null}function Rt(){return ee}var Dt=!1,jt=null,zt=-1,vt=n,on=-1;function dn(){var st=t.unstable_now()-on;return!(st<vt)}function mn(){}function Jt(st){if(st<0||st>125){console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported");return}st>0?vt=Math.floor(1e3/st):vt=n}var Rn=function(){if(jt!==null){var st=t.unstable_now();on=st;var gt=!0,ln=!0;try{ln=jt(gt,st)}finally{ln?bn():(Dt=!1,jt=null)}}else Dt=!1},bn;if(typeof he=="function")bn=function(){he(Rn)};else if(typeof MessageChannel<"u"){var Dn=new MessageChannel,Vn=Dn.port2;Dn.port1.onmessage=Rn,bn=function(){Vn.postMessage(null)}}else bn=function(){ve(Rn,0)};function gn(st){jt=st,Dt||(Dt=!0,bn())}function Un(st,gt){zt=ve(function(){st(t.unstable_now())},gt)}function Nn(){oe(zt),zt=-1}var pr=mn,Lr=null;t.unstable_IdlePriority=S,t.unstable_ImmediatePriority=p,t.unstable_LowPriority=y,t.unstable_NormalPriority=g,t.unstable_Profiling=Lr,t.unstable_UserBlockingPriority=c,t.unstable_cancelCallback=St,t.unstable_continueExecution=Xe,t.unstable_forceFrameRate=Jt,t.unstable_getCurrentPriorityLevel=Rt,t.unstable_getFirstCallbackNode=ct,t.unstable_next=Me,t.unstable_pauseExecution=He,t.unstable_requestPaint=pr,t.unstable_runWithPriority=Ce,t.unstable_scheduleCallback=Ke,t.unstable_shouldYield=dn,t.unstable_wrapCallback=Ve,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})()})(PC)),PC}var UA;function HA(){return UA||(UA=1,process.env.NODE_ENV==="production"?L0.exports=n9():L0.exports=r9()),L0.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VA;function a9(){if(VA)return hi;VA=1;var t=bc(),e=HA();function n(d){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+d,b=1;b<arguments.length;b++)h+="&args[]="+encodeURIComponent(arguments[b]);return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,a={};function o(d,h){u(d,h),u(d+"Capture",h)}function u(d,h){for(a[d]=h,d=0;d<h.length;d++)r.add(h[d])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c={},g={};function y(d){return f.call(g,d)?!0:f.call(c,d)?!1:p.test(d)?g[d]=!0:(c[d]=!0,!1)}function S(d,h,b,C){if(b!==null&&b.type===0)return!1;switch(typeof h){case"function":case"symbol":return!0;case"boolean":return C?!1:b!==null?!b.acceptsBooleans:(d=d.toLowerCase().slice(0,5),d!=="data-"&&d!=="aria-");default:return!1}}function E(d,h,b,C){if(h===null||typeof h>"u"||S(d,h,b,C))return!0;if(C)return!1;if(b!==null)switch(b.type){case 3:return!h;case 4:return h===!1;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function k(d,h,b,C,N,$,G){this.acceptsBooleans=h===2||h===3||h===4,this.attributeName=C,this.attributeNamespace=N,this.mustUseProperty=b,this.propertyName=d,this.type=h,this.sanitizeURL=$,this.removeEmptyString=G}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){_[d]=new k(d,0,!1,d,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var h=d[0];_[h]=new k(h,1,!1,d[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(d){_[d]=new k(d,2,!1,d.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){_[d]=new k(d,2,!1,d,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){_[d]=new k(d,3,!1,d.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(d){_[d]=new k(d,3,!0,d,null,!1,!1)}),["capture","download"].forEach(function(d){_[d]=new k(d,4,!1,d,null,!1,!1)}),["cols","rows","size","span"].forEach(function(d){_[d]=new k(d,6,!1,d,null,!1,!1)}),["rowSpan","start"].forEach(function(d){_[d]=new k(d,5,!1,d.toLowerCase(),null,!1,!1)});var I=/[\-:]([a-z])/g;function R(d){return d[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var h=d.replace(I,R);_[h]=new k(h,1,!1,d,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var h=d.replace(I,R);_[h]=new k(h,1,!1,d,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(d){var h=d.replace(I,R);_[h]=new k(h,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(d){_[d]=new k(d,1,!1,d.toLowerCase(),null,!1,!1)}),_.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(d){_[d]=new k(d,1,!1,d.toLowerCase(),null,!0,!0)});function A(d,h,b,C){var N=_.hasOwnProperty(h)?_[h]:null;(N!==null?N.type!==0:C||!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(E(h,b,N,C)&&(b=null),C||N===null?y(h)&&(b===null?d.removeAttribute(h):d.setAttribute(h,""+b)):N.mustUseProperty?d[N.propertyName]=b===null?N.type===3?!1:"":b:(h=N.attributeName,C=N.attributeNamespace,b===null?d.removeAttribute(h):(N=N.type,b=N===3||N===4&&b===!0?"":""+b,C?d.setAttributeNS(C,h,b):d.setAttribute(h,b))))}var O=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),U=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),z=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),ce=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),ve=Symbol.for("react.offscreen"),oe=Symbol.iterator;function he(d){return d===null||typeof d!="object"?null:(d=oe&&d[oe]||d["@@iterator"],typeof d=="function"?d:null)}var ge=Object.assign,Q;function ue(d){if(Q===void 0)try{throw Error()}catch(b){var h=b.stack.trim().match(/\n( *(at )?)/);Q=h&&h[1]||""}return`
`+Q+d}var ke=!1;function Ce(d,h){if(!d||ke)return"";ke=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(Pe){var C=Pe}Reflect.construct(d,[],h)}else{try{h.call()}catch(Pe){C=Pe}d.call(h.prototype)}else{try{throw Error()}catch(Pe){C=Pe}d()}}catch(Pe){if(Pe&&C&&typeof Pe.stack=="string"){for(var N=Pe.stack.split(`
`),$=C.stack.split(`
`),G=N.length-1,se=$.length-1;1<=G&&0<=se&&N[G]!==$[se];)se--;for(;1<=G&&0<=se;G--,se--)if(N[G]!==$[se]){if(G!==1||se!==1)do if(G--,se--,0>se||N[G]!==$[se]){var be=`
`+N[G].replace(" at new "," at ");return d.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",d.displayName)),be}while(1<=G&&0<=se);break}}}finally{ke=!1,Error.prepareStackTrace=b}return(d=d?d.displayName||d.name:"")?ue(d):""}function Me(d){switch(d.tag){case 5:return ue(d.type);case 16:return ue("Lazy");case 13:return ue("Suspense");case 19:return ue("SuspenseList");case 0:case 2:case 15:return d=Ce(d.type,!1),d;case 11:return d=Ce(d.type.render,!1),d;case 1:return d=Ce(d.type,!0),d;default:return""}}function Ve(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case j:return"Fragment";case U:return"Portal";case q:return"Profiler";case J:return"StrictMode";case ee:return"Suspense";case le:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case z:return(d.displayName||"Context")+".Consumer";case K:return(d._context.displayName||"Context")+".Provider";case te:var h=d.render;return d=d.displayName,d||(d=h.displayName||h.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case ce:return h=d.displayName||null,h!==null?h:Ve(d.type)||"Memo";case ye:h=d._payload,d=d._init;try{return Ve(d(h))}catch{}}return null}function Ke(d){var h=d.type;switch(d.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=h.render,d=d.displayName||d.name||"",h.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ve(h);case 8:return h===J?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function He(d){switch(typeof d){case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function Xe(d){var h=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function ct(d){var h=Xe(d)?"checked":"value",b=Object.getOwnPropertyDescriptor(d.constructor.prototype,h),C=""+d[h];if(!d.hasOwnProperty(h)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var N=b.get,$=b.set;return Object.defineProperty(d,h,{configurable:!0,get:function(){return N.call(this)},set:function(G){C=""+G,$.call(this,G)}}),Object.defineProperty(d,h,{enumerable:b.enumerable}),{getValue:function(){return C},setValue:function(G){C=""+G},stopTracking:function(){d._valueTracker=null,delete d[h]}}}}function St(d){d._valueTracker||(d._valueTracker=ct(d))}function Rt(d){if(!d)return!1;var h=d._valueTracker;if(!h)return!0;var b=h.getValue(),C="";return d&&(C=Xe(d)?d.checked?"true":"false":d.value),d=C,d!==b?(h.setValue(d),!0):!1}function Dt(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}function jt(d,h){var b=h.checked;return ge({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:b??d._wrapperState.initialChecked})}function zt(d,h){var b=h.defaultValue==null?"":h.defaultValue,C=h.checked!=null?h.checked:h.defaultChecked;b=He(h.value!=null?h.value:b),d._wrapperState={initialChecked:C,initialValue:b,controlled:h.type==="checkbox"||h.type==="radio"?h.checked!=null:h.value!=null}}function vt(d,h){h=h.checked,h!=null&&A(d,"checked",h,!1)}function on(d,h){vt(d,h);var b=He(h.value),C=h.type;if(b!=null)C==="number"?(b===0&&d.value===""||d.value!=b)&&(d.value=""+b):d.value!==""+b&&(d.value=""+b);else if(C==="submit"||C==="reset"){d.removeAttribute("value");return}h.hasOwnProperty("value")?mn(d,h.type,b):h.hasOwnProperty("defaultValue")&&mn(d,h.type,He(h.defaultValue)),h.checked==null&&h.defaultChecked!=null&&(d.defaultChecked=!!h.defaultChecked)}function dn(d,h,b){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var C=h.type;if(!(C!=="submit"&&C!=="reset"||h.value!==void 0&&h.value!==null))return;h=""+d._wrapperState.initialValue,b||h===d.value||(d.value=h),d.defaultValue=h}b=d.name,b!==""&&(d.name=""),d.defaultChecked=!!d._wrapperState.initialChecked,b!==""&&(d.name=b)}function mn(d,h,b){(h!=="number"||Dt(d.ownerDocument)!==d)&&(b==null?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+b&&(d.defaultValue=""+b))}var Jt=Array.isArray;function Rn(d,h,b,C){if(d=d.options,h){h={};for(var N=0;N<b.length;N++)h["$"+b[N]]=!0;for(b=0;b<d.length;b++)N=h.hasOwnProperty("$"+d[b].value),d[b].selected!==N&&(d[b].selected=N),N&&C&&(d[b].defaultSelected=!0)}else{for(b=""+He(b),h=null,N=0;N<d.length;N++){if(d[N].value===b){d[N].selected=!0,C&&(d[N].defaultSelected=!0);return}h!==null||d[N].disabled||(h=d[N])}h!==null&&(h.selected=!0)}}function bn(d,h){if(h.dangerouslySetInnerHTML!=null)throw Error(n(91));return ge({},h,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function Dn(d,h){var b=h.value;if(b==null){if(b=h.children,h=h.defaultValue,b!=null){if(h!=null)throw Error(n(92));if(Jt(b)){if(1<b.length)throw Error(n(93));b=b[0]}h=b}h==null&&(h=""),b=h}d._wrapperState={initialValue:He(b)}}function Vn(d,h){var b=He(h.value),C=He(h.defaultValue);b!=null&&(b=""+b,b!==d.value&&(d.value=b),h.defaultValue==null&&d.defaultValue!==b&&(d.defaultValue=b)),C!=null&&(d.defaultValue=""+C)}function gn(d){var h=d.textContent;h===d._wrapperState.initialValue&&h!==""&&h!==null&&(d.value=h)}function Un(d){switch(d){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nn(d,h){return d==null||d==="http://www.w3.org/1999/xhtml"?Un(h):d==="http://www.w3.org/2000/svg"&&h==="foreignObject"?"http://www.w3.org/1999/xhtml":d}var pr,Lr=(function(d){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(h,b,C,N){MSApp.execUnsafeLocalFunction(function(){return d(h,b,C,N)})}:d})(function(d,h){if(d.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in d)d.innerHTML=h;else{for(pr=pr||document.createElement("div"),pr.innerHTML="<svg>"+h.valueOf().toString()+"</svg>",h=pr.firstChild;d.firstChild;)d.removeChild(d.firstChild);for(;h.firstChild;)d.appendChild(h.firstChild)}});function st(d,h){if(h){var b=d.firstChild;if(b&&b===d.lastChild&&b.nodeType===3){b.nodeValue=h;return}}d.textContent=h}var gt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ln=["Webkit","ms","Moz","O"];Object.keys(gt).forEach(function(d){ln.forEach(function(h){h=h+d.charAt(0).toUpperCase()+d.substring(1),gt[h]=gt[d]})});function Cn(d,h,b){return h==null||typeof h=="boolean"||h===""?"":b||typeof h!="number"||h===0||gt.hasOwnProperty(d)&&gt[d]?(""+h).trim():h+"px"}function Mn(d,h){d=d.style;for(var b in h)if(h.hasOwnProperty(b)){var C=b.indexOf("--")===0,N=Cn(b,h[b],C);b==="float"&&(b="cssFloat"),C?d.setProperty(b,N):d[b]=N}}var vn=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sr(d,h){if(h){if(vn[d]&&(h.children!=null||h.dangerouslySetInnerHTML!=null))throw Error(n(137,d));if(h.dangerouslySetInnerHTML!=null){if(h.children!=null)throw Error(n(60));if(typeof h.dangerouslySetInnerHTML!="object"||!("__html"in h.dangerouslySetInnerHTML))throw Error(n(61))}if(h.style!=null&&typeof h.style!="object")throw Error(n(62))}}function Hr(d,h){if(d.indexOf("-")===-1)return typeof h.is=="string";switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xn=null;function Qn(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var $n=null,ia=null,lr=null;function Fn(d){if(d=Yt(d)){if(typeof $n!="function")throw Error(n(280));var h=d.stateNode;h&&(h=fa(h),$n(d.stateNode,d.type,h))}}function $a(d){ia?lr?lr.push(d):lr=[d]:ia=d}function ua(){if(ia){var d=ia,h=lr;if(lr=ia=null,Fn(d),h)for(d=0;d<h.length;d++)Fn(h[d])}}function Le(d,h){return d(h)}function et(){}var Ot=!1;function lt(d,h,b){if(Ot)return d(h,b);Ot=!0;try{return Le(d,h,b)}finally{Ot=!1,(ia!==null||lr!==null)&&(et(),ua())}}function kn(d,h){var b=d.stateNode;if(b===null)return null;var C=fa(b);if(C===null)return null;b=C[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(C=!C.disabled)||(d=d.type,C=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!C;break e;default:d=!1}if(d)return null;if(b&&typeof b!="function")throw Error(n(231,h,typeof b));return b}var Tn=!1;if(l)try{var Ht={};Object.defineProperty(Ht,"passive",{get:function(){Tn=!0}}),window.addEventListener("test",Ht,Ht),window.removeEventListener("test",Ht,Ht)}catch{Tn=!1}function Kt(d,h,b,C,N,$,G,se,be){var Pe=Array.prototype.slice.call(arguments,3);try{h.apply(b,Pe)}catch(nt){this.onError(nt)}}var er=!1,Vr=null,Jr=!1,fe=null,Ye={onError:function(d){er=!0,Vr=d}};function ft(d,h,b,C,N,$,G,se,be){er=!1,Vr=null,Kt.apply(Ye,arguments)}function ut(d,h,b,C,N,$,G,se,be){if(ft.apply(this,arguments),er){if(er){var Pe=Vr;er=!1,Vr=null}else throw Error(n(198));Jr||(Jr=!0,fe=Pe)}}function Gt(d){var h=d,b=d;if(d.alternate)for(;h.return;)h=h.return;else{d=h;do h=d,(h.flags&4098)!==0&&(b=h.return),d=h.return;while(d)}return h.tag===3?b:null}function Zt(d){if(d.tag===13){var h=d.memoizedState;if(h===null&&(d=d.alternate,d!==null&&(h=d.memoizedState)),h!==null)return h.dehydrated}return null}function In(d){if(Gt(d)!==d)throw Error(n(188))}function wn(d){var h=d.alternate;if(!h){if(h=Gt(d),h===null)throw Error(n(188));return h!==d?null:d}for(var b=d,C=h;;){var N=b.return;if(N===null)break;var $=N.alternate;if($===null){if(C=N.return,C!==null){b=C;continue}break}if(N.child===$.child){for($=N.child;$;){if($===b)return In(N),d;if($===C)return In(N),h;$=$.sibling}throw Error(n(188))}if(b.return!==C.return)b=N,C=$;else{for(var G=!1,se=N.child;se;){if(se===b){G=!0,b=N,C=$;break}if(se===C){G=!0,C=N,b=$;break}se=se.sibling}if(!G){for(se=$.child;se;){if(se===b){G=!0,b=$,C=N;break}if(se===C){G=!0,C=$,b=N;break}se=se.sibling}if(!G)throw Error(n(189))}}if(b.alternate!==C)throw Error(n(190))}if(b.tag!==3)throw Error(n(188));return b.stateNode.current===b?d:h}function Zr(d){return d=wn(d),d!==null?wr(d):null}function wr(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var h=wr(d);if(h!==null)return h;d=d.sibling}return null}var hr=e.unstable_scheduleCallback,Wr=e.unstable_cancelCallback,Lo=e.unstable_shouldYield,Bo=e.unstable_requestPaint,fn=e.unstable_now,En=e.unstable_getCurrentPriorityLevel,mo=e.unstable_ImmediatePriority,Xi=e.unstable_UserBlockingPriority,wi=e.unstable_NormalPriority,Js=e.unstable_LowPriority,Jo=e.unstable_IdlePriority,Cs=null,so=null;function Xu(d){if(so&&typeof so.onCommitFiberRoot=="function")try{so.onCommitFiberRoot(Cs,d,void 0,(d.current.flags&128)===128)}catch{}}var Fa=Math.clz32?Math.clz32:Ei,Qu=Math.log,Qi=Math.LN2;function Ei(d){return d>>>=0,d===0?32:31-(Qu(d)/Qi|0)|0}var ks=64,ka=4194304;function jr(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function zo(d,h){var b=d.pendingLanes;if(b===0)return 0;var C=0,N=d.suspendedLanes,$=d.pingedLanes,G=b&268435455;if(G!==0){var se=G&~N;se!==0?C=jr(se):($&=G,$!==0&&(C=jr($)))}else G=b&~N,G!==0?C=jr(G):$!==0&&(C=jr($));if(C===0)return 0;if(h!==0&&h!==C&&(h&N)===0&&(N=C&-C,$=h&-h,N>=$||N===16&&($&4194240)!==0))return h;if((C&4)!==0&&(C|=b&16),h=d.entangledLanes,h!==0)for(d=d.entanglements,h&=C;0<h;)b=31-Fa(h),N=1<<b,C|=d[b],h&=~N;return C}function bu(d,h){switch(d){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xi(d,h){for(var b=d.suspendedLanes,C=d.pingedLanes,N=d.expirationTimes,$=d.pendingLanes;0<$;){var G=31-Fa($),se=1<<G,be=N[G];be===-1?((se&b)===0||(se&C)!==0)&&(N[G]=bu(se,h)):be<=h&&(d.expiredLanes|=se),$&=~se}}function Zs(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function _a(){var d=ks;return ks<<=1,(ks&4194240)===0&&(ks=64),d}function Ci(d){for(var h=[],b=0;31>b;b++)h.push(d);return h}function Pa(d,h,b){d.pendingLanes|=h,h!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,h=31-Fa(h),d[h]=b}function Ju(d,h){var b=d.pendingLanes&~h;d.pendingLanes=h,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=h,d.mutableReadLanes&=h,d.entangledLanes&=h,h=d.entanglements;var C=d.eventTimes;for(d=d.expirationTimes;0<b;){var N=31-Fa(b),$=1<<N;h[N]=0,C[N]=-1,d[N]=-1,b&=~$}}function Uo(d,h){var b=d.entangledLanes|=h;for(d=d.entanglements;b;){var C=31-Fa(b),N=1<<C;N&h|d[C]&h&&(d[C]|=h),b&=~N}}var Wn=0;function ki(d){return d&=-d,1<d?4<d?(d&268435455)!==0?16:536870912:4:1}var On,Ji,go,en,ei,Gr=!1,Ho=[],la=null,io=null,_r=null,ae=new Map,_e=new Map,Qe=[],Tt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vt(d,h){switch(d){case"focusin":case"focusout":la=null;break;case"dragenter":case"dragleave":io=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":ae.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":_e.delete(h.pointerId)}}function rn(d,h,b,C,N,$){return d===null||d.nativeEvent!==$?(d={blockedOn:h,domEventName:b,eventSystemFlags:C,nativeEvent:$,targetContainers:[N]},h!==null&&(h=Yt(h),h!==null&&Ji(h)),d):(d.eventSystemFlags|=C,h=d.targetContainers,N!==null&&h.indexOf(N)===-1&&h.push(N),d)}function ht(d,h,b,C,N){switch(h){case"focusin":return la=rn(la,d,h,b,C,N),!0;case"dragenter":return io=rn(io,d,h,b,C,N),!0;case"mouseover":return _r=rn(_r,d,h,b,C,N),!0;case"pointerover":var $=N.pointerId;return ae.set($,rn(ae.get($)||null,d,h,b,C,N)),!0;case"gotpointercapture":return $=N.pointerId,_e.set($,rn(_e.get($)||null,d,h,b,C,N)),!0}return!1}function Nt(d){var h=qc(d.target);if(h!==null){var b=Gt(h);if(b!==null){if(h=b.tag,h===13){if(h=Zt(b),h!==null){d.blockedOn=h,ei(d.priority,function(){go(b)});return}}else if(h===3&&b.stateNode.current.memoizedState.isDehydrated){d.blockedOn=b.tag===3?b.stateNode.containerInfo:null;return}}}d.blockedOn=null}function Jn(d){if(d.blockedOn!==null)return!1;for(var h=d.targetContainers;0<h.length;){var b=Hl(d.domEventName,d.eventSystemFlags,h[0],d.nativeEvent);if(b===null){b=d.nativeEvent;var C=new b.constructor(b.type,b);Xn=C,b.target.dispatchEvent(C),Xn=null}else return h=Yt(b),h!==null&&Ji(h),d.blockedOn=b,!1;h.shift()}return!0}function ca(d,h,b){Jn(d)&&b.delete(h)}function Zo(){Gr=!1,la!==null&&Jn(la)&&(la=null),io!==null&&Jn(io)&&(io=null),_r!==null&&Jn(_r)&&(_r=null),ae.forEach(ca),_e.forEach(ca)}function vo(d,h){d.blockedOn===h&&(d.blockedOn=null,Gr||(Gr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Zo)))}function yo(d){function h(N){return vo(N,d)}if(0<Ho.length){vo(Ho[0],d);for(var b=1;b<Ho.length;b++){var C=Ho[b];C.blockedOn===d&&(C.blockedOn=null)}}for(la!==null&&vo(la,d),io!==null&&vo(io,d),_r!==null&&vo(_r,d),ae.forEach(h),_e.forEach(h),b=0;b<Qe.length;b++)C=Qe[b],C.blockedOn===d&&(C.blockedOn=null);for(;0<Qe.length&&(b=Qe[0],b.blockedOn===null);)Nt(b),b.blockedOn===null&&Qe.shift()}var es=O.ReactCurrentBatchConfig,Nr=!0;function ts(d,h,b,C){var N=Wn,$=es.transition;es.transition=null;try{Wn=1,Su(d,h,b,C)}finally{Wn=N,es.transition=$}}function ti(d,h,b,C){var N=Wn,$=es.transition;es.transition=null;try{Wn=4,Su(d,h,b,C)}finally{Wn=N,es.transition=$}}function Su(d,h,b,C){if(Nr){var N=Hl(d,h,b,C);if(N===null)Um(d,h,C,Zu,b),Vt(d,C);else if(ht(N,d,h,b,C))C.stopPropagation();else if(Vt(d,C),h&4&&-1<Tt.indexOf(d)){for(;N!==null;){var $=Yt(N);if($!==null&&On($),$=Hl(d,h,b,C),$===null&&Um(d,h,C,Zu,b),$===N)break;N=$}N!==null&&C.stopPropagation()}else Um(d,h,C,null,b)}}var Zu=null;function Hl(d,h,b,C){if(Zu=null,d=Qn(C),d=qc(d),d!==null)if(h=Gt(d),h===null)d=null;else if(b=h.tag,b===13){if(d=Zt(h),d!==null)return d;d=null}else if(b===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;d=null}else h!==d&&(d=null);return Zu=d,null}function Zi(d){switch(d){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(En()){case mo:return 1;case Xi:return 4;case wi:case Js:return 16;case Jo:return 536870912;default:return 16}default:return 16}}var ni=null,V=null,de=null;function $e(){if(de)return de;var d,h=V,b=h.length,C,N="value"in ni?ni.value:ni.textContent,$=N.length;for(d=0;d<b&&h[d]===N[d];d++);var G=b-d;for(C=1;C<=G&&h[b-C]===N[$-C];C++);return de=N.slice(d,1<C?1-C:void 0)}function x(d){var h=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&h===13&&(d=13)):d=h,d===10&&(d=13),32<=d||d===13?d:0}function M(){return!0}function B(){return!1}function W(d){function h(b,C,N,$,G){this._reactName=b,this._targetInst=N,this.type=C,this.nativeEvent=$,this.target=G,this.currentTarget=null;for(var se in d)d.hasOwnProperty(se)&&(b=d[se],this[se]=b?b($):$[se]);return this.isDefaultPrevented=($.defaultPrevented!=null?$.defaultPrevented:$.returnValue===!1)?M:B,this.isPropagationStopped=B,this}return ge(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var b=this.nativeEvent;b&&(b.preventDefault?b.preventDefault():typeof b.returnValue!="unknown"&&(b.returnValue=!1),this.isDefaultPrevented=M)},stopPropagation:function(){var b=this.nativeEvent;b&&(b.stopPropagation?b.stopPropagation():typeof b.cancelBubble!="unknown"&&(b.cancelBubble=!0),this.isPropagationStopped=M)},persist:function(){},isPersistent:M}),h}var re={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},me=W(re),ie=ge({},re,{view:0,detail:0}),Te=W(ie),De,Ue,it,xt=ge({},ie,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fy,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==it&&(it&&d.type==="mousemove"?(De=d.screenX-it.screenX,Ue=d.screenY-it.screenY):Ue=De=0,it=d),De)},movementY:function(d){return"movementY"in d?d.movementY:Ue}}),Qt=W(xt),Mt=ge({},xt,{dataTransfer:0}),un=W(Mt),Hn=ge({},ie,{relatedTarget:0}),cr=W(Hn),Tr=ge({},re,{animationName:0,elapsedTime:0,pseudoElement:0}),Sa=W(Tr),Vo=ge({},re,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),bo=W(Vo),Zn=ge({},re,{data:0}),da=W(Zn),eu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},q2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},v3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function el(d){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(d):(d=v3[d])?!!h[d]:!1}function Fy(){return el}var Py=ge({},ie,{key:function(d){if(d.key){var h=eu[d.key]||d.key;if(h!=="Unidentified")return h}return d.type==="keypress"?(d=x(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?q2[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fy,charCode:function(d){return d.type==="keypress"?x(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?x(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),Ly=W(Py),By=ge({},xt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),K2=W(By),Am=ge({},ie,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fy}),Y2=W(Am),_s=ge({},re,{propertyName:0,elapsedTime:0,pseudoElement:0}),tl=W(_s),La=ge({},xt,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),nl=W(La),zy=[9,13,27,32],nf=l&&"CompositionEvent"in window,Ip=null;l&&"documentMode"in document&&(Ip=document.documentMode);var Rp=l&&"TextEvent"in window&&!Ip,X2=l&&(!nf||Ip&&8<Ip&&11>=Ip),Q2=" ",Dm=!1;function J2(d,h){switch(d){case"keyup":return zy.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z2(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var rf=!1;function eE(d,h){switch(d){case"compositionend":return Z2(h);case"keypress":return h.which!==32?null:(Dm=!0,Q2);case"textInput":return d=h.data,d===Q2&&Dm?null:d;default:return null}}function y3(d,h){if(rf)return d==="compositionend"||!nf&&J2(d,h)?(d=$e(),de=V=ni=null,rf=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return X2&&h.locale!=="ko"?null:h.data;default:return null}}var b3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tE(d){var h=d&&d.nodeName&&d.nodeName.toLowerCase();return h==="input"?!!b3[d.type]:h==="textarea"}function Uy(d,h,b,C){$a(C),h=$p(h,"onChange"),0<h.length&&(b=new me("onChange","change",null,b,C),d.push({event:b,listeners:h}))}var wu=null,Hc=null;function nE(d){jc(d,0)}function Np(d){var h=nu(d);if(Rt(h))return d}function S3(d,h){if(d==="change")return h}var rE=!1;if(l){var Hy;if(l){var Vy="oninput"in document;if(!Vy){var aE=document.createElement("div");aE.setAttribute("oninput","return;"),Vy=typeof aE.oninput=="function"}Hy=Vy}else Hy=!1;rE=Hy&&(!document.documentMode||9<document.documentMode)}function oE(){wu&&(wu.detachEvent("onpropertychange",sE),Hc=wu=null)}function sE(d){if(d.propertyName==="value"&&Np(Hc)){var h=[];Uy(h,Hc,d,Qn(d)),lt(nE,h)}}function w3(d,h,b){d==="focusin"?(oE(),wu=h,Hc=b,wu.attachEvent("onpropertychange",sE)):d==="focusout"&&oE()}function iE(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return Np(Hc)}function E3(d,h){if(d==="click")return Np(h)}function uE(d,h){if(d==="input"||d==="change")return Np(h)}function x3(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var tu=typeof Object.is=="function"?Object.is:x3;function Ap(d,h){if(tu(d,h))return!0;if(typeof d!="object"||d===null||typeof h!="object"||h===null)return!1;var b=Object.keys(d),C=Object.keys(h);if(b.length!==C.length)return!1;for(C=0;C<b.length;C++){var N=b[C];if(!f.call(h,N)||!tu(d[N],h[N]))return!1}return!0}function lE(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function Om(d,h){var b=lE(d);d=0;for(var C;b;){if(b.nodeType===3){if(C=d+b.textContent.length,d<=h&&C>=h)return{node:b,offset:h-d};d=C}e:{for(;b;){if(b.nextSibling){b=b.nextSibling;break e}b=b.parentNode}b=void 0}b=lE(b)}}function Vl(d,h){return d&&h?d===h?!0:d&&d.nodeType===3?!1:h&&h.nodeType===3?Vl(d,h.parentNode):"contains"in d?d.contains(h):d.compareDocumentPosition?!!(d.compareDocumentPosition(h)&16):!1:!1}function Dp(){for(var d=window,h=Dt();h instanceof d.HTMLIFrameElement;){try{var b=typeof h.contentWindow.location.href=="string"}catch{b=!1}if(b)d=h.contentWindow;else break;h=Dt(d.document)}return h}function Mm(d){var h=d&&d.nodeName&&d.nodeName.toLowerCase();return h&&(h==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||h==="textarea"||d.contentEditable==="true")}function af(d){var h=Dp(),b=d.focusedElem,C=d.selectionRange;if(h!==b&&b&&b.ownerDocument&&Vl(b.ownerDocument.documentElement,b)){if(C!==null&&Mm(b)){if(h=C.start,d=C.end,d===void 0&&(d=h),"selectionStart"in b)b.selectionStart=h,b.selectionEnd=Math.min(d,b.value.length);else if(d=(h=b.ownerDocument||document)&&h.defaultView||window,d.getSelection){d=d.getSelection();var N=b.textContent.length,$=Math.min(C.start,N);C=C.end===void 0?$:Math.min(C.end,N),!d.extend&&$>C&&(N=C,C=$,$=N),N=Om(b,$);var G=Om(b,C);N&&G&&(d.rangeCount!==1||d.anchorNode!==N.node||d.anchorOffset!==N.offset||d.focusNode!==G.node||d.focusOffset!==G.offset)&&(h=h.createRange(),h.setStart(N.node,N.offset),d.removeAllRanges(),$>C?(d.addRange(h),d.extend(G.node,G.offset)):(h.setEnd(G.node,G.offset),d.addRange(h)))}}for(h=[],d=b;d=d.parentNode;)d.nodeType===1&&h.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<h.length;b++)d=h[b],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var C3=l&&"documentMode"in document&&11>=document.documentMode,of=null,Wy=null,Op=null,jy=!1;function Gy(d,h,b){var C=b.window===b?b.document:b.nodeType===9?b:b.ownerDocument;jy||of==null||of!==Dt(C)||(C=of,"selectionStart"in C&&Mm(C)?C={start:C.selectionStart,end:C.selectionEnd}:(C=(C.ownerDocument&&C.ownerDocument.defaultView||window).getSelection(),C={anchorNode:C.anchorNode,anchorOffset:C.anchorOffset,focusNode:C.focusNode,focusOffset:C.focusOffset}),Op&&Ap(Op,C)||(Op=C,C=$p(Wy,"onSelect"),0<C.length&&(h=new me("onSelect","select",null,h,b),d.push({event:h,listeners:C}),h.target=of)))}function $m(d,h){var b={};return b[d.toLowerCase()]=h.toLowerCase(),b["Webkit"+d]="webkit"+h,b["Moz"+d]="moz"+h,b}var Vc={animationend:$m("Animation","AnimationEnd"),animationiteration:$m("Animation","AnimationIteration"),animationstart:$m("Animation","AnimationStart"),transitionend:$m("Transition","TransitionEnd")},So={},qy={};l&&(qy=document.createElement("div").style,"AnimationEvent"in window||(delete Vc.animationend.animation,delete Vc.animationiteration.animation,delete Vc.animationstart.animation),"TransitionEvent"in window||delete Vc.transitionend.transition);function Fm(d){if(So[d])return So[d];if(!Vc[d])return d;var h=Vc[d],b;for(b in h)if(h.hasOwnProperty(b)&&b in qy)return So[d]=h[b];return d}var cE=Fm("animationend"),dE=Fm("animationiteration"),fE=Fm("animationstart"),pE=Fm("transitionend"),Ky=new Map,Pm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _i(d,h){Ky.set(d,h),o(h,[d])}for(var Yy=0;Yy<Pm.length;Yy++){var Wc=Pm[Yy],k3=Wc.toLowerCase(),_3=Wc[0].toUpperCase()+Wc.slice(1);_i(k3,"on"+_3)}_i(cE,"onAnimationEnd"),_i(dE,"onAnimationIteration"),_i(fE,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(pE,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mp));function Lm(d,h,b){var C=d.type||"unknown-event";d.currentTarget=b,ut(C,h,void 0,d),d.currentTarget=null}function jc(d,h){h=(h&4)!==0;for(var b=0;b<d.length;b++){var C=d[b],N=C.event;C=C.listeners;e:{var $=void 0;if(h)for(var G=C.length-1;0<=G;G--){var se=C[G],be=se.instance,Pe=se.currentTarget;if(se=se.listener,be!==$&&N.isPropagationStopped())break e;Lm(N,se,Pe),$=be}else for(G=0;G<C.length;G++){if(se=C[G],be=se.instance,Pe=se.currentTarget,se=se.listener,be!==$&&N.isPropagationStopped())break e;Lm(N,se,Pe),$=be}}}if(Jr)throw d=fe,Jr=!1,fe=null,d}function Ir(d,h){var b=h[Lp];b===void 0&&(b=h[Lp]=new Set);var C=d+"__bubble";b.has(C)||(hE(h,d,2,!1),b.add(C))}function Bm(d,h,b){var C=0;h&&(C|=4),hE(b,d,C,h)}var zm="_reactListening"+Math.random().toString(36).slice(2);function sf(d){if(!d[zm]){d[zm]=!0,r.forEach(function(b){b!=="selectionchange"&&(Xy.has(b)||Bm(b,!1,d),Bm(b,!0,d))});var h=d.nodeType===9?d:d.ownerDocument;h===null||h[zm]||(h[zm]=!0,Bm("selectionchange",!1,h))}}function hE(d,h,b,C){switch(Zi(h)){case 1:var N=ts;break;case 4:N=ti;break;default:N=Su}b=N.bind(null,h,b,d),N=void 0,!Tn||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(N=!0),C?N!==void 0?d.addEventListener(h,b,{capture:!0,passive:N}):d.addEventListener(h,b,!0):N!==void 0?d.addEventListener(h,b,{passive:N}):d.addEventListener(h,b,!1)}function Um(d,h,b,C,N){var $=C;if((h&1)===0&&(h&2)===0&&C!==null)e:for(;;){if(C===null)return;var G=C.tag;if(G===3||G===4){var se=C.stateNode.containerInfo;if(se===N||se.nodeType===8&&se.parentNode===N)break;if(G===4)for(G=C.return;G!==null;){var be=G.tag;if((be===3||be===4)&&(be=G.stateNode.containerInfo,be===N||be.nodeType===8&&be.parentNode===N))return;G=G.return}for(;se!==null;){if(G=qc(se),G===null)return;if(be=G.tag,be===5||be===6){C=$=G;continue e}se=se.parentNode}}C=C.return}lt(function(){var Pe=$,nt=Qn(b),at=[];e:{var tt=Ky.get(d);if(tt!==void 0){var Ct=me,$t=d;switch(d){case"keypress":if(x(b)===0)break e;case"keydown":case"keyup":Ct=Ly;break;case"focusin":$t="focus",Ct=cr;break;case"focusout":$t="blur",Ct=cr;break;case"beforeblur":case"afterblur":Ct=cr;break;case"click":if(b.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ct=Qt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ct=un;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ct=Y2;break;case cE:case dE:case fE:Ct=Sa;break;case pE:Ct=tl;break;case"scroll":Ct=Te;break;case"wheel":Ct=nl;break;case"copy":case"cut":case"paste":Ct=bo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ct=K2}var Ut=(h&4)!==0,Aa=!Ut&&d==="scroll",Re=Ut?tt!==null?tt+"Capture":null:tt;Ut=[];for(var Ee=Pe,Oe;Ee!==null;){Oe=Ee;var rt=Oe.stateNode;if(Oe.tag===5&&rt!==null&&(Oe=rt,Re!==null&&(rt=kn(Ee,Re),rt!=null&&Ut.push(uf(Ee,rt,Oe)))),Aa)break;Ee=Ee.return}0<Ut.length&&(tt=new Ct(tt,$t,null,b,nt),at.push({event:tt,listeners:Ut}))}}if((h&7)===0){e:{if(tt=d==="mouseover"||d==="pointerover",Ct=d==="mouseout"||d==="pointerout",tt&&b!==Xn&&($t=b.relatedTarget||b.fromElement)&&(qc($t)||$t[rl]))break e;if((Ct||tt)&&(tt=nt.window===nt?nt:(tt=nt.ownerDocument)?tt.defaultView||tt.parentWindow:window,Ct?($t=b.relatedTarget||b.toElement,Ct=Pe,$t=$t?qc($t):null,$t!==null&&(Aa=Gt($t),$t!==Aa||$t.tag!==5&&$t.tag!==6)&&($t=null)):(Ct=null,$t=Pe),Ct!==$t)){if(Ut=Qt,rt="onMouseLeave",Re="onMouseEnter",Ee="mouse",(d==="pointerout"||d==="pointerover")&&(Ut=K2,rt="onPointerLeave",Re="onPointerEnter",Ee="pointer"),Aa=Ct==null?tt:nu(Ct),Oe=$t==null?tt:nu($t),tt=new Ut(rt,Ee+"leave",Ct,b,nt),tt.target=Aa,tt.relatedTarget=Oe,rt=null,qc(nt)===Pe&&(Ut=new Ut(Re,Ee+"enter",$t,b,nt),Ut.target=Oe,Ut.relatedTarget=Aa,rt=Ut),Aa=rt,Ct&&$t)t:{for(Ut=Ct,Re=$t,Ee=0,Oe=Ut;Oe;Oe=Wl(Oe))Ee++;for(Oe=0,rt=Re;rt;rt=Wl(rt))Oe++;for(;0<Ee-Oe;)Ut=Wl(Ut),Ee--;for(;0<Oe-Ee;)Re=Wl(Re),Oe--;for(;Ee--;){if(Ut===Re||Re!==null&&Ut===Re.alternate)break t;Ut=Wl(Ut),Re=Wl(Re)}Ut=null}else Ut=null;Ct!==null&&mE(at,tt,Ct,Ut,!1),$t!==null&&Aa!==null&&mE(at,Aa,$t,Ut,!0)}}e:{if(tt=Pe?nu(Pe):window,Ct=tt.nodeName&&tt.nodeName.toLowerCase(),Ct==="select"||Ct==="input"&&tt.type==="file")var Ft=S3;else if(tE(tt))if(rE)Ft=uE;else{Ft=iE;var an=w3}else(Ct=tt.nodeName)&&Ct.toLowerCase()==="input"&&(tt.type==="checkbox"||tt.type==="radio")&&(Ft=E3);if(Ft&&(Ft=Ft(d,Pe))){Uy(at,Ft,b,nt);break e}an&&an(d,tt,Pe),d==="focusout"&&(an=tt._wrapperState)&&an.controlled&&tt.type==="number"&&mn(tt,"number",tt.value)}switch(an=Pe?nu(Pe):window,d){case"focusin":(tE(an)||an.contentEditable==="true")&&(of=an,Wy=Pe,Op=null);break;case"focusout":Op=Wy=of=null;break;case"mousedown":jy=!0;break;case"contextmenu":case"mouseup":case"dragend":jy=!1,Gy(at,b,nt);break;case"selectionchange":if(C3)break;case"keydown":case"keyup":Gy(at,b,nt)}var sn;if(nf)e:{switch(d){case"compositionstart":var yn="onCompositionStart";break e;case"compositionend":yn="onCompositionEnd";break e;case"compositionupdate":yn="onCompositionUpdate";break e}yn=void 0}else rf?J2(d,b)&&(yn="onCompositionEnd"):d==="keydown"&&b.keyCode===229&&(yn="onCompositionStart");yn&&(X2&&b.locale!=="ko"&&(rf||yn!=="onCompositionStart"?yn==="onCompositionEnd"&&rf&&(sn=$e()):(ni=nt,V="value"in ni?ni.value:ni.textContent,rf=!0)),an=$p(Pe,yn),0<an.length&&(yn=new da(yn,d,null,b,nt),at.push({event:yn,listeners:an}),sn?yn.data=sn:(sn=Z2(b),sn!==null&&(yn.data=sn)))),(sn=Rp?eE(d,b):y3(d,b))&&(Pe=$p(Pe,"onBeforeInput"),0<Pe.length&&(nt=new da("onBeforeInput","beforeinput",null,b,nt),at.push({event:nt,listeners:Pe}),nt.data=sn))}jc(at,h)})}function uf(d,h,b){return{instance:d,listener:h,currentTarget:b}}function $p(d,h){for(var b=h+"Capture",C=[];d!==null;){var N=d,$=N.stateNode;N.tag===5&&$!==null&&(N=$,$=kn(d,b),$!=null&&C.unshift(uf(d,$,N)),$=kn(d,h),$!=null&&C.push(uf(d,$,N))),d=d.return}return C}function Wl(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5);return d||null}function mE(d,h,b,C,N){for(var $=h._reactName,G=[];b!==null&&b!==C;){var se=b,be=se.alternate,Pe=se.stateNode;if(be!==null&&be===C)break;se.tag===5&&Pe!==null&&(se=Pe,N?(be=kn(b,$),be!=null&&G.unshift(uf(b,be,se))):N||(be=kn(b,$),be!=null&&G.push(uf(b,be,se)))),b=b.return}G.length!==0&&d.push({event:h,listeners:G})}var gE=/\r\n?/g,T3=/\u0000|\uFFFD/g;function vE(d){return(typeof d=="string"?d:""+d).replace(gE,`
`).replace(T3,"")}function Hm(d,h,b){if(h=vE(h),vE(d)!==h&&b)throw Error(n(425))}function jl(){}var Fp=null,Gc=null;function Vm(d,h){return d==="textarea"||d==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var Wm=typeof setTimeout=="function"?setTimeout:void 0,Qy=typeof clearTimeout=="function"?clearTimeout:void 0,yE=typeof Promise=="function"?Promise:void 0,lf=typeof queueMicrotask=="function"?queueMicrotask:typeof yE<"u"?function(d){return yE.resolve(null).then(d).catch(jm)}:Wm;function jm(d){setTimeout(function(){throw d})}function cf(d,h){var b=h,C=0;do{var N=b.nextSibling;if(d.removeChild(b),N&&N.nodeType===8)if(b=N.data,b==="/$"){if(C===0){d.removeChild(N),yo(h);return}C--}else b!=="$"&&b!=="$?"&&b!=="$!"||C++;b=N}while(b);yo(h)}function Eu(d){for(;d!=null;d=d.nextSibling){var h=d.nodeType;if(h===1||h===3)break;if(h===8){if(h=d.data,h==="$"||h==="$!"||h==="$?")break;if(h==="/$")return null}}return d}function bE(d){d=d.previousSibling;for(var h=0;d;){if(d.nodeType===8){var b=d.data;if(b==="$"||b==="$!"||b==="$?"){if(h===0)return d;h--}else b==="/$"&&h++}d=d.previousSibling}return null}var Gl=Math.random().toString(36).slice(2),xu="__reactFiber$"+Gl,Pp="__reactProps$"+Gl,rl="__reactContainer$"+Gl,Lp="__reactEvents$"+Gl,df="__reactListeners$"+Gl,I3="__reactHandles$"+Gl;function qc(d){var h=d[xu];if(h)return h;for(var b=d.parentNode;b;){if(h=b[rl]||b[xu]){if(b=h.alternate,h.child!==null||b!==null&&b.child!==null)for(d=bE(d);d!==null;){if(b=d[xu])return b;d=bE(d)}return h}d=b,b=d.parentNode}return null}function Yt(d){return d=d[xu]||d[rl],!d||d.tag!==5&&d.tag!==6&&d.tag!==13&&d.tag!==3?null:d}function nu(d){if(d.tag===5||d.tag===6)return d.stateNode;throw Error(n(33))}function fa(d){return d[Pp]||null}var tr=[],Ti=-1;function Ii(d){return{current:d}}function qr(d){0>Ti||(d.current=tr[Ti],tr[Ti]=null,Ti--)}function qt(d,h){Ti++,tr[Ti]=d.current,d.current=h}var Wo={},wa=Ii(Wo),Ja=Ii(!1),Ts=Wo;function Is(d,h){var b=d.type.contextTypes;if(!b)return Wo;var C=d.stateNode;if(C&&C.__reactInternalMemoizedUnmaskedChildContext===h)return C.__reactInternalMemoizedMaskedChildContext;var N={},$;for($ in b)N[$]=h[$];return C&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=h,d.__reactInternalMemoizedMaskedChildContext=N),N}function Ba(d){return d=d.childContextTypes,d!=null}function ff(){qr(Ja),qr(wa)}function SE(d,h,b){if(wa.current!==Wo)throw Error(n(168));qt(wa,h),qt(Ja,b)}function Bp(d,h,b){var C=d.stateNode;if(h=h.childContextTypes,typeof C.getChildContext!="function")return b;C=C.getChildContext();for(var N in C)if(!(N in h))throw Error(n(108,Ke(d)||"Unknown",N));return ge({},b,C)}function uo(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||Wo,Ts=wa.current,qt(wa,d),qt(Ja,Ja.current),!0}function Gm(d,h,b){var C=d.stateNode;if(!C)throw Error(n(169));b?(d=Bp(d,h,Ts),C.__reactInternalMemoizedMergedChildContext=d,qr(Ja),qr(wa),qt(wa,d)):qr(Ja),qt(Ja,b)}var Cu=null,pf=!1,al=!1;function qm(d){Cu===null?Cu=[d]:Cu.push(d)}function ql(d){pf=!0,qm(d)}function ku(){if(!al&&Cu!==null){al=!0;var d=0,h=Wn;try{var b=Cu;for(Wn=1;d<b.length;d++){var C=b[d];do C=C(!0);while(C!==null)}Cu=null,pf=!1}catch(N){throw Cu!==null&&(Cu=Cu.slice(d+1)),hr(mo,ku),N}finally{Wn=h,al=!1}}return null}var Kl=[],Yl=0,Xl=null,ol=0,za=[],Ri=0,ri=null,_u=1,Tu="";function Kc(d,h){Kl[Yl++]=ol,Kl[Yl++]=Xl,Xl=d,ol=h}function wE(d,h,b){za[Ri++]=_u,za[Ri++]=Tu,za[Ri++]=ri,ri=d;var C=_u;d=Tu;var N=32-Fa(C)-1;C&=~(1<<N),b+=1;var $=32-Fa(h)+N;if(30<$){var G=N-N%5;$=(C&(1<<G)-1).toString(32),C>>=G,N-=G,_u=1<<32-Fa(h)+N|b<<N|C,Tu=$+d}else _u=1<<$|b<<N|C,Tu=d}function Km(d){d.return!==null&&(Kc(d,1),wE(d,1,0))}function Ym(d){for(;d===Xl;)Xl=Kl[--Yl],Kl[Yl]=null,ol=Kl[--Yl],Kl[Yl]=null;for(;d===ri;)ri=za[--Ri],za[Ri]=null,Tu=za[--Ri],za[Ri]=null,_u=za[--Ri],za[Ri]=null}var Rs=null,Ns=null,aa=!1,Ni=null;function Jy(d,h){var b=$i(5,null,null,0);b.elementType="DELETED",b.stateNode=h,b.return=d,h=d.deletions,h===null?(d.deletions=[b],d.flags|=16):h.push(b)}function EE(d,h){switch(d.tag){case 5:var b=d.type;return h=h.nodeType!==1||b.toLowerCase()!==h.nodeName.toLowerCase()?null:h,h!==null?(d.stateNode=h,Rs=d,Ns=Eu(h.firstChild),!0):!1;case 6:return h=d.pendingProps===""||h.nodeType!==3?null:h,h!==null?(d.stateNode=h,Rs=d,Ns=null,!0):!1;case 13:return h=h.nodeType!==8?null:h,h!==null?(b=ri!==null?{id:_u,overflow:Tu}:null,d.memoizedState={dehydrated:h,treeContext:b,retryLane:1073741824},b=$i(18,null,null,0),b.stateNode=h,b.return=d,d.child=b,Rs=d,Ns=null,!0):!1;default:return!1}}function Zy(d){return(d.mode&1)!==0&&(d.flags&128)===0}function eb(d){if(aa){var h=Ns;if(h){var b=h;if(!EE(d,h)){if(Zy(d))throw Error(n(418));h=Eu(b.nextSibling);var C=Rs;h&&EE(d,h)?Jy(C,b):(d.flags=d.flags&-4097|2,aa=!1,Rs=d)}}else{if(Zy(d))throw Error(n(418));d.flags=d.flags&-4097|2,aa=!1,Rs=d}}}function Za(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;Rs=d}function Xm(d){if(d!==Rs)return!1;if(!aa)return Za(d),aa=!0,!1;var h;if((h=d.tag!==3)&&!(h=d.tag!==5)&&(h=d.type,h=h!=="head"&&h!=="body"&&!Vm(d.type,d.memoizedProps)),h&&(h=Ns)){if(Zy(d))throw zp(),Error(n(418));for(;h;)Jy(d,h),h=Eu(h.nextSibling)}if(Za(d),d.tag===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(317));e:{for(d=d.nextSibling,h=0;d;){if(d.nodeType===8){var b=d.data;if(b==="/$"){if(h===0){Ns=Eu(d.nextSibling);break e}h--}else b!=="$"&&b!=="$!"&&b!=="$?"||h++}d=d.nextSibling}Ns=null}}else Ns=Rs?Eu(d.stateNode.nextSibling):null;return!0}function zp(){for(var d=Ns;d;)d=Eu(d.nextSibling)}function Ql(){Ns=Rs=null,aa=!1}function sl(d){Ni===null?Ni=[d]:Ni.push(d)}var R3=O.ReactCurrentBatchConfig;function Yc(d,h,b){if(d=b.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(b._owner){if(b=b._owner,b){if(b.tag!==1)throw Error(n(309));var C=b.stateNode}if(!C)throw Error(n(147,d));var N=C,$=""+d;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===$?h.ref:(h=function(G){var se=N.refs;G===null?delete se[$]:se[$]=G},h._stringRef=$,h)}if(typeof d!="string")throw Error(n(284));if(!b._owner)throw Error(n(290,d))}return d}function Qm(d,h){throw d=Object.prototype.toString.call(h),Error(n(31,d==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":d))}function xE(d){var h=d._init;return h(d._payload)}function Xc(d){function h(Re,Ee){if(d){var Oe=Re.deletions;Oe===null?(Re.deletions=[Ee],Re.flags|=16):Oe.push(Ee)}}function b(Re,Ee){if(!d)return null;for(;Ee!==null;)h(Re,Ee),Ee=Ee.sibling;return null}function C(Re,Ee){for(Re=new Map;Ee!==null;)Ee.key!==null?Re.set(Ee.key,Ee):Re.set(Ee.index,Ee),Ee=Ee.sibling;return Re}function N(Re,Ee){return Re=oc(Re,Ee),Re.index=0,Re.sibling=null,Re}function $(Re,Ee,Oe){return Re.index=Oe,d?(Oe=Re.alternate,Oe!==null?(Oe=Oe.index,Oe<Ee?(Re.flags|=2,Ee):Oe):(Re.flags|=2,Ee)):(Re.flags|=1048576,Ee)}function G(Re){return d&&Re.alternate===null&&(Re.flags|=2),Re}function se(Re,Ee,Oe,rt){return Ee===null||Ee.tag!==6?(Ee=Ab(Oe,Re.mode,rt),Ee.return=Re,Ee):(Ee=N(Ee,Oe),Ee.return=Re,Ee)}function be(Re,Ee,Oe,rt){var Ft=Oe.type;return Ft===j?nt(Re,Ee,Oe.props.children,rt,Oe.key):Ee!==null&&(Ee.elementType===Ft||typeof Ft=="object"&&Ft!==null&&Ft.$$typeof===ye&&xE(Ft)===Ee.type)?(rt=N(Ee,Oe.props),rt.ref=Yc(Re,Ee,Oe),rt.return=Re,rt):(rt=gh(Oe.type,Oe.key,Oe.props,null,Re.mode,rt),rt.ref=Yc(Re,Ee,Oe),rt.return=Re,rt)}function Pe(Re,Ee,Oe,rt){return Ee===null||Ee.tag!==4||Ee.stateNode.containerInfo!==Oe.containerInfo||Ee.stateNode.implementation!==Oe.implementation?(Ee=Ng(Oe,Re.mode,rt),Ee.return=Re,Ee):(Ee=N(Ee,Oe.children||[]),Ee.return=Re,Ee)}function nt(Re,Ee,Oe,rt,Ft){return Ee===null||Ee.tag!==7?(Ee=fl(Oe,Re.mode,rt,Ft),Ee.return=Re,Ee):(Ee=N(Ee,Oe),Ee.return=Re,Ee)}function at(Re,Ee,Oe){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return Ee=Ab(""+Ee,Re.mode,Oe),Ee.return=Re,Ee;if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case L:return Oe=gh(Ee.type,Ee.key,Ee.props,null,Re.mode,Oe),Oe.ref=Yc(Re,null,Ee),Oe.return=Re,Oe;case U:return Ee=Ng(Ee,Re.mode,Oe),Ee.return=Re,Ee;case ye:var rt=Ee._init;return at(Re,rt(Ee._payload),Oe)}if(Jt(Ee)||he(Ee))return Ee=fl(Ee,Re.mode,Oe,null),Ee.return=Re,Ee;Qm(Re,Ee)}return null}function tt(Re,Ee,Oe,rt){var Ft=Ee!==null?Ee.key:null;if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number")return Ft!==null?null:se(Re,Ee,""+Oe,rt);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case L:return Oe.key===Ft?be(Re,Ee,Oe,rt):null;case U:return Oe.key===Ft?Pe(Re,Ee,Oe,rt):null;case ye:return Ft=Oe._init,tt(Re,Ee,Ft(Oe._payload),rt)}if(Jt(Oe)||he(Oe))return Ft!==null?null:nt(Re,Ee,Oe,rt,null);Qm(Re,Oe)}return null}function Ct(Re,Ee,Oe,rt,Ft){if(typeof rt=="string"&&rt!==""||typeof rt=="number")return Re=Re.get(Oe)||null,se(Ee,Re,""+rt,Ft);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case L:return Re=Re.get(rt.key===null?Oe:rt.key)||null,be(Ee,Re,rt,Ft);case U:return Re=Re.get(rt.key===null?Oe:rt.key)||null,Pe(Ee,Re,rt,Ft);case ye:var an=rt._init;return Ct(Re,Ee,Oe,an(rt._payload),Ft)}if(Jt(rt)||he(rt))return Re=Re.get(Oe)||null,nt(Ee,Re,rt,Ft,null);Qm(Ee,rt)}return null}function $t(Re,Ee,Oe,rt){for(var Ft=null,an=null,sn=Ee,yn=Ee=0,fo=null;sn!==null&&yn<Oe.length;yn++){sn.index>yn?(fo=sn,sn=null):fo=sn.sibling;var vr=tt(Re,sn,Oe[yn],rt);if(vr===null){sn===null&&(sn=fo);break}d&&sn&&vr.alternate===null&&h(Re,sn),Ee=$(vr,Ee,yn),an===null?Ft=vr:an.sibling=vr,an=vr,sn=fo}if(yn===Oe.length)return b(Re,sn),aa&&Kc(Re,yn),Ft;if(sn===null){for(;yn<Oe.length;yn++)sn=at(Re,Oe[yn],rt),sn!==null&&(Ee=$(sn,Ee,yn),an===null?Ft=sn:an.sibling=sn,an=sn);return aa&&Kc(Re,yn),Ft}for(sn=C(Re,sn);yn<Oe.length;yn++)fo=Ct(sn,Re,yn,Oe[yn],rt),fo!==null&&(d&&fo.alternate!==null&&sn.delete(fo.key===null?yn:fo.key),Ee=$(fo,Ee,yn),an===null?Ft=fo:an.sibling=fo,an=fo);return d&&sn.forEach(function(uc){return h(Re,uc)}),aa&&Kc(Re,yn),Ft}function Ut(Re,Ee,Oe,rt){var Ft=he(Oe);if(typeof Ft!="function")throw Error(n(150));if(Oe=Ft.call(Oe),Oe==null)throw Error(n(151));for(var an=Ft=null,sn=Ee,yn=Ee=0,fo=null,vr=Oe.next();sn!==null&&!vr.done;yn++,vr=Oe.next()){sn.index>yn?(fo=sn,sn=null):fo=sn.sibling;var uc=tt(Re,sn,vr.value,rt);if(uc===null){sn===null&&(sn=fo);break}d&&sn&&uc.alternate===null&&h(Re,sn),Ee=$(uc,Ee,yn),an===null?Ft=uc:an.sibling=uc,an=uc,sn=fo}if(vr.done)return b(Re,sn),aa&&Kc(Re,yn),Ft;if(sn===null){for(;!vr.done;yn++,vr=Oe.next())vr=at(Re,vr.value,rt),vr!==null&&(Ee=$(vr,Ee,yn),an===null?Ft=vr:an.sibling=vr,an=vr);return aa&&Kc(Re,yn),Ft}for(sn=C(Re,sn);!vr.done;yn++,vr=Oe.next())vr=Ct(sn,Re,yn,vr.value,rt),vr!==null&&(d&&vr.alternate!==null&&sn.delete(vr.key===null?yn:vr.key),Ee=$(vr,Ee,yn),an===null?Ft=vr:an.sibling=vr,an=vr);return d&&sn.forEach(function(ox){return h(Re,ox)}),aa&&Kc(Re,yn),Ft}function Aa(Re,Ee,Oe,rt){if(typeof Oe=="object"&&Oe!==null&&Oe.type===j&&Oe.key===null&&(Oe=Oe.props.children),typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case L:e:{for(var Ft=Oe.key,an=Ee;an!==null;){if(an.key===Ft){if(Ft=Oe.type,Ft===j){if(an.tag===7){b(Re,an.sibling),Ee=N(an,Oe.props.children),Ee.return=Re,Re=Ee;break e}}else if(an.elementType===Ft||typeof Ft=="object"&&Ft!==null&&Ft.$$typeof===ye&&xE(Ft)===an.type){b(Re,an.sibling),Ee=N(an,Oe.props),Ee.ref=Yc(Re,an,Oe),Ee.return=Re,Re=Ee;break e}b(Re,an);break}else h(Re,an);an=an.sibling}Oe.type===j?(Ee=fl(Oe.props.children,Re.mode,rt,Oe.key),Ee.return=Re,Re=Ee):(rt=gh(Oe.type,Oe.key,Oe.props,null,Re.mode,rt),rt.ref=Yc(Re,Ee,Oe),rt.return=Re,Re=rt)}return G(Re);case U:e:{for(an=Oe.key;Ee!==null;){if(Ee.key===an)if(Ee.tag===4&&Ee.stateNode.containerInfo===Oe.containerInfo&&Ee.stateNode.implementation===Oe.implementation){b(Re,Ee.sibling),Ee=N(Ee,Oe.children||[]),Ee.return=Re,Re=Ee;break e}else{b(Re,Ee);break}else h(Re,Ee);Ee=Ee.sibling}Ee=Ng(Oe,Re.mode,rt),Ee.return=Re,Re=Ee}return G(Re);case ye:return an=Oe._init,Aa(Re,Ee,an(Oe._payload),rt)}if(Jt(Oe))return $t(Re,Ee,Oe,rt);if(he(Oe))return Ut(Re,Ee,Oe,rt);Qm(Re,Oe)}return typeof Oe=="string"&&Oe!==""||typeof Oe=="number"?(Oe=""+Oe,Ee!==null&&Ee.tag===6?(b(Re,Ee.sibling),Ee=N(Ee,Oe),Ee.return=Re,Re=Ee):(b(Re,Ee),Ee=Ab(Oe,Re.mode,rt),Ee.return=Re,Re=Ee),G(Re)):b(Re,Ee)}return Aa}var Ta=Xc(!0),yt=Xc(!1),ai=Ii(null),As=null,hf=null,tb=null;function nb(){tb=hf=As=null}function rb(d){var h=ai.current;qr(ai),d._currentValue=h}function ab(d,h,b){for(;d!==null;){var C=d.alternate;if((d.childLanes&h)!==h?(d.childLanes|=h,C!==null&&(C.childLanes|=h)):C!==null&&(C.childLanes&h)!==h&&(C.childLanes|=h),d===b)break;d=d.return}}function pa(d,h){As=d,tb=hf=null,d=d.dependencies,d!==null&&d.firstContext!==null&&((d.lanes&h)!==0&&(Ha=!0),d.firstContext=null)}function Ai(d){var h=d._currentValue;if(tb!==d)if(d={context:d,memoizedValue:h,next:null},hf===null){if(As===null)throw Error(n(308));hf=d,As.dependencies={lanes:0,firstContext:d}}else hf=hf.next=d;return h}var Qc=null;function ob(d){Qc===null?Qc=[d]:Qc.push(d)}function sb(d,h,b,C){var N=h.interleaved;return N===null?(b.next=b,ob(h)):(b.next=N.next,N.next=b),h.interleaved=b,oi(d,C)}function oi(d,h){d.lanes|=h;var b=d.alternate;for(b!==null&&(b.lanes|=h),b=d,d=d.return;d!==null;)d.childLanes|=h,b=d.alternate,b!==null&&(b.childLanes|=h),b=d,d=d.return;return b.tag===3?b.stateNode:null}var si=!1;function ib(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CE(d,h){d=d.updateQueue,h.updateQueue===d&&(h.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function il(d,h){return{eventTime:d,lane:h,tag:0,payload:null,callback:null,next:null}}function Jl(d,h,b){var C=d.updateQueue;if(C===null)return null;if(C=C.shared,(nr&2)!==0){var N=C.pending;return N===null?h.next=h:(h.next=N.next,N.next=h),C.pending=h,oi(d,b)}return N=C.interleaved,N===null?(h.next=h,ob(C)):(h.next=N.next,N.next=h),C.interleaved=h,oi(d,b)}function Jm(d,h,b){if(h=h.updateQueue,h!==null&&(h=h.shared,(b&4194240)!==0)){var C=h.lanes;C&=d.pendingLanes,b|=C,h.lanes=b,Uo(d,b)}}function kE(d,h){var b=d.updateQueue,C=d.alternate;if(C!==null&&(C=C.updateQueue,b===C)){var N=null,$=null;if(b=b.firstBaseUpdate,b!==null){do{var G={eventTime:b.eventTime,lane:b.lane,tag:b.tag,payload:b.payload,callback:b.callback,next:null};$===null?N=$=G:$=$.next=G,b=b.next}while(b!==null);$===null?N=$=h:$=$.next=h}else N=$=h;b={baseState:C.baseState,firstBaseUpdate:N,lastBaseUpdate:$,shared:C.shared,effects:C.effects},d.updateQueue=b;return}d=b.lastBaseUpdate,d===null?b.firstBaseUpdate=h:d.next=h,b.lastBaseUpdate=h}function Up(d,h,b,C){var N=d.updateQueue;si=!1;var $=N.firstBaseUpdate,G=N.lastBaseUpdate,se=N.shared.pending;if(se!==null){N.shared.pending=null;var be=se,Pe=be.next;be.next=null,G===null?$=Pe:G.next=Pe,G=be;var nt=d.alternate;nt!==null&&(nt=nt.updateQueue,se=nt.lastBaseUpdate,se!==G&&(se===null?nt.firstBaseUpdate=Pe:se.next=Pe,nt.lastBaseUpdate=be))}if($!==null){var at=N.baseState;G=0,nt=Pe=be=null,se=$;do{var tt=se.lane,Ct=se.eventTime;if((C&tt)===tt){nt!==null&&(nt=nt.next={eventTime:Ct,lane:0,tag:se.tag,payload:se.payload,callback:se.callback,next:null});e:{var $t=d,Ut=se;switch(tt=h,Ct=b,Ut.tag){case 1:if($t=Ut.payload,typeof $t=="function"){at=$t.call(Ct,at,tt);break e}at=$t;break e;case 3:$t.flags=$t.flags&-65537|128;case 0:if($t=Ut.payload,tt=typeof $t=="function"?$t.call(Ct,at,tt):$t,tt==null)break e;at=ge({},at,tt);break e;case 2:si=!0}}se.callback!==null&&se.lane!==0&&(d.flags|=64,tt=N.effects,tt===null?N.effects=[se]:tt.push(se))}else Ct={eventTime:Ct,lane:tt,tag:se.tag,payload:se.payload,callback:se.callback,next:null},nt===null?(Pe=nt=Ct,be=at):nt=nt.next=Ct,G|=tt;if(se=se.next,se===null){if(se=N.shared.pending,se===null)break;tt=se,se=tt.next,tt.next=null,N.lastBaseUpdate=tt,N.shared.pending=null}}while(!0);if(nt===null&&(be=at),N.baseState=be,N.firstBaseUpdate=Pe,N.lastBaseUpdate=nt,h=N.shared.interleaved,h!==null){N=h;do G|=N.lane,N=N.next;while(N!==h)}else $===null&&(N.shared.lanes=0);Du|=G,d.lanes=G,d.memoizedState=at}}function ub(d,h,b){if(d=h.effects,h.effects=null,d!==null)for(h=0;h<d.length;h++){var C=d[h],N=C.callback;if(N!==null){if(C.callback=null,C=b,typeof N!="function")throw Error(n(191,N));N.call(C)}}}var Hp={},Iu=Ii(Hp),Vp=Ii(Hp),Wp=Ii(Hp);function Jc(d){if(d===Hp)throw Error(n(174));return d}function lb(d,h){switch(qt(Wp,h),qt(Vp,d),qt(Iu,Hp),d=h.nodeType,d){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:Nn(null,"");break;default:d=d===8?h.parentNode:h,h=d.namespaceURI||null,d=d.tagName,h=Nn(h,d)}qr(Iu),qt(Iu,h)}function Zc(){qr(Iu),qr(Vp),qr(Wp)}function _E(d){Jc(Wp.current);var h=Jc(Iu.current),b=Nn(h,d.type);h!==b&&(qt(Vp,d),qt(Iu,b))}function Zm(d){Vp.current===d&&(qr(Iu),qr(Vp))}var ha=Ii(0);function eg(d){for(var h=d;h!==null;){if(h.tag===13){var b=h.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||b.data==="$?"||b.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var jp=[];function Xt(){for(var d=0;d<jp.length;d++)jp[d]._workInProgressVersionPrimary=null;jp.length=0}var Pn=O.ReactCurrentDispatcher,mr=O.ReactCurrentBatchConfig,Dr=0,gr=null,Ua=null,lo=null,tg=!1,Gp=!1,ed=0,Ze=0;function dr(){throw Error(n(321))}function cn(d,h){if(h===null)return!1;for(var b=0;b<h.length&&b<d.length;b++)if(!tu(d[b],h[b]))return!1;return!0}function Zl(d,h,b,C,N,$){if(Dr=$,gr=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Pn.current=d===null||d.memoizedState===null?gg:Jp,d=b(C,N),Gp){$=0;do{if(Gp=!1,ed=0,25<=$)throw Error(n(301));$+=1,lo=Ua=null,h.updateQueue=null,Pn.current=vg,d=b(C,N)}while(Gp)}if(Pn.current=od,h=Ua!==null&&Ua.next!==null,Dr=0,lo=Ua=gr=null,tg=!1,h)throw Error(n(300));return d}function ru(){var d=ed!==0;return ed=0,d}function jo(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lo===null?gr.memoizedState=lo=d:lo=lo.next=d,lo}function Ia(){if(Ua===null){var d=gr.alternate;d=d!==null?d.memoizedState:null}else d=Ua.next;var h=lo===null?gr.memoizedState:lo.next;if(h!==null)lo=h,Ua=d;else{if(d===null)throw Error(n(310));Ua=d,d={memoizedState:Ua.memoizedState,baseState:Ua.baseState,baseQueue:Ua.baseQueue,queue:Ua.queue,next:null},lo===null?gr.memoizedState=lo=d:lo=lo.next=d}return lo}function ul(d,h){return typeof h=="function"?h(d):h}function ec(d){var h=Ia(),b=h.queue;if(b===null)throw Error(n(311));b.lastRenderedReducer=d;var C=Ua,N=C.baseQueue,$=b.pending;if($!==null){if(N!==null){var G=N.next;N.next=$.next,$.next=G}C.baseQueue=N=$,b.pending=null}if(N!==null){$=N.next,C=C.baseState;var se=G=null,be=null,Pe=$;do{var nt=Pe.lane;if((Dr&nt)===nt)be!==null&&(be=be.next={lane:0,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null}),C=Pe.hasEagerState?Pe.eagerState:d(C,Pe.action);else{var at={lane:nt,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null};be===null?(se=be=at,G=C):be=be.next=at,gr.lanes|=nt,Du|=nt}Pe=Pe.next}while(Pe!==null&&Pe!==$);be===null?G=C:be.next=se,tu(C,h.memoizedState)||(Ha=!0),h.memoizedState=C,h.baseState=G,h.baseQueue=be,b.lastRenderedState=C}if(d=b.interleaved,d!==null){N=d;do $=N.lane,gr.lanes|=$,Du|=$,N=N.next;while(N!==d)}else N===null&&(b.lanes=0);return[h.memoizedState,b.dispatch]}function td(d){var h=Ia(),b=h.queue;if(b===null)throw Error(n(311));b.lastRenderedReducer=d;var C=b.dispatch,N=b.pending,$=h.memoizedState;if(N!==null){b.pending=null;var G=N=N.next;do $=d($,G.action),G=G.next;while(G!==N);tu($,h.memoizedState)||(Ha=!0),h.memoizedState=$,h.baseQueue===null&&(h.baseState=$),b.lastRenderedState=$}return[$,C]}function ng(){}function rg(d,h){var b=gr,C=Ia(),N=h(),$=!tu(C.memoizedState,N);if($&&(C.memoizedState=N,Ha=!0),C=C.queue,qp(sg.bind(null,b,C,d),[d]),C.getSnapshot!==h||$||lo!==null&&lo.memoizedState.tag&1){if(b.flags|=2048,nd(9,og.bind(null,b,C,N,h),void 0,null),eo===null)throw Error(n(349));(Dr&30)!==0||ag(b,h,N)}return N}function ag(d,h,b){d.flags|=16384,d={getSnapshot:h,value:b},h=gr.updateQueue,h===null?(h={lastEffect:null,stores:null},gr.updateQueue=h,h.stores=[d]):(b=h.stores,b===null?h.stores=[d]:b.push(d))}function og(d,h,b,C){h.value=b,h.getSnapshot=C,ig(h)&&ug(d)}function sg(d,h,b){return b(function(){ig(h)&&ug(d)})}function ig(d){var h=d.getSnapshot;d=d.value;try{var b=h();return!tu(d,b)}catch{return!0}}function ug(d){var h=oi(d,1);h!==null&&os(h,d,1,-1)}function lg(d){var h=jo();return typeof d=="function"&&(d=d()),h.memoizedState=h.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:d},h.queue=d,d=d.dispatch=ad.bind(null,gr,d),[h.memoizedState,d]}function nd(d,h,b,C){return d={tag:d,create:h,destroy:b,deps:C,next:null},h=gr.updateQueue,h===null?(h={lastEffect:null,stores:null},gr.updateQueue=h,h.lastEffect=d.next=d):(b=h.lastEffect,b===null?h.lastEffect=d.next=d:(C=b.next,b.next=d,d.next=C,h.lastEffect=d)),d}function cg(){return Ia().memoizedState}function mf(d,h,b,C){var N=jo();gr.flags|=d,N.memoizedState=nd(1|h,b,void 0,C===void 0?null:C)}function gf(d,h,b,C){var N=Ia();C=C===void 0?null:C;var $=void 0;if(Ua!==null){var G=Ua.memoizedState;if($=G.destroy,C!==null&&cn(C,G.deps)){N.memoizedState=nd(h,b,$,C);return}}gr.flags|=d,N.memoizedState=nd(1|h,b,$,C)}function dg(d,h){return mf(8390656,8,d,h)}function qp(d,h){return gf(2048,8,d,h)}function fg(d,h){return gf(4,2,d,h)}function Kp(d,h){return gf(4,4,d,h)}function rd(d,h){if(typeof h=="function")return d=d(),h(d),function(){h(null)};if(h!=null)return d=d(),h.current=d,function(){h.current=null}}function pg(d,h,b){return b=b!=null?b.concat([d]):null,gf(4,4,rd.bind(null,h,d),b)}function Yp(){}function hg(d,h){var b=Ia();h=h===void 0?null:h;var C=b.memoizedState;return C!==null&&h!==null&&cn(h,C[1])?C[0]:(b.memoizedState=[d,h],d)}function mg(d,h){var b=Ia();h=h===void 0?null:h;var C=b.memoizedState;return C!==null&&h!==null&&cn(h,C[1])?C[0]:(d=d(),b.memoizedState=[d,h],d)}function cb(d,h,b){return(Dr&21)===0?(d.baseState&&(d.baseState=!1,Ha=!0),d.memoizedState=b):(tu(b,h)||(b=_a(),gr.lanes|=b,Du|=b,d.baseState=!0),h)}function Xp(d,h){var b=Wn;Wn=b!==0&&4>b?b:4,d(!0);var C=mr.transition;mr.transition={};try{d(!1),h()}finally{Wn=b,mr.transition=C}}function db(){return Ia().memoizedState}function Qp(d,h,b){var C=Ou(d);if(b={lane:C,action:b,hasEagerState:!1,eagerState:null,next:null},Ds(d))TE(h,b);else if(b=sb(d,h,b,C),b!==null){var N=ja();os(b,d,C,N),Br(b,h,C)}}function ad(d,h,b){var C=Ou(d),N={lane:C,action:b,hasEagerState:!1,eagerState:null,next:null};if(Ds(d))TE(h,N);else{var $=d.alternate;if(d.lanes===0&&($===null||$.lanes===0)&&($=h.lastRenderedReducer,$!==null))try{var G=h.lastRenderedState,se=$(G,b);if(N.hasEagerState=!0,N.eagerState=se,tu(se,G)){var be=h.interleaved;be===null?(N.next=N,ob(h)):(N.next=be.next,be.next=N),h.interleaved=N;return}}catch{}finally{}b=sb(d,h,N,C),b!==null&&(N=ja(),os(b,d,C,N),Br(b,h,C))}}function Ds(d){var h=d.alternate;return d===gr||h!==null&&h===gr}function TE(d,h){Gp=tg=!0;var b=d.pending;b===null?h.next=h:(h.next=b.next,b.next=h),d.pending=h}function Br(d,h,b){if((b&4194240)!==0){var C=h.lanes;C&=d.pendingLanes,b|=C,h.lanes=b,Uo(d,b)}}var od={readContext:Ai,useCallback:dr,useContext:dr,useEffect:dr,useImperativeHandle:dr,useInsertionEffect:dr,useLayoutEffect:dr,useMemo:dr,useReducer:dr,useRef:dr,useState:dr,useDebugValue:dr,useDeferredValue:dr,useTransition:dr,useMutableSource:dr,useSyncExternalStore:dr,useId:dr,unstable_isNewReconciler:!1},gg={readContext:Ai,useCallback:function(d,h){return jo().memoizedState=[d,h===void 0?null:h],d},useContext:Ai,useEffect:dg,useImperativeHandle:function(d,h,b){return b=b!=null?b.concat([d]):null,mf(4194308,4,rd.bind(null,h,d),b)},useLayoutEffect:function(d,h){return mf(4194308,4,d,h)},useInsertionEffect:function(d,h){return mf(4,2,d,h)},useMemo:function(d,h){var b=jo();return h=h===void 0?null:h,d=d(),b.memoizedState=[d,h],d},useReducer:function(d,h,b){var C=jo();return h=b!==void 0?b(h):h,C.memoizedState=C.baseState=h,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:h},C.queue=d,d=d.dispatch=Qp.bind(null,gr,d),[C.memoizedState,d]},useRef:function(d){var h=jo();return d={current:d},h.memoizedState=d},useState:lg,useDebugValue:Yp,useDeferredValue:function(d){return jo().memoizedState=d},useTransition:function(){var d=lg(!1),h=d[0];return d=Xp.bind(null,d[1]),jo().memoizedState=d,[h,d]},useMutableSource:function(){},useSyncExternalStore:function(d,h,b){var C=gr,N=jo();if(aa){if(b===void 0)throw Error(n(407));b=b()}else{if(b=h(),eo===null)throw Error(n(349));(Dr&30)!==0||ag(C,h,b)}N.memoizedState=b;var $={value:b,getSnapshot:h};return N.queue=$,dg(sg.bind(null,C,$,d),[d]),C.flags|=2048,nd(9,og.bind(null,C,$,b,h),void 0,null),b},useId:function(){var d=jo(),h=eo.identifierPrefix;if(aa){var b=Tu,C=_u;b=(C&~(1<<32-Fa(C)-1)).toString(32)+b,h=":"+h+"R"+b,b=ed++,0<b&&(h+="H"+b.toString(32)),h+=":"}else b=Ze++,h=":"+h+"r"+b.toString(32)+":";return d.memoizedState=h},unstable_isNewReconciler:!1},Jp={readContext:Ai,useCallback:hg,useContext:Ai,useEffect:qp,useImperativeHandle:pg,useInsertionEffect:fg,useLayoutEffect:Kp,useMemo:mg,useReducer:ec,useRef:cg,useState:function(){return ec(ul)},useDebugValue:Yp,useDeferredValue:function(d){var h=Ia();return cb(h,Ua.memoizedState,d)},useTransition:function(){var d=ec(ul)[0],h=Ia().memoizedState;return[d,h]},useMutableSource:ng,useSyncExternalStore:rg,useId:db,unstable_isNewReconciler:!1},vg={readContext:Ai,useCallback:hg,useContext:Ai,useEffect:qp,useImperativeHandle:pg,useInsertionEffect:fg,useLayoutEffect:Kp,useMemo:mg,useReducer:td,useRef:cg,useState:function(){return td(ul)},useDebugValue:Yp,useDeferredValue:function(d){var h=Ia();return Ua===null?h.memoizedState=d:cb(h,Ua.memoizedState,d)},useTransition:function(){var d=td(ul)[0],h=Ia().memoizedState;return[d,h]},useMutableSource:ng,useSyncExternalStore:rg,useId:db,unstable_isNewReconciler:!1};function au(d,h){if(d&&d.defaultProps){h=ge({},h),d=d.defaultProps;for(var b in d)h[b]===void 0&&(h[b]=d[b]);return h}return h}function fb(d,h,b,C){h=d.memoizedState,b=b(C,h),b=b==null?h:ge({},h,b),d.memoizedState=b,d.lanes===0&&(d.updateQueue.baseState=b)}var yg={isMounted:function(d){return(d=d._reactInternals)?Gt(d)===d:!1},enqueueSetState:function(d,h,b){d=d._reactInternals;var C=ja(),N=Ou(d),$=il(C,N);$.payload=h,b!=null&&($.callback=b),h=Jl(d,$,N),h!==null&&(os(h,d,N,C),Jm(h,d,N))},enqueueReplaceState:function(d,h,b){d=d._reactInternals;var C=ja(),N=Ou(d),$=il(C,N);$.tag=1,$.payload=h,b!=null&&($.callback=b),h=Jl(d,$,N),h!==null&&(os(h,d,N,C),Jm(h,d,N))},enqueueForceUpdate:function(d,h){d=d._reactInternals;var b=ja(),C=Ou(d),N=il(b,C);N.tag=2,h!=null&&(N.callback=h),h=Jl(d,N,C),h!==null&&(os(h,d,C,b),Jm(h,d,C))}};function IE(d,h,b,C,N,$,G){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(C,$,G):h.prototype&&h.prototype.isPureReactComponent?!Ap(b,C)||!Ap(N,$):!0}function bg(d,h,b){var C=!1,N=Wo,$=h.contextType;return typeof $=="object"&&$!==null?$=Ai($):(N=Ba(h)?Ts:wa.current,C=h.contextTypes,$=(C=C!=null)?Is(d,N):Wo),h=new h(b,$),d.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=yg,d.stateNode=h,h._reactInternals=d,C&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=N,d.__reactInternalMemoizedMaskedChildContext=$),h}function RE(d,h,b,C){d=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(b,C),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(b,C),h.state!==d&&yg.enqueueReplaceState(h,h.state,null)}function Zp(d,h,b,C){var N=d.stateNode;N.props=b,N.state=d.memoizedState,N.refs={},ib(d);var $=h.contextType;typeof $=="object"&&$!==null?N.context=Ai($):($=Ba(h)?Ts:wa.current,N.context=Is(d,$)),N.state=d.memoizedState,$=h.getDerivedStateFromProps,typeof $=="function"&&(fb(d,h,$,b),N.state=d.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(h=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),h!==N.state&&yg.enqueueReplaceState(N,N.state,null),Up(d,b,N,C),N.state=d.memoizedState),typeof N.componentDidMount=="function"&&(d.flags|=4194308)}function sd(d,h){try{var b="",C=h;do b+=Me(C),C=C.return;while(C);var N=b}catch($){N=`
Error generating stack: `+$.message+`
`+$.stack}return{value:d,source:h,stack:N,digest:null}}function pb(d,h,b){return{value:d,source:null,stack:b??null,digest:h??null}}function hb(d,h){try{console.error(h.value)}catch(b){setTimeout(function(){throw b})}}var Sg=typeof WeakMap=="function"?WeakMap:Map;function NE(d,h,b){b=il(-1,b),b.tag=3,b.payload={element:null};var C=h.value;return b.callback=function(){Ef||(Ef=!0,ld=C),hb(d,h)},b}function mb(d,h,b){b=il(-1,b),b.tag=3;var C=d.type.getDerivedStateFromError;if(typeof C=="function"){var N=h.value;b.payload=function(){return C(N)},b.callback=function(){hb(d,h)}}var $=d.stateNode;return $!==null&&typeof $.componentDidCatch=="function"&&(b.callback=function(){hb(d,h),typeof C!="function"&&(rc===null?rc=new Set([this]):rc.add(this));var G=h.stack;this.componentDidCatch(h.value,{componentStack:G!==null?G:""})}),b}function gb(d,h,b){var C=d.pingCache;if(C===null){C=d.pingCache=new Sg;var N=new Set;C.set(h,N)}else N=C.get(h),N===void 0&&(N=new Set,C.set(h,N));N.has(b)||(N.add(b),d=F3.bind(null,d,h,b),h.then(d,d))}function AE(d){do{var h;if((h=d.tag===13)&&(h=d.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return d;d=d.return}while(d!==null);return null}function tc(d,h,b,C,N){return(d.mode&1)===0?(d===h?d.flags|=65536:(d.flags|=128,b.flags|=131072,b.flags&=-52805,b.tag===1&&(b.alternate===null?b.tag=17:(h=il(-1,1),h.tag=2,Jl(b,h,1))),b.lanes|=1),d):(d.flags|=65536,d.lanes=N,d)}var eh=O.ReactCurrentOwner,Ha=!1;function wo(d,h,b,C){h.child=d===null?yt(h,null,b,C):Ta(h,d.child,b,C)}function Os(d,h,b,C,N){b=b.render;var $=h.ref;return pa(h,N),C=Zl(d,h,b,C,$,N),b=ru(),d!==null&&!Ha?(h.updateQueue=d.updateQueue,h.flags&=-2053,d.lanes&=~N,Oi(d,h,N)):(aa&&b&&Km(h),h.flags|=1,wo(d,h,C,N),h.child)}function id(d,h,b,C,N){if(d===null){var $=b.type;return typeof $=="function"&&!Nb($)&&$.defaultProps===void 0&&b.compare===null&&b.defaultProps===void 0?(h.tag=15,h.type=$,An(d,h,$,C,N)):(d=gh(b.type,null,C,h,h.mode,N),d.ref=h.ref,d.return=h,h.child=d)}if($=d.child,(d.lanes&N)===0){var G=$.memoizedProps;if(b=b.compare,b=b!==null?b:Ap,b(G,C)&&d.ref===h.ref)return Oi(d,h,N)}return h.flags|=1,d=oc($,C),d.ref=h.ref,d.return=h,h.child=d}function An(d,h,b,C,N){if(d!==null){var $=d.memoizedProps;if(Ap($,C)&&d.ref===h.ref)if(Ha=!1,h.pendingProps=C=$,(d.lanes&N)!==0)(d.flags&131072)!==0&&(Ha=!0);else return h.lanes=d.lanes,Oi(d,h,N)}return DE(d,h,b,C,N)}function th(d,h,b){var C=h.pendingProps,N=C.children,$=d!==null?d.memoizedState:null;if(C.mode==="hidden")if((h.mode&1)===0)h.memoizedState={baseLanes:0,cachePool:null,transitions:null},qt(bf,ii),ii|=b;else{if((b&1073741824)===0)return d=$!==null?$.baseLanes|b:b,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:d,cachePool:null,transitions:null},h.updateQueue=null,qt(bf,ii),ii|=d,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},C=$!==null?$.baseLanes:b,qt(bf,ii),ii|=C}else $!==null?(C=$.baseLanes|b,h.memoizedState=null):C=b,qt(bf,ii),ii|=C;return wo(d,h,N,b),h.child}function vb(d,h){var b=h.ref;(d===null&&b!==null||d!==null&&d.ref!==b)&&(h.flags|=512,h.flags|=2097152)}function DE(d,h,b,C,N){var $=Ba(b)?Ts:wa.current;return $=Is(h,$),pa(h,N),b=Zl(d,h,b,C,$,N),C=ru(),d!==null&&!Ha?(h.updateQueue=d.updateQueue,h.flags&=-2053,d.lanes&=~N,Oi(d,h,N)):(aa&&C&&Km(h),h.flags|=1,wo(d,h,b,N),h.child)}function OE(d,h,b,C,N){if(Ba(b)){var $=!0;uo(h)}else $=!1;if(pa(h,N),h.stateNode===null)Di(d,h),bg(h,b,C),Zp(h,b,C,N),C=!0;else if(d===null){var G=h.stateNode,se=h.memoizedProps;G.props=se;var be=G.context,Pe=b.contextType;typeof Pe=="object"&&Pe!==null?Pe=Ai(Pe):(Pe=Ba(b)?Ts:wa.current,Pe=Is(h,Pe));var nt=b.getDerivedStateFromProps,at=typeof nt=="function"||typeof G.getSnapshotBeforeUpdate=="function";at||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(se!==C||be!==Pe)&&RE(h,G,C,Pe),si=!1;var tt=h.memoizedState;G.state=tt,Up(h,C,G,N),be=h.memoizedState,se!==C||tt!==be||Ja.current||si?(typeof nt=="function"&&(fb(h,b,nt,C),be=h.memoizedState),(se=si||IE(h,b,se,C,tt,be,Pe))?(at||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(h.flags|=4194308)):(typeof G.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=C,h.memoizedState=be),G.props=C,G.state=be,G.context=Pe,C=se):(typeof G.componentDidMount=="function"&&(h.flags|=4194308),C=!1)}else{G=h.stateNode,CE(d,h),se=h.memoizedProps,Pe=h.type===h.elementType?se:au(h.type,se),G.props=Pe,at=h.pendingProps,tt=G.context,be=b.contextType,typeof be=="object"&&be!==null?be=Ai(be):(be=Ba(b)?Ts:wa.current,be=Is(h,be));var Ct=b.getDerivedStateFromProps;(nt=typeof Ct=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(se!==at||tt!==be)&&RE(h,G,C,be),si=!1,tt=h.memoizedState,G.state=tt,Up(h,C,G,N);var $t=h.memoizedState;se!==at||tt!==$t||Ja.current||si?(typeof Ct=="function"&&(fb(h,b,Ct,C),$t=h.memoizedState),(Pe=si||IE(h,b,Pe,C,tt,$t,be)||!1)?(nt||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(C,$t,be),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(C,$t,be)),typeof G.componentDidUpdate=="function"&&(h.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof G.componentDidUpdate!="function"||se===d.memoizedProps&&tt===d.memoizedState||(h.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||se===d.memoizedProps&&tt===d.memoizedState||(h.flags|=1024),h.memoizedProps=C,h.memoizedState=$t),G.props=C,G.state=$t,G.context=be,C=Pe):(typeof G.componentDidUpdate!="function"||se===d.memoizedProps&&tt===d.memoizedState||(h.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||se===d.memoizedProps&&tt===d.memoizedState||(h.flags|=1024),C=!1)}return nh(d,h,b,C,$,N)}function nh(d,h,b,C,N,$){vb(d,h);var G=(h.flags&128)!==0;if(!C&&!G)return N&&Gm(h,b,!1),Oi(d,h,$);C=h.stateNode,eh.current=h;var se=G&&typeof b.getDerivedStateFromError!="function"?null:C.render();return h.flags|=1,d!==null&&G?(h.child=Ta(h,d.child,null,$),h.child=Ta(h,null,se,$)):wo(d,h,se,$),h.memoizedState=C.state,N&&Gm(h,b,!0),h.child}function vf(d){var h=d.stateNode;h.pendingContext?SE(d,h.pendingContext,h.pendingContext!==h.context):h.context&&SE(d,h.context,!1),lb(d,h.containerInfo)}function ME(d,h,b,C,N){return Ql(),sl(N),h.flags|=256,wo(d,h,b,C),h.child}var wg={dehydrated:null,treeContext:null,retryLane:0};function yb(d){return{baseLanes:d,cachePool:null,transitions:null}}function Eg(d,h,b){var C=h.pendingProps,N=ha.current,$=!1,G=(h.flags&128)!==0,se;if((se=G)||(se=d!==null&&d.memoizedState===null?!1:(N&2)!==0),se?($=!0,h.flags&=-129):(d===null||d.memoizedState!==null)&&(N|=1),qt(ha,N&1),d===null)return eb(h),d=h.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?((h.mode&1)===0?h.lanes=1:d.data==="$!"?h.lanes=8:h.lanes=1073741824,null):(G=C.children,d=C.fallback,$?(C=h.mode,$=h.child,G={mode:"hidden",children:G},(C&1)===0&&$!==null?($.childLanes=0,$.pendingProps=G):$=sc(G,C,0,null),d=fl(d,C,b,null),$.return=h,d.return=h,$.sibling=d,h.child=$,h.child.memoizedState=yb(b),h.memoizedState=wg,d):bb(h,G));if(N=d.memoizedState,N!==null&&(se=N.dehydrated,se!==null))return $E(d,h,G,C,se,N,b);if($){$=C.fallback,G=h.mode,N=d.child,se=N.sibling;var be={mode:"hidden",children:C.children};return(G&1)===0&&h.child!==N?(C=h.child,C.childLanes=0,C.pendingProps=be,h.deletions=null):(C=oc(N,be),C.subtreeFlags=N.subtreeFlags&14680064),se!==null?$=oc(se,$):($=fl($,G,b,null),$.flags|=2),$.return=h,C.return=h,C.sibling=$,h.child=C,C=$,$=h.child,G=d.child.memoizedState,G=G===null?yb(b):{baseLanes:G.baseLanes|b,cachePool:null,transitions:G.transitions},$.memoizedState=G,$.childLanes=d.childLanes&~b,h.memoizedState=wg,C}return $=d.child,d=$.sibling,C=oc($,{mode:"visible",children:C.children}),(h.mode&1)===0&&(C.lanes=b),C.return=h,C.sibling=null,d!==null&&(b=h.deletions,b===null?(h.deletions=[d],h.flags|=16):b.push(d)),h.child=C,h.memoizedState=null,C}function bb(d,h){return h=sc({mode:"visible",children:h},d.mode,0,null),h.return=d,d.child=h}function rh(d,h,b,C){return C!==null&&sl(C),Ta(h,d.child,null,b),d=bb(h,h.pendingProps.children),d.flags|=2,h.memoizedState=null,d}function $E(d,h,b,C,N,$,G){if(b)return h.flags&256?(h.flags&=-257,C=pb(Error(n(422))),rh(d,h,G,C)):h.memoizedState!==null?(h.child=d.child,h.flags|=128,null):($=C.fallback,N=h.mode,C=sc({mode:"visible",children:C.children},N,0,null),$=fl($,N,G,null),$.flags|=2,C.return=h,$.return=h,C.sibling=$,h.child=C,(h.mode&1)!==0&&Ta(h,d.child,null,G),h.child.memoizedState=yb(G),h.memoizedState=wg,$);if((h.mode&1)===0)return rh(d,h,G,null);if(N.data==="$!"){if(C=N.nextSibling&&N.nextSibling.dataset,C)var se=C.dgst;return C=se,$=Error(n(419)),C=pb($,C,void 0),rh(d,h,G,C)}if(se=(G&d.childLanes)!==0,Ha||se){if(C=eo,C!==null){switch(G&-G){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}N=(N&(C.suspendedLanes|G))!==0?0:N,N!==0&&N!==$.retryLane&&($.retryLane=N,oi(d,N),os(C,d,N,-1))}return Rb(),C=pb(Error(n(421))),rh(d,h,G,C)}return N.data==="$?"?(h.flags|=128,h.child=d.child,h=P3.bind(null,d),N._reactRetry=h,null):(d=$.treeContext,Ns=Eu(N.nextSibling),Rs=h,aa=!0,Ni=null,d!==null&&(za[Ri++]=_u,za[Ri++]=Tu,za[Ri++]=ri,_u=d.id,Tu=d.overflow,ri=h),h=bb(h,C.children),h.flags|=4096,h)}function Sb(d,h,b){d.lanes|=h;var C=d.alternate;C!==null&&(C.lanes|=h),ab(d.return,h,b)}function ns(d,h,b,C,N){var $=d.memoizedState;$===null?d.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:C,tail:b,tailMode:N}:($.isBackwards=h,$.rendering=null,$.renderingStartTime=0,$.last=C,$.tail=b,$.tailMode=N)}function Ru(d,h,b){var C=h.pendingProps,N=C.revealOrder,$=C.tail;if(wo(d,h,C.children,b),C=ha.current,(C&2)!==0)C=C&1|2,h.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=h.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&Sb(d,b,h);else if(d.tag===19)Sb(d,b,h);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break e;for(;d.sibling===null;){if(d.return===null||d.return===h)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}C&=1}if(qt(ha,C),(h.mode&1)===0)h.memoizedState=null;else switch(N){case"forwards":for(b=h.child,N=null;b!==null;)d=b.alternate,d!==null&&eg(d)===null&&(N=b),b=b.sibling;b=N,b===null?(N=h.child,h.child=null):(N=b.sibling,b.sibling=null),ns(h,!1,N,b,$);break;case"backwards":for(b=null,N=h.child,h.child=null;N!==null;){if(d=N.alternate,d!==null&&eg(d)===null){h.child=N;break}d=N.sibling,N.sibling=b,b=N,N=d}ns(h,!0,b,null,$);break;case"together":ns(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Di(d,h){(h.mode&1)===0&&d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2)}function Oi(d,h,b){if(d!==null&&(h.dependencies=d.dependencies),Du|=h.lanes,(b&h.childLanes)===0)return null;if(d!==null&&h.child!==d.child)throw Error(n(153));if(h.child!==null){for(d=h.child,b=oc(d,d.pendingProps),h.child=b,b.return=h;d.sibling!==null;)d=d.sibling,b=b.sibling=oc(d,d.pendingProps),b.return=h;b.sibling=null}return h.child}function ah(d,h,b){switch(h.tag){case 3:vf(h),Ql();break;case 5:_E(h);break;case 1:Ba(h.type)&&uo(h);break;case 4:lb(h,h.stateNode.containerInfo);break;case 10:var C=h.type._context,N=h.memoizedProps.value;qt(ai,C._currentValue),C._currentValue=N;break;case 13:if(C=h.memoizedState,C!==null)return C.dehydrated!==null?(qt(ha,ha.current&1),h.flags|=128,null):(b&h.child.childLanes)!==0?Eg(d,h,b):(qt(ha,ha.current&1),d=Oi(d,h,b),d!==null?d.sibling:null);qt(ha,ha.current&1);break;case 19:if(C=(b&h.childLanes)!==0,(d.flags&128)!==0){if(C)return Ru(d,h,b);h.flags|=128}if(N=h.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),qt(ha,ha.current),C)break;return null;case 22:case 23:return h.lanes=0,th(d,h,b)}return Oi(d,h,b)}var Mi,Va,FE,PE;Mi=function(d,h){for(var b=h.child;b!==null;){if(b.tag===5||b.tag===6)d.appendChild(b.stateNode);else if(b.tag!==4&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===h)break;for(;b.sibling===null;){if(b.return===null||b.return===h)return;b=b.return}b.sibling.return=b.return,b=b.sibling}},Va=function(){},FE=function(d,h,b,C){var N=d.memoizedProps;if(N!==C){d=h.stateNode,Jc(Iu.current);var $=null;switch(b){case"input":N=jt(d,N),C=jt(d,C),$=[];break;case"select":N=ge({},N,{value:void 0}),C=ge({},C,{value:void 0}),$=[];break;case"textarea":N=bn(d,N),C=bn(d,C),$=[];break;default:typeof N.onClick!="function"&&typeof C.onClick=="function"&&(d.onclick=jl)}sr(b,C);var G;b=null;for(Pe in N)if(!C.hasOwnProperty(Pe)&&N.hasOwnProperty(Pe)&&N[Pe]!=null)if(Pe==="style"){var se=N[Pe];for(G in se)se.hasOwnProperty(G)&&(b||(b={}),b[G]="")}else Pe!=="dangerouslySetInnerHTML"&&Pe!=="children"&&Pe!=="suppressContentEditableWarning"&&Pe!=="suppressHydrationWarning"&&Pe!=="autoFocus"&&(a.hasOwnProperty(Pe)?$||($=[]):($=$||[]).push(Pe,null));for(Pe in C){var be=C[Pe];if(se=N?.[Pe],C.hasOwnProperty(Pe)&&be!==se&&(be!=null||se!=null))if(Pe==="style")if(se){for(G in se)!se.hasOwnProperty(G)||be&&be.hasOwnProperty(G)||(b||(b={}),b[G]="");for(G in be)be.hasOwnProperty(G)&&se[G]!==be[G]&&(b||(b={}),b[G]=be[G])}else b||($||($=[]),$.push(Pe,b)),b=be;else Pe==="dangerouslySetInnerHTML"?(be=be?be.__html:void 0,se=se?se.__html:void 0,be!=null&&se!==be&&($=$||[]).push(Pe,be)):Pe==="children"?typeof be!="string"&&typeof be!="number"||($=$||[]).push(Pe,""+be):Pe!=="suppressContentEditableWarning"&&Pe!=="suppressHydrationWarning"&&(a.hasOwnProperty(Pe)?(be!=null&&Pe==="onScroll"&&Ir("scroll",d),$||se===be||($=[])):($=$||[]).push(Pe,be))}b&&($=$||[]).push("style",b);var Pe=$;(h.updateQueue=Pe)&&(h.flags|=4)}},PE=function(d,h,b,C){b!==C&&(h.flags|=4)};function oh(d,h){if(!aa)switch(d.tailMode){case"hidden":h=d.tail;for(var b=null;h!==null;)h.alternate!==null&&(b=h),h=h.sibling;b===null?d.tail=null:b.sibling=null;break;case"collapsed":b=d.tail;for(var C=null;b!==null;)b.alternate!==null&&(C=b),b=b.sibling;C===null?h||d.tail===null?d.tail=null:d.tail.sibling=null:C.sibling=null}}function co(d){var h=d.alternate!==null&&d.alternate.child===d.child,b=0,C=0;if(h)for(var N=d.child;N!==null;)b|=N.lanes|N.childLanes,C|=N.subtreeFlags&14680064,C|=N.flags&14680064,N.return=d,N=N.sibling;else for(N=d.child;N!==null;)b|=N.lanes|N.childLanes,C|=N.subtreeFlags,C|=N.flags,N.return=d,N=N.sibling;return d.subtreeFlags|=C,d.childLanes=b,h}function LE(d,h,b){var C=h.pendingProps;switch(Ym(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return co(h),null;case 1:return Ba(h.type)&&ff(),co(h),null;case 3:return C=h.stateNode,Zc(),qr(Ja),qr(wa),Xt(),C.pendingContext&&(C.context=C.pendingContext,C.pendingContext=null),(d===null||d.child===null)&&(Xm(h)?h.flags|=4:d===null||d.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,Ni!==null&&(cd(Ni),Ni=null))),Va(d,h),co(h),null;case 5:Zm(h);var N=Jc(Wp.current);if(b=h.type,d!==null&&h.stateNode!=null)FE(d,h,b,C,N),d.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!C){if(h.stateNode===null)throw Error(n(166));return co(h),null}if(d=Jc(Iu.current),Xm(h)){C=h.stateNode,b=h.type;var $=h.memoizedProps;switch(C[xu]=h,C[Pp]=$,d=(h.mode&1)!==0,b){case"dialog":Ir("cancel",C),Ir("close",C);break;case"iframe":case"object":case"embed":Ir("load",C);break;case"video":case"audio":for(N=0;N<Mp.length;N++)Ir(Mp[N],C);break;case"source":Ir("error",C);break;case"img":case"image":case"link":Ir("error",C),Ir("load",C);break;case"details":Ir("toggle",C);break;case"input":zt(C,$),Ir("invalid",C);break;case"select":C._wrapperState={wasMultiple:!!$.multiple},Ir("invalid",C);break;case"textarea":Dn(C,$),Ir("invalid",C)}sr(b,$),N=null;for(var G in $)if($.hasOwnProperty(G)){var se=$[G];G==="children"?typeof se=="string"?C.textContent!==se&&($.suppressHydrationWarning!==!0&&Hm(C.textContent,se,d),N=["children",se]):typeof se=="number"&&C.textContent!==""+se&&($.suppressHydrationWarning!==!0&&Hm(C.textContent,se,d),N=["children",""+se]):a.hasOwnProperty(G)&&se!=null&&G==="onScroll"&&Ir("scroll",C)}switch(b){case"input":St(C),dn(C,$,!0);break;case"textarea":St(C),gn(C);break;case"select":case"option":break;default:typeof $.onClick=="function"&&(C.onclick=jl)}C=N,h.updateQueue=C,C!==null&&(h.flags|=4)}else{G=N.nodeType===9?N:N.ownerDocument,d==="http://www.w3.org/1999/xhtml"&&(d=Un(b)),d==="http://www.w3.org/1999/xhtml"?b==="script"?(d=G.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild)):typeof C.is=="string"?d=G.createElement(b,{is:C.is}):(d=G.createElement(b),b==="select"&&(G=d,C.multiple?G.multiple=!0:C.size&&(G.size=C.size))):d=G.createElementNS(d,b),d[xu]=h,d[Pp]=C,Mi(d,h,!1,!1),h.stateNode=d;e:{switch(G=Hr(b,C),b){case"dialog":Ir("cancel",d),Ir("close",d),N=C;break;case"iframe":case"object":case"embed":Ir("load",d),N=C;break;case"video":case"audio":for(N=0;N<Mp.length;N++)Ir(Mp[N],d);N=C;break;case"source":Ir("error",d),N=C;break;case"img":case"image":case"link":Ir("error",d),Ir("load",d),N=C;break;case"details":Ir("toggle",d),N=C;break;case"input":zt(d,C),N=jt(d,C),Ir("invalid",d);break;case"option":N=C;break;case"select":d._wrapperState={wasMultiple:!!C.multiple},N=ge({},C,{value:void 0}),Ir("invalid",d);break;case"textarea":Dn(d,C),N=bn(d,C),Ir("invalid",d);break;default:N=C}sr(b,N),se=N;for($ in se)if(se.hasOwnProperty($)){var be=se[$];$==="style"?Mn(d,be):$==="dangerouslySetInnerHTML"?(be=be?be.__html:void 0,be!=null&&Lr(d,be)):$==="children"?typeof be=="string"?(b!=="textarea"||be!=="")&&st(d,be):typeof be=="number"&&st(d,""+be):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(a.hasOwnProperty($)?be!=null&&$==="onScroll"&&Ir("scroll",d):be!=null&&A(d,$,be,G))}switch(b){case"input":St(d),dn(d,C,!1);break;case"textarea":St(d),gn(d);break;case"option":C.value!=null&&d.setAttribute("value",""+He(C.value));break;case"select":d.multiple=!!C.multiple,$=C.value,$!=null?Rn(d,!!C.multiple,$,!1):C.defaultValue!=null&&Rn(d,!!C.multiple,C.defaultValue,!0);break;default:typeof N.onClick=="function"&&(d.onclick=jl)}switch(b){case"button":case"input":case"select":case"textarea":C=!!C.autoFocus;break e;case"img":C=!0;break e;default:C=!1}}C&&(h.flags|=4)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return co(h),null;case 6:if(d&&h.stateNode!=null)PE(d,h,d.memoizedProps,C);else{if(typeof C!="string"&&h.stateNode===null)throw Error(n(166));if(b=Jc(Wp.current),Jc(Iu.current),Xm(h)){if(C=h.stateNode,b=h.memoizedProps,C[xu]=h,($=C.nodeValue!==b)&&(d=Rs,d!==null))switch(d.tag){case 3:Hm(C.nodeValue,b,(d.mode&1)!==0);break;case 5:d.memoizedProps.suppressHydrationWarning!==!0&&Hm(C.nodeValue,b,(d.mode&1)!==0)}$&&(h.flags|=4)}else C=(b.nodeType===9?b:b.ownerDocument).createTextNode(C),C[xu]=h,h.stateNode=C}return co(h),null;case 13:if(qr(ha),C=h.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(aa&&Ns!==null&&(h.mode&1)!==0&&(h.flags&128)===0)zp(),Ql(),h.flags|=98560,$=!1;else if($=Xm(h),C!==null&&C.dehydrated!==null){if(d===null){if(!$)throw Error(n(318));if($=h.memoizedState,$=$!==null?$.dehydrated:null,!$)throw Error(n(317));$[xu]=h}else Ql(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;co(h),$=!1}else Ni!==null&&(cd(Ni),Ni=null),$=!0;if(!$)return h.flags&65536?h:null}return(h.flags&128)!==0?(h.lanes=b,h):(C=C!==null,C!==(d!==null&&d.memoizedState!==null)&&C&&(h.child.flags|=8192,(h.mode&1)!==0&&(d===null||(ha.current&1)!==0?Na===0&&(Na=3):Rb())),h.updateQueue!==null&&(h.flags|=4),co(h),null);case 4:return Zc(),Va(d,h),d===null&&sf(h.stateNode.containerInfo),co(h),null;case 10:return rb(h.type._context),co(h),null;case 17:return Ba(h.type)&&ff(),co(h),null;case 19:if(qr(ha),$=h.memoizedState,$===null)return co(h),null;if(C=(h.flags&128)!==0,G=$.rendering,G===null)if(C)oh($,!1);else{if(Na!==0||d!==null&&(d.flags&128)!==0)for(d=h.child;d!==null;){if(G=eg(d),G!==null){for(h.flags|=128,oh($,!1),C=G.updateQueue,C!==null&&(h.updateQueue=C,h.flags|=4),h.subtreeFlags=0,C=b,b=h.child;b!==null;)$=b,d=C,$.flags&=14680066,G=$.alternate,G===null?($.childLanes=0,$.lanes=d,$.child=null,$.subtreeFlags=0,$.memoizedProps=null,$.memoizedState=null,$.updateQueue=null,$.dependencies=null,$.stateNode=null):($.childLanes=G.childLanes,$.lanes=G.lanes,$.child=G.child,$.subtreeFlags=0,$.deletions=null,$.memoizedProps=G.memoizedProps,$.memoizedState=G.memoizedState,$.updateQueue=G.updateQueue,$.type=G.type,d=G.dependencies,$.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),b=b.sibling;return qt(ha,ha.current&1|2),h.child}d=d.sibling}$.tail!==null&&fn()>wf&&(h.flags|=128,C=!0,oh($,!1),h.lanes=4194304)}else{if(!C)if(d=eg(G),d!==null){if(h.flags|=128,C=!0,b=d.updateQueue,b!==null&&(h.updateQueue=b,h.flags|=4),oh($,!0),$.tail===null&&$.tailMode==="hidden"&&!G.alternate&&!aa)return co(h),null}else 2*fn()-$.renderingStartTime>wf&&b!==1073741824&&(h.flags|=128,C=!0,oh($,!1),h.lanes=4194304);$.isBackwards?(G.sibling=h.child,h.child=G):(b=$.last,b!==null?b.sibling=G:h.child=G,$.last=G)}return $.tail!==null?(h=$.tail,$.rendering=h,$.tail=h.sibling,$.renderingStartTime=fn(),h.sibling=null,b=ha.current,qt(ha,C?b&1|2:b&1),h):(co(h),null);case 22:case 23:return Ib(),C=h.memoizedState!==null,d!==null&&d.memoizedState!==null!==C&&(h.flags|=8192),C&&(h.mode&1)!==0?(ii&1073741824)!==0&&(co(h),h.subtreeFlags&6&&(h.flags|=8192)):co(h),null;case 24:return null;case 25:return null}throw Error(n(156,h.tag))}function xg(d,h){switch(Ym(h),h.tag){case 1:return Ba(h.type)&&ff(),d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 3:return Zc(),qr(Ja),qr(wa),Xt(),d=h.flags,(d&65536)!==0&&(d&128)===0?(h.flags=d&-65537|128,h):null;case 5:return Zm(h),null;case 13:if(qr(ha),d=h.memoizedState,d!==null&&d.dehydrated!==null){if(h.alternate===null)throw Error(n(340));Ql()}return d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 19:return qr(ha),null;case 4:return Zc(),null;case 10:return rb(h.type._context),null;case 22:case 23:return Ib(),null;case 24:return null;default:return null}}var sh=!1,Go=!1,N3=typeof WeakSet=="function"?WeakSet:Set,At=null;function yf(d,h){var b=d.ref;if(b!==null)if(typeof b=="function")try{b(null)}catch(C){oa(d,h,C)}else b.current=null}function Cg(d,h,b){try{b()}catch(C){oa(d,h,C)}}var BE=!1;function zE(d,h){if(Fp=Nr,d=Dp(),Mm(d)){if("selectionStart"in d)var b={start:d.selectionStart,end:d.selectionEnd};else e:{b=(b=d.ownerDocument)&&b.defaultView||window;var C=b.getSelection&&b.getSelection();if(C&&C.rangeCount!==0){b=C.anchorNode;var N=C.anchorOffset,$=C.focusNode;C=C.focusOffset;try{b.nodeType,$.nodeType}catch{b=null;break e}var G=0,se=-1,be=-1,Pe=0,nt=0,at=d,tt=null;t:for(;;){for(var Ct;at!==b||N!==0&&at.nodeType!==3||(se=G+N),at!==$||C!==0&&at.nodeType!==3||(be=G+C),at.nodeType===3&&(G+=at.nodeValue.length),(Ct=at.firstChild)!==null;)tt=at,at=Ct;for(;;){if(at===d)break t;if(tt===b&&++Pe===N&&(se=G),tt===$&&++nt===C&&(be=G),(Ct=at.nextSibling)!==null)break;at=tt,tt=at.parentNode}at=Ct}b=se===-1||be===-1?null:{start:se,end:be}}else b=null}b=b||{start:0,end:0}}else b=null;for(Gc={focusedElem:d,selectionRange:b},Nr=!1,At=h;At!==null;)if(h=At,d=h.child,(h.subtreeFlags&1028)!==0&&d!==null)d.return=h,At=d;else for(;At!==null;){h=At;try{var $t=h.alternate;if((h.flags&1024)!==0)switch(h.tag){case 0:case 11:case 15:break;case 1:if($t!==null){var Ut=$t.memoizedProps,Aa=$t.memoizedState,Re=h.stateNode,Ee=Re.getSnapshotBeforeUpdate(h.elementType===h.type?Ut:au(h.type,Ut),Aa);Re.__reactInternalSnapshotBeforeUpdate=Ee}break;case 3:var Oe=h.stateNode.containerInfo;Oe.nodeType===1?Oe.textContent="":Oe.nodeType===9&&Oe.documentElement&&Oe.removeChild(Oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(rt){oa(h,h.return,rt)}if(d=h.sibling,d!==null){d.return=h.return,At=d;break}At=h.return}return $t=BE,BE=!1,$t}function ih(d,h,b){var C=h.updateQueue;if(C=C!==null?C.lastEffect:null,C!==null){var N=C=C.next;do{if((N.tag&d)===d){var $=N.destroy;N.destroy=void 0,$!==void 0&&Cg(h,b,$)}N=N.next}while(N!==C)}}function uh(d,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var b=h=h.next;do{if((b.tag&d)===d){var C=b.create;b.destroy=C()}b=b.next}while(b!==h)}}function wb(d){var h=d.ref;if(h!==null){var b=d.stateNode;switch(d.tag){case 5:d=b;break;default:d=b}typeof h=="function"?h(d):h.current=d}}function kg(d){var h=d.alternate;h!==null&&(d.alternate=null,kg(h)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(h=d.stateNode,h!==null&&(delete h[xu],delete h[Pp],delete h[Lp],delete h[df],delete h[I3])),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function lh(d){return d.tag===5||d.tag===3||d.tag===4}function ll(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||lh(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function Nu(d,h,b){var C=d.tag;if(C===5||C===6)d=d.stateNode,h?b.nodeType===8?b.parentNode.insertBefore(d,h):b.insertBefore(d,h):(b.nodeType===8?(h=b.parentNode,h.insertBefore(d,b)):(h=b,h.appendChild(d)),b=b._reactRootContainer,b!=null||h.onclick!==null||(h.onclick=jl));else if(C!==4&&(d=d.child,d!==null))for(Nu(d,h,b),d=d.sibling;d!==null;)Nu(d,h,b),d=d.sibling}function Au(d,h,b){var C=d.tag;if(C===5||C===6)d=d.stateNode,h?b.insertBefore(d,h):b.appendChild(d);else if(C!==4&&(d=d.child,d!==null))for(Au(d,h,b),d=d.sibling;d!==null;)Au(d,h,b),d=d.sibling}var Ra=null,rs=!1;function as(d,h,b){for(b=b.child;b!==null;)UE(d,h,b),b=b.sibling}function UE(d,h,b){if(so&&typeof so.onCommitFiberUnmount=="function")try{so.onCommitFiberUnmount(Cs,b)}catch{}switch(b.tag){case 5:Go||yf(b,h);case 6:var C=Ra,N=rs;Ra=null,as(d,h,b),Ra=C,rs=N,Ra!==null&&(rs?(d=Ra,b=b.stateNode,d.nodeType===8?d.parentNode.removeChild(b):d.removeChild(b)):Ra.removeChild(b.stateNode));break;case 18:Ra!==null&&(rs?(d=Ra,b=b.stateNode,d.nodeType===8?cf(d.parentNode,b):d.nodeType===1&&cf(d,b),yo(d)):cf(Ra,b.stateNode));break;case 4:C=Ra,N=rs,Ra=b.stateNode.containerInfo,rs=!0,as(d,h,b),Ra=C,rs=N;break;case 0:case 11:case 14:case 15:if(!Go&&(C=b.updateQueue,C!==null&&(C=C.lastEffect,C!==null))){N=C=C.next;do{var $=N,G=$.destroy;$=$.tag,G!==void 0&&(($&2)!==0||($&4)!==0)&&Cg(b,h,G),N=N.next}while(N!==C)}as(d,h,b);break;case 1:if(!Go&&(yf(b,h),C=b.stateNode,typeof C.componentWillUnmount=="function"))try{C.props=b.memoizedProps,C.state=b.memoizedState,C.componentWillUnmount()}catch(se){oa(b,h,se)}as(d,h,b);break;case 21:as(d,h,b);break;case 22:b.mode&1?(Go=(C=Go)||b.memoizedState!==null,as(d,h,b),Go=C):as(d,h,b);break;default:as(d,h,b)}}function HE(d){var h=d.updateQueue;if(h!==null){d.updateQueue=null;var b=d.stateNode;b===null&&(b=d.stateNode=new N3),h.forEach(function(C){var N=QE.bind(null,d,C);b.has(C)||(b.add(C),C.then(N,N))})}}function ou(d,h){var b=h.deletions;if(b!==null)for(var C=0;C<b.length;C++){var N=b[C];try{var $=d,G=h,se=G;e:for(;se!==null;){switch(se.tag){case 5:Ra=se.stateNode,rs=!1;break e;case 3:Ra=se.stateNode.containerInfo,rs=!0;break e;case 4:Ra=se.stateNode.containerInfo,rs=!0;break e}se=se.return}if(Ra===null)throw Error(n(160));UE($,G,N),Ra=null,rs=!1;var be=N.alternate;be!==null&&(be.return=null),N.return=null}catch(Pe){oa(N,h,Pe)}}if(h.subtreeFlags&12854)for(h=h.child;h!==null;)Eb(h,d),h=h.sibling}function Eb(d,h){var b=d.alternate,C=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(ou(h,d),Ms(d),C&4){try{ih(3,d,d.return),uh(3,d)}catch(Ut){oa(d,d.return,Ut)}try{ih(5,d,d.return)}catch(Ut){oa(d,d.return,Ut)}}break;case 1:ou(h,d),Ms(d),C&512&&b!==null&&yf(b,b.return);break;case 5:if(ou(h,d),Ms(d),C&512&&b!==null&&yf(b,b.return),d.flags&32){var N=d.stateNode;try{st(N,"")}catch(Ut){oa(d,d.return,Ut)}}if(C&4&&(N=d.stateNode,N!=null)){var $=d.memoizedProps,G=b!==null?b.memoizedProps:$,se=d.type,be=d.updateQueue;if(d.updateQueue=null,be!==null)try{se==="input"&&$.type==="radio"&&$.name!=null&&vt(N,$),Hr(se,G);var Pe=Hr(se,$);for(G=0;G<be.length;G+=2){var nt=be[G],at=be[G+1];nt==="style"?Mn(N,at):nt==="dangerouslySetInnerHTML"?Lr(N,at):nt==="children"?st(N,at):A(N,nt,at,Pe)}switch(se){case"input":on(N,$);break;case"textarea":Vn(N,$);break;case"select":var tt=N._wrapperState.wasMultiple;N._wrapperState.wasMultiple=!!$.multiple;var Ct=$.value;Ct!=null?Rn(N,!!$.multiple,Ct,!1):tt!==!!$.multiple&&($.defaultValue!=null?Rn(N,!!$.multiple,$.defaultValue,!0):Rn(N,!!$.multiple,$.multiple?[]:"",!1))}N[Pp]=$}catch(Ut){oa(d,d.return,Ut)}}break;case 6:if(ou(h,d),Ms(d),C&4){if(d.stateNode===null)throw Error(n(162));N=d.stateNode,$=d.memoizedProps;try{N.nodeValue=$}catch(Ut){oa(d,d.return,Ut)}}break;case 3:if(ou(h,d),Ms(d),C&4&&b!==null&&b.memoizedState.isDehydrated)try{yo(h.containerInfo)}catch(Ut){oa(d,d.return,Ut)}break;case 4:ou(h,d),Ms(d);break;case 13:ou(h,d),Ms(d),N=d.child,N.flags&8192&&($=N.memoizedState!==null,N.stateNode.isHidden=$,!$||N.alternate!==null&&N.alternate.memoizedState!==null||(kb=fn())),C&4&&HE(d);break;case 22:if(nt=b!==null&&b.memoizedState!==null,d.mode&1?(Go=(Pe=Go)||nt,ou(h,d),Go=Pe):ou(h,d),Ms(d),C&8192){if(Pe=d.memoizedState!==null,(d.stateNode.isHidden=Pe)&&!nt&&(d.mode&1)!==0)for(At=d,nt=d.child;nt!==null;){for(at=At=nt;At!==null;){switch(tt=At,Ct=tt.child,tt.tag){case 0:case 11:case 14:case 15:ih(4,tt,tt.return);break;case 1:yf(tt,tt.return);var $t=tt.stateNode;if(typeof $t.componentWillUnmount=="function"){C=tt,b=tt.return;try{h=C,$t.props=h.memoizedProps,$t.state=h.memoizedState,$t.componentWillUnmount()}catch(Ut){oa(C,b,Ut)}}break;case 5:yf(tt,tt.return);break;case 22:if(tt.memoizedState!==null){ch(at);continue}}Ct!==null?(Ct.return=tt,At=Ct):ch(at)}nt=nt.sibling}e:for(nt=null,at=d;;){if(at.tag===5){if(nt===null){nt=at;try{N=at.stateNode,Pe?($=N.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none"):(se=at.stateNode,be=at.memoizedProps.style,G=be!=null&&be.hasOwnProperty("display")?be.display:null,se.style.display=Cn("display",G))}catch(Ut){oa(d,d.return,Ut)}}}else if(at.tag===6){if(nt===null)try{at.stateNode.nodeValue=Pe?"":at.memoizedProps}catch(Ut){oa(d,d.return,Ut)}}else if((at.tag!==22&&at.tag!==23||at.memoizedState===null||at===d)&&at.child!==null){at.child.return=at,at=at.child;continue}if(at===d)break e;for(;at.sibling===null;){if(at.return===null||at.return===d)break e;nt===at&&(nt=null),at=at.return}nt===at&&(nt=null),at.sibling.return=at.return,at=at.sibling}}break;case 19:ou(h,d),Ms(d),C&4&&HE(d);break;case 21:break;default:ou(h,d),Ms(d)}}function Ms(d){var h=d.flags;if(h&2){try{e:{for(var b=d.return;b!==null;){if(lh(b)){var C=b;break e}b=b.return}throw Error(n(160))}switch(C.tag){case 5:var N=C.stateNode;C.flags&32&&(st(N,""),C.flags&=-33);var $=ll(d);Au(d,$,N);break;case 3:case 4:var G=C.stateNode.containerInfo,se=ll(d);Nu(d,se,G);break;default:throw Error(n(161))}}catch(be){oa(d,d.return,be)}d.flags&=-3}h&4096&&(d.flags&=-4097)}function A3(d,h,b){At=d,xb(d)}function xb(d,h,b){for(var C=(d.mode&1)!==0;At!==null;){var N=At,$=N.child;if(N.tag===22&&C){var G=N.memoizedState!==null||sh;if(!G){var se=N.alternate,be=se!==null&&se.memoizedState!==null||Go;se=sh;var Pe=Go;if(sh=G,(Go=be)&&!Pe)for(At=N;At!==null;)G=At,be=G.child,G.tag===22&&G.memoizedState!==null?Cb(N):be!==null?(be.return=G,At=be):Cb(N);for(;$!==null;)At=$,xb($),$=$.sibling;At=N,sh=se,Go=Pe}VE(d)}else(N.subtreeFlags&8772)!==0&&$!==null?($.return=N,At=$):VE(d)}}function VE(d){for(;At!==null;){var h=At;if((h.flags&8772)!==0){var b=h.alternate;try{if((h.flags&8772)!==0)switch(h.tag){case 0:case 11:case 15:Go||uh(5,h);break;case 1:var C=h.stateNode;if(h.flags&4&&!Go)if(b===null)C.componentDidMount();else{var N=h.elementType===h.type?b.memoizedProps:au(h.type,b.memoizedProps);C.componentDidUpdate(N,b.memoizedState,C.__reactInternalSnapshotBeforeUpdate)}var $=h.updateQueue;$!==null&&ub(h,$,C);break;case 3:var G=h.updateQueue;if(G!==null){if(b=null,h.child!==null)switch(h.child.tag){case 5:b=h.child.stateNode;break;case 1:b=h.child.stateNode}ub(h,G,b)}break;case 5:var se=h.stateNode;if(b===null&&h.flags&4){b=se;var be=h.memoizedProps;switch(h.type){case"button":case"input":case"select":case"textarea":be.autoFocus&&b.focus();break;case"img":be.src&&(b.src=be.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(h.memoizedState===null){var Pe=h.alternate;if(Pe!==null){var nt=Pe.memoizedState;if(nt!==null){var at=nt.dehydrated;at!==null&&yo(at)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Go||h.flags&512&&wb(h)}catch(tt){oa(h,h.return,tt)}}if(h===d){At=null;break}if(b=h.sibling,b!==null){b.return=h.return,At=b;break}At=h.return}}function ch(d){for(;At!==null;){var h=At;if(h===d){At=null;break}var b=h.sibling;if(b!==null){b.return=h.return,At=b;break}At=h.return}}function Cb(d){for(;At!==null;){var h=At;try{switch(h.tag){case 0:case 11:case 15:var b=h.return;try{uh(4,h)}catch(be){oa(h,b,be)}break;case 1:var C=h.stateNode;if(typeof C.componentDidMount=="function"){var N=h.return;try{C.componentDidMount()}catch(be){oa(h,N,be)}}var $=h.return;try{wb(h)}catch(be){oa(h,$,be)}break;case 5:var G=h.return;try{wb(h)}catch(be){oa(h,G,be)}}}catch(be){oa(h,h.return,be)}if(h===d){At=null;break}var se=h.sibling;if(se!==null){se.return=h.return,At=se;break}At=h.return}}var D3=Math.ceil,nc=O.ReactCurrentDispatcher,ud=O.ReactCurrentOwner,Eo=O.ReactCurrentBatchConfig,nr=0,eo=null,Wa=null,xo=0,ii=0,bf=Ii(0),Na=0,dh=null,Du=0,Sf=0,_g=0,fh=null,$s=null,kb=0,wf=1/0,ui=null,Ef=!1,ld=null,rc=null,Tg=!1,cl=null,ph=0,ac=0,xf=null,hh=-1,qo=0;function ja(){return(nr&6)!==0?fn():hh!==-1?hh:hh=fn()}function Ou(d){return(d.mode&1)===0?1:(nr&2)!==0&&xo!==0?xo&-xo:R3.transition!==null?(qo===0&&(qo=_a()),qo):(d=Wn,d!==0||(d=window.event,d=d===void 0?16:Zi(d.type)),d)}function os(d,h,b,C){if(50<ac)throw ac=0,xf=null,Error(n(185));Pa(d,b,C),((nr&2)===0||d!==eo)&&(d===eo&&((nr&2)===0&&(Sf|=b),Na===4&&su(d,xo)),Fs(d,C),b===1&&nr===0&&(h.mode&1)===0&&(wf=fn()+500,pf&&ku()))}function Fs(d,h){var b=d.callbackNode;xi(d,h);var C=zo(d,d===eo?xo:0);if(C===0)b!==null&&Wr(b),d.callbackNode=null,d.callbackPriority=0;else if(h=C&-C,d.callbackPriority!==h){if(b!=null&&Wr(b),h===1)d.tag===0?ql(_b.bind(null,d)):qm(_b.bind(null,d)),lf(function(){(nr&6)===0&&ku()}),b=null;else{switch(ki(C)){case 1:b=mo;break;case 4:b=Xi;break;case 16:b=wi;break;case 536870912:b=Jo;break;default:b=wi}b=ZE(b,Ig.bind(null,d))}d.callbackPriority=h,d.callbackNode=b}}function Ig(d,h){if(hh=-1,qo=0,(nr&6)!==0)throw Error(n(327));var b=d.callbackNode;if(Cf()&&d.callbackNode!==b)return null;var C=zo(d,d===eo?xo:0);if(C===0)return null;if((C&30)!==0||(C&d.expiredLanes)!==0||h)h=Rg(d,C);else{h=C;var N=nr;nr|=2;var $=jE();(eo!==d||xo!==h)&&(ui=null,wf=fn()+500,dl(d,h));do try{GE();break}catch(se){WE(d,se)}while(!0);nb(),nc.current=$,nr=N,Wa!==null?h=0:(eo=null,xo=0,h=Na)}if(h!==0){if(h===2&&(N=Zs(d),N!==0&&(C=N,h=mh(d,N))),h===1)throw b=dh,dl(d,0),su(d,C),Fs(d,fn()),b;if(h===6)su(d,C);else{if(N=d.current.alternate,(C&30)===0&&!O3(N)&&(h=Rg(d,C),h===2&&($=Zs(d),$!==0&&(C=$,h=mh(d,$))),h===1))throw b=dh,dl(d,0),su(d,C),Fs(d,fn()),b;switch(d.finishedWork=N,d.finishedLanes=C,h){case 0:case 1:throw Error(n(345));case 2:fd(d,$s,ui);break;case 3:if(su(d,C),(C&130023424)===C&&(h=kb+500-fn(),10<h)){if(zo(d,0)!==0)break;if(N=d.suspendedLanes,(N&C)!==C){ja(),d.pingedLanes|=d.suspendedLanes&N;break}d.timeoutHandle=Wm(fd.bind(null,d,$s,ui),h);break}fd(d,$s,ui);break;case 4:if(su(d,C),(C&4194240)===C)break;for(h=d.eventTimes,N=-1;0<C;){var G=31-Fa(C);$=1<<G,G=h[G],G>N&&(N=G),C&=~$}if(C=N,C=fn()-C,C=(120>C?120:480>C?480:1080>C?1080:1920>C?1920:3e3>C?3e3:4320>C?4320:1960*D3(C/1960))-C,10<C){d.timeoutHandle=Wm(fd.bind(null,d,$s,ui),C);break}fd(d,$s,ui);break;case 5:fd(d,$s,ui);break;default:throw Error(n(329))}}}return Fs(d,fn()),d.callbackNode===b?Ig.bind(null,d):null}function mh(d,h){var b=fh;return d.current.memoizedState.isDehydrated&&(dl(d,h).flags|=256),d=Rg(d,h),d!==2&&(h=$s,$s=b,h!==null&&cd(h)),d}function cd(d){$s===null?$s=d:$s.push.apply($s,d)}function O3(d){for(var h=d;;){if(h.flags&16384){var b=h.updateQueue;if(b!==null&&(b=b.stores,b!==null))for(var C=0;C<b.length;C++){var N=b[C],$=N.getSnapshot;N=N.value;try{if(!tu($(),N))return!1}catch{return!1}}}if(b=h.child,h.subtreeFlags&16384&&b!==null)b.return=h,h=b;else{if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function su(d,h){for(h&=~_g,h&=~Sf,d.suspendedLanes|=h,d.pingedLanes&=~h,d=d.expirationTimes;0<h;){var b=31-Fa(h),C=1<<b;d[b]=-1,h&=~C}}function _b(d){if((nr&6)!==0)throw Error(n(327));Cf();var h=zo(d,0);if((h&1)===0)return Fs(d,fn()),null;var b=Rg(d,h);if(d.tag!==0&&b===2){var C=Zs(d);C!==0&&(h=C,b=mh(d,C))}if(b===1)throw b=dh,dl(d,0),su(d,h),Fs(d,fn()),b;if(b===6)throw Error(n(345));return d.finishedWork=d.current.alternate,d.finishedLanes=h,fd(d,$s,ui),Fs(d,fn()),null}function Tb(d,h){var b=nr;nr|=1;try{return d(h)}finally{nr=b,nr===0&&(wf=fn()+500,pf&&ku())}}function dd(d){cl!==null&&cl.tag===0&&(nr&6)===0&&Cf();var h=nr;nr|=1;var b=Eo.transition,C=Wn;try{if(Eo.transition=null,Wn=1,d)return d()}finally{Wn=C,Eo.transition=b,nr=h,(nr&6)===0&&ku()}}function Ib(){ii=bf.current,qr(bf)}function dl(d,h){d.finishedWork=null,d.finishedLanes=0;var b=d.timeoutHandle;if(b!==-1&&(d.timeoutHandle=-1,Qy(b)),Wa!==null)for(b=Wa.return;b!==null;){var C=b;switch(Ym(C),C.tag){case 1:C=C.type.childContextTypes,C!=null&&ff();break;case 3:Zc(),qr(Ja),qr(wa),Xt();break;case 5:Zm(C);break;case 4:Zc();break;case 13:qr(ha);break;case 19:qr(ha);break;case 10:rb(C.type._context);break;case 22:case 23:Ib()}b=b.return}if(eo=d,Wa=d=oc(d.current,null),xo=ii=h,Na=0,dh=null,_g=Sf=Du=0,$s=fh=null,Qc!==null){for(h=0;h<Qc.length;h++)if(b=Qc[h],C=b.interleaved,C!==null){b.interleaved=null;var N=C.next,$=b.pending;if($!==null){var G=$.next;$.next=N,C.next=G}b.pending=C}Qc=null}return d}function WE(d,h){do{var b=Wa;try{if(nb(),Pn.current=od,tg){for(var C=gr.memoizedState;C!==null;){var N=C.queue;N!==null&&(N.pending=null),C=C.next}tg=!1}if(Dr=0,lo=Ua=gr=null,Gp=!1,ed=0,ud.current=null,b===null||b.return===null){Na=1,dh=h,Wa=null;break}e:{var $=d,G=b.return,se=b,be=h;if(h=xo,se.flags|=32768,be!==null&&typeof be=="object"&&typeof be.then=="function"){var Pe=be,nt=se,at=nt.tag;if((nt.mode&1)===0&&(at===0||at===11||at===15)){var tt=nt.alternate;tt?(nt.updateQueue=tt.updateQueue,nt.memoizedState=tt.memoizedState,nt.lanes=tt.lanes):(nt.updateQueue=null,nt.memoizedState=null)}var Ct=AE(G);if(Ct!==null){Ct.flags&=-257,tc(Ct,G,se,$,h),Ct.mode&1&&gb($,Pe,h),h=Ct,be=Pe;var $t=h.updateQueue;if($t===null){var Ut=new Set;Ut.add(be),h.updateQueue=Ut}else $t.add(be);break e}else{if((h&1)===0){gb($,Pe,h),Rb();break e}be=Error(n(426))}}else if(aa&&se.mode&1){var Aa=AE(G);if(Aa!==null){(Aa.flags&65536)===0&&(Aa.flags|=256),tc(Aa,G,se,$,h),sl(sd(be,se));break e}}$=be=sd(be,se),Na!==4&&(Na=2),fh===null?fh=[$]:fh.push($),$=G;do{switch($.tag){case 3:$.flags|=65536,h&=-h,$.lanes|=h;var Re=NE($,be,h);kE($,Re);break e;case 1:se=be;var Ee=$.type,Oe=$.stateNode;if(($.flags&128)===0&&(typeof Ee.getDerivedStateFromError=="function"||Oe!==null&&typeof Oe.componentDidCatch=="function"&&(rc===null||!rc.has(Oe)))){$.flags|=65536,h&=-h,$.lanes|=h;var rt=mb($,se,h);kE($,rt);break e}}$=$.return}while($!==null)}KE(b)}catch(Ft){h=Ft,Wa===b&&b!==null&&(Wa=b=b.return);continue}break}while(!0)}function jE(){var d=nc.current;return nc.current=od,d===null?od:d}function Rb(){(Na===0||Na===3||Na===2)&&(Na=4),eo===null||(Du&268435455)===0&&(Sf&268435455)===0||su(eo,xo)}function Rg(d,h){var b=nr;nr|=2;var C=jE();(eo!==d||xo!==h)&&(ui=null,dl(d,h));do try{M3();break}catch(N){WE(d,N)}while(!0);if(nb(),nr=b,nc.current=C,Wa!==null)throw Error(n(261));return eo=null,xo=0,Na}function M3(){for(;Wa!==null;)qE(Wa)}function GE(){for(;Wa!==null&&!Lo();)qE(Wa)}function qE(d){var h=JE(d.alternate,d,ii);d.memoizedProps=d.pendingProps,h===null?KE(d):Wa=h,ud.current=null}function KE(d){var h=d;do{var b=h.alternate;if(d=h.return,(h.flags&32768)===0){if(b=LE(b,h,ii),b!==null){Wa=b;return}}else{if(b=xg(b,h),b!==null){b.flags&=32767,Wa=b;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{Na=6,Wa=null;return}}if(h=h.sibling,h!==null){Wa=h;return}Wa=h=d}while(h!==null);Na===0&&(Na=5)}function fd(d,h,b){var C=Wn,N=Eo.transition;try{Eo.transition=null,Wn=1,$3(d,h,b,C)}finally{Eo.transition=N,Wn=C}return null}function $3(d,h,b,C){do Cf();while(cl!==null);if((nr&6)!==0)throw Error(n(327));b=d.finishedWork;var N=d.finishedLanes;if(b===null)return null;if(d.finishedWork=null,d.finishedLanes=0,b===d.current)throw Error(n(177));d.callbackNode=null,d.callbackPriority=0;var $=b.lanes|b.childLanes;if(Ju(d,$),d===eo&&(Wa=eo=null,xo=0),(b.subtreeFlags&2064)===0&&(b.flags&2064)===0||Tg||(Tg=!0,ZE(wi,function(){return Cf(),null})),$=(b.flags&15990)!==0,(b.subtreeFlags&15990)!==0||$){$=Eo.transition,Eo.transition=null;var G=Wn;Wn=1;var se=nr;nr|=4,ud.current=null,zE(d,b),Eb(b,d),af(Gc),Nr=!!Fp,Gc=Fp=null,d.current=b,A3(b),Bo(),nr=se,Wn=G,Eo.transition=$}else d.current=b;if(Tg&&(Tg=!1,cl=d,ph=N),$=d.pendingLanes,$===0&&(rc=null),Xu(b.stateNode),Fs(d,fn()),h!==null)for(C=d.onRecoverableError,b=0;b<h.length;b++)N=h[b],C(N.value,{componentStack:N.stack,digest:N.digest});if(Ef)throw Ef=!1,d=ld,ld=null,d;return(ph&1)!==0&&d.tag!==0&&Cf(),$=d.pendingLanes,($&1)!==0?d===xf?ac++:(ac=0,xf=d):ac=0,ku(),null}function Cf(){if(cl!==null){var d=ki(ph),h=Eo.transition,b=Wn;try{if(Eo.transition=null,Wn=16>d?16:d,cl===null)var C=!1;else{if(d=cl,cl=null,ph=0,(nr&6)!==0)throw Error(n(331));var N=nr;for(nr|=4,At=d.current;At!==null;){var $=At,G=$.child;if((At.flags&16)!==0){var se=$.deletions;if(se!==null){for(var be=0;be<se.length;be++){var Pe=se[be];for(At=Pe;At!==null;){var nt=At;switch(nt.tag){case 0:case 11:case 15:ih(8,nt,$)}var at=nt.child;if(at!==null)at.return=nt,At=at;else for(;At!==null;){nt=At;var tt=nt.sibling,Ct=nt.return;if(kg(nt),nt===Pe){At=null;break}if(tt!==null){tt.return=Ct,At=tt;break}At=Ct}}}var $t=$.alternate;if($t!==null){var Ut=$t.child;if(Ut!==null){$t.child=null;do{var Aa=Ut.sibling;Ut.sibling=null,Ut=Aa}while(Ut!==null)}}At=$}}if(($.subtreeFlags&2064)!==0&&G!==null)G.return=$,At=G;else e:for(;At!==null;){if($=At,($.flags&2048)!==0)switch($.tag){case 0:case 11:case 15:ih(9,$,$.return)}var Re=$.sibling;if(Re!==null){Re.return=$.return,At=Re;break e}At=$.return}}var Ee=d.current;for(At=Ee;At!==null;){G=At;var Oe=G.child;if((G.subtreeFlags&2064)!==0&&Oe!==null)Oe.return=G,At=Oe;else e:for(G=Ee;At!==null;){if(se=At,(se.flags&2048)!==0)try{switch(se.tag){case 0:case 11:case 15:uh(9,se)}}catch(Ft){oa(se,se.return,Ft)}if(se===G){At=null;break e}var rt=se.sibling;if(rt!==null){rt.return=se.return,At=rt;break e}At=se.return}}if(nr=N,ku(),so&&typeof so.onPostCommitFiberRoot=="function")try{so.onPostCommitFiberRoot(Cs,d)}catch{}C=!0}return C}finally{Wn=b,Eo.transition=h}}return!1}function YE(d,h,b){h=sd(b,h),h=NE(d,h,1),d=Jl(d,h,1),h=ja(),d!==null&&(Pa(d,1,h),Fs(d,h))}function oa(d,h,b){if(d.tag===3)YE(d,d,b);else for(;h!==null;){if(h.tag===3){YE(h,d,b);break}else if(h.tag===1){var C=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(rc===null||!rc.has(C))){d=sd(b,d),d=mb(h,d,1),h=Jl(h,d,1),d=ja(),h!==null&&(Pa(h,1,d),Fs(h,d));break}}h=h.return}}function F3(d,h,b){var C=d.pingCache;C!==null&&C.delete(h),h=ja(),d.pingedLanes|=d.suspendedLanes&b,eo===d&&(xo&b)===b&&(Na===4||Na===3&&(xo&130023424)===xo&&500>fn()-kb?dl(d,0):_g|=b),Fs(d,h)}function XE(d,h){h===0&&((d.mode&1)===0?h=1:(h=ka,ka<<=1,(ka&130023424)===0&&(ka=4194304)));var b=ja();d=oi(d,h),d!==null&&(Pa(d,h,b),Fs(d,b))}function P3(d){var h=d.memoizedState,b=0;h!==null&&(b=h.retryLane),XE(d,b)}function QE(d,h){var b=0;switch(d.tag){case 13:var C=d.stateNode,N=d.memoizedState;N!==null&&(b=N.retryLane);break;case 19:C=d.stateNode;break;default:throw Error(n(314))}C!==null&&C.delete(h),XE(d,b)}var JE;JE=function(d,h,b){if(d!==null)if(d.memoizedProps!==h.pendingProps||Ja.current)Ha=!0;else{if((d.lanes&b)===0&&(h.flags&128)===0)return Ha=!1,ah(d,h,b);Ha=(d.flags&131072)!==0}else Ha=!1,aa&&(h.flags&1048576)!==0&&wE(h,ol,h.index);switch(h.lanes=0,h.tag){case 2:var C=h.type;Di(d,h),d=h.pendingProps;var N=Is(h,wa.current);pa(h,b),N=Zl(null,h,C,d,N,b);var $=ru();return h.flags|=1,typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,Ba(C)?($=!0,uo(h)):$=!1,h.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,ib(h),N.updater=yg,h.stateNode=N,N._reactInternals=h,Zp(h,C,d,b),h=nh(null,h,C,!0,$,b)):(h.tag=0,aa&&$&&Km(h),wo(null,h,N,b),h=h.child),h;case 16:C=h.elementType;e:{switch(Di(d,h),d=h.pendingProps,N=C._init,C=N(C._payload),h.type=C,N=h.tag=B3(C),d=au(C,d),N){case 0:h=DE(null,h,C,d,b);break e;case 1:h=OE(null,h,C,d,b);break e;case 11:h=Os(null,h,C,d,b);break e;case 14:h=id(null,h,C,au(C.type,d),b);break e}throw Error(n(306,C,""))}return h;case 0:return C=h.type,N=h.pendingProps,N=h.elementType===C?N:au(C,N),DE(d,h,C,N,b);case 1:return C=h.type,N=h.pendingProps,N=h.elementType===C?N:au(C,N),OE(d,h,C,N,b);case 3:e:{if(vf(h),d===null)throw Error(n(387));C=h.pendingProps,$=h.memoizedState,N=$.element,CE(d,h),Up(h,C,null,b);var G=h.memoizedState;if(C=G.element,$.isDehydrated)if($={element:C,isDehydrated:!1,cache:G.cache,pendingSuspenseBoundaries:G.pendingSuspenseBoundaries,transitions:G.transitions},h.updateQueue.baseState=$,h.memoizedState=$,h.flags&256){N=sd(Error(n(423)),h),h=ME(d,h,C,b,N);break e}else if(C!==N){N=sd(Error(n(424)),h),h=ME(d,h,C,b,N);break e}else for(Ns=Eu(h.stateNode.containerInfo.firstChild),Rs=h,aa=!0,Ni=null,b=yt(h,null,C,b),h.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if(Ql(),C===N){h=Oi(d,h,b);break e}wo(d,h,C,b)}h=h.child}return h;case 5:return _E(h),d===null&&eb(h),C=h.type,N=h.pendingProps,$=d!==null?d.memoizedProps:null,G=N.children,Vm(C,N)?G=null:$!==null&&Vm(C,$)&&(h.flags|=32),vb(d,h),wo(d,h,G,b),h.child;case 6:return d===null&&eb(h),null;case 13:return Eg(d,h,b);case 4:return lb(h,h.stateNode.containerInfo),C=h.pendingProps,d===null?h.child=Ta(h,null,C,b):wo(d,h,C,b),h.child;case 11:return C=h.type,N=h.pendingProps,N=h.elementType===C?N:au(C,N),Os(d,h,C,N,b);case 7:return wo(d,h,h.pendingProps,b),h.child;case 8:return wo(d,h,h.pendingProps.children,b),h.child;case 12:return wo(d,h,h.pendingProps.children,b),h.child;case 10:e:{if(C=h.type._context,N=h.pendingProps,$=h.memoizedProps,G=N.value,qt(ai,C._currentValue),C._currentValue=G,$!==null)if(tu($.value,G)){if($.children===N.children&&!Ja.current){h=Oi(d,h,b);break e}}else for($=h.child,$!==null&&($.return=h);$!==null;){var se=$.dependencies;if(se!==null){G=$.child;for(var be=se.firstContext;be!==null;){if(be.context===C){if($.tag===1){be=il(-1,b&-b),be.tag=2;var Pe=$.updateQueue;if(Pe!==null){Pe=Pe.shared;var nt=Pe.pending;nt===null?be.next=be:(be.next=nt.next,nt.next=be),Pe.pending=be}}$.lanes|=b,be=$.alternate,be!==null&&(be.lanes|=b),ab($.return,b,h),se.lanes|=b;break}be=be.next}}else if($.tag===10)G=$.type===h.type?null:$.child;else if($.tag===18){if(G=$.return,G===null)throw Error(n(341));G.lanes|=b,se=G.alternate,se!==null&&(se.lanes|=b),ab(G,b,h),G=$.sibling}else G=$.child;if(G!==null)G.return=$;else for(G=$;G!==null;){if(G===h){G=null;break}if($=G.sibling,$!==null){$.return=G.return,G=$;break}G=G.return}$=G}wo(d,h,N.children,b),h=h.child}return h;case 9:return N=h.type,C=h.pendingProps.children,pa(h,b),N=Ai(N),C=C(N),h.flags|=1,wo(d,h,C,b),h.child;case 14:return C=h.type,N=au(C,h.pendingProps),N=au(C.type,N),id(d,h,C,N,b);case 15:return An(d,h,h.type,h.pendingProps,b);case 17:return C=h.type,N=h.pendingProps,N=h.elementType===C?N:au(C,N),Di(d,h),h.tag=1,Ba(C)?(d=!0,uo(h)):d=!1,pa(h,b),bg(h,C,N),Zp(h,C,N,b),nh(null,h,C,!0,d,b);case 19:return Ru(d,h,b);case 22:return th(d,h,b)}throw Error(n(156,h.tag))};function ZE(d,h){return hr(d,h)}function L3(d,h,b,C){this.tag=d,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $i(d,h,b,C){return new L3(d,h,b,C)}function Nb(d){return d=d.prototype,!(!d||!d.isReactComponent)}function B3(d){if(typeof d=="function")return Nb(d)?1:0;if(d!=null){if(d=d.$$typeof,d===te)return 11;if(d===ce)return 14}return 2}function oc(d,h){var b=d.alternate;return b===null?(b=$i(d.tag,h,d.key,d.mode),b.elementType=d.elementType,b.type=d.type,b.stateNode=d.stateNode,b.alternate=d,d.alternate=b):(b.pendingProps=h,b.type=d.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=d.flags&14680064,b.childLanes=d.childLanes,b.lanes=d.lanes,b.child=d.child,b.memoizedProps=d.memoizedProps,b.memoizedState=d.memoizedState,b.updateQueue=d.updateQueue,h=d.dependencies,b.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},b.sibling=d.sibling,b.index=d.index,b.ref=d.ref,b}function gh(d,h,b,C,N,$){var G=2;if(C=d,typeof d=="function")Nb(d)&&(G=1);else if(typeof d=="string")G=5;else e:switch(d){case j:return fl(b.children,N,$,h);case J:G=8,N|=8;break;case q:return d=$i(12,b,h,N|2),d.elementType=q,d.lanes=$,d;case ee:return d=$i(13,b,h,N),d.elementType=ee,d.lanes=$,d;case le:return d=$i(19,b,h,N),d.elementType=le,d.lanes=$,d;case ve:return sc(b,N,$,h);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case K:G=10;break e;case z:G=9;break e;case te:G=11;break e;case ce:G=14;break e;case ye:G=16,C=null;break e}throw Error(n(130,d==null?d:typeof d,""))}return h=$i(G,b,h,N),h.elementType=d,h.type=C,h.lanes=$,h}function fl(d,h,b,C){return d=$i(7,d,C,h),d.lanes=b,d}function sc(d,h,b,C){return d=$i(22,d,C,h),d.elementType=ve,d.lanes=b,d.stateNode={isHidden:!1},d}function Ab(d,h,b){return d=$i(6,d,null,h),d.lanes=b,d}function Ng(d,h,b){return h=$i(4,d.children!==null?d.children:[],d.key,h),h.lanes=b,h.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},h}function ex(d,h,b,C,N){this.tag=h,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ci(0),this.expirationTimes=Ci(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ci(0),this.identifierPrefix=C,this.onRecoverableError=N,this.mutableSourceEagerHydrationData=null}function Ag(d,h,b,C,N,$,G,se,be){return d=new ex(d,h,b,se,be),h===1?(h=1,$===!0&&(h|=8)):h=0,$=$i(3,null,null,h),d.current=$,$.stateNode=d,$.memoizedState={element:C,isDehydrated:b,cache:null,transitions:null,pendingSuspenseBoundaries:null},ib($),d}function z3(d,h,b){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:C==null?null:""+C,children:d,containerInfo:h,implementation:b}}function Db(d){if(!d)return Wo;d=d._reactInternals;e:{if(Gt(d)!==d||d.tag!==1)throw Error(n(170));var h=d;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(Ba(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(n(171))}if(d.tag===1){var b=d.type;if(Ba(b))return Bp(d,b,h)}return h}function tx(d,h,b,C,N,$,G,se,be){return d=Ag(b,C,!0,d,N,$,G,se,be),d.context=Db(null),b=d.current,C=ja(),N=Ou(b),$=il(C,N),$.callback=h??null,Jl(b,$,N),d.current.lanes=N,Pa(d,N,C),Fs(d,C),d}function Dg(d,h,b,C){var N=h.current,$=ja(),G=Ou(N);return b=Db(b),h.context===null?h.context=b:h.pendingContext=b,h=il($,G),h.payload={element:d},C=C===void 0?null:C,C!==null&&(h.callback=C),d=Jl(N,h,G),d!==null&&(os(d,N,G,$),Jm(d,N,G)),G}function Og(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;default:return d.child.stateNode}}function Ob(d,h){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var b=d.retryLane;d.retryLane=b!==0&&b<h?b:h}}function Mg(d,h){Ob(d,h),(d=d.alternate)&&Ob(d,h)}function nx(){return null}var pd=typeof reportError=="function"?reportError:function(d){console.error(d)};function Mb(d){this._internalRoot=d}$g.prototype.render=Mb.prototype.render=function(d){var h=this._internalRoot;if(h===null)throw Error(n(409));Dg(d,h,null,null)},$g.prototype.unmount=Mb.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var h=d.containerInfo;dd(function(){Dg(null,d,null,null)}),h[rl]=null}};function $g(d){this._internalRoot=d}$g.prototype.unstable_scheduleHydration=function(d){if(d){var h=en();d={blockedOn:null,target:d,priority:h};for(var b=0;b<Qe.length&&h!==0&&h<Qe[b].priority;b++);Qe.splice(b,0,d),b===0&&Nt(d)}};function $b(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function Fg(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11&&(d.nodeType!==8||d.nodeValue!==" react-mount-point-unstable "))}function rx(){}function U3(d,h,b,C,N){if(N){if(typeof C=="function"){var $=C;C=function(){var Pe=Og(G);$.call(Pe)}}var G=tx(h,C,d,0,null,!1,!1,"",rx);return d._reactRootContainer=G,d[rl]=G.current,sf(d.nodeType===8?d.parentNode:d),dd(),G}for(;N=d.lastChild;)d.removeChild(N);if(typeof C=="function"){var se=C;C=function(){var Pe=Og(be);se.call(Pe)}}var be=Ag(d,0,!1,null,null,!1,!1,"",rx);return d._reactRootContainer=be,d[rl]=be.current,sf(d.nodeType===8?d.parentNode:d),dd(function(){Dg(h,be,b,C)}),be}function vh(d,h,b,C,N){var $=b._reactRootContainer;if($){var G=$;if(typeof N=="function"){var se=N;N=function(){var be=Og(G);se.call(be)}}Dg(h,G,d,N)}else G=U3(b,h,d,N,C);return Og(G)}On=function(d){switch(d.tag){case 3:var h=d.stateNode;if(h.current.memoizedState.isDehydrated){var b=jr(h.pendingLanes);b!==0&&(Uo(h,b|1),Fs(h,fn()),(nr&6)===0&&(wf=fn()+500,ku()))}break;case 13:dd(function(){var C=oi(d,1);if(C!==null){var N=ja();os(C,d,1,N)}}),Mg(d,1)}},Ji=function(d){if(d.tag===13){var h=oi(d,134217728);if(h!==null){var b=ja();os(h,d,134217728,b)}Mg(d,134217728)}},go=function(d){if(d.tag===13){var h=Ou(d),b=oi(d,h);if(b!==null){var C=ja();os(b,d,h,C)}Mg(d,h)}},en=function(){return Wn},ei=function(d,h){var b=Wn;try{return Wn=d,h()}finally{Wn=b}},$n=function(d,h,b){switch(h){case"input":if(on(d,b),h=b.name,b.type==="radio"&&h!=null){for(b=d;b.parentNode;)b=b.parentNode;for(b=b.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),h=0;h<b.length;h++){var C=b[h];if(C!==d&&C.form===d.form){var N=fa(C);if(!N)throw Error(n(90));Rt(C),on(C,N)}}}break;case"textarea":Vn(d,b);break;case"select":h=b.value,h!=null&&Rn(d,!!b.multiple,h,!1)}},Le=Tb,et=dd;var H3={usingClientEntryPoint:!1,Events:[Yt,nu,fa,$a,ua,Tb]},yh={findFiberByHostInstance:qc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ax={bundleType:yh.bundleType,version:yh.version,rendererPackageName:yh.rendererPackageName,rendererConfig:yh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(d){return d=Zr(d),d===null?null:d.stateNode},findFiberByHostInstance:yh.findFiberByHostInstance||nx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{Cs=ic.inject(ax),so=ic}catch{}}return hi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H3,hi.createPortal=function(d,h){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$b(h))throw Error(n(200));return z3(d,h,null,b)},hi.createRoot=function(d,h){if(!$b(d))throw Error(n(299));var b=!1,C="",N=pd;return h!=null&&(h.unstable_strictMode===!0&&(b=!0),h.identifierPrefix!==void 0&&(C=h.identifierPrefix),h.onRecoverableError!==void 0&&(N=h.onRecoverableError)),h=Ag(d,1,!1,null,null,b,!1,C,N),d[rl]=h.current,sf(d.nodeType===8?d.parentNode:d),new Mb(h)},hi.findDOMNode=function(d){if(d==null)return null;if(d.nodeType===1)return d;var h=d._reactInternals;if(h===void 0)throw typeof d.render=="function"?Error(n(188)):(d=Object.keys(d).join(","),Error(n(268,d)));return d=Zr(h),d=d===null?null:d.stateNode,d},hi.flushSync=function(d){return dd(d)},hi.hydrate=function(d,h,b){if(!Fg(h))throw Error(n(200));return vh(null,d,h,!0,b)},hi.hydrateRoot=function(d,h,b){if(!$b(d))throw Error(n(405));var C=b!=null&&b.hydratedSources||null,N=!1,$="",G=pd;if(b!=null&&(b.unstable_strictMode===!0&&(N=!0),b.identifierPrefix!==void 0&&($=b.identifierPrefix),b.onRecoverableError!==void 0&&(G=b.onRecoverableError)),h=tx(h,null,d,1,b??null,N,!1,$,G),d[rl]=h.current,sf(d),C)for(d=0;d<C.length;d++)b=C[d],N=b._getVersion,N=N(b._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[b,N]:h.mutableSourceEagerHydrationData.push(b,N);return new $g(h)},hi.render=function(d,h,b){if(!Fg(h))throw Error(n(200));return vh(null,d,h,!1,b)},hi.unmountComponentAtNode=function(d){if(!Fg(d))throw Error(n(40));return d._reactRootContainer?(dd(function(){vh(null,null,d,!1,function(){d._reactRootContainer=null,d[rl]=null})}),!0):!1},hi.unstable_batchedUpdates=Tb,hi.unstable_renderSubtreeIntoContainer=function(d,h,b,C){if(!Fg(b))throw Error(n(200));if(d==null||d._reactInternals===void 0)throw Error(n(38));return vh(d,h,b,!1,C)},hi.version="18.3.1-next-f1338f8080-20240426",hi}var mi={};/**
 * @license React
 * react-dom.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WA;function o9(){return WA||(WA=1,process.env.NODE_ENV!=="production"&&(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var t=bc(),e=HA(),n=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,r=!1;function a(s){r=s}function o(s){if(!r){for(var i=arguments.length,m=new Array(i>1?i-1:0),v=1;v<i;v++)m[v-1]=arguments[v];l("warn",s,m)}}function u(s){if(!r){for(var i=arguments.length,m=new Array(i>1?i-1:0),v=1;v<i;v++)m[v-1]=arguments[v];l("error",s,m)}}function l(s,i,m){{var v=n.ReactDebugCurrentFrame,w=v.getStackAddendum();w!==""&&(i+="%s",m=m.concat([w]));var T=m.map(function(D){return String(D)});T.unshift("Warning: "+i),Function.prototype.apply.call(console[s],console,T)}}var f=0,p=1,c=2,g=3,y=4,S=5,E=6,k=7,_=8,I=9,R=10,A=11,O=12,L=13,U=14,j=15,J=16,q=17,K=18,z=19,te=21,ee=22,le=23,ce=24,ye=25,ve=!0,oe=!1,he=!1,ge=!1,Q=!1,ue=!0,ke=!0,Ce=!0,Me=!0,Ve=new Set,Ke={},He={};function Xe(s,i){ct(s,i),ct(s+"Capture",i)}function ct(s,i){Ke[s]&&u("EventRegistry: More than one plugin attempted to publish the same registration name, `%s`.",s),Ke[s]=i;{var m=s.toLowerCase();He[m]=s,s==="onDoubleClick"&&(He.ondblclick=s)}for(var v=0;v<i.length;v++)Ve.add(i[v])}var St=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Rt=Object.prototype.hasOwnProperty;function Dt(s){{var i=typeof Symbol=="function"&&Symbol.toStringTag,m=i&&s[Symbol.toStringTag]||s.constructor.name||"Object";return m}}function jt(s){try{return zt(s),!1}catch{return!0}}function zt(s){return""+s}function vt(s,i){if(jt(s))return u("The provided `%s` attribute is an unsupported type %s. This value must be coerced to a string before before using it here.",i,Dt(s)),zt(s)}function on(s){if(jt(s))return u("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Dt(s)),zt(s)}function dn(s,i){if(jt(s))return u("The provided `%s` prop is an unsupported type %s. This value must be coerced to a string before before using it here.",i,Dt(s)),zt(s)}function mn(s,i){if(jt(s))return u("The provided `%s` CSS property is an unsupported type %s. This value must be coerced to a string before before using it here.",i,Dt(s)),zt(s)}function Jt(s){if(jt(s))return u("The provided HTML markup uses a value of unsupported type %s. This value must be coerced to a string before before using it here.",Dt(s)),zt(s)}function Rn(s){if(jt(s))return u("Form field values (value, checked, defaultValue, or defaultChecked props) must be strings, not %s. This value must be coerced to a string before before using it here.",Dt(s)),zt(s)}var bn=0,Dn=1,Vn=2,gn=3,Un=4,Nn=5,pr=6,Lr=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",st=Lr+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",gt=new RegExp("^["+Lr+"]["+st+"]*$"),ln={},Cn={};function Mn(s){return Rt.call(Cn,s)?!0:Rt.call(ln,s)?!1:gt.test(s)?(Cn[s]=!0,!0):(ln[s]=!0,u("Invalid attribute name: `%s`",s),!1)}function vn(s,i,m){return i!==null?i.type===bn:m?!1:s.length>2&&(s[0]==="o"||s[0]==="O")&&(s[1]==="n"||s[1]==="N")}function sr(s,i,m,v){if(m!==null&&m.type===bn)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":{if(v)return!1;if(m!==null)return!m.acceptsBooleans;var w=s.toLowerCase().slice(0,5);return w!=="data-"&&w!=="aria-"}default:return!1}}function Hr(s,i,m,v){if(i===null||typeof i>"u"||sr(s,i,m,v))return!0;if(v)return!1;if(m!==null)switch(m.type){case gn:return!i;case Un:return i===!1;case Nn:return isNaN(i);case pr:return isNaN(i)||i<1}return!1}function Xn(s){return $n.hasOwnProperty(s)?$n[s]:null}function Qn(s,i,m,v,w,T,D){this.acceptsBooleans=i===Vn||i===gn||i===Un,this.attributeName=v,this.attributeNamespace=w,this.mustUseProperty=m,this.propertyName=s,this.type=i,this.sanitizeURL=T,this.removeEmptyString=D}var $n={},ia=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];ia.forEach(function(s){$n[s]=new Qn(s,bn,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0],m=s[1];$n[i]=new Qn(i,Dn,!1,m,null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){$n[s]=new Qn(s,Vn,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){$n[s]=new Qn(s,Vn,!1,s,null,!1,!1)}),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(function(s){$n[s]=new Qn(s,gn,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){$n[s]=new Qn(s,gn,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){$n[s]=new Qn(s,Un,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){$n[s]=new Qn(s,pr,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){$n[s]=new Qn(s,Nn,!1,s.toLowerCase(),null,!1,!1)});var lr=/[\-\:]([a-z])/g,Fn=function(s){return s[1].toUpperCase()};["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(function(s){var i=s.replace(lr,Fn);$n[i]=new Qn(i,Dn,!1,s,null,!1,!1)}),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(function(s){var i=s.replace(lr,Fn);$n[i]=new Qn(i,Dn,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(lr,Fn);$n[i]=new Qn(i,Dn,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){$n[s]=new Qn(s,Dn,!1,s.toLowerCase(),null,!1,!1)});var $a="xlinkHref";$n[$a]=new Qn("xlinkHref",Dn,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){$n[s]=new Qn(s,Dn,!1,s.toLowerCase(),null,!0,!0)});var ua=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*\:/i,Le=!1;function et(s){!Le&&ua.test(s)&&(Le=!0,u("A future version of React will block javascript: URLs as a security precaution. Use event handlers instead if you can. If you need to generate unsafe HTML try using dangerouslySetInnerHTML instead. React was passed %s.",JSON.stringify(s)))}function Ot(s,i,m,v){if(v.mustUseProperty){var w=v.propertyName;return s[w]}else{vt(m,i),v.sanitizeURL&&et(""+m);var T=v.attributeName,D=null;if(v.type===Un){if(s.hasAttribute(T)){var P=s.getAttribute(T);return P===""?!0:Hr(i,m,v,!1)?P:P===""+m?m:P}}else if(s.hasAttribute(T)){if(Hr(i,m,v,!1))return s.getAttribute(T);if(v.type===gn)return m;D=s.getAttribute(T)}return Hr(i,m,v,!1)?D===null?m:D:D===""+m?m:D}}function lt(s,i,m,v){{if(!Mn(i))return;if(!s.hasAttribute(i))return m===void 0?void 0:null;var w=s.getAttribute(i);return vt(m,i),w===""+m?m:w}}function kn(s,i,m,v){var w=Xn(i);if(!vn(i,w,v)){if(Hr(i,m,w,v)&&(m=null),v||w===null){if(Mn(i)){var T=i;m===null?s.removeAttribute(T):(vt(m,i),s.setAttribute(T,""+m))}return}var D=w.mustUseProperty;if(D){var P=w.propertyName;if(m===null){var H=w.type;s[P]=H===gn?!1:""}else s[P]=m;return}var X=w.attributeName,ne=w.attributeNamespace;if(m===null)s.removeAttribute(X);else{var xe=w.type,we;xe===gn||xe===Un&&m===!0?we="":(vt(m,X),we=""+m,w.sanitizeURL&&et(we.toString())),ne?s.setAttributeNS(ne,X,we):s.setAttribute(X,we)}}}var Tn=Symbol.for("react.element"),Ht=Symbol.for("react.portal"),Kt=Symbol.for("react.fragment"),er=Symbol.for("react.strict_mode"),Vr=Symbol.for("react.profiler"),Jr=Symbol.for("react.provider"),fe=Symbol.for("react.context"),Ye=Symbol.for("react.forward_ref"),ft=Symbol.for("react.suspense"),ut=Symbol.for("react.suspense_list"),Gt=Symbol.for("react.memo"),Zt=Symbol.for("react.lazy"),In=Symbol.for("react.scope"),wn=Symbol.for("react.debug_trace_mode"),Zr=Symbol.for("react.offscreen"),wr=Symbol.for("react.legacy_hidden"),hr=Symbol.for("react.cache"),Wr=Symbol.for("react.tracing_marker"),Lo=Symbol.iterator,Bo="@@iterator";function fn(s){if(s===null||typeof s!="object")return null;var i=Lo&&s[Lo]||s[Bo];return typeof i=="function"?i:null}var En=Object.assign,mo=0,Xi,wi,Js,Jo,Cs,so,Xu;function Fa(){}Fa.__reactDisabledLog=!0;function Qu(){{if(mo===0){Xi=console.log,wi=console.info,Js=console.warn,Jo=console.error,Cs=console.group,so=console.groupCollapsed,Xu=console.groupEnd;var s={configurable:!0,enumerable:!0,value:Fa,writable:!0};Object.defineProperties(console,{info:s,log:s,warn:s,error:s,group:s,groupCollapsed:s,groupEnd:s})}mo++}}function Qi(){{if(mo--,mo===0){var s={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:En({},s,{value:Xi}),info:En({},s,{value:wi}),warn:En({},s,{value:Js}),error:En({},s,{value:Jo}),group:En({},s,{value:Cs}),groupCollapsed:En({},s,{value:so}),groupEnd:En({},s,{value:Xu})})}mo<0&&u("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var Ei=n.ReactCurrentDispatcher,ks;function ka(s,i,m){{if(ks===void 0)try{throw Error()}catch(w){var v=w.stack.trim().match(/\n( *(at )?)/);ks=v&&v[1]||""}return`
`+ks+s}}var jr=!1,zo;{var bu=typeof WeakMap=="function"?WeakMap:Map;zo=new bu}function xi(s,i){if(!s||jr)return"";{var m=zo.get(s);if(m!==void 0)return m}var v;jr=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var T;T=Ei.current,Ei.current=null,Qu();try{if(i){var D=function(){throw Error()};if(Object.defineProperty(D.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(D,[])}catch(Be){v=Be}Reflect.construct(s,[],D)}else{try{D.call()}catch(Be){v=Be}s.call(D.prototype)}}else{try{throw Error()}catch(Be){v=Be}s()}}catch(Be){if(Be&&v&&typeof Be.stack=="string"){for(var P=Be.stack.split(`
`),H=v.stack.split(`
`),X=P.length-1,ne=H.length-1;X>=1&&ne>=0&&P[X]!==H[ne];)ne--;for(;X>=1&&ne>=0;X--,ne--)if(P[X]!==H[ne]){if(X!==1||ne!==1)do if(X--,ne--,ne<0||P[X]!==H[ne]){var xe=`
`+P[X].replace(" at new "," at ");return s.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",s.displayName)),typeof s=="function"&&zo.set(s,xe),xe}while(X>=1&&ne>=0);break}}}finally{jr=!1,Ei.current=T,Qi(),Error.prepareStackTrace=w}var we=s?s.displayName||s.name:"",Fe=we?ka(we):"";return typeof s=="function"&&zo.set(s,Fe),Fe}function Zs(s,i,m){return xi(s,!0)}function _a(s,i,m){return xi(s,!1)}function Ci(s){var i=s.prototype;return!!(i&&i.isReactComponent)}function Pa(s,i,m){if(s==null)return"";if(typeof s=="function")return xi(s,Ci(s));if(typeof s=="string")return ka(s);switch(s){case ft:return ka("Suspense");case ut:return ka("SuspenseList")}if(typeof s=="object")switch(s.$$typeof){case Ye:return _a(s.render);case Gt:return Pa(s.type,i,m);case Zt:{var v=s,w=v._payload,T=v._init;try{return Pa(T(w),i,m)}catch{}}}return""}function Ju(s){switch(s._debugOwner&&s._debugOwner.type,s._debugSource,s.tag){case S:return ka(s.type);case J:return ka("Lazy");case L:return ka("Suspense");case z:return ka("SuspenseList");case f:case c:case j:return _a(s.type);case A:return _a(s.type.render);case p:return Zs(s.type);default:return""}}function Uo(s){try{var i="",m=s;do i+=Ju(m),m=m.return;while(m);return i}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}function Wn(s,i,m){var v=s.displayName;if(v)return v;var w=i.displayName||i.name||"";return w!==""?m+"("+w+")":m}function ki(s){return s.displayName||"Context"}function On(s){if(s==null)return null;if(typeof s.tag=="number"&&u("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case Kt:return"Fragment";case Ht:return"Portal";case Vr:return"Profiler";case er:return"StrictMode";case ft:return"Suspense";case ut:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case fe:var i=s;return ki(i)+".Consumer";case Jr:var m=s;return ki(m._context)+".Provider";case Ye:return Wn(s,s.render,"ForwardRef");case Gt:var v=s.displayName||null;return v!==null?v:On(s.type)||"Memo";case Zt:{var w=s,T=w._payload,D=w._init;try{return On(D(T))}catch{return null}}}return null}function Ji(s,i,m){var v=i.displayName||i.name||"";return s.displayName||(v!==""?m+"("+v+")":m)}function go(s){return s.displayName||"Context"}function en(s){var i=s.tag,m=s.type;switch(i){case ce:return"Cache";case I:var v=m;return go(v)+".Consumer";case R:var w=m;return go(w._context)+".Provider";case K:return"DehydratedFragment";case A:return Ji(m,m.render,"ForwardRef");case k:return"Fragment";case S:return m;case y:return"Portal";case g:return"Root";case E:return"Text";case J:return On(m);case _:return m===er?"StrictMode":"Mode";case ee:return"Offscreen";case O:return"Profiler";case te:return"Scope";case L:return"Suspense";case z:return"SuspenseList";case ye:return"TracingMarker";case p:case f:case q:case c:case U:case j:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m;break}return null}var ei=n.ReactDebugCurrentFrame,Gr=null,Ho=!1;function la(){{if(Gr===null)return null;var s=Gr._debugOwner;if(s!==null&&typeof s<"u")return en(s)}return null}function io(){return Gr===null?"":Uo(Gr)}function _r(){ei.getCurrentStack=null,Gr=null,Ho=!1}function ae(s){ei.getCurrentStack=s===null?null:io,Gr=s,Ho=!1}function _e(){return Gr}function Qe(s){Ho=s}function Tt(s){return""+s}function Vt(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return Rn(s),s;default:return""}}var rn={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0};function ht(s,i){rn[i.type]||i.onChange||i.onInput||i.readOnly||i.disabled||i.value==null||u("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`."),i.onChange||i.readOnly||i.disabled||i.checked==null||u("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")}function Nt(s){var i=s.type,m=s.nodeName;return m&&m.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Jn(s){return s._valueTracker}function ca(s){s._valueTracker=null}function Zo(s){var i="";return s&&(Nt(s)?i=s.checked?"true":"false":i=s.value),i}function vo(s){var i=Nt(s)?"checked":"value",m=Object.getOwnPropertyDescriptor(s.constructor.prototype,i);Rn(s[i]);var v=""+s[i];if(!(s.hasOwnProperty(i)||typeof m>"u"||typeof m.get!="function"||typeof m.set!="function")){var w=m.get,T=m.set;Object.defineProperty(s,i,{configurable:!0,get:function(){return w.call(this)},set:function(P){Rn(P),v=""+P,T.call(this,P)}}),Object.defineProperty(s,i,{enumerable:m.enumerable});var D={getValue:function(){return v},setValue:function(P){Rn(P),v=""+P},stopTracking:function(){ca(s),delete s[i]}};return D}}function yo(s){Jn(s)||(s._valueTracker=vo(s))}function es(s){if(!s)return!1;var i=Jn(s);if(!i)return!0;var m=i.getValue(),v=Zo(s);return v!==m?(i.setValue(v),!0):!1}function Nr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ts=!1,ti=!1,Su=!1,Zu=!1;function Hl(s){var i=s.type==="checkbox"||s.type==="radio";return i?s.checked!=null:s.value!=null}function Zi(s,i){var m=s,v=i.checked,w=En({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:v??m._wrapperState.initialChecked});return w}function ni(s,i){ht("input",i),i.checked!==void 0&&i.defaultChecked!==void 0&&!ti&&(u("%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",la()||"A component",i.type),ti=!0),i.value!==void 0&&i.defaultValue!==void 0&&!ts&&(u("%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",la()||"A component",i.type),ts=!0);var m=s,v=i.defaultValue==null?"":i.defaultValue;m._wrapperState={initialChecked:i.checked!=null?i.checked:i.defaultChecked,initialValue:Vt(i.value!=null?i.value:v),controlled:Hl(i)}}function V(s,i){var m=s,v=i.checked;v!=null&&kn(m,"checked",v,!1)}function de(s,i){var m=s;{var v=Hl(i);!m._wrapperState.controlled&&v&&!Zu&&(u("A component is changing an uncontrolled input to be controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),Zu=!0),m._wrapperState.controlled&&!v&&!Su&&(u("A component is changing a controlled input to be uncontrolled. This is likely caused by the value changing from a defined to undefined, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),Su=!0)}V(s,i);var w=Vt(i.value),T=i.type;if(w!=null)T==="number"?(w===0&&m.value===""||m.value!=w)&&(m.value=Tt(w)):m.value!==Tt(w)&&(m.value=Tt(w));else if(T==="submit"||T==="reset"){m.removeAttribute("value");return}i.hasOwnProperty("value")?B(m,i.type,w):i.hasOwnProperty("defaultValue")&&B(m,i.type,Vt(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(m.defaultChecked=!!i.defaultChecked)}function $e(s,i,m){var v=s;if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var w=i.type,T=w==="submit"||w==="reset";if(T&&(i.value===void 0||i.value===null))return;var D=Tt(v._wrapperState.initialValue);m||D!==v.value&&(v.value=D),v.defaultValue=D}var P=v.name;P!==""&&(v.name=""),v.defaultChecked=!v.defaultChecked,v.defaultChecked=!!v._wrapperState.initialChecked,P!==""&&(v.name=P)}function x(s,i){var m=s;de(m,i),M(m,i)}function M(s,i){var m=i.name;if(i.type==="radio"&&m!=null){for(var v=s;v.parentNode;)v=v.parentNode;vt(m,"name");for(var w=v.querySelectorAll("input[name="+JSON.stringify(""+m)+'][type="radio"]'),T=0;T<w.length;T++){var D=w[T];if(!(D===s||D.form!==s.form)){var P=Ex(D);if(!P)throw new Error("ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");es(D),de(D,P)}}}}function B(s,i,m){(i!=="number"||Nr(s.ownerDocument)!==s)&&(m==null?s.defaultValue=Tt(s._wrapperState.initialValue):s.defaultValue!==Tt(m)&&(s.defaultValue=Tt(m)))}var W=!1,re=!1,me=!1;function ie(s,i){i.value==null&&(typeof i.children=="object"&&i.children!==null?t.Children.forEach(i.children,function(m){m!=null&&(typeof m=="string"||typeof m=="number"||re||(re=!0,u("Cannot infer the option value of complex children. Pass a `value` prop or use a plain string as children to <option>.")))}):i.dangerouslySetInnerHTML!=null&&(me||(me=!0,u("Pass a `value` prop if you set dangerouslyInnerHTML so React knows which value should be selected.")))),i.selected!=null&&!W&&(u("Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."),W=!0)}function Te(s,i){i.value!=null&&s.setAttribute("value",Tt(Vt(i.value)))}var De=Array.isArray;function Ue(s){return De(s)}var it;it=!1;function xt(){var s=la();return s?`

Check the render method of \``+s+"`.":""}var Qt=["value","defaultValue"];function Mt(s){{ht("select",s);for(var i=0;i<Qt.length;i++){var m=Qt[i];if(s[m]!=null){var v=Ue(s[m]);s.multiple&&!v?u("The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",m,xt()):!s.multiple&&v&&u("The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",m,xt())}}}}function un(s,i,m,v){var w=s.options;if(i){for(var T=m,D={},P=0;P<T.length;P++)D["$"+T[P]]=!0;for(var H=0;H<w.length;H++){var X=D.hasOwnProperty("$"+w[H].value);w[H].selected!==X&&(w[H].selected=X),X&&v&&(w[H].defaultSelected=!0)}}else{for(var ne=Tt(Vt(m)),xe=null,we=0;we<w.length;we++){if(w[we].value===ne){w[we].selected=!0,v&&(w[we].defaultSelected=!0);return}xe===null&&!w[we].disabled&&(xe=w[we])}xe!==null&&(xe.selected=!0)}}function Hn(s,i){return En({},i,{value:void 0})}function cr(s,i){var m=s;Mt(i),m._wrapperState={wasMultiple:!!i.multiple},i.value!==void 0&&i.defaultValue!==void 0&&!it&&(u("Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://reactjs.org/link/controlled-components"),it=!0)}function Tr(s,i){var m=s;m.multiple=!!i.multiple;var v=i.value;v!=null?un(m,!!i.multiple,v,!1):i.defaultValue!=null&&un(m,!!i.multiple,i.defaultValue,!0)}function Sa(s,i){var m=s,v=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!i.multiple;var w=i.value;w!=null?un(m,!!i.multiple,w,!1):v!==!!i.multiple&&(i.defaultValue!=null?un(m,!!i.multiple,i.defaultValue,!0):un(m,!!i.multiple,i.multiple?[]:"",!1))}function Vo(s,i){var m=s,v=i.value;v!=null&&un(m,!!i.multiple,v,!1)}var bo=!1;function Zn(s,i){var m=s;if(i.dangerouslySetInnerHTML!=null)throw new Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");var v=En({},i,{value:void 0,defaultValue:void 0,children:Tt(m._wrapperState.initialValue)});return v}function da(s,i){var m=s;ht("textarea",i),i.value!==void 0&&i.defaultValue!==void 0&&!bo&&(u("%s contains a textarea with both value and defaultValue props. Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://reactjs.org/link/controlled-components",la()||"A component"),bo=!0);var v=i.value;if(v==null){var w=i.children,T=i.defaultValue;if(w!=null){u("Use the `defaultValue` or `value` props instead of setting children on <textarea>.");{if(T!=null)throw new Error("If you supply `defaultValue` on a <textarea>, do not pass children.");if(Ue(w)){if(w.length>1)throw new Error("<textarea> can only have at most one child.");w=w[0]}T=w}}T==null&&(T=""),v=T}m._wrapperState={initialValue:Vt(v)}}function eu(s,i){var m=s,v=Vt(i.value),w=Vt(i.defaultValue);if(v!=null){var T=Tt(v);T!==m.value&&(m.value=T),i.defaultValue==null&&m.defaultValue!==T&&(m.defaultValue=T)}w!=null&&(m.defaultValue=Tt(w))}function q2(s,i){var m=s,v=m.textContent;v===m._wrapperState.initialValue&&v!==""&&v!==null&&(m.value=v)}function v3(s,i){eu(s,i)}var el="http://www.w3.org/1999/xhtml",Fy="http://www.w3.org/1998/Math/MathML",Py="http://www.w3.org/2000/svg";function Ly(s){switch(s){case"svg":return Py;case"math":return Fy;default:return el}}function By(s,i){return s==null||s===el?Ly(i):s===Py&&i==="foreignObject"?el:s}var K2=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,m,v,w){MSApp.execUnsafeLocalFunction(function(){return s(i,m,v,w)})}:s},Am,Y2=K2(function(s,i){if(s.namespaceURI===Py&&!("innerHTML"in s)){Am=Am||document.createElement("div"),Am.innerHTML="<svg>"+i.valueOf().toString()+"</svg>";for(var m=Am.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;m.firstChild;)s.appendChild(m.firstChild);return}s.innerHTML=i}),_s=1,tl=3,La=8,nl=9,zy=11,nf=function(s,i){if(i){var m=s.firstChild;if(m&&m===s.lastChild&&m.nodeType===tl){m.nodeValue=i;return}}s.textContent=i},Ip={animation:["animationDelay","animationDirection","animationDuration","animationFillMode","animationIterationCount","animationName","animationPlayState","animationTimingFunction"],background:["backgroundAttachment","backgroundClip","backgroundColor","backgroundImage","backgroundOrigin","backgroundPositionX","backgroundPositionY","backgroundRepeat","backgroundSize"],backgroundPosition:["backgroundPositionX","backgroundPositionY"],border:["borderBottomColor","borderBottomStyle","borderBottomWidth","borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth","borderLeftColor","borderLeftStyle","borderLeftWidth","borderRightColor","borderRightStyle","borderRightWidth","borderTopColor","borderTopStyle","borderTopWidth"],borderBlockEnd:["borderBlockEndColor","borderBlockEndStyle","borderBlockEndWidth"],borderBlockStart:["borderBlockStartColor","borderBlockStartStyle","borderBlockStartWidth"],borderBottom:["borderBottomColor","borderBottomStyle","borderBottomWidth"],borderColor:["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"],borderImage:["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"],borderInlineEnd:["borderInlineEndColor","borderInlineEndStyle","borderInlineEndWidth"],borderInlineStart:["borderInlineStartColor","borderInlineStartStyle","borderInlineStartWidth"],borderLeft:["borderLeftColor","borderLeftStyle","borderLeftWidth"],borderRadius:["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"],borderRight:["borderRightColor","borderRightStyle","borderRightWidth"],borderStyle:["borderBottomStyle","borderLeftStyle","borderRightStyle","borderTopStyle"],borderTop:["borderTopColor","borderTopStyle","borderTopWidth"],borderWidth:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],columnRule:["columnRuleColor","columnRuleStyle","columnRuleWidth"],columns:["columnCount","columnWidth"],flex:["flexBasis","flexGrow","flexShrink"],flexFlow:["flexDirection","flexWrap"],font:["fontFamily","fontFeatureSettings","fontKerning","fontLanguageOverride","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition","fontWeight","lineHeight"],fontVariant:["fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition"],gap:["columnGap","rowGap"],grid:["gridAutoColumns","gridAutoFlow","gridAutoRows","gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],gridArea:["gridColumnEnd","gridColumnStart","gridRowEnd","gridRowStart"],gridColumn:["gridColumnEnd","gridColumnStart"],gridColumnGap:["columnGap"],gridGap:["columnGap","rowGap"],gridRow:["gridRowEnd","gridRowStart"],gridRowGap:["rowGap"],gridTemplate:["gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],listStyle:["listStyleImage","listStylePosition","listStyleType"],margin:["marginBottom","marginLeft","marginRight","marginTop"],marker:["markerEnd","markerMid","markerStart"],mask:["maskClip","maskComposite","maskImage","maskMode","maskOrigin","maskPositionX","maskPositionY","maskRepeat","maskSize"],maskPosition:["maskPositionX","maskPositionY"],outline:["outlineColor","outlineStyle","outlineWidth"],overflow:["overflowX","overflowY"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"],placeContent:["alignContent","justifyContent"],placeItems:["alignItems","justifyItems"],placeSelf:["alignSelf","justifySelf"],textDecoration:["textDecorationColor","textDecorationLine","textDecorationStyle"],textEmphasis:["textEmphasisColor","textEmphasisStyle"],transition:["transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"],wordWrap:["overflowWrap"]},Rp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};function X2(s,i){return s+i.charAt(0).toUpperCase()+i.substring(1)}var Q2=["Webkit","ms","Moz","O"];Object.keys(Rp).forEach(function(s){Q2.forEach(function(i){Rp[X2(i,s)]=Rp[s]})});function Dm(s,i,m){var v=i==null||typeof i=="boolean"||i==="";return v?"":!m&&typeof i=="number"&&i!==0&&!(Rp.hasOwnProperty(s)&&Rp[s])?i+"px":(mn(i,s),(""+i).trim())}var J2=/([A-Z])/g,Z2=/^ms-/;function rf(s){return s.replace(J2,"-$1").toLowerCase().replace(Z2,"-ms-")}var eE=function(){};{var y3=/^(?:webkit|moz|o)[A-Z]/,b3=/^-ms-/,tE=/-(.)/g,Uy=/;\s*$/,wu={},Hc={},nE=!1,Np=!1,S3=function(s){return s.replace(tE,function(i,m){return m.toUpperCase()})},rE=function(s){wu.hasOwnProperty(s)&&wu[s]||(wu[s]=!0,u("Unsupported style property %s. Did you mean %s?",s,S3(s.replace(b3,"ms-"))))},Hy=function(s){wu.hasOwnProperty(s)&&wu[s]||(wu[s]=!0,u("Unsupported vendor-prefixed style property %s. Did you mean %s?",s,s.charAt(0).toUpperCase()+s.slice(1)))},Vy=function(s,i){Hc.hasOwnProperty(i)&&Hc[i]||(Hc[i]=!0,u(`Style property values shouldn't contain a semicolon. Try "%s: %s" instead.`,s,i.replace(Uy,"")))},aE=function(s,i){nE||(nE=!0,u("`NaN` is an invalid value for the `%s` css style property.",s))},oE=function(s,i){Np||(Np=!0,u("`Infinity` is an invalid value for the `%s` css style property.",s))};eE=function(s,i){s.indexOf("-")>-1?rE(s):y3.test(s)?Hy(s):Uy.test(i)&&Vy(s,i),typeof i=="number"&&(isNaN(i)?aE(s,i):isFinite(i)||oE(s,i))}}var sE=eE;function w3(s){{var i="",m="";for(var v in s)if(s.hasOwnProperty(v)){var w=s[v];if(w!=null){var T=v.indexOf("--")===0;i+=m+(T?v:rf(v))+":",i+=Dm(v,w,T),m=";"}}return i||null}}function iE(s,i){var m=s.style;for(var v in i)if(i.hasOwnProperty(v)){var w=v.indexOf("--")===0;w||sE(v,i[v]);var T=Dm(v,i[v],w);v==="float"&&(v="cssFloat"),w?m.setProperty(v,T):m[v]=T}}function E3(s){return s==null||typeof s=="boolean"||s===""}function uE(s){var i={};for(var m in s)for(var v=Ip[m]||[m],w=0;w<v.length;w++)i[v[w]]=m;return i}function x3(s,i){{if(!i)return;var m=uE(s),v=uE(i),w={};for(var T in m){var D=m[T],P=v[T];if(P&&D!==P){var H=D+","+P;if(w[H])continue;w[H]=!0,u("%s a style property during rerender (%s) when a conflicting property is set (%s) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.",E3(s[D])?"Removing":"Updating",D,P)}}}}var tu={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},Ap=En({menuitem:!0},tu),lE="__html";function Om(s,i){if(i){if(Ap[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw new Error(s+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw new Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");if(typeof i.dangerouslySetInnerHTML!="object"||!(lE in i.dangerouslySetInnerHTML))throw new Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://reactjs.org/link/dangerously-set-inner-html for more information.")}if(!i.suppressContentEditableWarning&&i.contentEditable&&i.children!=null&&u("A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."),i.style!=null&&typeof i.style!="object")throw new Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.")}}function Vl(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dp={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback",download:"download",draggable:"draggable",enctype:"encType",enterkeyhint:"enterKeyHint",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",imagesizes:"imageSizes",imagesrcset:"imageSrcSet",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},Mm={"aria-current":0,"aria-description":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},af={},C3=new RegExp("^(aria)-["+st+"]*$"),of=new RegExp("^(aria)[A-Z]["+st+"]*$");function Wy(s,i){{if(Rt.call(af,i)&&af[i])return!0;if(of.test(i)){var m="aria-"+i.slice(4).toLowerCase(),v=Mm.hasOwnProperty(m)?m:null;if(v==null)return u("Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.",i),af[i]=!0,!0;if(i!==v)return u("Invalid ARIA attribute `%s`. Did you mean `%s`?",i,v),af[i]=!0,!0}if(C3.test(i)){var w=i.toLowerCase(),T=Mm.hasOwnProperty(w)?w:null;if(T==null)return af[i]=!0,!1;if(i!==T)return u("Unknown ARIA attribute `%s`. Did you mean `%s`?",i,T),af[i]=!0,!0}}return!0}function Op(s,i){{var m=[];for(var v in i){var w=Wy(s,v);w||m.push(v)}var T=m.map(function(D){return"`"+D+"`"}).join(", ");m.length===1?u("Invalid aria prop %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",T,s):m.length>1&&u("Invalid aria props %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",T,s)}}function jy(s,i){Vl(s,i)||Op(s,i)}var Gy=!1;function $m(s,i){{if(s!=="input"&&s!=="textarea"&&s!=="select")return;i!=null&&i.value===null&&!Gy&&(Gy=!0,s==="select"&&i.multiple?u("`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.",s):u("`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.",s))}}var Vc=function(){};{var So={},qy=/^on./,Fm=/^on[^A-Z]/,cE=new RegExp("^(aria)-["+st+"]*$"),dE=new RegExp("^(aria)[A-Z]["+st+"]*$");Vc=function(s,i,m,v){if(Rt.call(So,i)&&So[i])return!0;var w=i.toLowerCase();if(w==="onfocusin"||w==="onfocusout")return u("React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."),So[i]=!0,!0;if(v!=null){var T=v.registrationNameDependencies,D=v.possibleRegistrationNames;if(T.hasOwnProperty(i))return!0;var P=D.hasOwnProperty(w)?D[w]:null;if(P!=null)return u("Invalid event handler property `%s`. Did you mean `%s`?",i,P),So[i]=!0,!0;if(qy.test(i))return u("Unknown event handler property `%s`. It will be ignored.",i),So[i]=!0,!0}else if(qy.test(i))return Fm.test(i)&&u("Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.",i),So[i]=!0,!0;if(cE.test(i)||dE.test(i))return!0;if(w==="innerhtml")return u("Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),So[i]=!0,!0;if(w==="aria")return u("The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead."),So[i]=!0,!0;if(w==="is"&&m!==null&&m!==void 0&&typeof m!="string")return u("Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.",typeof m),So[i]=!0,!0;if(typeof m=="number"&&isNaN(m))return u("Received NaN for the `%s` attribute. If this is expected, cast the value to a string.",i),So[i]=!0,!0;var H=Xn(i),X=H!==null&&H.type===bn;if(Dp.hasOwnProperty(w)){var ne=Dp[w];if(ne!==i)return u("Invalid DOM property `%s`. Did you mean `%s`?",i,ne),So[i]=!0,!0}else if(!X&&i!==w)return u("React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.",i,w),So[i]=!0,!0;return typeof m=="boolean"&&sr(i,m,H,!1)?(m?u('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.',m,i,i,m,i):u('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.',m,i,i,m,i,i,i),So[i]=!0,!0):X?!0:sr(i,m,H,!1)?(So[i]=!0,!1):((m==="false"||m==="true")&&H!==null&&H.type===gn&&(u("Received the string `%s` for the boolean attribute `%s`. %s Did you mean %s={%s}?",m,i,m==="false"?"The browser will interpret it as a truthy value.":'Although this works, it will not work as expected if you pass the string "false".',i,m),So[i]=!0),!0)}}var fE=function(s,i,m){{var v=[];for(var w in i){var T=Vc(s,w,i[w],m);T||v.push(w)}var D=v.map(function(P){return"`"+P+"`"}).join(", ");v.length===1?u("Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",D,s):v.length>1&&u("Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",D,s)}};function pE(s,i,m){Vl(s,i)||fE(s,i,m)}var Ky=1,Pm=2,_i=4,Yy=Ky|Pm|_i,Wc=null;function k3(s){Wc!==null&&u("Expected currently replaying event to be null. This error is likely caused by a bug in React. Please file an issue."),Wc=s}function _3(){Wc===null&&u("Expected currently replaying event to not be null. This error is likely caused by a bug in React. Please file an issue."),Wc=null}function Mp(s){return s===Wc}function Xy(s){var i=s.target||s.srcElement||window;return i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===tl?i.parentNode:i}var Lm=null,jc=null,Ir=null;function Bm(s){var i=Tf(s);if(i){if(typeof Lm!="function")throw new Error("setRestoreImplementation() needs to be called to handle a target for controlled events. This error is likely caused by a bug in React. Please file an issue.");var m=i.stateNode;if(m){var v=Ex(m);Lm(i.stateNode,i.type,v)}}}function zm(s){Lm=s}function sf(s){jc?Ir?Ir.push(s):Ir=[s]:jc=s}function hE(){return jc!==null||Ir!==null}function Um(){if(jc){var s=jc,i=Ir;if(jc=null,Ir=null,Bm(s),i)for(var m=0;m<i.length;m++)Bm(i[m])}}var uf=function(s,i){return s(i)},$p=function(){},Wl=!1;function mE(){var s=hE();s&&($p(),Um())}function gE(s,i,m){if(Wl)return s(i,m);Wl=!0;try{return uf(s,i,m)}finally{Wl=!1,mE()}}function T3(s,i,m){uf=s,$p=m}function vE(s){return s==="button"||s==="input"||s==="select"||s==="textarea"}function Hm(s,i,m){switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":return!!(m.disabled&&vE(i));default:return!1}}function jl(s,i){var m=s.stateNode;if(m===null)return null;var v=Ex(m);if(v===null)return null;var w=v[i];if(Hm(i,s.type,v))return null;if(w&&typeof w!="function")throw new Error("Expected `"+i+"` listener to be a function, instead got a value of `"+typeof w+"` type.");return w}var Fp=!1;if(St)try{var Gc={};Object.defineProperty(Gc,"passive",{get:function(){Fp=!0}}),window.addEventListener("test",Gc,Gc),window.removeEventListener("test",Gc,Gc)}catch{Fp=!1}function Vm(s,i,m,v,w,T,D,P,H){var X=Array.prototype.slice.call(arguments,3);try{i.apply(m,X)}catch(ne){this.onError(ne)}}var Wm=Vm;if(typeof window<"u"&&typeof window.dispatchEvent=="function"&&typeof document<"u"&&typeof document.createEvent=="function"){var Qy=document.createElement("react");Wm=function(i,m,v,w,T,D,P,H,X){if(typeof document>"u"||document===null)throw new Error("The `document` global was defined when React was initialized, but is not defined anymore. This can happen in a test environment if a component schedules an update from an asynchronous callback, but the test has already finished running. To solve this, you can either unmount the component at the end of your test (and ensure that any asynchronous operations get canceled in `componentWillUnmount`), or you can change the test itself to be asynchronous.");var ne=document.createEvent("Event"),xe=!1,we=!0,Fe=window.event,Be=Object.getOwnPropertyDescriptor(window,"event");function We(){Qy.removeEventListener(je,tn,!1),typeof window.event<"u"&&window.hasOwnProperty("event")&&(window.event=Fe)}var bt=Array.prototype.slice.call(arguments,3);function tn(){xe=!0,We(),m.apply(v,bt),we=!1}var Wt,ar=!1,jn=!1;function Ne(Ae){if(Wt=Ae.error,ar=!0,Wt===null&&Ae.colno===0&&Ae.lineno===0&&(jn=!0),Ae.defaultPrevented&&Wt!=null&&typeof Wt=="object")try{Wt._suppressLogging=!0}catch{}}var je="react-"+(i||"invokeguardedcallback");if(window.addEventListener("error",Ne),Qy.addEventListener(je,tn,!1),ne.initEvent(je,!1,!1),Qy.dispatchEvent(ne),Be&&Object.defineProperty(window,"event",Be),xe&&we&&(ar?jn&&(Wt=new Error("A cross-origin error was thrown. React doesn't have access to the actual error object in development. See https://reactjs.org/link/crossorigin-error for more information.")):Wt=new Error(`An error was thrown inside one of your components, but React doesn't know what it was. This is likely due to browser flakiness. React does its best to preserve the "Pause on exceptions" behavior of the DevTools, which requires some DEV-mode only tricks. It's possible that these don't work in your browser. Try triggering the error in production mode, or switching to a modern browser. If you suspect that this is actually an issue with React, please file an issue.`),this.onError(Wt)),window.removeEventListener("error",Ne),!xe)return We(),Vm.apply(this,arguments)}}var yE=Wm,lf=!1,jm=null,cf=!1,Eu=null,bE={onError:function(s){lf=!0,jm=s}};function Gl(s,i,m,v,w,T,D,P,H){lf=!1,jm=null,yE.apply(bE,arguments)}function xu(s,i,m,v,w,T,D,P,H){if(Gl.apply(this,arguments),lf){var X=Lp();cf||(cf=!0,Eu=X)}}function Pp(){if(cf){var s=Eu;throw cf=!1,Eu=null,s}}function rl(){return lf}function Lp(){if(lf){var s=jm;return lf=!1,jm=null,s}else throw new Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.")}function df(s){return s._reactInternals}function I3(s){return s._reactInternals!==void 0}function qc(s,i){s._reactInternals=i}var Yt=0,nu=1,fa=2,tr=4,Ti=16,Ii=32,qr=64,qt=128,Wo=256,wa=512,Ja=1024,Ts=2048,Is=4096,Ba=8192,ff=16384,SE=32767,Bp=32768,uo=65536,Gm=131072,Cu=1048576,pf=2097152,al=4194304,qm=8388608,ql=16777216,ku=33554432,Kl=tr|Ja|0,Yl=fa|tr|Ti|Ii|wa|Is|Ba,Xl=tr|qr|wa|Ba,ol=Ts|Ti,za=al|qm|pf,Ri=n.ReactCurrentOwner;function ri(s){var i=s,m=s;if(s.alternate)for(;i.return;)i=i.return;else{var v=i;do i=v,(i.flags&(fa|Is))!==Yt&&(m=i.return),v=i.return;while(v)}return i.tag===g?m:null}function _u(s){if(s.tag===L){var i=s.memoizedState;if(i===null){var m=s.alternate;m!==null&&(i=m.memoizedState)}if(i!==null)return i.dehydrated}return null}function Tu(s){return s.tag===g?s.stateNode.containerInfo:null}function Kc(s){return ri(s)===s}function wE(s){{var i=Ri.current;if(i!==null&&i.tag===p){var m=i,v=m.stateNode;v._warnedAboutRefsInRender||u("%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",en(m)||"A component"),v._warnedAboutRefsInRender=!0}}var w=df(s);return w?ri(w)===w:!1}function Km(s){if(ri(s)!==s)throw new Error("Unable to find node on an unmounted component.")}function Ym(s){var i=s.alternate;if(!i){var m=ri(s);if(m===null)throw new Error("Unable to find node on an unmounted component.");return m!==s?null:s}for(var v=s,w=i;;){var T=v.return;if(T===null)break;var D=T.alternate;if(D===null){var P=T.return;if(P!==null){v=w=P;continue}break}if(T.child===D.child){for(var H=T.child;H;){if(H===v)return Km(T),s;if(H===w)return Km(T),i;H=H.sibling}throw new Error("Unable to find node on an unmounted component.")}if(v.return!==w.return)v=T,w=D;else{for(var X=!1,ne=T.child;ne;){if(ne===v){X=!0,v=T,w=D;break}if(ne===w){X=!0,w=T,v=D;break}ne=ne.sibling}if(!X){for(ne=D.child;ne;){if(ne===v){X=!0,v=D,w=T;break}if(ne===w){X=!0,w=D,v=T;break}ne=ne.sibling}if(!X)throw new Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(v.alternate!==w)throw new Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(v.tag!==g)throw new Error("Unable to find node on an unmounted component.");return v.stateNode.current===v?s:i}function Rs(s){var i=Ym(s);return i!==null?Ns(i):null}function Ns(s){if(s.tag===S||s.tag===E)return s;for(var i=s.child;i!==null;){var m=Ns(i);if(m!==null)return m;i=i.sibling}return null}function aa(s){var i=Ym(s);return i!==null?Ni(i):null}function Ni(s){if(s.tag===S||s.tag===E)return s;for(var i=s.child;i!==null;){if(i.tag!==y){var m=Ni(i);if(m!==null)return m}i=i.sibling}return null}var Jy=e.unstable_scheduleCallback,EE=e.unstable_cancelCallback,Zy=e.unstable_shouldYield,eb=e.unstable_requestPaint,Za=e.unstable_now,Xm=e.unstable_getCurrentPriorityLevel,zp=e.unstable_ImmediatePriority,Ql=e.unstable_UserBlockingPriority,sl=e.unstable_NormalPriority,R3=e.unstable_LowPriority,Yc=e.unstable_IdlePriority,Qm=e.unstable_yieldValue,xE=e.unstable_setDisableYieldValue,Xc=null,Ta=null,yt=null,ai=!1,As=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u";function hf(s){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")return!1;var i=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(i.isDisabled)return!0;if(!i.supportsFiber)return u("The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://reactjs.org/link/react-devtools"),!0;try{ke&&(s=En({},s,{getLaneLabelMap:Qc,injectProfilingHooks:Ai})),Xc=i.inject(s),Ta=i}catch(m){u("React instrumentation encountered an error: %s.",m)}return!!i.checkDCE}function tb(s,i){if(Ta&&typeof Ta.onScheduleFiberRoot=="function")try{Ta.onScheduleFiberRoot(Xc,s,i)}catch(m){ai||(ai=!0,u("React instrumentation encountered an error: %s",m))}}function nb(s,i){if(Ta&&typeof Ta.onCommitFiberRoot=="function")try{var m=(s.current.flags&qt)===qt;if(Ce){var v;switch(i){case ns:v=zp;break;case Ru:v=Ql;break;case Di:v=sl;break;case Oi:v=Yc;break;default:v=sl;break}Ta.onCommitFiberRoot(Xc,s,v,m)}}catch(w){ai||(ai=!0,u("React instrumentation encountered an error: %s",w))}}function rb(s){if(Ta&&typeof Ta.onPostCommitFiberRoot=="function")try{Ta.onPostCommitFiberRoot(Xc,s)}catch(i){ai||(ai=!0,u("React instrumentation encountered an error: %s",i))}}function ab(s){if(Ta&&typeof Ta.onCommitFiberUnmount=="function")try{Ta.onCommitFiberUnmount(Xc,s)}catch(i){ai||(ai=!0,u("React instrumentation encountered an error: %s",i))}}function pa(s){if(typeof Qm=="function"&&(xE(s),a(s)),Ta&&typeof Ta.setStrictMode=="function")try{Ta.setStrictMode(Xc,s)}catch(i){ai||(ai=!0,u("React instrumentation encountered an error: %s",i))}}function Ai(s){yt=s}function Qc(){{for(var s=new Map,i=1,m=0;m<ed;m++){var v=TE(i);s.set(i,v),i*=2}return s}}function ob(s){yt!==null&&typeof yt.markCommitStarted=="function"&&yt.markCommitStarted(s)}function sb(){yt!==null&&typeof yt.markCommitStopped=="function"&&yt.markCommitStopped()}function oi(s){yt!==null&&typeof yt.markComponentRenderStarted=="function"&&yt.markComponentRenderStarted(s)}function si(){yt!==null&&typeof yt.markComponentRenderStopped=="function"&&yt.markComponentRenderStopped()}function ib(s){yt!==null&&typeof yt.markComponentPassiveEffectMountStarted=="function"&&yt.markComponentPassiveEffectMountStarted(s)}function CE(){yt!==null&&typeof yt.markComponentPassiveEffectMountStopped=="function"&&yt.markComponentPassiveEffectMountStopped()}function il(s){yt!==null&&typeof yt.markComponentPassiveEffectUnmountStarted=="function"&&yt.markComponentPassiveEffectUnmountStarted(s)}function Jl(){yt!==null&&typeof yt.markComponentPassiveEffectUnmountStopped=="function"&&yt.markComponentPassiveEffectUnmountStopped()}function Jm(s){yt!==null&&typeof yt.markComponentLayoutEffectMountStarted=="function"&&yt.markComponentLayoutEffectMountStarted(s)}function kE(){yt!==null&&typeof yt.markComponentLayoutEffectMountStopped=="function"&&yt.markComponentLayoutEffectMountStopped()}function Up(s){yt!==null&&typeof yt.markComponentLayoutEffectUnmountStarted=="function"&&yt.markComponentLayoutEffectUnmountStarted(s)}function ub(){yt!==null&&typeof yt.markComponentLayoutEffectUnmountStopped=="function"&&yt.markComponentLayoutEffectUnmountStopped()}function Hp(s,i,m){yt!==null&&typeof yt.markComponentErrored=="function"&&yt.markComponentErrored(s,i,m)}function Iu(s,i,m){yt!==null&&typeof yt.markComponentSuspended=="function"&&yt.markComponentSuspended(s,i,m)}function Vp(s){yt!==null&&typeof yt.markLayoutEffectsStarted=="function"&&yt.markLayoutEffectsStarted(s)}function Wp(){yt!==null&&typeof yt.markLayoutEffectsStopped=="function"&&yt.markLayoutEffectsStopped()}function Jc(s){yt!==null&&typeof yt.markPassiveEffectsStarted=="function"&&yt.markPassiveEffectsStarted(s)}function lb(){yt!==null&&typeof yt.markPassiveEffectsStopped=="function"&&yt.markPassiveEffectsStopped()}function Zc(s){yt!==null&&typeof yt.markRenderStarted=="function"&&yt.markRenderStarted(s)}function _E(){yt!==null&&typeof yt.markRenderYielded=="function"&&yt.markRenderYielded()}function Zm(){yt!==null&&typeof yt.markRenderStopped=="function"&&yt.markRenderStopped()}function ha(s){yt!==null&&typeof yt.markRenderScheduled=="function"&&yt.markRenderScheduled(s)}function eg(s,i){yt!==null&&typeof yt.markForceUpdateScheduled=="function"&&yt.markForceUpdateScheduled(s,i)}function jp(s,i){yt!==null&&typeof yt.markStateUpdateScheduled=="function"&&yt.markStateUpdateScheduled(s,i)}var Xt=0,Pn=1,mr=2,Dr=8,gr=16,Ua=Math.clz32?Math.clz32:Gp,lo=Math.log,tg=Math.LN2;function Gp(s){var i=s>>>0;return i===0?32:31-(lo(i)/tg|0)|0}var ed=31,Ze=0,dr=0,cn=1,Zl=2,ru=4,jo=8,Ia=16,ul=32,ec=4194240,td=64,ng=128,rg=256,ag=512,og=1024,sg=2048,ig=4096,ug=8192,lg=16384,nd=32768,cg=65536,mf=131072,gf=262144,dg=524288,qp=1048576,fg=2097152,Kp=130023424,rd=4194304,pg=8388608,Yp=16777216,hg=33554432,mg=67108864,cb=rd,Xp=134217728,db=268435455,Qp=268435456,ad=536870912,Ds=1073741824;function TE(s){{if(s&cn)return"Sync";if(s&Zl)return"InputContinuousHydration";if(s&ru)return"InputContinuous";if(s&jo)return"DefaultHydration";if(s&Ia)return"Default";if(s&ul)return"TransitionHydration";if(s&ec)return"Transition";if(s&Kp)return"Retry";if(s&Xp)return"SelectiveHydration";if(s&Qp)return"IdleHydration";if(s&ad)return"Idle";if(s&Ds)return"Offscreen"}}var Br=-1,od=td,gg=rd;function Jp(s){switch(tc(s)){case cn:return cn;case Zl:return Zl;case ru:return ru;case jo:return jo;case Ia:return Ia;case ul:return ul;case td:case ng:case rg:case ag:case og:case sg:case ig:case ug:case lg:case nd:case cg:case mf:case gf:case dg:case qp:case fg:return s&ec;case rd:case pg:case Yp:case hg:case mg:return s&Kp;case Xp:return Xp;case Qp:return Qp;case ad:return ad;case Ds:return Ds;default:return u("Should have found matching lanes. This is a bug in React."),s}}function vg(s,i){var m=s.pendingLanes;if(m===Ze)return Ze;var v=Ze,w=s.suspendedLanes,T=s.pingedLanes,D=m&db;if(D!==Ze){var P=D&~w;if(P!==Ze)v=Jp(P);else{var H=D&T;H!==Ze&&(v=Jp(H))}}else{var X=m&~w;X!==Ze?v=Jp(X):T!==Ze&&(v=Jp(T))}if(v===Ze)return Ze;if(i!==Ze&&i!==v&&(i&w)===Ze){var ne=tc(v),xe=tc(i);if(ne>=xe||ne===Ia&&(xe&ec)!==Ze)return i}(v&ru)!==Ze&&(v|=m&Ia);var we=s.entangledLanes;if(we!==Ze)for(var Fe=s.entanglements,Be=v&we;Be>0;){var We=Ha(Be),bt=1<<We;v|=Fe[We],Be&=~bt}return v}function au(s,i){for(var m=s.eventTimes,v=Br;i>0;){var w=Ha(i),T=1<<w,D=m[w];D>v&&(v=D),i&=~T}return v}function fb(s,i){switch(s){case cn:case Zl:case ru:return i+250;case jo:case Ia:case ul:case td:case ng:case rg:case ag:case og:case sg:case ig:case ug:case lg:case nd:case cg:case mf:case gf:case dg:case qp:case fg:return i+5e3;case rd:case pg:case Yp:case hg:case mg:return Br;case Xp:case Qp:case ad:case Ds:return Br;default:return u("Should have found matching lanes. This is a bug in React."),Br}}function yg(s,i){for(var m=s.pendingLanes,v=s.suspendedLanes,w=s.pingedLanes,T=s.expirationTimes,D=m;D>0;){var P=Ha(D),H=1<<P,X=T[P];X===Br?((H&v)===Ze||(H&w)!==Ze)&&(T[P]=fb(H,i)):X<=i&&(s.expiredLanes|=H),D&=~H}}function IE(s){return Jp(s.pendingLanes)}function bg(s){var i=s.pendingLanes&~Ds;return i!==Ze?i:i&Ds?Ds:Ze}function RE(s){return(s&cn)!==Ze}function Zp(s){return(s&db)!==Ze}function sd(s){return(s&Kp)===s}function pb(s){var i=cn|ru|Ia;return(s&i)===Ze}function hb(s){return(s&ec)===s}function Sg(s,i){var m=Zl|ru|jo|Ia;return(i&m)!==Ze}function NE(s,i){return(i&s.expiredLanes)!==Ze}function mb(s){return(s&ec)!==Ze}function gb(){var s=od;return od<<=1,(od&ec)===Ze&&(od=td),s}function AE(){var s=gg;return gg<<=1,(gg&Kp)===Ze&&(gg=rd),s}function tc(s){return s&-s}function eh(s){return tc(s)}function Ha(s){return 31-Ua(s)}function wo(s){return Ha(s)}function Os(s,i){return(s&i)!==Ze}function id(s,i){return(s&i)===i}function An(s,i){return s|i}function th(s,i){return s&~i}function vb(s,i){return s&i}function DE(s){return s}function OE(s,i){return s!==dr&&s<i?s:i}function nh(s){for(var i=[],m=0;m<ed;m++)i.push(s);return i}function vf(s,i,m){s.pendingLanes|=i,i!==ad&&(s.suspendedLanes=Ze,s.pingedLanes=Ze);var v=s.eventTimes,w=wo(i);v[w]=m}function ME(s,i){s.suspendedLanes|=i,s.pingedLanes&=~i;for(var m=s.expirationTimes,v=i;v>0;){var w=Ha(v),T=1<<w;m[w]=Br,v&=~T}}function wg(s,i,m){s.pingedLanes|=s.suspendedLanes&i}function yb(s,i){var m=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=Ze,s.pingedLanes=Ze,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i;for(var v=s.entanglements,w=s.eventTimes,T=s.expirationTimes,D=m;D>0;){var P=Ha(D),H=1<<P;v[P]=Ze,w[P]=Br,T[P]=Br,D&=~H}}function Eg(s,i){for(var m=s.entangledLanes|=i,v=s.entanglements,w=m;w;){var T=Ha(w),D=1<<T;D&i|v[T]&i&&(v[T]|=i),w&=~D}}function bb(s,i){var m=tc(i),v;switch(m){case ru:v=Zl;break;case Ia:v=jo;break;case td:case ng:case rg:case ag:case og:case sg:case ig:case ug:case lg:case nd:case cg:case mf:case gf:case dg:case qp:case fg:case rd:case pg:case Yp:case hg:case mg:v=ul;break;case ad:v=Qp;break;default:v=dr;break}return(v&(s.suspendedLanes|i))!==dr?dr:v}function rh(s,i,m){if(As)for(var v=s.pendingUpdatersLaneMap;m>0;){var w=wo(m),T=1<<w,D=v[w];D.add(i),m&=~T}}function $E(s,i){if(As)for(var m=s.pendingUpdatersLaneMap,v=s.memoizedUpdaters;i>0;){var w=wo(i),T=1<<w,D=m[w];D.size>0&&(D.forEach(function(P){var H=P.alternate;(H===null||!v.has(H))&&v.add(P)}),D.clear()),i&=~T}}function Sb(s,i){return null}var ns=cn,Ru=ru,Di=Ia,Oi=ad,ah=dr;function Mi(){return ah}function Va(s){ah=s}function FE(s,i){var m=ah;try{return ah=s,i()}finally{ah=m}}function PE(s,i){return s!==0&&s<i?s:i}function oh(s,i){return s>i?s:i}function co(s,i){return s!==0&&s<i}function LE(s){var i=tc(s);return co(ns,i)?co(Ru,i)?Zp(i)?Di:Oi:Ru:ns}function xg(s){var i=s.current.memoizedState;return i.isDehydrated}var sh;function Go(s){sh=s}function N3(s){sh(s)}var At;function yf(s){At=s}var Cg;function BE(s){Cg=s}var zE;function ih(s){zE=s}var uh;function wb(s){uh=s}var kg=!1,lh=[],ll=null,Nu=null,Au=null,Ra=new Map,rs=new Map,as=[],UE=["mousedown","mouseup","touchcancel","touchend","touchstart","auxclick","dblclick","pointercancel","pointerdown","pointerup","dragend","dragstart","drop","compositionend","compositionstart","keydown","keypress","keyup","input","textInput","copy","cut","paste","click","change","contextmenu","reset","submit"];function HE(s){return UE.indexOf(s)>-1}function ou(s,i,m,v,w){return{blockedOn:s,domEventName:i,eventSystemFlags:m,nativeEvent:w,targetContainers:[v]}}function Eb(s,i){switch(s){case"focusin":case"focusout":ll=null;break;case"dragenter":case"dragleave":Nu=null;break;case"mouseover":case"mouseout":Au=null;break;case"pointerover":case"pointerout":{var m=i.pointerId;Ra.delete(m);break}case"gotpointercapture":case"lostpointercapture":{var v=i.pointerId;rs.delete(v);break}}}function Ms(s,i,m,v,w,T){if(s===null||s.nativeEvent!==T){var D=ou(i,m,v,w,T);if(i!==null){var P=Tf(i);P!==null&&At(P)}return D}s.eventSystemFlags|=v;var H=s.targetContainers;return w!==null&&H.indexOf(w)===-1&&H.push(w),s}function A3(s,i,m,v,w){switch(i){case"focusin":{var T=w;return ll=Ms(ll,s,i,m,v,T),!0}case"dragenter":{var D=w;return Nu=Ms(Nu,s,i,m,v,D),!0}case"mouseover":{var P=w;return Au=Ms(Au,s,i,m,v,P),!0}case"pointerover":{var H=w,X=H.pointerId;return Ra.set(X,Ms(Ra.get(X)||null,s,i,m,v,H)),!0}case"gotpointercapture":{var ne=w,xe=ne.pointerId;return rs.set(xe,Ms(rs.get(xe)||null,s,i,m,v,ne)),!0}}return!1}function xb(s){var i=wh(s.target);if(i!==null){var m=ri(i);if(m!==null){var v=m.tag;if(v===L){var w=_u(m);if(w!==null){s.blockedOn=w,uh(s.priority,function(){Cg(m)});return}}else if(v===g){var T=m.stateNode;if(xg(T)){s.blockedOn=Tu(m);return}}}}s.blockedOn=null}function VE(s){for(var i=zE(),m={blockedOn:null,target:s,priority:i},v=0;v<as.length&&co(i,as[v].priority);v++);as.splice(v,0,m),v===0&&xb(m)}function ch(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;i.length>0;){var m=i[0],v=Sf(s.domEventName,s.eventSystemFlags,m,s.nativeEvent);if(v===null){var w=s.nativeEvent,T=new w.constructor(w.type,w);k3(T),w.target.dispatchEvent(T),_3()}else{var D=Tf(v);return D!==null&&At(D),s.blockedOn=v,!1}i.shift()}return!0}function Cb(s,i,m){ch(s)&&m.delete(i)}function D3(){kg=!1,ll!==null&&ch(ll)&&(ll=null),Nu!==null&&ch(Nu)&&(Nu=null),Au!==null&&ch(Au)&&(Au=null),Ra.forEach(Cb),rs.forEach(Cb)}function nc(s,i){s.blockedOn===i&&(s.blockedOn=null,kg||(kg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,D3)))}function ud(s){if(lh.length>0){nc(lh[0],s);for(var i=1;i<lh.length;i++){var m=lh[i];m.blockedOn===s&&(m.blockedOn=null)}}ll!==null&&nc(ll,s),Nu!==null&&nc(Nu,s),Au!==null&&nc(Au,s);var v=function(P){return nc(P,s)};Ra.forEach(v),rs.forEach(v);for(var w=0;w<as.length;w++){var T=as[w];T.blockedOn===s&&(T.blockedOn=null)}for(;as.length>0;){var D=as[0];if(D.blockedOn!==null)break;xb(D),D.blockedOn===null&&as.shift()}}var Eo=n.ReactCurrentBatchConfig,nr=!0;function eo(s){nr=!!s}function Wa(){return nr}function xo(s,i,m){var v=_g(i),w;switch(v){case ns:w=ii;break;case Ru:w=bf;break;case Di:default:w=Na;break}return w.bind(null,i,m,s)}function ii(s,i,m,v){var w=Mi(),T=Eo.transition;Eo.transition=null;try{Va(ns),Na(s,i,m,v)}finally{Va(w),Eo.transition=T}}function bf(s,i,m,v){var w=Mi(),T=Eo.transition;Eo.transition=null;try{Va(Ru),Na(s,i,m,v)}finally{Va(w),Eo.transition=T}}function Na(s,i,m,v){nr&&dh(s,i,m,v)}function dh(s,i,m,v){var w=Sf(s,i,m,v);if(w===null){Y3(s,i,v,Du,m),Eb(s,v);return}if(A3(w,s,i,m,v)){v.stopPropagation();return}if(Eb(s,v),i&_i&&HE(s)){for(;w!==null;){var T=Tf(w);T!==null&&N3(T);var D=Sf(s,i,m,v);if(D===null&&Y3(s,i,v,Du,m),D===w)break;w=D}w!==null&&v.stopPropagation();return}Y3(s,i,v,null,m)}var Du=null;function Sf(s,i,m,v){Du=null;var w=Xy(v),T=wh(w);if(T!==null){var D=ri(T);if(D===null)T=null;else{var P=D.tag;if(P===L){var H=_u(D);if(H!==null)return H;T=null}else if(P===g){var X=D.stateNode;if(xg(X))return Tu(D);T=null}else D!==T&&(T=null)}}return Du=T,null}function _g(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return ns;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return Ru;case"message":{var i=Xm();switch(i){case zp:return ns;case Ql:return Ru;case sl:case R3:return Di;case Yc:return Oi;default:return Di}}default:return Di}}function fh(s,i,m){return s.addEventListener(i,m,!1),m}function $s(s,i,m){return s.addEventListener(i,m,!0),m}function kb(s,i,m,v){return s.addEventListener(i,m,{capture:!0,passive:v}),m}function wf(s,i,m,v){return s.addEventListener(i,m,{passive:v}),m}var ui=null,Ef=null,ld=null;function rc(s){return ui=s,Ef=ph(),!0}function Tg(){ui=null,Ef=null,ld=null}function cl(){if(ld)return ld;var s,i=Ef,m=i.length,v,w=ph(),T=w.length;for(s=0;s<m&&i[s]===w[s];s++);var D=m-s;for(v=1;v<=D&&i[m-v]===w[T-v];v++);var P=v>1?1-v:void 0;return ld=w.slice(s,P),ld}function ph(){return"value"in ui?ui.value:ui.textContent}function ac(s){var i,m=s.keyCode;return"charCode"in s?(i=s.charCode,i===0&&m===13&&(i=13)):i=m,i===10&&(i=13),i>=32||i===13?i:0}function xf(){return!0}function hh(){return!1}function qo(s){function i(m,v,w,T,D){this._reactName=m,this._targetInst=w,this.type=v,this.nativeEvent=T,this.target=D,this.currentTarget=null;for(var P in s)if(s.hasOwnProperty(P)){var H=s[P];H?this[P]=H(T):this[P]=T[P]}var X=T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1;return X?this.isDefaultPrevented=xf:this.isDefaultPrevented=hh,this.isPropagationStopped=hh,this}return En(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=xf)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=xf)},persist:function(){},isPersistent:xf}),i}var ja={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ou=qo(ja),os=En({},ja,{view:0,detail:0}),Fs=qo(os),Ig,mh,cd;function O3(s){s!==cd&&(cd&&s.type==="mousemove"?(Ig=s.screenX-cd.screenX,mh=s.screenY-cd.screenY):(Ig=0,mh=0),cd=s)}var su=En({},os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oa,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(O3(s),Ig)},movementY:function(s){return"movementY"in s?s.movementY:mh}}),_b=qo(su),Tb=En({},su,{dataTransfer:0}),dd=qo(Tb),Ib=En({},os,{relatedTarget:0}),dl=qo(Ib),WE=En({},ja,{animationName:0,elapsedTime:0,pseudoElement:0}),jE=qo(WE),Rb=En({},ja,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Rg=qo(Rb),M3=En({},ja,{data:0}),GE=qo(M3),qE=GE,KE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};function $3(s){if(s.key){var i=KE[s.key]||s.key;if(i!=="Unidentified")return i}if(s.type==="keypress"){var m=ac(s);return m===13?"Enter":String.fromCharCode(m)}return s.type==="keydown"||s.type==="keyup"?fd[s.keyCode]||"Unidentified":""}var Cf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YE(s){var i=this,m=i.nativeEvent;if(m.getModifierState)return m.getModifierState(s);var v=Cf[s];return v?!!m[v]:!1}function oa(s){return YE}var F3=En({},os,{key:$3,code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oa,charCode:function(s){return s.type==="keypress"?ac(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ac(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),XE=qo(F3),P3=En({},su,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),QE=qo(P3),JE=En({},os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oa}),ZE=qo(JE),L3=En({},ja,{propertyName:0,elapsedTime:0,pseudoElement:0}),$i=qo(L3),Nb=En({},su,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),B3=qo(Nb),oc=[9,13,27,32],gh=229,fl=St&&"CompositionEvent"in window,sc=null;St&&"documentMode"in document&&(sc=document.documentMode);var Ab=St&&"TextEvent"in window&&!sc,Ng=St&&(!fl||sc&&sc>8&&sc<=11),ex=32,Ag=String.fromCharCode(ex);function z3(){Xe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xe("onCompositionEnd",["compositionend","focusout","keydown","keypress","keyup","mousedown"]),Xe("onCompositionStart",["compositionstart","focusout","keydown","keypress","keyup","mousedown"]),Xe("onCompositionUpdate",["compositionupdate","focusout","keydown","keypress","keyup","mousedown"])}var Db=!1;function tx(s){return(s.ctrlKey||s.altKey||s.metaKey)&&!(s.ctrlKey&&s.altKey)}function Dg(s){switch(s){case"compositionstart":return"onCompositionStart";case"compositionend":return"onCompositionEnd";case"compositionupdate":return"onCompositionUpdate"}}function Og(s,i){return s==="keydown"&&i.keyCode===gh}function Ob(s,i){switch(s){case"keyup":return oc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==gh;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mg(s){var i=s.detail;return typeof i=="object"&&"data"in i?i.data:null}function nx(s){return s.locale==="ko"}var pd=!1;function Mb(s,i,m,v,w){var T,D;if(fl?T=Dg(i):pd?Ob(i,v)&&(T="onCompositionEnd"):Og(i,v)&&(T="onCompositionStart"),!T)return null;Ng&&!nx(v)&&(!pd&&T==="onCompositionStart"?pd=rc(w):T==="onCompositionEnd"&&pd&&(D=cl()));var P=lx(m,T);if(P.length>0){var H=new GE(T,i,null,v,w);if(s.push({event:H,listeners:P}),D)H.data=D;else{var X=Mg(v);X!==null&&(H.data=X)}}}function $g(s,i){switch(s){case"compositionend":return Mg(i);case"keypress":var m=i.which;return m!==ex?null:(Db=!0,Ag);case"textInput":var v=i.data;return v===Ag&&Db?null:v;default:return null}}function $b(s,i){if(pd){if(s==="compositionend"||!fl&&Ob(s,i)){var m=cl();return Tg(),pd=!1,m}return null}switch(s){case"paste":return null;case"keypress":if(!tx(i)){if(i.char&&i.char.length>1)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ng&&!nx(i)?null:i.data;default:return null}}function Fg(s,i,m,v,w){var T;if(Ab?T=$g(i,v):T=$b(i,v),!T)return null;var D=lx(m,"onBeforeInput");if(D.length>0){var P=new qE("onBeforeInput","beforeinput",null,v,w);s.push({event:P,listeners:D}),P.data=T}}function rx(s,i,m,v,w,T,D){Mb(s,i,m,v,w),Fg(s,i,m,v,w)}var U3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vh(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!U3[s.type]:i==="textarea"}/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function H3(s){if(!St)return!1;var i="on"+s,m=i in document;if(!m){var v=document.createElement("div");v.setAttribute(i,"return;"),m=typeof v[i]=="function"}return m}function yh(){Xe("onChange",["change","click","focusin","focusout","input","keydown","keyup","selectionchange"])}function ax(s,i,m,v){sf(v);var w=lx(i,"onChange");if(w.length>0){var T=new Ou("onChange","change",null,m,v);s.push({event:T,listeners:w})}}var ic=null,d=null;function h(s){var i=s.nodeName&&s.nodeName.toLowerCase();return i==="select"||i==="input"&&s.type==="file"}function b(s){var i=[];ax(i,d,s,Xy(s)),gE(C,i)}function C(s){CB(s,0)}function N(s){var i=Hg(s);if(es(i))return s}function $(s,i){if(s==="change")return i}var G=!1;St&&(G=H3("input")&&(!document.documentMode||document.documentMode>9));function se(s,i){ic=s,d=i,ic.attachEvent("onpropertychange",Pe)}function be(){ic&&(ic.detachEvent("onpropertychange",Pe),ic=null,d=null)}function Pe(s){s.propertyName==="value"&&N(d)&&b(s)}function nt(s,i,m){s==="focusin"?(be(),se(i,m)):s==="focusout"&&be()}function at(s,i){if(s==="selectionchange"||s==="keyup"||s==="keydown")return N(d)}function tt(s){var i=s.nodeName;return i&&i.toLowerCase()==="input"&&(s.type==="checkbox"||s.type==="radio")}function Ct(s,i){if(s==="click")return N(i)}function $t(s,i){if(s==="input"||s==="change")return N(i)}function Ut(s){var i=s._wrapperState;!i||!i.controlled||s.type!=="number"||B(s,"number",s.value)}function Aa(s,i,m,v,w,T,D){var P=m?Hg(m):window,H,X;if(h(P)?H=$:vh(P)?G?H=$t:(H=at,X=nt):tt(P)&&(H=Ct),H){var ne=H(i,m);if(ne){ax(s,ne,v,w);return}}X&&X(i,P,m),i==="focusout"&&Ut(P)}function Re(){ct("onMouseEnter",["mouseout","mouseover"]),ct("onMouseLeave",["mouseout","mouseover"]),ct("onPointerEnter",["pointerout","pointerover"]),ct("onPointerLeave",["pointerout","pointerover"])}function Ee(s,i,m,v,w,T,D){var P=i==="mouseover"||i==="pointerover",H=i==="mouseout"||i==="pointerout";if(P&&!Mp(v)){var X=v.relatedTarget||v.fromElement;if(X&&(wh(X)||Yb(X)))return}if(!(!H&&!P)){var ne;if(w.window===w)ne=w;else{var xe=w.ownerDocument;xe?ne=xe.defaultView||xe.parentWindow:ne=window}var we,Fe;if(H){var Be=v.relatedTarget||v.toElement;if(we=m,Fe=Be?wh(Be):null,Fe!==null){var We=ri(Fe);(Fe!==We||Fe.tag!==S&&Fe.tag!==E)&&(Fe=null)}}else we=null,Fe=m;if(we!==Fe){var bt=_b,tn="onMouseLeave",Wt="onMouseEnter",ar="mouse";(i==="pointerout"||i==="pointerover")&&(bt=QE,tn="onPointerLeave",Wt="onPointerEnter",ar="pointer");var jn=we==null?ne:Hg(we),Ne=Fe==null?ne:Hg(Fe),je=new bt(tn,ar+"leave",we,v,w);je.target=jn,je.relatedTarget=Ne;var Ae=null,ot=wh(w);if(ot===m){var It=new bt(Wt,ar+"enter",Fe,v,w);It.target=Ne,It.relatedTarget=jn,Ae=It}CCe(s,je,Ae,we,Fe)}}}function Oe(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var rt=typeof Object.is=="function"?Object.is:Oe;function Ft(s,i){if(rt(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var m=Object.keys(s),v=Object.keys(i);if(m.length!==v.length)return!1;for(var w=0;w<m.length;w++){var T=m[w];if(!Rt.call(i,T)||!rt(s[T],i[T]))return!1}return!0}function an(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function sn(s){for(;s;){if(s.nextSibling)return s.nextSibling;s=s.parentNode}}function yn(s,i){for(var m=an(s),v=0,w=0;m;){if(m.nodeType===tl){if(w=v+m.textContent.length,v<=i&&w>=i)return{node:m,offset:i-v};v=w}m=an(sn(m))}}function fo(s){var i=s.ownerDocument,m=i&&i.defaultView||window,v=m.getSelection&&m.getSelection();if(!v||v.rangeCount===0)return null;var w=v.anchorNode,T=v.anchorOffset,D=v.focusNode,P=v.focusOffset;try{w.nodeType,D.nodeType}catch{return null}return vr(s,w,T,D,P)}function vr(s,i,m,v,w){var T=0,D=-1,P=-1,H=0,X=0,ne=s,xe=null;e:for(;;){for(var we=null;ne===i&&(m===0||ne.nodeType===tl)&&(D=T+m),ne===v&&(w===0||ne.nodeType===tl)&&(P=T+w),ne.nodeType===tl&&(T+=ne.nodeValue.length),(we=ne.firstChild)!==null;)xe=ne,ne=we;for(;;){if(ne===s)break e;if(xe===i&&++H===m&&(D=T),xe===v&&++X===w&&(P=T),(we=ne.nextSibling)!==null)break;ne=xe,xe=ne.parentNode}ne=we}return D===-1||P===-1?null:{start:D,end:P}}function uc(s,i){var m=s.ownerDocument||document,v=m&&m.defaultView||window;if(v.getSelection){var w=v.getSelection(),T=s.textContent.length,D=Math.min(i.start,T),P=i.end===void 0?D:Math.min(i.end,T);if(!w.extend&&D>P){var H=P;P=D,D=H}var X=yn(s,D),ne=yn(s,P);if(X&&ne){if(w.rangeCount===1&&w.anchorNode===X.node&&w.anchorOffset===X.offset&&w.focusNode===ne.node&&w.focusOffset===ne.offset)return;var xe=m.createRange();xe.setStart(X.node,X.offset),w.removeAllRanges(),D>P?(w.addRange(xe),w.extend(ne.node,ne.offset)):(xe.setEnd(ne.node,ne.offset),w.addRange(xe))}}}function ox(s){return s&&s.nodeType===tl}function pB(s,i){return!s||!i?!1:s===i?!0:ox(s)?!1:ox(i)?pB(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1}function sCe(s){return s&&s.ownerDocument&&pB(s.ownerDocument.documentElement,s)}function iCe(s){try{return typeof s.contentWindow.location.href=="string"}catch{return!1}}function hB(){for(var s=window,i=Nr();i instanceof s.HTMLIFrameElement;){if(iCe(i))s=i.contentWindow;else return i;i=Nr(s.document)}return i}function V3(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function uCe(){var s=hB();return{focusedElem:s,selectionRange:V3(s)?cCe(s):null}}function lCe(s){var i=hB(),m=s.focusedElem,v=s.selectionRange;if(i!==m&&sCe(m)){v!==null&&V3(m)&&dCe(m,v);for(var w=[],T=m;T=T.parentNode;)T.nodeType===_s&&w.push({element:T,left:T.scrollLeft,top:T.scrollTop});typeof m.focus=="function"&&m.focus();for(var D=0;D<w.length;D++){var P=w[D];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}}function cCe(s){var i;return"selectionStart"in s?i={start:s.selectionStart,end:s.selectionEnd}:i=fo(s),i||{start:0,end:0}}function dCe(s,i){var m=i.start,v=i.end;v===void 0&&(v=m),"selectionStart"in s?(s.selectionStart=m,s.selectionEnd=Math.min(v,s.value.length)):uc(s,i)}var fCe=St&&"documentMode"in document&&document.documentMode<=11;function pCe(){Xe("onSelect",["focusout","contextmenu","dragend","focusin","keydown","keyup","mousedown","mouseup","selectionchange"])}var Pg=null,W3=null,Fb=null,j3=!1;function hCe(s){if("selectionStart"in s&&V3(s))return{start:s.selectionStart,end:s.selectionEnd};var i=s.ownerDocument&&s.ownerDocument.defaultView||window,m=i.getSelection();return{anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}}function mCe(s){return s.window===s?s.document:s.nodeType===nl?s:s.ownerDocument}function mB(s,i,m){var v=mCe(m);if(!(j3||Pg==null||Pg!==Nr(v))){var w=hCe(Pg);if(!Fb||!Ft(Fb,w)){Fb=w;var T=lx(W3,"onSelect");if(T.length>0){var D=new Ou("onSelect","select",null,i,m);s.push({event:D,listeners:T}),D.target=Pg}}}}function gCe(s,i,m,v,w,T,D){var P=m?Hg(m):window;switch(i){case"focusin":(vh(P)||P.contentEditable==="true")&&(Pg=P,W3=m,Fb=null);break;case"focusout":Pg=null,W3=null,Fb=null;break;case"mousedown":j3=!0;break;case"contextmenu":case"mouseup":case"dragend":j3=!1,mB(s,v,w);break;case"selectionchange":if(fCe)break;case"keydown":case"keyup":mB(s,v,w)}}function sx(s,i){var m={};return m[s.toLowerCase()]=i.toLowerCase(),m["Webkit"+s]="webkit"+i,m["Moz"+s]="moz"+i,m}var Lg={animationend:sx("Animation","AnimationEnd"),animationiteration:sx("Animation","AnimationIteration"),animationstart:sx("Animation","AnimationStart"),transitionend:sx("Transition","TransitionEnd")},G3={},gB={};St&&(gB=document.createElement("div").style,"AnimationEvent"in window||(delete Lg.animationend.animation,delete Lg.animationiteration.animation,delete Lg.animationstart.animation),"TransitionEvent"in window||delete Lg.transitionend.transition);function ix(s){if(G3[s])return G3[s];if(!Lg[s])return s;var i=Lg[s];for(var m in i)if(i.hasOwnProperty(m)&&m in gB)return G3[s]=i[m];return s}var vB=ix("animationend"),yB=ix("animationiteration"),bB=ix("animationstart"),SB=ix("transitionend"),wB=new Map,EB=["abort","auxClick","cancel","canPlay","canPlayThrough","click","close","contextMenu","copy","cut","drag","dragEnd","dragEnter","dragExit","dragLeave","dragOver","dragStart","drop","durationChange","emptied","encrypted","ended","error","gotPointerCapture","input","invalid","keyDown","keyPress","keyUp","load","loadedData","loadedMetadata","loadStart","lostPointerCapture","mouseDown","mouseMove","mouseOut","mouseOver","mouseUp","paste","pause","play","playing","pointerCancel","pointerDown","pointerMove","pointerOut","pointerOver","pointerUp","progress","rateChange","reset","resize","seeked","seeking","stalled","submit","suspend","timeUpdate","touchCancel","touchEnd","touchStart","volumeChange","scroll","toggle","touchMove","waiting","wheel"];function kf(s,i){wB.set(s,i),Xe(i,[s])}function vCe(){for(var s=0;s<EB.length;s++){var i=EB[s],m=i.toLowerCase(),v=i[0].toUpperCase()+i.slice(1);kf(m,"on"+v)}kf(vB,"onAnimationEnd"),kf(yB,"onAnimationIteration"),kf(bB,"onAnimationStart"),kf("dblclick","onDoubleClick"),kf("focusin","onFocus"),kf("focusout","onBlur"),kf(SB,"onTransitionEnd")}function yCe(s,i,m,v,w,T,D){var P=wB.get(i);if(P!==void 0){var H=Ou,X=i;switch(i){case"keypress":if(ac(v)===0)return;case"keydown":case"keyup":H=XE;break;case"focusin":X="focus",H=dl;break;case"focusout":X="blur",H=dl;break;case"beforeblur":case"afterblur":H=dl;break;case"click":if(v.button===2)return;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=_b;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=ZE;break;case vB:case yB:case bB:H=jE;break;case SB:H=$i;break;case"scroll":H=Fs;break;case"wheel":H=B3;break;case"copy":case"cut":case"paste":H=Rg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=QE;break}var ne=(T&_i)!==0;{var xe=!ne&&i==="scroll",we=ECe(m,P,v.type,ne,xe);if(we.length>0){var Fe=new H(P,X,null,v,w);s.push({event:Fe,listeners:we})}}}}vCe(),Re(),yh(),pCe(),z3();function bCe(s,i,m,v,w,T,D){yCe(s,i,m,v,w,T);var P=(T&Yy)===0;P&&(Ee(s,i,m,v,w),Aa(s,i,m,v,w),gCe(s,i,m,v,w),rx(s,i,m,v,w))}var Pb=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","resize","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],q3=new Set(["cancel","close","invalid","load","scroll","toggle"].concat(Pb));function xB(s,i,m){var v=s.type||"unknown-event";s.currentTarget=m,xu(v,i,void 0,s),s.currentTarget=null}function SCe(s,i,m){var v;if(m)for(var w=i.length-1;w>=0;w--){var T=i[w],D=T.instance,P=T.currentTarget,H=T.listener;if(D!==v&&s.isPropagationStopped())return;xB(s,H,P),v=D}else for(var X=0;X<i.length;X++){var ne=i[X],xe=ne.instance,we=ne.currentTarget,Fe=ne.listener;if(xe!==v&&s.isPropagationStopped())return;xB(s,Fe,we),v=xe}}function CB(s,i){for(var m=(i&_i)!==0,v=0;v<s.length;v++){var w=s[v],T=w.event,D=w.listeners;SCe(T,D,m)}Pp()}function wCe(s,i,m,v,w){var T=Xy(m),D=[];bCe(D,s,v,m,T,i),CB(D,i)}function ma(s,i){q3.has(s)||u('Did not expect a listenToNonDelegatedEvent() call for "%s". This is a bug in React. Please file an issue.',s);var m=!1,v=Qke(i),w=kCe(s);v.has(w)||(kB(i,s,Pm,m),v.add(w))}function K3(s,i,m){q3.has(s)&&!i&&u('Did not expect a listenToNativeEvent() call for "%s" in the bubble phase. This is a bug in React. Please file an issue.',s);var v=0;i&&(v|=_i),kB(m,s,v,i)}var ux="_reactListening"+Math.random().toString(36).slice(2);function Lb(s){if(!s[ux]){s[ux]=!0,Ve.forEach(function(m){m!=="selectionchange"&&(q3.has(m)||K3(m,!1,s),K3(m,!0,s))});var i=s.nodeType===nl?s:s.ownerDocument;i!==null&&(i[ux]||(i[ux]=!0,K3("selectionchange",!1,i)))}}function kB(s,i,m,v,w){var T=xo(s,i,m),D=void 0;Fp&&(i==="touchstart"||i==="touchmove"||i==="wheel")&&(D=!0),s=s,v?D!==void 0?kb(s,i,T,D):$s(s,i,T):D!==void 0?wf(s,i,T,D):fh(s,i,T)}function _B(s,i){return s===i||s.nodeType===La&&s.parentNode===i}function Y3(s,i,m,v,w){var T=v;if((i&Ky)===0&&(i&Pm)===0){var D=w;if(v!==null){var P=v;e:for(;;){if(P===null)return;var H=P.tag;if(H===g||H===y){var X=P.stateNode.containerInfo;if(_B(X,D))break;if(H===y)for(var ne=P.return;ne!==null;){var xe=ne.tag;if(xe===g||xe===y){var we=ne.stateNode.containerInfo;if(_B(we,D))return}ne=ne.return}for(;X!==null;){var Fe=wh(X);if(Fe===null)return;var Be=Fe.tag;if(Be===S||Be===E){P=T=Fe;continue e}X=X.parentNode}}P=P.return}}}gE(function(){return wCe(s,i,m,T)})}function Bb(s,i,m){return{instance:s,listener:i,currentTarget:m}}function ECe(s,i,m,v,w,T){for(var D=i!==null?i+"Capture":null,P=v?D:i,H=[],X=s,ne=null;X!==null;){var xe=X,we=xe.stateNode,Fe=xe.tag;if(Fe===S&&we!==null&&(ne=we,P!==null)){var Be=jl(X,P);Be!=null&&H.push(Bb(X,Be,ne))}if(w)break;X=X.return}return H}function lx(s,i){for(var m=i+"Capture",v=[],w=s;w!==null;){var T=w,D=T.stateNode,P=T.tag;if(P===S&&D!==null){var H=D,X=jl(w,m);X!=null&&v.unshift(Bb(w,X,H));var ne=jl(w,i);ne!=null&&v.push(Bb(w,ne,H))}w=w.return}return v}function Bg(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==S);return s||null}function xCe(s,i){for(var m=s,v=i,w=0,T=m;T;T=Bg(T))w++;for(var D=0,P=v;P;P=Bg(P))D++;for(;w-D>0;)m=Bg(m),w--;for(;D-w>0;)v=Bg(v),D--;for(var H=w;H--;){if(m===v||v!==null&&m===v.alternate)return m;m=Bg(m),v=Bg(v)}return null}function TB(s,i,m,v,w){for(var T=i._reactName,D=[],P=m;P!==null&&P!==v;){var H=P,X=H.alternate,ne=H.stateNode,xe=H.tag;if(X!==null&&X===v)break;if(xe===S&&ne!==null){var we=ne;if(w){var Fe=jl(P,T);Fe!=null&&D.unshift(Bb(P,Fe,we))}else if(!w){var Be=jl(P,T);Be!=null&&D.push(Bb(P,Be,we))}}P=P.return}D.length!==0&&s.push({event:i,listeners:D})}function CCe(s,i,m,v,w){var T=v&&w?xCe(v,w):null;v!==null&&TB(s,i,v,T,!1),w!==null&&m!==null&&TB(s,m,w,T,!0)}function kCe(s,i){return s+"__bubble"}var Fi=!1,zb="dangerouslySetInnerHTML",cx="suppressContentEditableWarning",_f="suppressHydrationWarning",IB="autoFocus",bh="children",Sh="style",dx="__html",X3,fx,Ub,RB,px,NB,AB;X3={dialog:!0,webview:!0},fx=function(s,i){jy(s,i),$m(s,i),pE(s,i,{registrationNameDependencies:Ke,possibleRegistrationNames:He})},NB=St&&!document.documentMode,Ub=function(s,i,m){if(!Fi){var v=hx(m),w=hx(i);w!==v&&(Fi=!0,u("Prop `%s` did not match. Server: %s Client: %s",s,JSON.stringify(w),JSON.stringify(v)))}},RB=function(s){if(!Fi){Fi=!0;var i=[];s.forEach(function(m){i.push(m)}),u("Extra attributes from the server: %s",i)}},px=function(s,i){i===!1?u("Expected `%s` listener to be a function, instead got `false`.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.",s,s,s):u("Expected `%s` listener to be a function, instead got a value of `%s` type.",s,typeof i)},AB=function(s,i){var m=s.namespaceURI===el?s.ownerDocument.createElement(s.tagName):s.ownerDocument.createElementNS(s.namespaceURI,s.tagName);return m.innerHTML=i,m.innerHTML};var _Ce=/\r\n?/g,TCe=/\u0000|\uFFFD/g;function hx(s){Jt(s);var i=typeof s=="string"?s:""+s;return i.replace(_Ce,`
`).replace(TCe,"")}function mx(s,i,m,v){var w=hx(i),T=hx(s);if(T!==w&&(v&&(Fi||(Fi=!0,u('Text content did not match. Server: "%s" Client: "%s"',T,w))),m&&ve))throw new Error("Text content does not match server-rendered HTML.")}function DB(s){return s.nodeType===nl?s:s.ownerDocument}function ICe(){}function gx(s){s.onclick=ICe}function RCe(s,i,m,v,w){for(var T in v)if(v.hasOwnProperty(T)){var D=v[T];if(T===Sh)D&&Object.freeze(D),iE(i,D);else if(T===zb){var P=D?D[dx]:void 0;P!=null&&Y2(i,P)}else if(T===bh)if(typeof D=="string"){var H=s!=="textarea"||D!=="";H&&nf(i,D)}else typeof D=="number"&&nf(i,""+D);else T===cx||T===_f||T===IB||(Ke.hasOwnProperty(T)?D!=null&&(typeof D!="function"&&px(T,D),T==="onScroll"&&ma("scroll",i)):D!=null&&kn(i,T,D,w))}}function NCe(s,i,m,v){for(var w=0;w<i.length;w+=2){var T=i[w],D=i[w+1];T===Sh?iE(s,D):T===zb?Y2(s,D):T===bh?nf(s,D):kn(s,T,D,v)}}function ACe(s,i,m,v){var w,T=DB(m),D,P=v;if(P===el&&(P=Ly(s)),P===el){if(w=Vl(s,i),!w&&s!==s.toLowerCase()&&u("<%s /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.",s),s==="script"){var H=T.createElement("div");H.innerHTML="<script><\/script>";var X=H.firstChild;D=H.removeChild(X)}else if(typeof i.is=="string")D=T.createElement(s,{is:i.is});else if(D=T.createElement(s),s==="select"){var ne=D;i.multiple?ne.multiple=!0:i.size&&(ne.size=i.size)}}else D=T.createElementNS(P,s);return P===el&&!w&&Object.prototype.toString.call(D)==="[object HTMLUnknownElement]"&&!Rt.call(X3,s)&&(X3[s]=!0,u("The tag <%s> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.",s)),D}function DCe(s,i){return DB(i).createTextNode(s)}function OCe(s,i,m,v){var w=Vl(i,m);fx(i,m);var T;switch(i){case"dialog":ma("cancel",s),ma("close",s),T=m;break;case"iframe":case"object":case"embed":ma("load",s),T=m;break;case"video":case"audio":for(var D=0;D<Pb.length;D++)ma(Pb[D],s);T=m;break;case"source":ma("error",s),T=m;break;case"img":case"image":case"link":ma("error",s),ma("load",s),T=m;break;case"details":ma("toggle",s),T=m;break;case"input":ni(s,m),T=Zi(s,m),ma("invalid",s);break;case"option":ie(s,m),T=m;break;case"select":cr(s,m),T=Hn(s,m),ma("invalid",s);break;case"textarea":da(s,m),T=Zn(s,m),ma("invalid",s);break;default:T=m}switch(Om(i,T),RCe(i,s,v,T,w),i){case"input":yo(s),$e(s,m,!1);break;case"textarea":yo(s),q2(s);break;case"option":Te(s,m);break;case"select":Tr(s,m);break;default:typeof T.onClick=="function"&&gx(s);break}}function MCe(s,i,m,v,w){fx(i,v);var T=null,D,P;switch(i){case"input":D=Zi(s,m),P=Zi(s,v),T=[];break;case"select":D=Hn(s,m),P=Hn(s,v),T=[];break;case"textarea":D=Zn(s,m),P=Zn(s,v),T=[];break;default:D=m,P=v,typeof D.onClick!="function"&&typeof P.onClick=="function"&&gx(s);break}Om(i,P);var H,X,ne=null;for(H in D)if(!(P.hasOwnProperty(H)||!D.hasOwnProperty(H)||D[H]==null))if(H===Sh){var xe=D[H];for(X in xe)xe.hasOwnProperty(X)&&(ne||(ne={}),ne[X]="")}else H===zb||H===bh||H===cx||H===_f||H===IB||(Ke.hasOwnProperty(H)?T||(T=[]):(T=T||[]).push(H,null));for(H in P){var we=P[H],Fe=D?.[H];if(!(!P.hasOwnProperty(H)||we===Fe||we==null&&Fe==null))if(H===Sh)if(we&&Object.freeze(we),Fe){for(X in Fe)Fe.hasOwnProperty(X)&&(!we||!we.hasOwnProperty(X))&&(ne||(ne={}),ne[X]="");for(X in we)we.hasOwnProperty(X)&&Fe[X]!==we[X]&&(ne||(ne={}),ne[X]=we[X])}else ne||(T||(T=[]),T.push(H,ne)),ne=we;else if(H===zb){var Be=we?we[dx]:void 0,We=Fe?Fe[dx]:void 0;Be!=null&&We!==Be&&(T=T||[]).push(H,Be)}else H===bh?(typeof we=="string"||typeof we=="number")&&(T=T||[]).push(H,""+we):H===cx||H===_f||(Ke.hasOwnProperty(H)?(we!=null&&(typeof we!="function"&&px(H,we),H==="onScroll"&&ma("scroll",s)),!T&&Fe!==we&&(T=[])):(T=T||[]).push(H,we))}return ne&&(x3(ne,P[Sh]),(T=T||[]).push(Sh,ne)),T}function $Ce(s,i,m,v,w){m==="input"&&w.type==="radio"&&w.name!=null&&V(s,w);var T=Vl(m,v),D=Vl(m,w);switch(NCe(s,i,T,D),m){case"input":de(s,w);break;case"textarea":eu(s,w);break;case"select":Sa(s,w);break}}function FCe(s){{var i=s.toLowerCase();return Dp.hasOwnProperty(i)&&Dp[i]||null}}function PCe(s,i,m,v,w,T,D){var P,H;switch(P=Vl(i,m),fx(i,m),i){case"dialog":ma("cancel",s),ma("close",s);break;case"iframe":case"object":case"embed":ma("load",s);break;case"video":case"audio":for(var X=0;X<Pb.length;X++)ma(Pb[X],s);break;case"source":ma("error",s);break;case"img":case"image":case"link":ma("error",s),ma("load",s);break;case"details":ma("toggle",s);break;case"input":ni(s,m),ma("invalid",s);break;case"option":ie(s,m);break;case"select":cr(s,m),ma("invalid",s);break;case"textarea":da(s,m),ma("invalid",s);break}Om(i,m);{H=new Set;for(var ne=s.attributes,xe=0;xe<ne.length;xe++){var we=ne[xe].name.toLowerCase();switch(we){case"value":break;case"checked":break;case"selected":break;default:H.add(ne[xe].name)}}}var Fe=null;for(var Be in m)if(m.hasOwnProperty(Be)){var We=m[Be];if(Be===bh)typeof We=="string"?s.textContent!==We&&(m[_f]!==!0&&mx(s.textContent,We,T,D),Fe=[bh,We]):typeof We=="number"&&s.textContent!==""+We&&(m[_f]!==!0&&mx(s.textContent,We,T,D),Fe=[bh,""+We]);else if(Ke.hasOwnProperty(Be))We!=null&&(typeof We!="function"&&px(Be,We),Be==="onScroll"&&ma("scroll",s));else if(D&&typeof P=="boolean"){var bt=void 0,tn=Xn(Be);if(m[_f]!==!0){if(!(Be===cx||Be===_f||Be==="value"||Be==="checked"||Be==="selected")){if(Be===zb){var Wt=s.innerHTML,ar=We?We[dx]:void 0;if(ar!=null){var jn=AB(s,ar);jn!==Wt&&Ub(Be,Wt,jn)}}else if(Be===Sh){if(H.delete(Be),NB){var Ne=w3(We);bt=s.getAttribute("style"),Ne!==bt&&Ub(Be,bt,Ne)}}else if(P&&!Q)H.delete(Be.toLowerCase()),bt=lt(s,Be,We),We!==bt&&Ub(Be,bt,We);else if(!vn(Be,tn,P)&&!Hr(Be,We,tn,P)){var je=!1;if(tn!==null)H.delete(tn.attributeName),bt=Ot(s,Be,We,tn);else{var Ae=v;if(Ae===el&&(Ae=Ly(i)),Ae===el)H.delete(Be.toLowerCase());else{var ot=FCe(Be);ot!==null&&ot!==Be&&(je=!0,H.delete(ot)),H.delete(Be)}bt=lt(s,Be,We)}var It=Q;!It&&We!==bt&&!je&&Ub(Be,bt,We)}}}}}switch(D&&H.size>0&&m[_f]!==!0&&RB(H),i){case"input":yo(s),$e(s,m,!0);break;case"textarea":yo(s),q2(s);break;case"select":case"option":break;default:typeof m.onClick=="function"&&gx(s);break}return Fe}function LCe(s,i,m){var v=s.nodeValue!==i;return v}function Q3(s,i){{if(Fi)return;Fi=!0,u("Did not expect server HTML to contain a <%s> in <%s>.",i.nodeName.toLowerCase(),s.nodeName.toLowerCase())}}function J3(s,i){{if(Fi)return;Fi=!0,u('Did not expect server HTML to contain the text node "%s" in <%s>.',i.nodeValue,s.nodeName.toLowerCase())}}function Z3(s,i,m){{if(Fi)return;Fi=!0,u("Expected server HTML to contain a matching <%s> in <%s>.",i,s.nodeName.toLowerCase())}}function eR(s,i){{if(i===""||Fi)return;Fi=!0,u('Expected server HTML to contain a matching text node for "%s" in <%s>.',i,s.nodeName.toLowerCase())}}function BCe(s,i,m){switch(i){case"input":x(s,m);return;case"textarea":v3(s,m);return;case"select":Vo(s,m);return}}var Hb=function(){},Vb=function(){};{var zCe=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],OB=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"],UCe=OB.concat(["button"]),HCe=["dd","dt","li","option","optgroup","p","rp","rt"],MB={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null};Vb=function(s,i){var m=En({},s||MB),v={tag:i};return OB.indexOf(i)!==-1&&(m.aTagInScope=null,m.buttonTagInScope=null,m.nobrTagInScope=null),UCe.indexOf(i)!==-1&&(m.pTagInButtonScope=null),zCe.indexOf(i)!==-1&&i!=="address"&&i!=="div"&&i!=="p"&&(m.listItemTagAutoclosing=null,m.dlItemTagAutoclosing=null),m.current=v,i==="form"&&(m.formTag=v),i==="a"&&(m.aTagInScope=v),i==="button"&&(m.buttonTagInScope=v),i==="nobr"&&(m.nobrTagInScope=v),i==="p"&&(m.pTagInButtonScope=v),i==="li"&&(m.listItemTagAutoclosing=v),(i==="dd"||i==="dt")&&(m.dlItemTagAutoclosing=v),m};var VCe=function(s,i){switch(i){case"select":return s==="option"||s==="optgroup"||s==="#text";case"optgroup":return s==="option"||s==="#text";case"option":return s==="#text";case"tr":return s==="th"||s==="td"||s==="style"||s==="script"||s==="template";case"tbody":case"thead":case"tfoot":return s==="tr"||s==="style"||s==="script"||s==="template";case"colgroup":return s==="col"||s==="template";case"table":return s==="caption"||s==="colgroup"||s==="tbody"||s==="tfoot"||s==="thead"||s==="style"||s==="script"||s==="template";case"head":return s==="base"||s==="basefont"||s==="bgsound"||s==="link"||s==="meta"||s==="title"||s==="noscript"||s==="noframes"||s==="style"||s==="script"||s==="template";case"html":return s==="head"||s==="body"||s==="frameset";case"frameset":return s==="frame";case"#document":return s==="html"}switch(s){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return i!=="h1"&&i!=="h2"&&i!=="h3"&&i!=="h4"&&i!=="h5"&&i!=="h6";case"rp":case"rt":return HCe.indexOf(i)===-1;case"body":case"caption":case"col":case"colgroup":case"frameset":case"frame":case"head":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return i==null}return!0},WCe=function(s,i){switch(s){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return i.pTagInButtonScope;case"form":return i.formTag||i.pTagInButtonScope;case"li":return i.listItemTagAutoclosing;case"dd":case"dt":return i.dlItemTagAutoclosing;case"button":return i.buttonTagInScope;case"a":return i.aTagInScope;case"nobr":return i.nobrTagInScope}return null},$B={};Hb=function(s,i,m){m=m||MB;var v=m.current,w=v&&v.tag;i!=null&&(s!=null&&u("validateDOMNesting: when childText is passed, childTag should be null"),s="#text");var T=VCe(s,w)?null:v,D=T?null:WCe(s,m),P=T||D;if(P){var H=P.tag,X=!!T+"|"+s+"|"+H;if(!$B[X]){$B[X]=!0;var ne=s,xe="";if(s==="#text"?/\S/.test(i)?ne="Text nodes":(ne="Whitespace text nodes",xe=" Make sure you don't have any extra whitespace between tags on each line of your source code."):ne="<"+s+">",T){var we="";H==="table"&&s==="tr"&&(we+=" Add a <tbody>, <thead> or <tfoot> to your code to match the DOM tree generated by the browser."),u("validateDOMNesting(...): %s cannot appear as a child of <%s>.%s%s",ne,H,xe,we)}else u("validateDOMNesting(...): %s cannot appear as a descendant of <%s>.",ne,H)}}}}var vx="suppressHydrationWarning",yx="$",bx="/$",Wb="$?",jb="$!",jCe="style",tR=null,nR=null;function GCe(s){var i,m,v=s.nodeType;switch(v){case nl:case zy:{i=v===nl?"#document":"#fragment";var w=s.documentElement;m=w?w.namespaceURI:By(null,"");break}default:{var T=v===La?s.parentNode:s,D=T.namespaceURI||null;i=T.tagName,m=By(D,i);break}}{var P=i.toLowerCase(),H=Vb(null,P);return{namespace:m,ancestorInfo:H}}}function qCe(s,i,m){{var v=s,w=By(v.namespace,i),T=Vb(v.ancestorInfo,i);return{namespace:w,ancestorInfo:T}}}function gAe(s){return s}function KCe(s){tR=Wa(),nR=uCe();var i=null;return eo(!1),i}function YCe(s){lCe(nR),eo(tR),tR=null,nR=null}function XCe(s,i,m,v,w){var T;{var D=v;if(Hb(s,null,D.ancestorInfo),typeof i.children=="string"||typeof i.children=="number"){var P=""+i.children,H=Vb(D.ancestorInfo,s);Hb(null,P,H)}T=D.namespace}var X=ACe(s,i,m,T);return Kb(w,X),cR(X,i),X}function QCe(s,i){s.appendChild(i)}function JCe(s,i,m,v,w){switch(OCe(s,i,m,v),i){case"button":case"input":case"select":case"textarea":return!!m.autoFocus;case"img":return!0;default:return!1}}function ZCe(s,i,m,v,w,T){{var D=T;if(typeof v.children!=typeof m.children&&(typeof v.children=="string"||typeof v.children=="number")){var P=""+v.children,H=Vb(D.ancestorInfo,i);Hb(null,P,H)}}return MCe(s,i,m,v)}function rR(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}function eke(s,i,m,v){{var w=m;Hb(null,s,w.ancestorInfo)}var T=DCe(s,i);return Kb(v,T),T}function tke(){var s=window.event;return s===void 0?Di:_g(s.type)}var aR=typeof setTimeout=="function"?setTimeout:void 0,nke=typeof clearTimeout=="function"?clearTimeout:void 0,oR=-1,FB=typeof Promise=="function"?Promise:void 0,rke=typeof queueMicrotask=="function"?queueMicrotask:typeof FB<"u"?function(s){return FB.resolve(null).then(s).catch(ake)}:aR;function ake(s){setTimeout(function(){throw s})}function oke(s,i,m,v){switch(i){case"button":case"input":case"select":case"textarea":m.autoFocus&&s.focus();return;case"img":{m.src&&(s.src=m.src);return}}}function ske(s,i,m,v,w,T){$Ce(s,i,m,v,w),cR(s,w)}function PB(s){nf(s,"")}function ike(s,i,m){s.nodeValue=m}function uke(s,i){s.appendChild(i)}function lke(s,i){var m;s.nodeType===La?(m=s.parentNode,m.insertBefore(i,s)):(m=s,m.appendChild(i));var v=s._reactRootContainer;v==null&&m.onclick===null&&gx(m)}function cke(s,i,m){s.insertBefore(i,m)}function dke(s,i,m){s.nodeType===La?s.parentNode.insertBefore(i,m):s.insertBefore(i,m)}function fke(s,i){s.removeChild(i)}function pke(s,i){s.nodeType===La?s.parentNode.removeChild(i):s.removeChild(i)}function sR(s,i){var m=i,v=0;do{var w=m.nextSibling;if(s.removeChild(m),w&&w.nodeType===La){var T=w.data;if(T===bx)if(v===0){s.removeChild(w),ud(i);return}else v--;else(T===yx||T===Wb||T===jb)&&v++}m=w}while(m);ud(i)}function hke(s,i){s.nodeType===La?sR(s.parentNode,i):s.nodeType===_s&&sR(s,i),ud(s)}function mke(s){s=s;var i=s.style;typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"}function gke(s){s.nodeValue=""}function vke(s,i){s=s;var m=i[jCe],v=m!=null&&m.hasOwnProperty("display")?m.display:null;s.style.display=Dm("display",v)}function yke(s,i){s.nodeValue=i}function bke(s){s.nodeType===_s?s.textContent="":s.nodeType===nl&&s.documentElement&&s.removeChild(s.documentElement)}function Ske(s,i,m){return s.nodeType!==_s||i.toLowerCase()!==s.nodeName.toLowerCase()?null:s}function wke(s,i){return i===""||s.nodeType!==tl?null:s}function Eke(s){return s.nodeType!==La?null:s}function LB(s){return s.data===Wb}function iR(s){return s.data===jb}function xke(s){var i=s.nextSibling&&s.nextSibling.dataset,m,v,w;return i&&(m=i.dgst,v=i.msg,w=i.stck),{message:v,digest:m,stack:w}}function Cke(s,i){s._reactRetry=i}function Sx(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===_s||i===tl)break;if(i===La){var m=s.data;if(m===yx||m===jb||m===Wb)break;if(m===bx)return null}}return s}function Gb(s){return Sx(s.nextSibling)}function kke(s){return Sx(s.firstChild)}function _ke(s){return Sx(s.firstChild)}function Tke(s){return Sx(s.nextSibling)}function Ike(s,i,m,v,w,T,D){Kb(T,s),cR(s,m);var P;{var H=w;P=H.namespace}var X=(T.mode&Pn)!==Xt;return PCe(s,i,m,P,v,X,D)}function Rke(s,i,m,v){return Kb(m,s),m.mode&Pn,LCe(s,i)}function Nke(s,i){Kb(i,s)}function Ake(s){for(var i=s.nextSibling,m=0;i;){if(i.nodeType===La){var v=i.data;if(v===bx){if(m===0)return Gb(i);m--}else(v===yx||v===jb||v===Wb)&&m++}i=i.nextSibling}return null}function BB(s){for(var i=s.previousSibling,m=0;i;){if(i.nodeType===La){var v=i.data;if(v===yx||v===jb||v===Wb){if(m===0)return i;m--}else v===bx&&m++}i=i.previousSibling}return null}function Dke(s){ud(s)}function Oke(s){ud(s)}function Mke(s){return s!=="head"&&s!=="body"}function $ke(s,i,m,v){var w=!0;mx(i.nodeValue,m,v,w)}function Fke(s,i,m,v,w,T){if(i[vx]!==!0){var D=!0;mx(v.nodeValue,w,T,D)}}function Pke(s,i){i.nodeType===_s?Q3(s,i):i.nodeType===La||J3(s,i)}function Lke(s,i){{var m=s.parentNode;m!==null&&(i.nodeType===_s?Q3(m,i):i.nodeType===La||J3(m,i))}}function Bke(s,i,m,v,w){(w||i[vx]!==!0)&&(v.nodeType===_s?Q3(m,v):v.nodeType===La||J3(m,v))}function zke(s,i,m){Z3(s,i)}function Uke(s,i){eR(s,i)}function Hke(s,i,m){{var v=s.parentNode;v!==null&&Z3(v,i)}}function Vke(s,i){{var m=s.parentNode;m!==null&&eR(m,i)}}function Wke(s,i,m,v,w,T){(T||i[vx]!==!0)&&Z3(m,v)}function jke(s,i,m,v,w){(w||i[vx]!==!0)&&eR(m,v)}function Gke(s){u("An error occurred during hydration. The server HTML was replaced with client content in <%s>.",s.nodeName.toLowerCase())}function qke(s){Lb(s)}var zg=Math.random().toString(36).slice(2),Ug="__reactFiber$"+zg,uR="__reactProps$"+zg,qb="__reactContainer$"+zg,lR="__reactEvents$"+zg,Kke="__reactListeners$"+zg,Yke="__reactHandles$"+zg;function Xke(s){delete s[Ug],delete s[uR],delete s[lR],delete s[Kke],delete s[Yke]}function Kb(s,i){i[Ug]=s}function wx(s,i){i[qb]=s}function zB(s){s[qb]=null}function Yb(s){return!!s[qb]}function wh(s){var i=s[Ug];if(i)return i;for(var m=s.parentNode;m;){if(i=m[qb]||m[Ug],i){var v=i.alternate;if(i.child!==null||v!==null&&v.child!==null)for(var w=BB(s);w!==null;){var T=w[Ug];if(T)return T;w=BB(w)}return i}s=m,m=s.parentNode}return null}function Tf(s){var i=s[Ug]||s[qb];return i&&(i.tag===S||i.tag===E||i.tag===L||i.tag===g)?i:null}function Hg(s){if(s.tag===S||s.tag===E)return s.stateNode;throw new Error("getNodeFromInstance: Invalid argument.")}function Ex(s){return s[uR]||null}function cR(s,i){s[uR]=i}function Qke(s){var i=s[lR];return i===void 0&&(i=s[lR]=new Set),i}var UB={},HB=n.ReactDebugCurrentFrame;function xx(s){if(s){var i=s._owner,m=Pa(s.type,s._source,i?i.type:null);HB.setExtraStackFrame(m)}else HB.setExtraStackFrame(null)}function pl(s,i,m,v,w){{var T=Function.call.bind(Rt);for(var D in s)if(T(s,D)){var P=void 0;try{if(typeof s[D]!="function"){var H=Error((v||"React class")+": "+m+" type `"+D+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof s[D]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw H.name="Invariant Violation",H}P=s[D](i,D,v,m,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(X){P=X}P&&!(P instanceof Error)&&(xx(w),u("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",v||"React class",m,D,typeof P),xx(null)),P instanceof Error&&!(P.message in UB)&&(UB[P.message]=!0,xx(w),u("Failed %s type: %s",m,P.message),xx(null))}}}var dR=[],Cx;Cx=[];var hd=-1;function If(s){return{current:s}}function Ps(s,i){if(hd<0){u("Unexpected pop.");return}i!==Cx[hd]&&u("Unexpected Fiber popped."),s.current=dR[hd],dR[hd]=null,Cx[hd]=null,hd--}function Ls(s,i,m){hd++,dR[hd]=s.current,Cx[hd]=m,s.current=i}var fR;fR={};var iu={};Object.freeze(iu);var md=If(iu),lc=If(!1),pR=iu;function Vg(s,i,m){return m&&cc(i)?pR:md.current}function VB(s,i,m){{var v=s.stateNode;v.__reactInternalMemoizedUnmaskedChildContext=i,v.__reactInternalMemoizedMaskedChildContext=m}}function Wg(s,i){{var m=s.type,v=m.contextTypes;if(!v)return iu;var w=s.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===i)return w.__reactInternalMemoizedMaskedChildContext;var T={};for(var D in v)T[D]=i[D];{var P=en(s)||"Unknown";pl(v,T,"context",P)}return w&&VB(s,i,T),T}}function kx(){return lc.current}function cc(s){{var i=s.childContextTypes;return i!=null}}function _x(s){Ps(lc,s),Ps(md,s)}function hR(s){Ps(lc,s),Ps(md,s)}function WB(s,i,m){{if(md.current!==iu)throw new Error("Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue.");Ls(md,i,s),Ls(lc,m,s)}}function jB(s,i,m){{var v=s.stateNode,w=i.childContextTypes;if(typeof v.getChildContext!="function"){{var T=en(s)||"Unknown";fR[T]||(fR[T]=!0,u("%s.childContextTypes is specified but there is no getChildContext() method on the instance. You can either define getChildContext() on %s or remove childContextTypes from it.",T,T))}return m}var D=v.getChildContext();for(var P in D)if(!(P in w))throw new Error((en(s)||"Unknown")+'.getChildContext(): key "'+P+'" is not defined in childContextTypes.');{var H=en(s)||"Unknown";pl(w,D,"child context",H)}return En({},m,D)}}function Tx(s){{var i=s.stateNode,m=i&&i.__reactInternalMemoizedMergedChildContext||iu;return pR=md.current,Ls(md,m,s),Ls(lc,lc.current,s),!0}}function GB(s,i,m){{var v=s.stateNode;if(!v)throw new Error("Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue.");if(m){var w=jB(s,i,pR);v.__reactInternalMemoizedMergedChildContext=w,Ps(lc,s),Ps(md,s),Ls(md,w,s),Ls(lc,m,s)}else Ps(lc,s),Ls(lc,m,s)}}function Jke(s){{if(!Kc(s)||s.tag!==p)throw new Error("Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue.");var i=s;do{switch(i.tag){case g:return i.stateNode.context;case p:{var m=i.type;if(cc(m))return i.stateNode.__reactInternalMemoizedMergedChildContext;break}}i=i.return}while(i!==null);throw new Error("Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue.")}}var Rf=0,Ix=1,gd=null,mR=!1,gR=!1;function qB(s){gd===null?gd=[s]:gd.push(s)}function Zke(s){mR=!0,qB(s)}function KB(){mR&&Nf()}function Nf(){if(!gR&&gd!==null){gR=!0;var s=0,i=Mi();try{var m=!0,v=gd;for(Va(ns);s<v.length;s++){var w=v[s];do w=w(m);while(w!==null)}gd=null,mR=!1}catch(T){throw gd!==null&&(gd=gd.slice(s+1)),Jy(zp,Nf),T}finally{Va(i),gR=!1}}return null}var jg=[],Gg=0,Rx=null,Nx=0,Mu=[],$u=0,Eh=null,vd=1,yd="";function e_e(s){return Ch(),(s.flags&Cu)!==Yt}function t_e(s){return Ch(),Nx}function n_e(){var s=yd,i=vd,m=i&~r_e(i);return m.toString(32)+s}function xh(s,i){Ch(),jg[Gg++]=Nx,jg[Gg++]=Rx,Rx=s,Nx=i}function YB(s,i,m){Ch(),Mu[$u++]=vd,Mu[$u++]=yd,Mu[$u++]=Eh,Eh=s;var v=vd,w=yd,T=Ax(v)-1,D=v&~(1<<T),P=m+1,H=Ax(i)+T;if(H>30){var X=T-T%5,ne=(1<<X)-1,xe=(D&ne).toString(32),we=D>>X,Fe=T-X,Be=Ax(i)+Fe,We=P<<Fe,bt=We|we,tn=xe+w;vd=1<<Be|bt,yd=tn}else{var Wt=P<<T,ar=Wt|D,jn=w;vd=1<<H|ar,yd=jn}}function vR(s){Ch();var i=s.return;if(i!==null){var m=1,v=0;xh(s,m),YB(s,m,v)}}function Ax(s){return 32-Ua(s)}function r_e(s){return 1<<Ax(s)-1}function yR(s){for(;s===Rx;)Rx=jg[--Gg],jg[Gg]=null,Nx=jg[--Gg],jg[Gg]=null;for(;s===Eh;)Eh=Mu[--$u],Mu[$u]=null,yd=Mu[--$u],Mu[$u]=null,vd=Mu[--$u],Mu[$u]=null}function a_e(){return Ch(),Eh!==null?{id:vd,overflow:yd}:null}function o_e(s,i){Ch(),Mu[$u++]=vd,Mu[$u++]=yd,Mu[$u++]=Eh,vd=i.id,yd=i.overflow,Eh=s}function Ch(){is()||u("Expected to be hydrating. This is a bug in React. Please file an issue.")}var ss=null,Fu=null,hl=!1,kh=!1,Af=null;function s_e(){hl&&u("We should not be hydrating here. This is a bug in React. Please file a bug.")}function XB(){kh=!0}function i_e(){return kh}function u_e(s){var i=s.stateNode.containerInfo;return Fu=_ke(i),ss=s,hl=!0,Af=null,kh=!1,!0}function l_e(s,i,m){return Fu=Tke(i),ss=s,hl=!0,Af=null,kh=!1,m!==null&&o_e(s,m),!0}function QB(s,i){switch(s.tag){case g:{Pke(s.stateNode.containerInfo,i);break}case S:{var m=(s.mode&Pn)!==Xt;Bke(s.type,s.memoizedProps,s.stateNode,i,m);break}case L:{var v=s.memoizedState;v.dehydrated!==null&&Lke(v.dehydrated,i);break}}}function JB(s,i){QB(s,i);var m=p3e();m.stateNode=i,m.return=s;var v=s.deletions;v===null?(s.deletions=[m],s.flags|=Ti):v.push(m)}function bR(s,i){{if(kh)return;switch(s.tag){case g:{var m=s.stateNode.containerInfo;switch(i.tag){case S:var v=i.type;i.pendingProps,zke(m,v);break;case E:var w=i.pendingProps;Uke(m,w);break}break}case S:{var T=s.type,D=s.memoizedProps,P=s.stateNode;switch(i.tag){case S:{var H=i.type,X=i.pendingProps,ne=(s.mode&Pn)!==Xt;Wke(T,D,P,H,X,ne);break}case E:{var xe=i.pendingProps,we=(s.mode&Pn)!==Xt;jke(T,D,P,xe,we);break}}break}case L:{var Fe=s.memoizedState,Be=Fe.dehydrated;if(Be!==null)switch(i.tag){case S:var We=i.type;i.pendingProps,Hke(Be,We);break;case E:var bt=i.pendingProps;Vke(Be,bt);break}break}default:return}}}function ZB(s,i){i.flags=i.flags&~Is|fa,bR(s,i)}function ez(s,i){switch(s.tag){case S:{var m=s.type;s.pendingProps;var v=Ske(i,m);return v!==null?(s.stateNode=v,ss=s,Fu=kke(v),!0):!1}case E:{var w=s.pendingProps,T=wke(i,w);return T!==null?(s.stateNode=T,ss=s,Fu=null,!0):!1}case L:{var D=Eke(i);if(D!==null){var P={dehydrated:D,treeContext:a_e(),retryLane:Ds};s.memoizedState=P;var H=h3e(D);return H.return=s,s.child=H,ss=s,Fu=null,!0}return!1}default:return!1}}function SR(s){return(s.mode&Pn)!==Xt&&(s.flags&qt)===Yt}function wR(s){throw new Error("Hydration failed because the initial UI does not match what was rendered on the server.")}function ER(s){if(hl){var i=Fu;if(!i){SR(s)&&(bR(ss,s),wR()),ZB(ss,s),hl=!1,ss=s;return}var m=i;if(!ez(s,i)){SR(s)&&(bR(ss,s),wR()),i=Gb(m);var v=ss;if(!i||!ez(s,i)){ZB(ss,s),hl=!1,ss=s;return}JB(v,m)}}}function c_e(s,i,m){var v=s.stateNode,w=!kh,T=Ike(v,s.type,s.memoizedProps,i,m,s,w);return s.updateQueue=T,T!==null}function d_e(s){var i=s.stateNode,m=s.memoizedProps,v=Rke(i,m,s);if(v){var w=ss;if(w!==null)switch(w.tag){case g:{var T=w.stateNode.containerInfo,D=(w.mode&Pn)!==Xt;$ke(T,i,m,D);break}case S:{var P=w.type,H=w.memoizedProps,X=w.stateNode,ne=(w.mode&Pn)!==Xt;Fke(P,H,X,i,m,ne);break}}}return v}function f_e(s){var i=s.memoizedState,m=i!==null?i.dehydrated:null;if(!m)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");Nke(m,s)}function p_e(s){var i=s.memoizedState,m=i!==null?i.dehydrated:null;if(!m)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");return Ake(m)}function tz(s){for(var i=s.return;i!==null&&i.tag!==S&&i.tag!==g&&i.tag!==L;)i=i.return;ss=i}function Dx(s){if(s!==ss)return!1;if(!hl)return tz(s),hl=!0,!1;if(s.tag!==g&&(s.tag!==S||Mke(s.type)&&!rR(s.type,s.memoizedProps))){var i=Fu;if(i)if(SR(s))nz(s),wR();else for(;i;)JB(s,i),i=Gb(i)}return tz(s),s.tag===L?Fu=p_e(s):Fu=ss?Gb(s.stateNode):null,!0}function h_e(){return hl&&Fu!==null}function nz(s){for(var i=Fu;i;)QB(s,i),i=Gb(i)}function qg(){ss=null,Fu=null,hl=!1,kh=!1}function rz(){Af!==null&&(XU(Af),Af=null)}function is(){return hl}function xR(s){Af===null?Af=[s]:Af.push(s)}var m_e=n.ReactCurrentBatchConfig,g_e=null;function v_e(){return m_e.transition}var ml={recordUnsafeLifecycleWarnings:function(s,i){},flushPendingUnsafeLifecycleWarnings:function(){},recordLegacyContextWarning:function(s,i){},flushLegacyContextWarning:function(){},discardPendingWarnings:function(){}};{var y_e=function(s){for(var i=null,m=s;m!==null;)m.mode&Dr&&(i=m),m=m.return;return i},_h=function(s){var i=[];return s.forEach(function(m){i.push(m)}),i.sort().join(", ")},Xb=[],Qb=[],Jb=[],Zb=[],e0=[],t0=[],Th=new Set;ml.recordUnsafeLifecycleWarnings=function(s,i){Th.has(s.type)||(typeof i.componentWillMount=="function"&&i.componentWillMount.__suppressDeprecationWarning!==!0&&Xb.push(s),s.mode&Dr&&typeof i.UNSAFE_componentWillMount=="function"&&Qb.push(s),typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps.__suppressDeprecationWarning!==!0&&Jb.push(s),s.mode&Dr&&typeof i.UNSAFE_componentWillReceiveProps=="function"&&Zb.push(s),typeof i.componentWillUpdate=="function"&&i.componentWillUpdate.__suppressDeprecationWarning!==!0&&e0.push(s),s.mode&Dr&&typeof i.UNSAFE_componentWillUpdate=="function"&&t0.push(s))},ml.flushPendingUnsafeLifecycleWarnings=function(){var s=new Set;Xb.length>0&&(Xb.forEach(function(we){s.add(en(we)||"Component"),Th.add(we.type)}),Xb=[]);var i=new Set;Qb.length>0&&(Qb.forEach(function(we){i.add(en(we)||"Component"),Th.add(we.type)}),Qb=[]);var m=new Set;Jb.length>0&&(Jb.forEach(function(we){m.add(en(we)||"Component"),Th.add(we.type)}),Jb=[]);var v=new Set;Zb.length>0&&(Zb.forEach(function(we){v.add(en(we)||"Component"),Th.add(we.type)}),Zb=[]);var w=new Set;e0.length>0&&(e0.forEach(function(we){w.add(en(we)||"Component"),Th.add(we.type)}),e0=[]);var T=new Set;if(t0.length>0&&(t0.forEach(function(we){T.add(en(we)||"Component"),Th.add(we.type)}),t0=[]),i.size>0){var D=_h(i);u(`Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.

Please update the following components: %s`,D)}if(v.size>0){var P=_h(v);u(`Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state

Please update the following components: %s`,P)}if(T.size>0){var H=_h(T);u(`Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.

Please update the following components: %s`,H)}if(s.size>0){var X=_h(s);o(`componentWillMount has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.
* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,X)}if(m.size>0){var ne=_h(m);o(`componentWillReceiveProps has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state
* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,ne)}if(w.size>0){var xe=_h(w);o(`componentWillUpdate has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,xe)}};var Ox=new Map,az=new Set;ml.recordLegacyContextWarning=function(s,i){var m=y_e(s);if(m===null){u("Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue.");return}if(!az.has(s.type)){var v=Ox.get(m);(s.type.contextTypes!=null||s.type.childContextTypes!=null||i!==null&&typeof i.getChildContext=="function")&&(v===void 0&&(v=[],Ox.set(m,v)),v.push(s))}},ml.flushLegacyContextWarning=function(){Ox.forEach(function(s,i){if(s.length!==0){var m=s[0],v=new Set;s.forEach(function(T){v.add(en(T)||"Component"),az.add(T.type)});var w=_h(v);try{ae(m),u(`Legacy context API has been detected within a strict-mode tree.

The old API will be supported in all 16.x releases, but applications using it should migrate to the new version.

Please update the following components: %s

Learn more about this warning here: https://reactjs.org/link/legacy-context`,w)}finally{_r()}}})},ml.discardPendingWarnings=function(){Xb=[],Qb=[],Jb=[],Zb=[],e0=[],t0=[],Ox=new Map}}var CR,kR,_R,TR,IR,oz=function(s,i){};CR=!1,kR=!1,_R={},TR={},IR={},oz=function(s,i){if(!(s===null||typeof s!="object")&&!(!s._store||s._store.validated||s.key!=null)){if(typeof s._store!="object")throw new Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");s._store.validated=!0;var m=en(i)||"Component";TR[m]||(TR[m]=!0,u('Each child in a list should have a unique "key" prop. See https://reactjs.org/link/warning-keys for more information.'))}};function b_e(s){return s.prototype&&s.prototype.isReactComponent}function n0(s,i,m){var v=m.ref;if(v!==null&&typeof v!="function"&&typeof v!="object"){if((s.mode&Dr||ue)&&!(m._owner&&m._self&&m._owner.stateNode!==m._self)&&!(m._owner&&m._owner.tag!==p)&&!(typeof m.type=="function"&&!b_e(m.type))&&m._owner){var w=en(s)||"Component";_R[w]||(u('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. We recommend using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',w,v),_R[w]=!0)}if(m._owner){var T=m._owner,D;if(T){var P=T;if(P.tag!==p)throw new Error("Function components cannot have string refs. We recommend using useRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref");D=P.stateNode}if(!D)throw new Error("Missing owner for string ref "+v+". This error is likely caused by a bug in React. Please file an issue.");var H=D;dn(v,"ref");var X=""+v;if(i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===X)return i.ref;var ne=function(xe){var we=H.refs;xe===null?delete we[X]:we[X]=xe};return ne._stringRef=X,ne}else{if(typeof v!="string")throw new Error("Expected ref to be a function, a string, an object returned by React.createRef(), or null.");if(!m._owner)throw new Error("Element ref was specified as a string ("+v+`) but no owner was set. This could happen for one of the following reasons:
1. You may be adding a ref to a function component
2. You may be adding a ref to a component that was not created inside a component's render method
3. You have multiple copies of React loaded
See https://reactjs.org/link/refs-must-have-owner for more information.`)}}return v}function Mx(s,i){var m=Object.prototype.toString.call(i);throw new Error("Objects are not valid as a React child (found: "+(m==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":m)+"). If you meant to render a collection of children, use an array instead.")}function $x(s){{var i=en(s)||"Component";if(IR[i])return;IR[i]=!0,u("Functions are not valid as a React child. This may happen if you return a Component instead of <Component /> from render. Or maybe you meant to call this function rather than return it.")}}function sz(s){var i=s._payload,m=s._init;return m(i)}function iz(s){function i(Ne,je){if(s){var Ae=Ne.deletions;Ae===null?(Ne.deletions=[je],Ne.flags|=Ti):Ae.push(je)}}function m(Ne,je){if(!s)return null;for(var Ae=je;Ae!==null;)i(Ne,Ae),Ae=Ae.sibling;return null}function v(Ne,je){for(var Ae=new Map,ot=je;ot!==null;)ot.key!==null?Ae.set(ot.key,ot):Ae.set(ot.index,ot),ot=ot.sibling;return Ae}function w(Ne,je){var Ae=Fh(Ne,je);return Ae.index=0,Ae.sibling=null,Ae}function T(Ne,je,Ae){if(Ne.index=Ae,!s)return Ne.flags|=Cu,je;var ot=Ne.alternate;if(ot!==null){var It=ot.index;return It<je?(Ne.flags|=fa,je):It}else return Ne.flags|=fa,je}function D(Ne){return s&&Ne.alternate===null&&(Ne.flags|=fa),Ne}function P(Ne,je,Ae,ot){if(je===null||je.tag!==E){var It=xA(Ae,Ne.mode,ot);return It.return=Ne,It}else{var Et=w(je,Ae);return Et.return=Ne,Et}}function H(Ne,je,Ae,ot){var It=Ae.type;if(It===Kt)return ne(Ne,je,Ae.props.children,ot,Ae.key);if(je!==null&&(je.elementType===It||f7(je,Ae)||typeof It=="object"&&It!==null&&It.$$typeof===Zt&&sz(It)===je.type)){var Et=w(je,Ae.props);return Et.ref=n0(Ne,je,Ae),Et.return=Ne,Et._debugSource=Ae._source,Et._debugOwner=Ae._owner,Et}var pn=EA(Ae,Ne.mode,ot);return pn.ref=n0(Ne,je,Ae),pn.return=Ne,pn}function X(Ne,je,Ae,ot){if(je===null||je.tag!==y||je.stateNode.containerInfo!==Ae.containerInfo||je.stateNode.implementation!==Ae.implementation){var It=CA(Ae,Ne.mode,ot);return It.return=Ne,It}else{var Et=w(je,Ae.children||[]);return Et.return=Ne,Et}}function ne(Ne,je,Ae,ot,It){if(je===null||je.tag!==k){var Et=Hf(Ae,Ne.mode,ot,It);return Et.return=Ne,Et}else{var pn=w(je,Ae);return pn.return=Ne,pn}}function xe(Ne,je,Ae){if(typeof je=="string"&&je!==""||typeof je=="number"){var ot=xA(""+je,Ne.mode,Ae);return ot.return=Ne,ot}if(typeof je=="object"&&je!==null){switch(je.$$typeof){case Tn:{var It=EA(je,Ne.mode,Ae);return It.ref=n0(Ne,null,je),It.return=Ne,It}case Ht:{var Et=CA(je,Ne.mode,Ae);return Et.return=Ne,Et}case Zt:{var pn=je._payload,_n=je._init;return xe(Ne,_n(pn),Ae)}}if(Ue(je)||fn(je)){var Mr=Hf(je,Ne.mode,Ae,null);return Mr.return=Ne,Mr}Mx(Ne,je)}return typeof je=="function"&&$x(Ne),null}function we(Ne,je,Ae,ot){var It=je!==null?je.key:null;if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number")return It!==null?null:P(Ne,je,""+Ae,ot);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case Tn:return Ae.key===It?H(Ne,je,Ae,ot):null;case Ht:return Ae.key===It?X(Ne,je,Ae,ot):null;case Zt:{var Et=Ae._payload,pn=Ae._init;return we(Ne,je,pn(Et),ot)}}if(Ue(Ae)||fn(Ae))return It!==null?null:ne(Ne,je,Ae,ot,null);Mx(Ne,Ae)}return typeof Ae=="function"&&$x(Ne),null}function Fe(Ne,je,Ae,ot,It){if(typeof ot=="string"&&ot!==""||typeof ot=="number"){var Et=Ne.get(Ae)||null;return P(je,Et,""+ot,It)}if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case Tn:{var pn=Ne.get(ot.key===null?Ae:ot.key)||null;return H(je,pn,ot,It)}case Ht:{var _n=Ne.get(ot.key===null?Ae:ot.key)||null;return X(je,_n,ot,It)}case Zt:var Mr=ot._payload,yr=ot._init;return Fe(Ne,je,Ae,yr(Mr),It)}if(Ue(ot)||fn(ot)){var to=Ne.get(Ae)||null;return ne(je,to,ot,It,null)}Mx(je,ot)}return typeof ot=="function"&&$x(je),null}function Be(Ne,je,Ae){{if(typeof Ne!="object"||Ne===null)return je;switch(Ne.$$typeof){case Tn:case Ht:oz(Ne,Ae);var ot=Ne.key;if(typeof ot!="string")break;if(je===null){je=new Set,je.add(ot);break}if(!je.has(ot)){je.add(ot);break}u("Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted  the behavior is unsupported and could change in a future version.",ot);break;case Zt:var It=Ne._payload,Et=Ne._init;Be(Et(It),je,Ae);break}}return je}function We(Ne,je,Ae,ot){for(var It=null,Et=0;Et<Ae.length;Et++){var pn=Ae[Et];It=Be(pn,It,Ne)}for(var _n=null,Mr=null,yr=je,to=0,br=0,Ga=null;yr!==null&&br<Ae.length;br++){yr.index>br?(Ga=yr,yr=null):Ga=yr.sibling;var zs=we(Ne,yr,Ae[br],ot);if(zs===null){yr===null&&(yr=Ga);break}s&&yr&&zs.alternate===null&&i(Ne,yr),to=T(zs,to,br),Mr===null?_n=zs:Mr.sibling=zs,Mr=zs,yr=Ga}if(br===Ae.length){if(m(Ne,yr),is()){var hs=br;xh(Ne,hs)}return _n}if(yr===null){for(;br<Ae.length;br++){var lu=xe(Ne,Ae[br],ot);lu!==null&&(to=T(lu,to,br),Mr===null?_n=lu:Mr.sibling=lu,Mr=lu)}if(is()){var fi=br;xh(Ne,fi)}return _n}for(var pi=v(Ne,yr);br<Ae.length;br++){var Us=Fe(pi,Ne,br,Ae[br],ot);Us!==null&&(s&&Us.alternate!==null&&pi.delete(Us.key===null?br:Us.key),to=T(Us,to,br),Mr===null?_n=Us:Mr.sibling=Us,Mr=Us)}if(s&&pi.forEach(function(fv){return i(Ne,fv)}),is()){var kd=br;xh(Ne,kd)}return _n}function bt(Ne,je,Ae,ot){var It=fn(Ae);if(typeof It!="function")throw new Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");{typeof Symbol=="function"&&Ae[Symbol.toStringTag]==="Generator"&&(kR||u("Using Generators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. Keep in mind you might need to polyfill these features for older browsers."),kR=!0),Ae.entries===It&&(CR||u("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),CR=!0);var Et=It.call(Ae);if(Et)for(var pn=null,_n=Et.next();!_n.done;_n=Et.next()){var Mr=_n.value;pn=Be(Mr,pn,Ne)}}var yr=It.call(Ae);if(yr==null)throw new Error("An iterable object provided no iterator.");for(var to=null,br=null,Ga=je,zs=0,hs=0,lu=null,fi=yr.next();Ga!==null&&!fi.done;hs++,fi=yr.next()){Ga.index>hs?(lu=Ga,Ga=null):lu=Ga.sibling;var pi=we(Ne,Ga,fi.value,ot);if(pi===null){Ga===null&&(Ga=lu);break}s&&Ga&&pi.alternate===null&&i(Ne,Ga),zs=T(pi,zs,hs),br===null?to=pi:br.sibling=pi,br=pi,Ga=lu}if(fi.done){if(m(Ne,Ga),is()){var Us=hs;xh(Ne,Us)}return to}if(Ga===null){for(;!fi.done;hs++,fi=yr.next()){var kd=xe(Ne,fi.value,ot);kd!==null&&(zs=T(kd,zs,hs),br===null?to=kd:br.sibling=kd,br=kd)}if(is()){var fv=hs;xh(Ne,fv)}return to}for(var M0=v(Ne,Ga);!fi.done;hs++,fi=yr.next()){var yc=Fe(M0,Ne,hs,fi.value,ot);yc!==null&&(s&&yc.alternate!==null&&M0.delete(yc.key===null?hs:yc.key),zs=T(yc,zs,hs),br===null?to=yc:br.sibling=yc,br=yc)}if(s&&M0.forEach(function(j3e){return i(Ne,j3e)}),is()){var W3e=hs;xh(Ne,W3e)}return to}function tn(Ne,je,Ae,ot){if(je!==null&&je.tag===E){m(Ne,je.sibling);var It=w(je,Ae);return It.return=Ne,It}m(Ne,je);var Et=xA(Ae,Ne.mode,ot);return Et.return=Ne,Et}function Wt(Ne,je,Ae,ot){for(var It=Ae.key,Et=je;Et!==null;){if(Et.key===It){var pn=Ae.type;if(pn===Kt){if(Et.tag===k){m(Ne,Et.sibling);var _n=w(Et,Ae.props.children);return _n.return=Ne,_n._debugSource=Ae._source,_n._debugOwner=Ae._owner,_n}}else if(Et.elementType===pn||f7(Et,Ae)||typeof pn=="object"&&pn!==null&&pn.$$typeof===Zt&&sz(pn)===Et.type){m(Ne,Et.sibling);var Mr=w(Et,Ae.props);return Mr.ref=n0(Ne,Et,Ae),Mr.return=Ne,Mr._debugSource=Ae._source,Mr._debugOwner=Ae._owner,Mr}m(Ne,Et);break}else i(Ne,Et);Et=Et.sibling}if(Ae.type===Kt){var yr=Hf(Ae.props.children,Ne.mode,ot,Ae.key);return yr.return=Ne,yr}else{var to=EA(Ae,Ne.mode,ot);return to.ref=n0(Ne,je,Ae),to.return=Ne,to}}function ar(Ne,je,Ae,ot){for(var It=Ae.key,Et=je;Et!==null;){if(Et.key===It)if(Et.tag===y&&Et.stateNode.containerInfo===Ae.containerInfo&&Et.stateNode.implementation===Ae.implementation){m(Ne,Et.sibling);var pn=w(Et,Ae.children||[]);return pn.return=Ne,pn}else{m(Ne,Et);break}else i(Ne,Et);Et=Et.sibling}var _n=CA(Ae,Ne.mode,ot);return _n.return=Ne,_n}function jn(Ne,je,Ae,ot){var It=typeof Ae=="object"&&Ae!==null&&Ae.type===Kt&&Ae.key===null;if(It&&(Ae=Ae.props.children),typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case Tn:return D(Wt(Ne,je,Ae,ot));case Ht:return D(ar(Ne,je,Ae,ot));case Zt:var Et=Ae._payload,pn=Ae._init;return jn(Ne,je,pn(Et),ot)}if(Ue(Ae))return We(Ne,je,Ae,ot);if(fn(Ae))return bt(Ne,je,Ae,ot);Mx(Ne,Ae)}return typeof Ae=="string"&&Ae!==""||typeof Ae=="number"?D(tn(Ne,je,""+Ae,ot)):(typeof Ae=="function"&&$x(Ne),m(Ne,je))}return jn}var Kg=iz(!0),uz=iz(!1);function S_e(s,i){if(s!==null&&i.child!==s.child)throw new Error("Resuming work not yet implemented.");if(i.child!==null){var m=i.child,v=Fh(m,m.pendingProps);for(i.child=v,v.return=i;m.sibling!==null;)m=m.sibling,v=v.sibling=Fh(m,m.pendingProps),v.return=i;v.sibling=null}}function w_e(s,i){for(var m=s.child;m!==null;)u3e(m,i),m=m.sibling}var RR=If(null),NR;NR={};var Fx=null,Yg=null,AR=null,Px=!1;function Lx(){Fx=null,Yg=null,AR=null,Px=!1}function lz(){Px=!0}function cz(){Px=!1}function dz(s,i,m){Ls(RR,i._currentValue,s),i._currentValue=m,i._currentRenderer!==void 0&&i._currentRenderer!==null&&i._currentRenderer!==NR&&u("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),i._currentRenderer=NR}function DR(s,i){var m=RR.current;Ps(RR,i),s._currentValue=m}function OR(s,i,m){for(var v=s;v!==null;){var w=v.alternate;if(id(v.childLanes,i)?w!==null&&!id(w.childLanes,i)&&(w.childLanes=An(w.childLanes,i)):(v.childLanes=An(v.childLanes,i),w!==null&&(w.childLanes=An(w.childLanes,i))),v===m)break;v=v.return}v!==m&&u("Expected to find the propagation root when scheduling context work. This error is likely caused by a bug in React. Please file an issue.")}function E_e(s,i,m){x_e(s,i,m)}function x_e(s,i,m){var v=s.child;for(v!==null&&(v.return=s);v!==null;){var w=void 0,T=v.dependencies;if(T!==null){w=v.child;for(var D=T.firstContext;D!==null;){if(D.context===i){if(v.tag===p){var P=eh(m),H=bd(Br,P);H.tag=zx;var X=v.updateQueue;if(X!==null){var ne=X.shared,xe=ne.pending;xe===null?H.next=H:(H.next=xe.next,xe.next=H),ne.pending=H}}v.lanes=An(v.lanes,m);var we=v.alternate;we!==null&&(we.lanes=An(we.lanes,m)),OR(v.return,m,s),T.lanes=An(T.lanes,m);break}D=D.next}}else if(v.tag===R)w=v.type===s.type?null:v.child;else if(v.tag===K){var Fe=v.return;if(Fe===null)throw new Error("We just came from a parent so we must have had a parent. This is a bug in React.");Fe.lanes=An(Fe.lanes,m);var Be=Fe.alternate;Be!==null&&(Be.lanes=An(Be.lanes,m)),OR(Fe,m,s),w=v.sibling}else w=v.child;if(w!==null)w.return=v;else for(w=v;w!==null;){if(w===s){w=null;break}var We=w.sibling;if(We!==null){We.return=w.return,w=We;break}w=w.return}v=w}}function Xg(s,i){Fx=s,Yg=null,AR=null;var m=s.dependencies;if(m!==null){var v=m.firstContext;v!==null&&(Os(m.lanes,i)&&v0(),m.firstContext=null)}}function po(s){Px&&u("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");var i=s._currentValue;if(AR!==s){var m={context:s,memoizedValue:i,next:null};if(Yg===null){if(Fx===null)throw new Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");Yg=m,Fx.dependencies={lanes:Ze,firstContext:m}}else Yg=Yg.next=m}return i}var Ih=null;function MR(s){Ih===null?Ih=[s]:Ih.push(s)}function C_e(){if(Ih!==null){for(var s=0;s<Ih.length;s++){var i=Ih[s],m=i.interleaved;if(m!==null){i.interleaved=null;var v=m.next,w=i.pending;if(w!==null){var T=w.next;w.next=v,m.next=T}i.pending=m}}Ih=null}}function fz(s,i,m,v){var w=i.interleaved;return w===null?(m.next=m,MR(i)):(m.next=w.next,w.next=m),i.interleaved=m,Bx(s,v)}function k_e(s,i,m,v){var w=i.interleaved;w===null?(m.next=m,MR(i)):(m.next=w.next,w.next=m),i.interleaved=m}function __e(s,i,m,v){var w=i.interleaved;return w===null?(m.next=m,MR(i)):(m.next=w.next,w.next=m),i.interleaved=m,Bx(s,v)}function Pi(s,i){return Bx(s,i)}var T_e=Bx;function Bx(s,i){s.lanes=An(s.lanes,i);var m=s.alternate;m!==null&&(m.lanes=An(m.lanes,i)),m===null&&(s.flags&(fa|Is))!==Yt&&u7(s);for(var v=s,w=s.return;w!==null;)w.childLanes=An(w.childLanes,i),m=w.alternate,m!==null?m.childLanes=An(m.childLanes,i):(w.flags&(fa|Is))!==Yt&&u7(s),v=w,w=w.return;if(v.tag===g){var T=v.stateNode;return T}else return null}var pz=0,hz=1,zx=2,$R=3,Ux=!1,FR,Hx;FR=!1,Hx=null;function PR(s){var i={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:Ze},effects:null};s.updateQueue=i}function mz(s,i){var m=i.updateQueue,v=s.updateQueue;if(m===v){var w={baseState:v.baseState,firstBaseUpdate:v.firstBaseUpdate,lastBaseUpdate:v.lastBaseUpdate,shared:v.shared,effects:v.effects};i.updateQueue=w}}function bd(s,i){var m={eventTime:s,lane:i,tag:pz,payload:null,callback:null,next:null};return m}function Df(s,i,m){var v=s.updateQueue;if(v===null)return null;var w=v.shared;if(Hx===w&&!FR&&(u("An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback."),FR=!0),kIe()){var T=w.pending;return T===null?i.next=i:(i.next=T.next,T.next=i),w.pending=i,T_e(s,m)}else return __e(s,w,i,m)}function Vx(s,i,m){var v=i.updateQueue;if(v!==null){var w=v.shared;if(mb(m)){var T=w.lanes;T=vb(T,s.pendingLanes);var D=An(T,m);w.lanes=D,Eg(s,D)}}}function LR(s,i){var m=s.updateQueue,v=s.alternate;if(v!==null){var w=v.updateQueue;if(m===w){var T=null,D=null,P=m.firstBaseUpdate;if(P!==null){var H=P;do{var X={eventTime:H.eventTime,lane:H.lane,tag:H.tag,payload:H.payload,callback:H.callback,next:null};D===null?T=D=X:(D.next=X,D=X),H=H.next}while(H!==null);D===null?T=D=i:(D.next=i,D=i)}else T=D=i;m={baseState:w.baseState,firstBaseUpdate:T,lastBaseUpdate:D,shared:w.shared,effects:w.effects},s.updateQueue=m;return}}var ne=m.lastBaseUpdate;ne===null?m.firstBaseUpdate=i:ne.next=i,m.lastBaseUpdate=i}function I_e(s,i,m,v,w,T){switch(m.tag){case hz:{var D=m.payload;if(typeof D=="function"){lz();var P=D.call(T,v,w);{if(s.mode&Dr){pa(!0);try{D.call(T,v,w)}finally{pa(!1)}}cz()}return P}return D}case $R:s.flags=s.flags&~uo|qt;case pz:{var H=m.payload,X;if(typeof H=="function"){lz(),X=H.call(T,v,w);{if(s.mode&Dr){pa(!0);try{H.call(T,v,w)}finally{pa(!1)}}cz()}}else X=H;return X==null?v:En({},v,X)}case zx:return Ux=!0,v}return v}function Wx(s,i,m,v){var w=s.updateQueue;Ux=!1,Hx=w.shared;var T=w.firstBaseUpdate,D=w.lastBaseUpdate,P=w.shared.pending;if(P!==null){w.shared.pending=null;var H=P,X=H.next;H.next=null,D===null?T=X:D.next=X,D=H;var ne=s.alternate;if(ne!==null){var xe=ne.updateQueue,we=xe.lastBaseUpdate;we!==D&&(we===null?xe.firstBaseUpdate=X:we.next=X,xe.lastBaseUpdate=H)}}if(T!==null){var Fe=w.baseState,Be=Ze,We=null,bt=null,tn=null,Wt=T;do{var ar=Wt.lane,jn=Wt.eventTime;if(id(v,ar)){if(tn!==null){var je={eventTime:jn,lane:dr,tag:Wt.tag,payload:Wt.payload,callback:Wt.callback,next:null};tn=tn.next=je}Fe=I_e(s,w,Wt,Fe,i,m);var Ae=Wt.callback;if(Ae!==null&&Wt.lane!==dr){s.flags|=qr;var ot=w.effects;ot===null?w.effects=[Wt]:ot.push(Wt)}}else{var Ne={eventTime:jn,lane:ar,tag:Wt.tag,payload:Wt.payload,callback:Wt.callback,next:null};tn===null?(bt=tn=Ne,We=Fe):tn=tn.next=Ne,Be=An(Be,ar)}if(Wt=Wt.next,Wt===null){if(P=w.shared.pending,P===null)break;var It=P,Et=It.next;It.next=null,Wt=Et,w.lastBaseUpdate=It,w.shared.pending=null}}while(!0);tn===null&&(We=Fe),w.baseState=We,w.firstBaseUpdate=bt,w.lastBaseUpdate=tn;var pn=w.shared.interleaved;if(pn!==null){var _n=pn;do Be=An(Be,_n.lane),_n=_n.next;while(_n!==pn)}else T===null&&(w.shared.lanes=Ze);R0(Be),s.lanes=Be,s.memoizedState=Fe}Hx=null}function R_e(s,i){if(typeof s!="function")throw new Error("Invalid argument passed as callback. Expected a function. Instead "+("received: "+s));s.call(i)}function gz(){Ux=!1}function jx(){return Ux}function vz(s,i,m){var v=i.effects;if(i.effects=null,v!==null)for(var w=0;w<v.length;w++){var T=v[w],D=T.callback;D!==null&&(T.callback=null,R_e(D,m))}}var r0={},Of=If(r0),a0=If(r0),Gx=If(r0);function qx(s){if(s===r0)throw new Error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue.");return s}function yz(){var s=qx(Gx.current);return s}function BR(s,i){Ls(Gx,i,s),Ls(a0,s,s),Ls(Of,r0,s);var m=GCe(i);Ps(Of,s),Ls(Of,m,s)}function Qg(s){Ps(Of,s),Ps(a0,s),Ps(Gx,s)}function zR(){var s=qx(Of.current);return s}function bz(s){qx(Gx.current);var i=qx(Of.current),m=qCe(i,s.type);i!==m&&(Ls(a0,s,s),Ls(Of,m,s))}function UR(s){a0.current===s&&(Ps(Of,s),Ps(a0,s))}var N_e=0,Sz=1,wz=1,o0=2,gl=If(N_e);function HR(s,i){return(s&i)!==0}function Jg(s){return s&Sz}function VR(s,i){return s&Sz|i}function A_e(s,i){return s|i}function Mf(s,i){Ls(gl,i,s)}function Zg(s){Ps(gl,s)}function D_e(s,i){var m=s.memoizedState;return m!==null?m.dehydrated!==null:(s.memoizedProps,!0)}function Kx(s){for(var i=s;i!==null;){if(i.tag===L){var m=i.memoizedState;if(m!==null){var v=m.dehydrated;if(v===null||LB(v)||iR(v))return i}}else if(i.tag===z&&i.memoizedProps.revealOrder!==void 0){var w=(i.flags&qt)!==Yt;if(w)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)return null;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Li=0,Co=1,dc=2,ko=4,us=8,WR=[];function jR(){for(var s=0;s<WR.length;s++){var i=WR[s];i._workInProgressVersionPrimary=null}WR.length=0}function O_e(s,i){var m=i._getVersion,v=m(i._source);s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[i,v]:s.mutableSourceEagerHydrationData.push(i,v)}var kt=n.ReactCurrentDispatcher,s0=n.ReactCurrentBatchConfig,GR,ev;GR=new Set;var Rh=Ze,Or=null,_o=null,To=null,Yx=!1,i0=!1,u0=0,M_e=0,$_e=25,qe=null,Pu=null,$f=-1,qR=!1;function Rr(){{var s=qe;Pu===null?Pu=[s]:Pu.push(s)}}function mt(){{var s=qe;Pu!==null&&($f++,Pu[$f]!==s&&F_e(s))}}function tv(s){s!=null&&!Ue(s)&&u("%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.",qe,typeof s)}function F_e(s){{var i=en(Or);if(!GR.has(i)&&(GR.add(i),Pu!==null)){for(var m="",v=30,w=0;w<=$f;w++){for(var T=Pu[w],D=w===$f?s:T,P=w+1+". "+T;P.length<v;)P+=" ";P+=D+`
`,m+=P}u(`React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://reactjs.org/link/rules-of-hooks

   Previous render            Next render
   ------------------------------------------------------
%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
`,i,m)}}}function Bs(){throw new Error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.`)}function KR(s,i){if(qR)return!1;if(i===null)return u("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.",qe),!1;s.length!==i.length&&u(`The final argument passed to %s changed size between renders. The order and size of this array must remain constant.

Previous: %s
Incoming: %s`,qe,"["+i.join(", ")+"]","["+s.join(", ")+"]");for(var m=0;m<i.length&&m<s.length;m++)if(!rt(s[m],i[m]))return!1;return!0}function nv(s,i,m,v,w,T){Rh=T,Or=i,Pu=s!==null?s._debugHookTypes:null,$f=-1,qR=s!==null&&s.type!==i.type,i.memoizedState=null,i.updateQueue=null,i.lanes=Ze,s!==null&&s.memoizedState!==null?kt.current=Vz:Pu!==null?kt.current=Hz:kt.current=Uz;var D=m(v,w);if(i0){var P=0;do{if(i0=!1,u0=0,P>=$_e)throw new Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");P+=1,qR=!1,_o=null,To=null,i.updateQueue=null,$f=-1,kt.current=Wz,D=m(v,w)}while(i0)}kt.current=uC,i._debugHookTypes=Pu;var H=_o!==null&&_o.next!==null;if(Rh=Ze,Or=null,_o=null,To=null,qe=null,Pu=null,$f=-1,s!==null&&(s.flags&za)!==(i.flags&za)&&(s.mode&Pn)!==Xt&&u("Internal React error: Expected static flag was missing. Please notify the React team."),Yx=!1,H)throw new Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");return D}function rv(){var s=u0!==0;return u0=0,s}function Ez(s,i,m){i.updateQueue=s.updateQueue,(i.mode&gr)!==Xt?i.flags&=-50333701:i.flags&=-2053,s.lanes=th(s.lanes,m)}function xz(){if(kt.current=uC,Yx){for(var s=Or.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}Yx=!1}Rh=Ze,Or=null,_o=null,To=null,Pu=null,$f=-1,qe=null,Fz=!1,i0=!1,u0=0}function fc(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return To===null?Or.memoizedState=To=s:To=To.next=s,To}function Lu(){var s;if(_o===null){var i=Or.alternate;i!==null?s=i.memoizedState:s=null}else s=_o.next;var m;if(To===null?m=Or.memoizedState:m=To.next,m!==null)To=m,m=To.next,_o=s;else{if(s===null)throw new Error("Rendered more hooks than during the previous render.");_o=s;var v={memoizedState:_o.memoizedState,baseState:_o.baseState,baseQueue:_o.baseQueue,queue:_o.queue,next:null};To===null?Or.memoizedState=To=v:To=To.next=v}return To}function Cz(){return{lastEffect:null,stores:null}}function YR(s,i){return typeof i=="function"?i(s):i}function XR(s,i,m){var v=fc(),w;m!==void 0?w=m(i):w=i,v.memoizedState=v.baseState=w;var T={pending:null,interleaved:null,lanes:Ze,dispatch:null,lastRenderedReducer:s,lastRenderedState:w};v.queue=T;var D=T.dispatch=z_e.bind(null,Or,T);return[v.memoizedState,D]}function QR(s,i,m){var v=Lu(),w=v.queue;if(w===null)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");w.lastRenderedReducer=s;var T=_o,D=T.baseQueue,P=w.pending;if(P!==null){if(D!==null){var H=D.next,X=P.next;D.next=X,P.next=H}T.baseQueue!==D&&u("Internal error: Expected work-in-progress queue to be a clone. This is a bug in React."),T.baseQueue=D=P,w.pending=null}if(D!==null){var ne=D.next,xe=T.baseState,we=null,Fe=null,Be=null,We=ne;do{var bt=We.lane;if(id(Rh,bt)){if(Be!==null){var Wt={lane:dr,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null};Be=Be.next=Wt}if(We.hasEagerState)xe=We.eagerState;else{var ar=We.action;xe=s(xe,ar)}}else{var tn={lane:bt,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null};Be===null?(Fe=Be=tn,we=xe):Be=Be.next=tn,Or.lanes=An(Or.lanes,bt),R0(bt)}We=We.next}while(We!==null&&We!==ne);Be===null?we=xe:Be.next=Fe,rt(xe,v.memoizedState)||v0(),v.memoizedState=xe,v.baseState=we,v.baseQueue=Be,w.lastRenderedState=xe}var jn=w.interleaved;if(jn!==null){var Ne=jn;do{var je=Ne.lane;Or.lanes=An(Or.lanes,je),R0(je),Ne=Ne.next}while(Ne!==jn)}else D===null&&(w.lanes=Ze);var Ae=w.dispatch;return[v.memoizedState,Ae]}function JR(s,i,m){var v=Lu(),w=v.queue;if(w===null)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");w.lastRenderedReducer=s;var T=w.dispatch,D=w.pending,P=v.memoizedState;if(D!==null){w.pending=null;var H=D.next,X=H;do{var ne=X.action;P=s(P,ne),X=X.next}while(X!==H);rt(P,v.memoizedState)||v0(),v.memoizedState=P,v.baseQueue===null&&(v.baseState=P),w.lastRenderedState=P}return[P,T]}function vAe(s,i,m){}function yAe(s,i,m){}function ZR(s,i,m){var v=Or,w=fc(),T,D=is();if(D){if(m===void 0)throw new Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");T=m(),ev||T!==m()&&(u("The result of getServerSnapshot should be cached to avoid an infinite loop"),ev=!0)}else{if(T=i(),!ev){var P=i();rt(T,P)||(u("The result of getSnapshot should be cached to avoid an infinite loop"),ev=!0)}var H=TC();if(H===null)throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");Sg(H,Rh)||kz(v,i,T)}w.memoizedState=T;var X={value:T,getSnapshot:i};return w.queue=X,eC(Tz.bind(null,v,X,s),[s]),v.flags|=Ts,l0(Co|us,_z.bind(null,v,X,T,i),void 0,null),T}function Xx(s,i,m){var v=Or,w=Lu(),T=i();if(!ev){var D=i();rt(T,D)||(u("The result of getSnapshot should be cached to avoid an infinite loop"),ev=!0)}var P=w.memoizedState,H=!rt(P,T);H&&(w.memoizedState=T,v0());var X=w.queue;if(d0(Tz.bind(null,v,X,s),[s]),X.getSnapshot!==i||H||To!==null&&To.memoizedState.tag&Co){v.flags|=Ts,l0(Co|us,_z.bind(null,v,X,T,i),void 0,null);var ne=TC();if(ne===null)throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");Sg(ne,Rh)||kz(v,i,T)}return T}function kz(s,i,m){s.flags|=ff;var v={getSnapshot:i,value:m},w=Or.updateQueue;if(w===null)w=Cz(),Or.updateQueue=w,w.stores=[v];else{var T=w.stores;T===null?w.stores=[v]:T.push(v)}}function _z(s,i,m,v){i.value=m,i.getSnapshot=v,Iz(i)&&Rz(s)}function Tz(s,i,m){var v=function(){Iz(i)&&Rz(s)};return m(v)}function Iz(s){var i=s.getSnapshot,m=s.value;try{var v=i();return!rt(m,v)}catch{return!0}}function Rz(s){var i=Pi(s,cn);i!==null&&Ao(i,s,cn,Br)}function Qx(s){var i=fc();typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s;var m={pending:null,interleaved:null,lanes:Ze,dispatch:null,lastRenderedReducer:YR,lastRenderedState:s};i.queue=m;var v=m.dispatch=U_e.bind(null,Or,m);return[i.memoizedState,v]}function eN(s){return QR(YR)}function tN(s){return JR(YR)}function l0(s,i,m,v){var w={tag:s,create:i,destroy:m,deps:v,next:null},T=Or.updateQueue;if(T===null)T=Cz(),Or.updateQueue=T,T.lastEffect=w.next=w;else{var D=T.lastEffect;if(D===null)T.lastEffect=w.next=w;else{var P=D.next;D.next=w,w.next=P,T.lastEffect=w}}return w}function nN(s){var i=fc();{var m={current:s};return i.memoizedState=m,m}}function Jx(s){var i=Lu();return i.memoizedState}function c0(s,i,m,v){var w=fc(),T=v===void 0?null:v;Or.flags|=s,w.memoizedState=l0(Co|i,m,void 0,T)}function Zx(s,i,m,v){var w=Lu(),T=v===void 0?null:v,D=void 0;if(_o!==null){var P=_o.memoizedState;if(D=P.destroy,T!==null){var H=P.deps;if(KR(T,H)){w.memoizedState=l0(i,m,D,T);return}}}Or.flags|=s,w.memoizedState=l0(Co|i,m,D,T)}function eC(s,i){return(Or.mode&gr)!==Xt?c0(ku|Ts|qm,us,s,i):c0(Ts|qm,us,s,i)}function d0(s,i){return Zx(Ts,us,s,i)}function rN(s,i){return c0(tr,dc,s,i)}function tC(s,i){return Zx(tr,dc,s,i)}function aN(s,i){var m=tr;return m|=al,(Or.mode&gr)!==Xt&&(m|=ql),c0(m,ko,s,i)}function nC(s,i){return Zx(tr,ko,s,i)}function Nz(s,i){if(typeof i=="function"){var m=i,v=s();return m(v),function(){m(null)}}else if(i!=null){var w=i;w.hasOwnProperty("current")||u("Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.","an object with keys {"+Object.keys(w).join(", ")+"}");var T=s();return w.current=T,function(){w.current=null}}}function oN(s,i,m){typeof i!="function"&&u("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",i!==null?typeof i:"null");var v=m!=null?m.concat([s]):null,w=tr;return w|=al,(Or.mode&gr)!==Xt&&(w|=ql),c0(w,ko,Nz.bind(null,i,s),v)}function rC(s,i,m){typeof i!="function"&&u("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",i!==null?typeof i:"null");var v=m!=null?m.concat([s]):null;return Zx(tr,ko,Nz.bind(null,i,s),v)}function P_e(s,i){}var aC=P_e;function sN(s,i){var m=fc(),v=i===void 0?null:i;return m.memoizedState=[s,v],s}function oC(s,i){var m=Lu(),v=i===void 0?null:i,w=m.memoizedState;if(w!==null&&v!==null){var T=w[1];if(KR(v,T))return w[0]}return m.memoizedState=[s,v],s}function iN(s,i){var m=fc(),v=i===void 0?null:i,w=s();return m.memoizedState=[w,v],w}function sC(s,i){var m=Lu(),v=i===void 0?null:i,w=m.memoizedState;if(w!==null&&v!==null){var T=w[1];if(KR(v,T))return w[0]}var D=s();return m.memoizedState=[D,v],D}function uN(s){var i=fc();return i.memoizedState=s,s}function Az(s){var i=Lu(),m=_o,v=m.memoizedState;return Oz(i,v,s)}function Dz(s){var i=Lu();if(_o===null)return i.memoizedState=s,s;var m=_o.memoizedState;return Oz(i,m,s)}function Oz(s,i,m){var v=!pb(Rh);if(v){if(!rt(m,i)){var w=gb();Or.lanes=An(Or.lanes,w),R0(w),s.baseState=!0}return i}else return s.baseState&&(s.baseState=!1,v0()),s.memoizedState=m,m}function L_e(s,i,m){var v=Mi();Va(PE(v,Ru)),s(!0);var w=s0.transition;s0.transition={};var T=s0.transition;s0.transition._updatedFibers=new Set;try{s(!1),i()}finally{if(Va(v),s0.transition=w,w===null&&T._updatedFibers){var D=T._updatedFibers.size;D>10&&o("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),T._updatedFibers.clear()}}}function lN(){var s=Qx(!1),i=s[0],m=s[1],v=L_e.bind(null,m),w=fc();return w.memoizedState=v,[i,v]}function Mz(){var s=eN(),i=s[0],m=Lu(),v=m.memoizedState;return[i,v]}function $z(){var s=tN(),i=s[0],m=Lu(),v=m.memoizedState;return[i,v]}var Fz=!1;function B_e(){return Fz}function cN(){var s=fc(),i=TC(),m=i.identifierPrefix,v;if(is()){var w=n_e();v=":"+m+"R"+w;var T=u0++;T>0&&(v+="H"+T.toString(32)),v+=":"}else{var D=M_e++;v=":"+m+"r"+D.toString(32)+":"}return s.memoizedState=v,v}function iC(){var s=Lu(),i=s.memoizedState;return i}function z_e(s,i,m){typeof arguments[3]=="function"&&u("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var v=zf(s),w={lane:v,action:m,hasEagerState:!1,eagerState:null,next:null};if(Pz(s))Lz(i,w);else{var T=fz(s,i,w,v);if(T!==null){var D=di();Ao(T,s,v,D),Bz(T,i,v)}}zz(s,v)}function U_e(s,i,m){typeof arguments[3]=="function"&&u("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var v=zf(s),w={lane:v,action:m,hasEagerState:!1,eagerState:null,next:null};if(Pz(s))Lz(i,w);else{var T=s.alternate;if(s.lanes===Ze&&(T===null||T.lanes===Ze)){var D=i.lastRenderedReducer;if(D!==null){var P;P=kt.current,kt.current=vl;try{var H=i.lastRenderedState,X=D(H,m);if(w.hasEagerState=!0,w.eagerState=X,rt(X,H)){k_e(s,i,w,v);return}}catch{}finally{kt.current=P}}}var ne=fz(s,i,w,v);if(ne!==null){var xe=di();Ao(ne,s,v,xe),Bz(ne,i,v)}}zz(s,v)}function Pz(s){var i=s.alternate;return s===Or||i!==null&&i===Or}function Lz(s,i){i0=Yx=!0;var m=s.pending;m===null?i.next=i:(i.next=m.next,m.next=i),s.pending=i}function Bz(s,i,m){if(mb(m)){var v=i.lanes;v=vb(v,s.pendingLanes);var w=An(v,m);i.lanes=w,Eg(s,w)}}function zz(s,i,m){jp(s,i)}var uC={readContext:po,useCallback:Bs,useContext:Bs,useEffect:Bs,useImperativeHandle:Bs,useInsertionEffect:Bs,useLayoutEffect:Bs,useMemo:Bs,useReducer:Bs,useRef:Bs,useState:Bs,useDebugValue:Bs,useDeferredValue:Bs,useTransition:Bs,useMutableSource:Bs,useSyncExternalStore:Bs,useId:Bs,unstable_isNewReconciler:oe},Uz=null,Hz=null,Vz=null,Wz=null,pc=null,vl=null,lC=null;{var dN=function(){u("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().")},xn=function(){u("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://reactjs.org/link/rules-of-hooks")};Uz={readContext:function(s){return po(s)},useCallback:function(s,i){return qe="useCallback",Rr(),tv(i),sN(s,i)},useContext:function(s){return qe="useContext",Rr(),po(s)},useEffect:function(s,i){return qe="useEffect",Rr(),tv(i),eC(s,i)},useImperativeHandle:function(s,i,m){return qe="useImperativeHandle",Rr(),tv(m),oN(s,i,m)},useInsertionEffect:function(s,i){return qe="useInsertionEffect",Rr(),tv(i),rN(s,i)},useLayoutEffect:function(s,i){return qe="useLayoutEffect",Rr(),tv(i),aN(s,i)},useMemo:function(s,i){qe="useMemo",Rr(),tv(i);var m=kt.current;kt.current=pc;try{return iN(s,i)}finally{kt.current=m}},useReducer:function(s,i,m){qe="useReducer",Rr();var v=kt.current;kt.current=pc;try{return XR(s,i,m)}finally{kt.current=v}},useRef:function(s){return qe="useRef",Rr(),nN(s)},useState:function(s){qe="useState",Rr();var i=kt.current;kt.current=pc;try{return Qx(s)}finally{kt.current=i}},useDebugValue:function(s,i){return qe="useDebugValue",Rr(),void 0},useDeferredValue:function(s){return qe="useDeferredValue",Rr(),uN(s)},useTransition:function(){return qe="useTransition",Rr(),lN()},useMutableSource:function(s,i,m){return qe="useMutableSource",Rr(),void 0},useSyncExternalStore:function(s,i,m){return qe="useSyncExternalStore",Rr(),ZR(s,i,m)},useId:function(){return qe="useId",Rr(),cN()},unstable_isNewReconciler:oe},Hz={readContext:function(s){return po(s)},useCallback:function(s,i){return qe="useCallback",mt(),sN(s,i)},useContext:function(s){return qe="useContext",mt(),po(s)},useEffect:function(s,i){return qe="useEffect",mt(),eC(s,i)},useImperativeHandle:function(s,i,m){return qe="useImperativeHandle",mt(),oN(s,i,m)},useInsertionEffect:function(s,i){return qe="useInsertionEffect",mt(),rN(s,i)},useLayoutEffect:function(s,i){return qe="useLayoutEffect",mt(),aN(s,i)},useMemo:function(s,i){qe="useMemo",mt();var m=kt.current;kt.current=pc;try{return iN(s,i)}finally{kt.current=m}},useReducer:function(s,i,m){qe="useReducer",mt();var v=kt.current;kt.current=pc;try{return XR(s,i,m)}finally{kt.current=v}},useRef:function(s){return qe="useRef",mt(),nN(s)},useState:function(s){qe="useState",mt();var i=kt.current;kt.current=pc;try{return Qx(s)}finally{kt.current=i}},useDebugValue:function(s,i){return qe="useDebugValue",mt(),void 0},useDeferredValue:function(s){return qe="useDeferredValue",mt(),uN(s)},useTransition:function(){return qe="useTransition",mt(),lN()},useMutableSource:function(s,i,m){return qe="useMutableSource",mt(),void 0},useSyncExternalStore:function(s,i,m){return qe="useSyncExternalStore",mt(),ZR(s,i,m)},useId:function(){return qe="useId",mt(),cN()},unstable_isNewReconciler:oe},Vz={readContext:function(s){return po(s)},useCallback:function(s,i){return qe="useCallback",mt(),oC(s,i)},useContext:function(s){return qe="useContext",mt(),po(s)},useEffect:function(s,i){return qe="useEffect",mt(),d0(s,i)},useImperativeHandle:function(s,i,m){return qe="useImperativeHandle",mt(),rC(s,i,m)},useInsertionEffect:function(s,i){return qe="useInsertionEffect",mt(),tC(s,i)},useLayoutEffect:function(s,i){return qe="useLayoutEffect",mt(),nC(s,i)},useMemo:function(s,i){qe="useMemo",mt();var m=kt.current;kt.current=vl;try{return sC(s,i)}finally{kt.current=m}},useReducer:function(s,i,m){qe="useReducer",mt();var v=kt.current;kt.current=vl;try{return QR(s,i,m)}finally{kt.current=v}},useRef:function(s){return qe="useRef",mt(),Jx()},useState:function(s){qe="useState",mt();var i=kt.current;kt.current=vl;try{return eN(s)}finally{kt.current=i}},useDebugValue:function(s,i){return qe="useDebugValue",mt(),aC()},useDeferredValue:function(s){return qe="useDeferredValue",mt(),Az(s)},useTransition:function(){return qe="useTransition",mt(),Mz()},useMutableSource:function(s,i,m){return qe="useMutableSource",mt(),void 0},useSyncExternalStore:function(s,i,m){return qe="useSyncExternalStore",mt(),Xx(s,i)},useId:function(){return qe="useId",mt(),iC()},unstable_isNewReconciler:oe},Wz={readContext:function(s){return po(s)},useCallback:function(s,i){return qe="useCallback",mt(),oC(s,i)},useContext:function(s){return qe="useContext",mt(),po(s)},useEffect:function(s,i){return qe="useEffect",mt(),d0(s,i)},useImperativeHandle:function(s,i,m){return qe="useImperativeHandle",mt(),rC(s,i,m)},useInsertionEffect:function(s,i){return qe="useInsertionEffect",mt(),tC(s,i)},useLayoutEffect:function(s,i){return qe="useLayoutEffect",mt(),nC(s,i)},useMemo:function(s,i){qe="useMemo",mt();var m=kt.current;kt.current=lC;try{return sC(s,i)}finally{kt.current=m}},useReducer:function(s,i,m){qe="useReducer",mt();var v=kt.current;kt.current=lC;try{return JR(s,i,m)}finally{kt.current=v}},useRef:function(s){return qe="useRef",mt(),Jx()},useState:function(s){qe="useState",mt();var i=kt.current;kt.current=lC;try{return tN(s)}finally{kt.current=i}},useDebugValue:function(s,i){return qe="useDebugValue",mt(),aC()},useDeferredValue:function(s){return qe="useDeferredValue",mt(),Dz(s)},useTransition:function(){return qe="useTransition",mt(),$z()},useMutableSource:function(s,i,m){return qe="useMutableSource",mt(),void 0},useSyncExternalStore:function(s,i,m){return qe="useSyncExternalStore",mt(),Xx(s,i)},useId:function(){return qe="useId",mt(),iC()},unstable_isNewReconciler:oe},pc={readContext:function(s){return dN(),po(s)},useCallback:function(s,i){return qe="useCallback",xn(),Rr(),sN(s,i)},useContext:function(s){return qe="useContext",xn(),Rr(),po(s)},useEffect:function(s,i){return qe="useEffect",xn(),Rr(),eC(s,i)},useImperativeHandle:function(s,i,m){return qe="useImperativeHandle",xn(),Rr(),oN(s,i,m)},useInsertionEffect:function(s,i){return qe="useInsertionEffect",xn(),Rr(),rN(s,i)},useLayoutEffect:function(s,i){return qe="useLayoutEffect",xn(),Rr(),aN(s,i)},useMemo:function(s,i){qe="useMemo",xn(),Rr();var m=kt.current;kt.current=pc;try{return iN(s,i)}finally{kt.current=m}},useReducer:function(s,i,m){qe="useReducer",xn(),Rr();var v=kt.current;kt.current=pc;try{return XR(s,i,m)}finally{kt.current=v}},useRef:function(s){return qe="useRef",xn(),Rr(),nN(s)},useState:function(s){qe="useState",xn(),Rr();var i=kt.current;kt.current=pc;try{return Qx(s)}finally{kt.current=i}},useDebugValue:function(s,i){return qe="useDebugValue",xn(),Rr(),void 0},useDeferredValue:function(s){return qe="useDeferredValue",xn(),Rr(),uN(s)},useTransition:function(){return qe="useTransition",xn(),Rr(),lN()},useMutableSource:function(s,i,m){return qe="useMutableSource",xn(),Rr(),void 0},useSyncExternalStore:function(s,i,m){return qe="useSyncExternalStore",xn(),Rr(),ZR(s,i,m)},useId:function(){return qe="useId",xn(),Rr(),cN()},unstable_isNewReconciler:oe},vl={readContext:function(s){return dN(),po(s)},useCallback:function(s,i){return qe="useCallback",xn(),mt(),oC(s,i)},useContext:function(s){return qe="useContext",xn(),mt(),po(s)},useEffect:function(s,i){return qe="useEffect",xn(),mt(),d0(s,i)},useImperativeHandle:function(s,i,m){return qe="useImperativeHandle",xn(),mt(),rC(s,i,m)},useInsertionEffect:function(s,i){return qe="useInsertionEffect",xn(),mt(),tC(s,i)},useLayoutEffect:function(s,i){return qe="useLayoutEffect",xn(),mt(),nC(s,i)},useMemo:function(s,i){qe="useMemo",xn(),mt();var m=kt.current;kt.current=vl;try{return sC(s,i)}finally{kt.current=m}},useReducer:function(s,i,m){qe="useReducer",xn(),mt();var v=kt.current;kt.current=vl;try{return QR(s,i,m)}finally{kt.current=v}},useRef:function(s){return qe="useRef",xn(),mt(),Jx()},useState:function(s){qe="useState",xn(),mt();var i=kt.current;kt.current=vl;try{return eN(s)}finally{kt.current=i}},useDebugValue:function(s,i){return qe="useDebugValue",xn(),mt(),aC()},useDeferredValue:function(s){return qe="useDeferredValue",xn(),mt(),Az(s)},useTransition:function(){return qe="useTransition",xn(),mt(),Mz()},useMutableSource:function(s,i,m){return qe="useMutableSource",xn(),mt(),void 0},useSyncExternalStore:function(s,i,m){return qe="useSyncExternalStore",xn(),mt(),Xx(s,i)},useId:function(){return qe="useId",xn(),mt(),iC()},unstable_isNewReconciler:oe},lC={readContext:function(s){return dN(),po(s)},useCallback:function(s,i){return qe="useCallback",xn(),mt(),oC(s,i)},useContext:function(s){return qe="useContext",xn(),mt(),po(s)},useEffect:function(s,i){return qe="useEffect",xn(),mt(),d0(s,i)},useImperativeHandle:function(s,i,m){return qe="useImperativeHandle",xn(),mt(),rC(s,i,m)},useInsertionEffect:function(s,i){return qe="useInsertionEffect",xn(),mt(),tC(s,i)},useLayoutEffect:function(s,i){return qe="useLayoutEffect",xn(),mt(),nC(s,i)},useMemo:function(s,i){qe="useMemo",xn(),mt();var m=kt.current;kt.current=vl;try{return sC(s,i)}finally{kt.current=m}},useReducer:function(s,i,m){qe="useReducer",xn(),mt();var v=kt.current;kt.current=vl;try{return JR(s,i,m)}finally{kt.current=v}},useRef:function(s){return qe="useRef",xn(),mt(),Jx()},useState:function(s){qe="useState",xn(),mt();var i=kt.current;kt.current=vl;try{return tN(s)}finally{kt.current=i}},useDebugValue:function(s,i){return qe="useDebugValue",xn(),mt(),aC()},useDeferredValue:function(s){return qe="useDeferredValue",xn(),mt(),Dz(s)},useTransition:function(){return qe="useTransition",xn(),mt(),$z()},useMutableSource:function(s,i,m){return qe="useMutableSource",xn(),mt(),void 0},useSyncExternalStore:function(s,i,m){return qe="useSyncExternalStore",xn(),mt(),Xx(s,i)},useId:function(){return qe="useId",xn(),mt(),iC()},unstable_isNewReconciler:oe}}var Ff=e.unstable_now,jz=0,cC=-1,f0=-1,dC=-1,fN=!1,fC=!1;function Gz(){return fN}function H_e(){fC=!0}function V_e(){fN=!1,fC=!1}function W_e(){fN=fC,fC=!1}function qz(){return jz}function Kz(){jz=Ff()}function pN(s){f0=Ff(),s.actualStartTime<0&&(s.actualStartTime=Ff())}function Yz(s){f0=-1}function pC(s,i){if(f0>=0){var m=Ff()-f0;s.actualDuration+=m,i&&(s.selfBaseDuration=m),f0=-1}}function hc(s){if(cC>=0){var i=Ff()-cC;cC=-1;for(var m=s.return;m!==null;){switch(m.tag){case g:var v=m.stateNode;v.effectDuration+=i;return;case O:var w=m.stateNode;w.effectDuration+=i;return}m=m.return}}}function hN(s){if(dC>=0){var i=Ff()-dC;dC=-1;for(var m=s.return;m!==null;){switch(m.tag){case g:var v=m.stateNode;v!==null&&(v.passiveEffectDuration+=i);return;case O:var w=m.stateNode;w!==null&&(w.passiveEffectDuration+=i);return}m=m.return}}}function mc(){cC=Ff()}function mN(){dC=Ff()}function gN(s){for(var i=s.child;i;)s.actualDuration+=i.actualDuration,i=i.sibling}function yl(s,i){if(s&&s.defaultProps){var m=En({},i),v=s.defaultProps;for(var w in v)m[w]===void 0&&(m[w]=v[w]);return m}return i}var vN={},yN,bN,SN,wN,EN,Xz,hC,xN,CN,kN,p0;{yN=new Set,bN=new Set,SN=new Set,wN=new Set,xN=new Set,EN=new Set,CN=new Set,kN=new Set,p0=new Set;var Qz=new Set;hC=function(s,i){if(!(s===null||typeof s=="function")){var m=i+"_"+s;Qz.has(m)||(Qz.add(m),u("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",i,s))}},Xz=function(s,i){if(i===void 0){var m=On(s)||"Component";EN.has(m)||(EN.add(m),u("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",m))}},Object.defineProperty(vN,"_processChildContext",{enumerable:!1,value:function(){throw new Error("_processChildContext is not available in React 16+. This likely means you have multiple copies of React and are attempting to nest a React 15 tree inside a React 16 tree using unstable_renderSubtreeIntoContainer, which isn't supported. Try to make sure you have only one copy of React (and ideally, switch to ReactDOM.createPortal).")}}),Object.freeze(vN)}function _N(s,i,m,v){var w=s.memoizedState,T=m(v,w);{if(s.mode&Dr){pa(!0);try{T=m(v,w)}finally{pa(!1)}}Xz(i,T)}var D=T==null?w:En({},w,T);if(s.memoizedState=D,s.lanes===Ze){var P=s.updateQueue;P.baseState=D}}var TN={isMounted:wE,enqueueSetState:function(s,i,m){var v=df(s),w=di(),T=zf(v),D=bd(w,T);D.payload=i,m!=null&&(hC(m,"setState"),D.callback=m);var P=Df(v,D,T);P!==null&&(Ao(P,v,T,w),Vx(P,v,T)),jp(v,T)},enqueueReplaceState:function(s,i,m){var v=df(s),w=di(),T=zf(v),D=bd(w,T);D.tag=hz,D.payload=i,m!=null&&(hC(m,"replaceState"),D.callback=m);var P=Df(v,D,T);P!==null&&(Ao(P,v,T,w),Vx(P,v,T)),jp(v,T)},enqueueForceUpdate:function(s,i){var m=df(s),v=di(),w=zf(m),T=bd(v,w);T.tag=zx,i!=null&&(hC(i,"forceUpdate"),T.callback=i);var D=Df(m,T,w);D!==null&&(Ao(D,m,w,v),Vx(D,m,w)),eg(m,w)}};function Jz(s,i,m,v,w,T,D){var P=s.stateNode;if(typeof P.shouldComponentUpdate=="function"){var H=P.shouldComponentUpdate(v,T,D);{if(s.mode&Dr){pa(!0);try{H=P.shouldComponentUpdate(v,T,D)}finally{pa(!1)}}H===void 0&&u("%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",On(i)||"Component")}return H}return i.prototype&&i.prototype.isPureReactComponent?!Ft(m,v)||!Ft(w,T):!0}function j_e(s,i,m){var v=s.stateNode;{var w=On(i)||"Component",T=v.render;T||(i.prototype&&typeof i.prototype.render=="function"?u("%s(...): No `render` method found on the returned component instance: did you accidentally return an object from the constructor?",w):u("%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`.",w)),v.getInitialState&&!v.getInitialState.isReactClassApproved&&!v.state&&u("getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",w),v.getDefaultProps&&!v.getDefaultProps.isReactClassApproved&&u("getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",w),v.propTypes&&u("propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",w),v.contextType&&u("contextType was defined as an instance property on %s. Use a static property to define contextType instead.",w),i.childContextTypes&&!p0.has(i)&&(s.mode&Dr)===Xt&&(p0.add(i),u(`%s uses the legacy childContextTypes API which is no longer supported and will be removed in the next major release. Use React.createContext() instead

.Learn more about this warning here: https://reactjs.org/link/legacy-context`,w)),i.contextTypes&&!p0.has(i)&&(s.mode&Dr)===Xt&&(p0.add(i),u(`%s uses the legacy contextTypes API which is no longer supported and will be removed in the next major release. Use React.createContext() with static contextType instead.

Learn more about this warning here: https://reactjs.org/link/legacy-context`,w)),v.contextTypes&&u("contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",w),i.contextType&&i.contextTypes&&!CN.has(i)&&(CN.add(i),u("%s declares both contextTypes and contextType static properties. The legacy contextTypes property will be ignored.",w)),typeof v.componentShouldUpdate=="function"&&u("%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",w),i.prototype&&i.prototype.isPureReactComponent&&typeof v.shouldComponentUpdate<"u"&&u("%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",On(i)||"A pure component"),typeof v.componentDidUnmount=="function"&&u("%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",w),typeof v.componentDidReceiveProps=="function"&&u("%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",w),typeof v.componentWillRecieveProps=="function"&&u("%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",w),typeof v.UNSAFE_componentWillRecieveProps=="function"&&u("%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",w);var D=v.props!==m;v.props!==void 0&&D&&u("%s(...): When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",w,w),v.defaultProps&&u("Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",w,w),typeof v.getSnapshotBeforeUpdate=="function"&&typeof v.componentDidUpdate!="function"&&!SN.has(i)&&(SN.add(i),u("%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",On(i))),typeof v.getDerivedStateFromProps=="function"&&u("%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",w),typeof v.getDerivedStateFromError=="function"&&u("%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.",w),typeof i.getSnapshotBeforeUpdate=="function"&&u("%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",w);var P=v.state;P&&(typeof P!="object"||Ue(P))&&u("%s.state: must be set to an object or null",w),typeof v.getChildContext=="function"&&typeof i.childContextTypes!="object"&&u("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",w)}}function Zz(s,i){i.updater=TN,s.stateNode=i,qc(i,s),i._reactInternalInstance=vN}function eU(s,i,m){var v=!1,w=iu,T=iu,D=i.contextType;if("contextType"in i){var P=D===null||D!==void 0&&D.$$typeof===fe&&D._context===void 0;if(!P&&!kN.has(i)){kN.add(i);var H="";D===void 0?H=" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.":typeof D!="object"?H=" However, it is set to a "+typeof D+".":D.$$typeof===Jr?H=" Did you accidentally pass the Context.Provider instead?":D._context!==void 0?H=" Did you accidentally pass the Context.Consumer instead?":H=" However, it is set to an object with keys {"+Object.keys(D).join(", ")+"}.",u("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s",On(i)||"Component",H)}}if(typeof D=="object"&&D!==null)T=po(D);else{w=Vg(s,i,!0);var X=i.contextTypes;v=X!=null,T=v?Wg(s,w):iu}var ne=new i(m,T);if(s.mode&Dr){pa(!0);try{ne=new i(m,T)}finally{pa(!1)}}var xe=s.memoizedState=ne.state!==null&&ne.state!==void 0?ne.state:null;Zz(s,ne);{if(typeof i.getDerivedStateFromProps=="function"&&xe===null){var we=On(i)||"Component";bN.has(we)||(bN.add(we),u("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.",we,ne.state===null?"null":"undefined",we))}if(typeof i.getDerivedStateFromProps=="function"||typeof ne.getSnapshotBeforeUpdate=="function"){var Fe=null,Be=null,We=null;if(typeof ne.componentWillMount=="function"&&ne.componentWillMount.__suppressDeprecationWarning!==!0?Fe="componentWillMount":typeof ne.UNSAFE_componentWillMount=="function"&&(Fe="UNSAFE_componentWillMount"),typeof ne.componentWillReceiveProps=="function"&&ne.componentWillReceiveProps.__suppressDeprecationWarning!==!0?Be="componentWillReceiveProps":typeof ne.UNSAFE_componentWillReceiveProps=="function"&&(Be="UNSAFE_componentWillReceiveProps"),typeof ne.componentWillUpdate=="function"&&ne.componentWillUpdate.__suppressDeprecationWarning!==!0?We="componentWillUpdate":typeof ne.UNSAFE_componentWillUpdate=="function"&&(We="UNSAFE_componentWillUpdate"),Fe!==null||Be!==null||We!==null){var bt=On(i)||"Component",tn=typeof i.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";wN.has(bt)||(wN.add(bt),u(`Unsafe legacy lifecycles will not be called for components using new component APIs.

%s uses %s but also contains the following legacy lifecycles:%s%s%s

The above lifecycles should be removed. Learn more about this warning here:
https://reactjs.org/link/unsafe-component-lifecycles`,bt,tn,Fe!==null?`
  `+Fe:"",Be!==null?`
  `+Be:"",We!==null?`
  `+We:""))}}}return v&&VB(s,w,T),ne}function G_e(s,i){var m=i.state;typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),m!==i.state&&(u("%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",en(s)||"Component"),TN.enqueueReplaceState(i,i.state,null))}function tU(s,i,m,v){var w=i.state;if(typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(m,v),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(m,v),i.state!==w){{var T=en(s)||"Component";yN.has(T)||(yN.add(T),u("%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",T))}TN.enqueueReplaceState(i,i.state,null)}}function IN(s,i,m,v){j_e(s,i,m);var w=s.stateNode;w.props=m,w.state=s.memoizedState,w.refs={},PR(s);var T=i.contextType;if(typeof T=="object"&&T!==null)w.context=po(T);else{var D=Vg(s,i,!0);w.context=Wg(s,D)}{if(w.state===m){var P=On(i)||"Component";xN.has(P)||(xN.add(P),u("%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.",P))}s.mode&Dr&&ml.recordLegacyContextWarning(s,w),ml.recordUnsafeLifecycleWarnings(s,w)}w.state=s.memoizedState;var H=i.getDerivedStateFromProps;if(typeof H=="function"&&(_N(s,i,H,m),w.state=s.memoizedState),typeof i.getDerivedStateFromProps!="function"&&typeof w.getSnapshotBeforeUpdate!="function"&&(typeof w.UNSAFE_componentWillMount=="function"||typeof w.componentWillMount=="function")&&(G_e(s,w),Wx(s,m,w,v),w.state=s.memoizedState),typeof w.componentDidMount=="function"){var X=tr;X|=al,(s.mode&gr)!==Xt&&(X|=ql),s.flags|=X}}function q_e(s,i,m,v){var w=s.stateNode,T=s.memoizedProps;w.props=T;var D=w.context,P=i.contextType,H=iu;if(typeof P=="object"&&P!==null)H=po(P);else{var X=Vg(s,i,!0);H=Wg(s,X)}var ne=i.getDerivedStateFromProps,xe=typeof ne=="function"||typeof w.getSnapshotBeforeUpdate=="function";!xe&&(typeof w.UNSAFE_componentWillReceiveProps=="function"||typeof w.componentWillReceiveProps=="function")&&(T!==m||D!==H)&&tU(s,w,m,H),gz();var we=s.memoizedState,Fe=w.state=we;if(Wx(s,m,w,v),Fe=s.memoizedState,T===m&&we===Fe&&!kx()&&!jx()){if(typeof w.componentDidMount=="function"){var Be=tr;Be|=al,(s.mode&gr)!==Xt&&(Be|=ql),s.flags|=Be}return!1}typeof ne=="function"&&(_N(s,i,ne,m),Fe=s.memoizedState);var We=jx()||Jz(s,i,T,m,we,Fe,H);if(We){if(!xe&&(typeof w.UNSAFE_componentWillMount=="function"||typeof w.componentWillMount=="function")&&(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"){var bt=tr;bt|=al,(s.mode&gr)!==Xt&&(bt|=ql),s.flags|=bt}}else{if(typeof w.componentDidMount=="function"){var tn=tr;tn|=al,(s.mode&gr)!==Xt&&(tn|=ql),s.flags|=tn}s.memoizedProps=m,s.memoizedState=Fe}return w.props=m,w.state=Fe,w.context=H,We}function K_e(s,i,m,v,w){var T=i.stateNode;mz(s,i);var D=i.memoizedProps,P=i.type===i.elementType?D:yl(i.type,D);T.props=P;var H=i.pendingProps,X=T.context,ne=m.contextType,xe=iu;if(typeof ne=="object"&&ne!==null)xe=po(ne);else{var we=Vg(i,m,!0);xe=Wg(i,we)}var Fe=m.getDerivedStateFromProps,Be=typeof Fe=="function"||typeof T.getSnapshotBeforeUpdate=="function";!Be&&(typeof T.UNSAFE_componentWillReceiveProps=="function"||typeof T.componentWillReceiveProps=="function")&&(D!==H||X!==xe)&&tU(i,T,v,xe),gz();var We=i.memoizedState,bt=T.state=We;if(Wx(i,v,T,w),bt=i.memoizedState,D===H&&We===bt&&!kx()&&!jx()&&!he)return typeof T.componentDidUpdate=="function"&&(D!==s.memoizedProps||We!==s.memoizedState)&&(i.flags|=tr),typeof T.getSnapshotBeforeUpdate=="function"&&(D!==s.memoizedProps||We!==s.memoizedState)&&(i.flags|=Ja),!1;typeof Fe=="function"&&(_N(i,m,Fe,v),bt=i.memoizedState);var tn=jx()||Jz(i,m,P,v,We,bt,xe)||he;return tn?(!Be&&(typeof T.UNSAFE_componentWillUpdate=="function"||typeof T.componentWillUpdate=="function")&&(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(v,bt,xe),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(v,bt,xe)),typeof T.componentDidUpdate=="function"&&(i.flags|=tr),typeof T.getSnapshotBeforeUpdate=="function"&&(i.flags|=Ja)):(typeof T.componentDidUpdate=="function"&&(D!==s.memoizedProps||We!==s.memoizedState)&&(i.flags|=tr),typeof T.getSnapshotBeforeUpdate=="function"&&(D!==s.memoizedProps||We!==s.memoizedState)&&(i.flags|=Ja),i.memoizedProps=v,i.memoizedState=bt),T.props=v,T.state=bt,T.context=xe,tn}function Nh(s,i){return{value:s,source:i,stack:Uo(i),digest:null}}function RN(s,i,m){return{value:s,source:null,stack:m??null,digest:i??null}}function Y_e(s,i){return!0}function NN(s,i){try{var m=Y_e(s,i);if(m===!1)return;var v=i.value,w=i.source,T=i.stack,D=T!==null?T:"";if(v!=null&&v._suppressLogging){if(s.tag===p)return;console.error(v)}var P=w?en(w):null,H=P?"The above error occurred in the <"+P+"> component:":"The above error occurred in one of your React components:",X;if(s.tag===g)X=`Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.`;else{var ne=en(s)||"Anonymous";X="React will try to recreate this component tree from scratch "+("using the error boundary you provided, "+ne+".")}var xe=H+`
`+D+`

`+(""+X);console.error(xe)}catch(we){setTimeout(function(){throw we})}}var X_e=typeof WeakMap=="function"?WeakMap:Map;function nU(s,i,m){var v=bd(Br,m);v.tag=$R,v.payload={element:null};var w=i.value;return v.callback=function(){HIe(w),NN(s,i)},v}function AN(s,i,m){var v=bd(Br,m);v.tag=$R;var w=s.type.getDerivedStateFromError;if(typeof w=="function"){var T=i.value;v.payload=function(){return w(T)},v.callback=function(){p7(s),NN(s,i)}}var D=s.stateNode;return D!==null&&typeof D.componentDidCatch=="function"&&(v.callback=function(){p7(s),NN(s,i),typeof w!="function"&&zIe(this);var H=i.value,X=i.stack;this.componentDidCatch(H,{componentStack:X!==null?X:""}),typeof w!="function"&&(Os(s.lanes,cn)||u("%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.",en(s)||"Unknown"))}),v}function rU(s,i,m){var v=s.pingCache,w;if(v===null?(v=s.pingCache=new X_e,w=new Set,v.set(i,w)):(w=v.get(i),w===void 0&&(w=new Set,v.set(i,w))),!w.has(m)){w.add(m);var T=VIe.bind(null,s,i,m);As&&N0(s,m),i.then(T,T)}}function Q_e(s,i,m,v){var w=s.updateQueue;if(w===null){var T=new Set;T.add(m),s.updateQueue=T}else w.add(m)}function J_e(s,i){var m=s.tag;if((s.mode&Pn)===Xt&&(m===f||m===A||m===j)){var v=s.alternate;v?(s.updateQueue=v.updateQueue,s.memoizedState=v.memoizedState,s.lanes=v.lanes):(s.updateQueue=null,s.memoizedState=null)}}function aU(s){var i=s;do{if(i.tag===L&&D_e(i))return i;i=i.return}while(i!==null);return null}function oU(s,i,m,v,w){if((s.mode&Pn)===Xt){if(s===i)s.flags|=uo;else{if(s.flags|=qt,m.flags|=Gm,m.flags&=-52805,m.tag===p){var T=m.alternate;if(T===null)m.tag=q;else{var D=bd(Br,cn);D.tag=zx,Df(m,D,cn)}}m.lanes=An(m.lanes,cn)}return s}return s.flags|=uo,s.lanes=w,s}function Z_e(s,i,m,v,w){if(m.flags|=Bp,As&&N0(s,w),v!==null&&typeof v=="object"&&typeof v.then=="function"){var T=v;J_e(m),is()&&m.mode&Pn&&XB();var D=aU(i);if(D!==null){D.flags&=~Wo,oU(D,i,m,s,w),D.mode&Pn&&rU(s,T,w),Q_e(D,s,T);return}else{if(!RE(w)){rU(s,T,w),cA();return}var P=new Error("A component suspended while responding to synchronous input. This will cause the UI to be replaced with a loading indicator. To fix, updates that suspend should be wrapped with startTransition.");v=P}}else if(is()&&m.mode&Pn){XB();var H=aU(i);if(H!==null){(H.flags&uo)===Yt&&(H.flags|=Wo),oU(H,i,m,s,w),xR(Nh(v,m));return}}v=Nh(v,m),DIe(v);var X=i;do{switch(X.tag){case g:{var ne=v;X.flags|=uo;var xe=eh(w);X.lanes=An(X.lanes,xe);var we=nU(X,ne,xe);LR(X,we);return}case p:var Fe=v,Be=X.type,We=X.stateNode;if((X.flags&qt)===Yt&&(typeof Be.getDerivedStateFromError=="function"||We!==null&&typeof We.componentDidCatch=="function"&&!a7(We))){X.flags|=uo;var bt=eh(w);X.lanes=An(X.lanes,bt);var tn=AN(X,Fe,bt);LR(X,tn);return}break}X=X.return}while(X!==null)}function eTe(){return null}var h0=n.ReactCurrentOwner,bl=!1,DN,m0,ON,MN,$N,Ah,FN,mC,g0;DN={},m0={},ON={},MN={},$N={},Ah=!1,FN={},mC={},g0={};function li(s,i,m,v){s===null?i.child=uz(i,null,m,v):i.child=Kg(i,s.child,m,v)}function tTe(s,i,m,v){i.child=Kg(i,s.child,null,v),i.child=Kg(i,null,m,v)}function sU(s,i,m,v,w){if(i.type!==i.elementType){var T=m.propTypes;T&&pl(T,v,"prop",On(m))}var D=m.render,P=i.ref,H,X;Xg(i,w),oi(i);{if(h0.current=i,Qe(!0),H=nv(s,i,D,v,P,w),X=rv(),i.mode&Dr){pa(!0);try{H=nv(s,i,D,v,P,w),X=rv()}finally{pa(!1)}}Qe(!1)}return si(),s!==null&&!bl?(Ez(s,i,w),Sd(s,i,w)):(is()&&X&&vR(i),i.flags|=nu,li(s,i,H,w),i.child)}function iU(s,i,m,v,w){if(s===null){var T=m.type;if(s3e(T)&&m.compare===null&&m.defaultProps===void 0){var D=T;return D=dv(T),i.tag=j,i.type=D,BN(i,T),uU(s,i,D,v,w)}{var P=T.propTypes;if(P&&pl(P,v,"prop",On(T)),m.defaultProps!==void 0){var H=On(T)||"Unknown";g0[H]||(u("%s: Support for defaultProps will be removed from memo components in a future major release. Use JavaScript default parameters instead.",H),g0[H]=!0)}}var X=wA(m.type,null,v,i,i.mode,w);return X.ref=i.ref,X.return=i,i.child=X,X}{var ne=m.type,xe=ne.propTypes;xe&&pl(xe,v,"prop",On(ne))}var we=s.child,Fe=jN(s,w);if(!Fe){var Be=we.memoizedProps,We=m.compare;if(We=We!==null?We:Ft,We(Be,v)&&s.ref===i.ref)return Sd(s,i,w)}i.flags|=nu;var bt=Fh(we,v);return bt.ref=i.ref,bt.return=i,i.child=bt,bt}function uU(s,i,m,v,w){if(i.type!==i.elementType){var T=i.elementType;if(T.$$typeof===Zt){var D=T,P=D._payload,H=D._init;try{T=H(P)}catch{T=null}var X=T&&T.propTypes;X&&pl(X,v,"prop",On(T))}}if(s!==null){var ne=s.memoizedProps;if(Ft(ne,v)&&s.ref===i.ref&&i.type===s.type)if(bl=!1,i.pendingProps=v=ne,jN(s,w))(s.flags&Gm)!==Yt&&(bl=!0);else return i.lanes=s.lanes,Sd(s,i,w)}return PN(s,i,m,v,w)}function lU(s,i,m){var v=i.pendingProps,w=v.children,T=s!==null?s.memoizedState:null;if(v.mode==="hidden"||ge)if((i.mode&Pn)===Xt){var D={baseLanes:Ze,cachePool:null,transitions:null};i.memoizedState=D,IC(i,m)}else if(Os(m,Ds)){var xe={baseLanes:Ze,cachePool:null,transitions:null};i.memoizedState=xe;var we=T!==null?T.baseLanes:m;IC(i,we)}else{var P=null,H;if(T!==null){var X=T.baseLanes;H=An(X,m)}else H=m;i.lanes=i.childLanes=Ds;var ne={baseLanes:H,cachePool:P,transitions:null};return i.memoizedState=ne,i.updateQueue=null,IC(i,H),null}else{var Fe;T!==null?(Fe=An(T.baseLanes,m),i.memoizedState=null):Fe=m,IC(i,Fe)}return li(s,i,w,m),i.child}function nTe(s,i,m){var v=i.pendingProps;return li(s,i,v,m),i.child}function rTe(s,i,m){var v=i.pendingProps.children;return li(s,i,v,m),i.child}function aTe(s,i,m){{i.flags|=tr;{var v=i.stateNode;v.effectDuration=0,v.passiveEffectDuration=0}}var w=i.pendingProps,T=w.children;return li(s,i,T,m),i.child}function cU(s,i){var m=i.ref;(s===null&&m!==null||s!==null&&s.ref!==m)&&(i.flags|=wa,i.flags|=pf)}function PN(s,i,m,v,w){if(i.type!==i.elementType){var T=m.propTypes;T&&pl(T,v,"prop",On(m))}var D;{var P=Vg(i,m,!0);D=Wg(i,P)}var H,X;Xg(i,w),oi(i);{if(h0.current=i,Qe(!0),H=nv(s,i,m,v,D,w),X=rv(),i.mode&Dr){pa(!0);try{H=nv(s,i,m,v,D,w),X=rv()}finally{pa(!1)}}Qe(!1)}return si(),s!==null&&!bl?(Ez(s,i,w),Sd(s,i,w)):(is()&&X&&vR(i),i.flags|=nu,li(s,i,H,w),i.child)}function dU(s,i,m,v,w){{switch(w3e(i)){case!1:{var T=i.stateNode,D=i.type,P=new D(i.memoizedProps,T.context),H=P.state;T.updater.enqueueSetState(T,H,null);break}case!0:{i.flags|=qt,i.flags|=uo;var X=new Error("Simulated error coming from DevTools"),ne=eh(w);i.lanes=An(i.lanes,ne);var xe=AN(i,Nh(X,i),ne);LR(i,xe);break}}if(i.type!==i.elementType){var we=m.propTypes;we&&pl(we,v,"prop",On(m))}}var Fe;cc(m)?(Fe=!0,Tx(i)):Fe=!1,Xg(i,w);var Be=i.stateNode,We;Be===null?(vC(s,i),eU(i,m,v),IN(i,m,v,w),We=!0):s===null?We=q_e(i,m,v,w):We=K_e(s,i,m,v,w);var bt=LN(s,i,m,We,Fe,w);{var tn=i.stateNode;We&&tn.props!==v&&(Ah||u("It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.",en(i)||"a component"),Ah=!0)}return bt}function LN(s,i,m,v,w,T){cU(s,i);var D=(i.flags&qt)!==Yt;if(!v&&!D)return w&&GB(i,m,!1),Sd(s,i,T);var P=i.stateNode;h0.current=i;var H;if(D&&typeof m.getDerivedStateFromError!="function")H=null,Yz();else{oi(i);{if(Qe(!0),H=P.render(),i.mode&Dr){pa(!0);try{P.render()}finally{pa(!1)}}Qe(!1)}si()}return i.flags|=nu,s!==null&&D?tTe(s,i,H,T):li(s,i,H,T),i.memoizedState=P.state,w&&GB(i,m,!0),i.child}function fU(s){var i=s.stateNode;i.pendingContext?WB(s,i.pendingContext,i.pendingContext!==i.context):i.context&&WB(s,i.context,!1),BR(s,i.containerInfo)}function oTe(s,i,m){if(fU(i),s===null)throw new Error("Should have a current fiber. This is a bug in React.");var v=i.pendingProps,w=i.memoizedState,T=w.element;mz(s,i),Wx(i,v,null,m);var D=i.memoizedState;i.stateNode;var P=D.element;if(w.isDehydrated){var H={element:P,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},X=i.updateQueue;if(X.baseState=H,i.memoizedState=H,i.flags&Wo){var ne=Nh(new Error("There was an error while hydrating. Because the error happened outside of a Suspense boundary, the entire root will switch to client rendering."),i);return pU(s,i,P,m,ne)}else if(P!==T){var xe=Nh(new Error("This root received an early update, before anything was able hydrate. Switched the entire root to client rendering."),i);return pU(s,i,P,m,xe)}else{u_e(i);var we=uz(i,null,P,m);i.child=we;for(var Fe=we;Fe;)Fe.flags=Fe.flags&~fa|Is,Fe=Fe.sibling}}else{if(qg(),P===T)return Sd(s,i,m);li(s,i,P,m)}return i.child}function pU(s,i,m,v,w){return qg(),xR(w),i.flags|=Wo,li(s,i,m,v),i.child}function sTe(s,i,m){bz(i),s===null&&ER(i);var v=i.type,w=i.pendingProps,T=s!==null?s.memoizedProps:null,D=w.children,P=rR(v,w);return P?D=null:T!==null&&rR(v,T)&&(i.flags|=Ii),cU(s,i),li(s,i,D,m),i.child}function iTe(s,i){return s===null&&ER(i),null}function uTe(s,i,m,v){vC(s,i);var w=i.pendingProps,T=m,D=T._payload,P=T._init,H=P(D);i.type=H;var X=i.tag=i3e(H),ne=yl(H,w),xe;switch(X){case f:return BN(i,H),i.type=H=dv(H),xe=PN(null,i,H,ne,v),xe;case p:return i.type=H=mA(H),xe=dU(null,i,H,ne,v),xe;case A:return i.type=H=gA(H),xe=sU(null,i,H,ne,v),xe;case U:{if(i.type!==i.elementType){var we=H.propTypes;we&&pl(we,ne,"prop",On(H))}return xe=iU(null,i,H,yl(H.type,ne),v),xe}}var Fe="";throw H!==null&&typeof H=="object"&&H.$$typeof===Zt&&(Fe=" Did you wrap a component in React.lazy() more than once?"),new Error("Element type is invalid. Received a promise that resolves to: "+H+". "+("Lazy element type must resolve to a class or function."+Fe))}function lTe(s,i,m,v,w){vC(s,i),i.tag=p;var T;return cc(m)?(T=!0,Tx(i)):T=!1,Xg(i,w),eU(i,m,v),IN(i,m,v,w),LN(null,i,m,!0,T,w)}function cTe(s,i,m,v){vC(s,i);var w=i.pendingProps,T;{var D=Vg(i,m,!1);T=Wg(i,D)}Xg(i,v);var P,H;oi(i);{if(m.prototype&&typeof m.prototype.render=="function"){var X=On(m)||"Unknown";DN[X]||(u("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",X,X),DN[X]=!0)}i.mode&Dr&&ml.recordLegacyContextWarning(i,null),Qe(!0),h0.current=i,P=nv(null,i,m,w,T,v),H=rv(),Qe(!1)}if(si(),i.flags|=nu,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0){var ne=On(m)||"Unknown";m0[ne]||(u("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",ne,ne,ne),m0[ne]=!0)}if(typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0){{var xe=On(m)||"Unknown";m0[xe]||(u("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",xe,xe,xe),m0[xe]=!0)}i.tag=p,i.memoizedState=null,i.updateQueue=null;var we=!1;return cc(m)?(we=!0,Tx(i)):we=!1,i.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,PR(i),Zz(i,P),IN(i,m,w,v),LN(null,i,m,!0,we,v)}else{if(i.tag=f,i.mode&Dr){pa(!0);try{P=nv(null,i,m,w,T,v),H=rv()}finally{pa(!1)}}return is()&&H&&vR(i),li(null,i,P,v),BN(i,m),i.child}}function BN(s,i){{if(i&&i.childContextTypes&&u("%s(...): childContextTypes cannot be defined on a function component.",i.displayName||i.name||"Component"),s.ref!==null){var m="",v=la();v&&(m+=`

Check the render method of \``+v+"`.");var w=v||"",T=s._debugSource;T&&(w=T.fileName+":"+T.lineNumber),$N[w]||($N[w]=!0,u("Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()?%s",m))}if(i.defaultProps!==void 0){var D=On(i)||"Unknown";g0[D]||(u("%s: Support for defaultProps will be removed from function components in a future major release. Use JavaScript default parameters instead.",D),g0[D]=!0)}if(typeof i.getDerivedStateFromProps=="function"){var P=On(i)||"Unknown";MN[P]||(u("%s: Function components do not support getDerivedStateFromProps.",P),MN[P]=!0)}if(typeof i.contextType=="object"&&i.contextType!==null){var H=On(i)||"Unknown";ON[H]||(u("%s: Function components do not support contextType.",H),ON[H]=!0)}}}var zN={dehydrated:null,treeContext:null,retryLane:dr};function UN(s){return{baseLanes:s,cachePool:eTe(),transitions:null}}function dTe(s,i){var m=null;return{baseLanes:An(s.baseLanes,i),cachePool:m,transitions:s.transitions}}function fTe(s,i,m,v){if(i!==null){var w=i.memoizedState;if(w===null)return!1}return HR(s,o0)}function pTe(s,i){return th(s.childLanes,i)}function hU(s,i,m){var v=i.pendingProps;E3e(i)&&(i.flags|=qt);var w=gl.current,T=!1,D=(i.flags&qt)!==Yt;if(D||fTe(w,s)?(T=!0,i.flags&=~qt):(s===null||s.memoizedState!==null)&&(w=A_e(w,wz)),w=Jg(w),Mf(i,w),s===null){ER(i);var P=i.memoizedState;if(P!==null){var H=P.dehydrated;if(H!==null)return yTe(i,H)}var X=v.children,ne=v.fallback;if(T){var xe=hTe(i,X,ne,m),we=i.child;return we.memoizedState=UN(m),i.memoizedState=zN,xe}else return HN(i,X)}else{var Fe=s.memoizedState;if(Fe!==null){var Be=Fe.dehydrated;if(Be!==null)return bTe(s,i,D,v,Be,Fe,m)}if(T){var We=v.fallback,bt=v.children,tn=gTe(s,i,bt,We,m),Wt=i.child,ar=s.child.memoizedState;return Wt.memoizedState=ar===null?UN(m):dTe(ar,m),Wt.childLanes=pTe(s,m),i.memoizedState=zN,tn}else{var jn=v.children,Ne=mTe(s,i,jn,m);return i.memoizedState=null,Ne}}}function HN(s,i,m){var v=s.mode,w={mode:"visible",children:i},T=VN(w,v);return T.return=s,s.child=T,T}function hTe(s,i,m,v){var w=s.mode,T=s.child,D={mode:"hidden",children:i},P,H;return(w&Pn)===Xt&&T!==null?(P=T,P.childLanes=Ze,P.pendingProps=D,s.mode&mr&&(P.actualDuration=0,P.actualStartTime=-1,P.selfBaseDuration=0,P.treeBaseDuration=0),H=Hf(m,w,v,null)):(P=VN(D,w),H=Hf(m,w,v,null)),P.return=s,H.return=s,P.sibling=H,s.child=P,H}function VN(s,i,m){return m7(s,i,Ze,null)}function mU(s,i){return Fh(s,i)}function mTe(s,i,m,v){var w=s.child,T=w.sibling,D=mU(w,{mode:"visible",children:m});if((i.mode&Pn)===Xt&&(D.lanes=v),D.return=i,D.sibling=null,T!==null){var P=i.deletions;P===null?(i.deletions=[T],i.flags|=Ti):P.push(T)}return i.child=D,D}function gTe(s,i,m,v,w){var T=i.mode,D=s.child,P=D.sibling,H={mode:"hidden",children:m},X;if((T&Pn)===Xt&&i.child!==D){var ne=i.child;X=ne,X.childLanes=Ze,X.pendingProps=H,i.mode&mr&&(X.actualDuration=0,X.actualStartTime=-1,X.selfBaseDuration=D.selfBaseDuration,X.treeBaseDuration=D.treeBaseDuration),i.deletions=null}else X=mU(D,H),X.subtreeFlags=D.subtreeFlags&za;var xe;return P!==null?xe=Fh(P,v):(xe=Hf(v,T,w,null),xe.flags|=fa),xe.return=i,X.return=i,X.sibling=xe,i.child=X,xe}function gC(s,i,m,v){v!==null&&xR(v),Kg(i,s.child,null,m);var w=i.pendingProps,T=w.children,D=HN(i,T);return D.flags|=fa,i.memoizedState=null,D}function vTe(s,i,m,v,w){var T=i.mode,D={mode:"visible",children:m},P=VN(D,T),H=Hf(v,T,w,null);return H.flags|=fa,P.return=i,H.return=i,P.sibling=H,i.child=P,(i.mode&Pn)!==Xt&&Kg(i,s.child,null,w),H}function yTe(s,i,m){return(s.mode&Pn)===Xt?(u("Cannot hydrate Suspense in legacy mode. Switch from ReactDOM.hydrate(element, container) to ReactDOMClient.hydrateRoot(container, <App />).render(element) or remove the Suspense components from the server rendered components."),s.lanes=cn):iR(i)?s.lanes=jo:s.lanes=Ds,null}function bTe(s,i,m,v,w,T,D){if(m)if(i.flags&Wo){i.flags&=~Wo;var Ne=RN(new Error("There was an error while hydrating this Suspense boundary. Switched to client rendering."));return gC(s,i,D,Ne)}else{if(i.memoizedState!==null)return i.child=s.child,i.flags|=qt,null;var je=v.children,Ae=v.fallback,ot=vTe(s,i,je,Ae,D),It=i.child;return It.memoizedState=UN(D),i.memoizedState=zN,ot}else{if(s_e(),(i.mode&Pn)===Xt)return gC(s,i,D,null);if(iR(w)){var P,H,X;{var ne=xke(w);P=ne.digest,H=ne.message,X=ne.stack}var xe;H?xe=new Error(H):xe=new Error("The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering.");var we=RN(xe,P,X);return gC(s,i,D,we)}var Fe=Os(D,s.childLanes);if(bl||Fe){var Be=TC();if(Be!==null){var We=bb(Be,D);if(We!==dr&&We!==T.retryLane){T.retryLane=We;var bt=Br;Pi(s,We),Ao(Be,s,We,bt)}}cA();var tn=RN(new Error("This Suspense boundary received an update before it finished hydrating. This caused the boundary to switch to client rendering. The usual way to fix this is to wrap the original update in startTransition."));return gC(s,i,D,tn)}else if(LB(w)){i.flags|=qt,i.child=s.child;var Wt=WIe.bind(null,s);return Cke(w,Wt),null}else{l_e(i,w,T.treeContext);var ar=v.children,jn=HN(i,ar);return jn.flags|=Is,jn}}}function gU(s,i,m){s.lanes=An(s.lanes,i);var v=s.alternate;v!==null&&(v.lanes=An(v.lanes,i)),OR(s.return,i,m)}function STe(s,i,m){for(var v=i;v!==null;){if(v.tag===L){var w=v.memoizedState;w!==null&&gU(v,m,s)}else if(v.tag===z)gU(v,m,s);else if(v.child!==null){v.child.return=v,v=v.child;continue}if(v===s)return;for(;v.sibling===null;){if(v.return===null||v.return===s)return;v=v.return}v.sibling.return=v.return,v=v.sibling}}function wTe(s){for(var i=s,m=null;i!==null;){var v=i.alternate;v!==null&&Kx(v)===null&&(m=i),i=i.sibling}return m}function ETe(s){if(s!==void 0&&s!=="forwards"&&s!=="backwards"&&s!=="together"&&!FN[s])if(FN[s]=!0,typeof s=="string")switch(s.toLowerCase()){case"together":case"forwards":case"backwards":{u('"%s" is not a valid value for revealOrder on <SuspenseList />. Use lowercase "%s" instead.',s,s.toLowerCase());break}case"forward":case"backward":{u('"%s" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use "%ss" instead.',s,s.toLowerCase());break}default:u('"%s" is not a supported revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',s);break}else u('%s is not a supported value for revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',s)}function xTe(s,i){s!==void 0&&!mC[s]&&(s!=="collapsed"&&s!=="hidden"?(mC[s]=!0,u('"%s" is not a supported value for tail on <SuspenseList />. Did you mean "collapsed" or "hidden"?',s)):i!=="forwards"&&i!=="backwards"&&(mC[s]=!0,u('<SuspenseList tail="%s" /> is only valid if revealOrder is "forwards" or "backwards". Did you mean to specify revealOrder="forwards"?',s)))}function vU(s,i){{var m=Ue(s),v=!m&&typeof fn(s)=="function";if(m||v){var w=m?"array":"iterable";return u("A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>",w,i,w),!1}}return!0}function CTe(s,i){if((i==="forwards"||i==="backwards")&&s!==void 0&&s!==null&&s!==!1)if(Ue(s)){for(var m=0;m<s.length;m++)if(!vU(s[m],m))return}else{var v=fn(s);if(typeof v=="function"){var w=v.call(s);if(w)for(var T=w.next(),D=0;!T.done;T=w.next()){if(!vU(T.value,D))return;D++}}else u('A single row was passed to a <SuspenseList revealOrder="%s" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?',i)}}function WN(s,i,m,v,w){var T=s.memoizedState;T===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:v,tail:m,tailMode:w}:(T.isBackwards=i,T.rendering=null,T.renderingStartTime=0,T.last=v,T.tail=m,T.tailMode=w)}function yU(s,i,m){var v=i.pendingProps,w=v.revealOrder,T=v.tail,D=v.children;ETe(w),xTe(T,w),CTe(D,w),li(s,i,D,m);var P=gl.current,H=HR(P,o0);if(H)P=VR(P,o0),i.flags|=qt;else{var X=s!==null&&(s.flags&qt)!==Yt;X&&STe(i,i.child,m),P=Jg(P)}if(Mf(i,P),(i.mode&Pn)===Xt)i.memoizedState=null;else switch(w){case"forwards":{var ne=wTe(i.child),xe;ne===null?(xe=i.child,i.child=null):(xe=ne.sibling,ne.sibling=null),WN(i,!1,xe,ne,T);break}case"backwards":{var we=null,Fe=i.child;for(i.child=null;Fe!==null;){var Be=Fe.alternate;if(Be!==null&&Kx(Be)===null){i.child=Fe;break}var We=Fe.sibling;Fe.sibling=we,we=Fe,Fe=We}WN(i,!0,we,null,T);break}case"together":{WN(i,!1,null,null,void 0);break}default:i.memoizedState=null}return i.child}function kTe(s,i,m){BR(i,i.stateNode.containerInfo);var v=i.pendingProps;return s===null?i.child=Kg(i,null,v,m):li(s,i,v,m),i.child}var bU=!1;function _Te(s,i,m){var v=i.type,w=v._context,T=i.pendingProps,D=i.memoizedProps,P=T.value;{"value"in T||bU||(bU=!0,u("The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?"));var H=i.type.propTypes;H&&pl(H,T,"prop","Context.Provider")}if(dz(i,w,P),D!==null){var X=D.value;if(rt(X,P)){if(D.children===T.children&&!kx())return Sd(s,i,m)}else E_e(i,w,m)}var ne=T.children;return li(s,i,ne,m),i.child}var SU=!1;function TTe(s,i,m){var v=i.type;v._context===void 0?v!==v.Consumer&&(SU||(SU=!0,u("Rendering <Context> directly is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?"))):v=v._context;var w=i.pendingProps,T=w.children;typeof T!="function"&&u("A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),Xg(i,m);var D=po(v);oi(i);var P;return h0.current=i,Qe(!0),P=T(D),Qe(!1),si(),i.flags|=nu,li(s,i,P,m),i.child}function v0(){bl=!0}function vC(s,i){(i.mode&Pn)===Xt&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=fa)}function Sd(s,i,m){return s!==null&&(i.dependencies=s.dependencies),Yz(),R0(i.lanes),Os(m,i.childLanes)?(S_e(s,i),i.child):null}function ITe(s,i,m){{var v=i.return;if(v===null)throw new Error("Cannot swap the root fiber.");if(s.alternate=null,i.alternate=null,m.index=i.index,m.sibling=i.sibling,m.return=i.return,m.ref=i.ref,i===v.child)v.child=m;else{var w=v.child;if(w===null)throw new Error("Expected parent to have a child.");for(;w.sibling!==i;)if(w=w.sibling,w===null)throw new Error("Expected to find the previous sibling.");w.sibling=m}var T=v.deletions;return T===null?(v.deletions=[s],v.flags|=Ti):T.push(s),m.flags|=fa,m}}function jN(s,i){var m=s.lanes;return!!Os(m,i)}function RTe(s,i,m){switch(i.tag){case g:fU(i),i.stateNode,qg();break;case S:bz(i);break;case p:{var v=i.type;cc(v)&&Tx(i);break}case y:BR(i,i.stateNode.containerInfo);break;case R:{var w=i.memoizedProps.value,T=i.type._context;dz(i,T,w);break}case O:{var D=Os(m,i.childLanes);D&&(i.flags|=tr);{var P=i.stateNode;P.effectDuration=0,P.passiveEffectDuration=0}}break;case L:{var H=i.memoizedState;if(H!==null){if(H.dehydrated!==null)return Mf(i,Jg(gl.current)),i.flags|=qt,null;var X=i.child,ne=X.childLanes;if(Os(m,ne))return hU(s,i,m);Mf(i,Jg(gl.current));var xe=Sd(s,i,m);return xe!==null?xe.sibling:null}else Mf(i,Jg(gl.current));break}case z:{var we=(s.flags&qt)!==Yt,Fe=Os(m,i.childLanes);if(we){if(Fe)return yU(s,i,m);i.flags|=qt}var Be=i.memoizedState;if(Be!==null&&(Be.rendering=null,Be.tail=null,Be.lastEffect=null),Mf(i,gl.current),Fe)break;return null}case ee:case le:return i.lanes=Ze,lU(s,i,m)}return Sd(s,i,m)}function wU(s,i,m){if(i._debugNeedsRemount&&s!==null)return ITe(s,i,wA(i.type,i.key,i.pendingProps,i._debugOwner||null,i.mode,i.lanes));if(s!==null){var v=s.memoizedProps,w=i.pendingProps;if(v!==w||kx()||i.type!==s.type)bl=!0;else{var T=jN(s,m);if(!T&&(i.flags&qt)===Yt)return bl=!1,RTe(s,i,m);(s.flags&Gm)!==Yt?bl=!0:bl=!1}}else if(bl=!1,is()&&e_e(i)){var D=i.index,P=t_e();YB(i,P,D)}switch(i.lanes=Ze,i.tag){case c:return cTe(s,i,i.type,m);case J:{var H=i.elementType;return uTe(s,i,H,m)}case f:{var X=i.type,ne=i.pendingProps,xe=i.elementType===X?ne:yl(X,ne);return PN(s,i,X,xe,m)}case p:{var we=i.type,Fe=i.pendingProps,Be=i.elementType===we?Fe:yl(we,Fe);return dU(s,i,we,Be,m)}case g:return oTe(s,i,m);case S:return sTe(s,i,m);case E:return iTe(s,i);case L:return hU(s,i,m);case y:return kTe(s,i,m);case A:{var We=i.type,bt=i.pendingProps,tn=i.elementType===We?bt:yl(We,bt);return sU(s,i,We,tn,m)}case k:return nTe(s,i,m);case _:return rTe(s,i,m);case O:return aTe(s,i,m);case R:return _Te(s,i,m);case I:return TTe(s,i,m);case U:{var Wt=i.type,ar=i.pendingProps,jn=yl(Wt,ar);if(i.type!==i.elementType){var Ne=Wt.propTypes;Ne&&pl(Ne,jn,"prop",On(Wt))}return jn=yl(Wt.type,jn),iU(s,i,Wt,jn,m)}case j:return uU(s,i,i.type,i.pendingProps,m);case q:{var je=i.type,Ae=i.pendingProps,ot=i.elementType===je?Ae:yl(je,Ae);return lTe(s,i,je,ot,m)}case z:return yU(s,i,m);case te:break;case ee:return lU(s,i,m)}throw new Error("Unknown unit of work tag ("+i.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function av(s){s.flags|=tr}function EU(s){s.flags|=wa,s.flags|=pf}var xU,GN,CU,kU;xU=function(s,i,m,v){for(var w=i.child;w!==null;){if(w.tag===S||w.tag===E)QCe(s,w.stateNode);else if(w.tag!==y){if(w.child!==null){w.child.return=w,w=w.child;continue}}if(w===i)return;for(;w.sibling===null;){if(w.return===null||w.return===i)return;w=w.return}w.sibling.return=w.return,w=w.sibling}},GN=function(s,i){},CU=function(s,i,m,v,w){var T=s.memoizedProps;if(T!==v){var D=i.stateNode,P=zR(),H=ZCe(D,m,T,v,w,P);i.updateQueue=H,H&&av(i)}},kU=function(s,i,m,v){m!==v&&av(i)};function y0(s,i){if(!is())switch(s.tailMode){case"hidden":{for(var m=s.tail,v=null;m!==null;)m.alternate!==null&&(v=m),m=m.sibling;v===null?s.tail=null:v.sibling=null;break}case"collapsed":{for(var w=s.tail,T=null;w!==null;)w.alternate!==null&&(T=w),w=w.sibling;T===null?!i&&s.tail!==null?s.tail.sibling=null:s.tail=null:T.sibling=null;break}}}function ls(s){var i=s.alternate!==null&&s.alternate.child===s.child,m=Ze,v=Yt;if(i){if((s.mode&mr)!==Xt){for(var H=s.selfBaseDuration,X=s.child;X!==null;)m=An(m,An(X.lanes,X.childLanes)),v|=X.subtreeFlags&za,v|=X.flags&za,H+=X.treeBaseDuration,X=X.sibling;s.treeBaseDuration=H}else for(var ne=s.child;ne!==null;)m=An(m,An(ne.lanes,ne.childLanes)),v|=ne.subtreeFlags&za,v|=ne.flags&za,ne.return=s,ne=ne.sibling;s.subtreeFlags|=v}else{if((s.mode&mr)!==Xt){for(var w=s.actualDuration,T=s.selfBaseDuration,D=s.child;D!==null;)m=An(m,An(D.lanes,D.childLanes)),v|=D.subtreeFlags,v|=D.flags,w+=D.actualDuration,T+=D.treeBaseDuration,D=D.sibling;s.actualDuration=w,s.treeBaseDuration=T}else for(var P=s.child;P!==null;)m=An(m,An(P.lanes,P.childLanes)),v|=P.subtreeFlags,v|=P.flags,P.return=s,P=P.sibling;s.subtreeFlags|=v}return s.childLanes=m,i}function NTe(s,i,m){if(h_e()&&(i.mode&Pn)!==Xt&&(i.flags&qt)===Yt)return nz(i),qg(),i.flags|=Wo|Bp|uo,!1;var v=Dx(i);if(m!==null&&m.dehydrated!==null)if(s===null){if(!v)throw new Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");if(f_e(i),ls(i),(i.mode&mr)!==Xt){var w=m!==null;if(w){var T=i.child;T!==null&&(i.treeBaseDuration-=T.treeBaseDuration)}}return!1}else{if(qg(),(i.flags&qt)===Yt&&(i.memoizedState=null),i.flags|=tr,ls(i),(i.mode&mr)!==Xt){var D=m!==null;if(D){var P=i.child;P!==null&&(i.treeBaseDuration-=P.treeBaseDuration)}}return!1}else return rz(),!0}function _U(s,i,m){var v=i.pendingProps;switch(yR(i),i.tag){case c:case J:case j:case f:case A:case k:case _:case O:case I:case U:return ls(i),null;case p:{var w=i.type;return cc(w)&&_x(i),ls(i),null}case g:{var T=i.stateNode;if(Qg(i),hR(i),jR(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),s===null||s.child===null){var D=Dx(i);if(D)av(i);else if(s!==null){var P=s.memoizedState;(!P.isDehydrated||(i.flags&Wo)!==Yt)&&(i.flags|=Ja,rz())}}return GN(s,i),ls(i),null}case S:{UR(i);var H=yz(),X=i.type;if(s!==null&&i.stateNode!=null)CU(s,i,X,v,H),s.ref!==i.ref&&EU(i);else{if(!v){if(i.stateNode===null)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return ls(i),null}var ne=zR(),xe=Dx(i);if(xe)c_e(i,H,ne)&&av(i);else{var we=XCe(X,v,H,ne,i);xU(we,i,!1,!1),i.stateNode=we,JCe(we,X,v,H)&&av(i)}i.ref!==null&&EU(i)}return ls(i),null}case E:{var Fe=v;if(s&&i.stateNode!=null){var Be=s.memoizedProps;kU(s,i,Be,Fe)}else{if(typeof Fe!="string"&&i.stateNode===null)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");var We=yz(),bt=zR(),tn=Dx(i);tn?d_e(i)&&av(i):i.stateNode=eke(Fe,We,bt,i)}return ls(i),null}case L:{Zg(i);var Wt=i.memoizedState;if(s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){var ar=NTe(s,i,Wt);if(!ar)return i.flags&uo?i:null}if((i.flags&qt)!==Yt)return i.lanes=m,(i.mode&mr)!==Xt&&gN(i),i;var jn=Wt!==null,Ne=s!==null&&s.memoizedState!==null;if(jn!==Ne&&jn){var je=i.child;if(je.flags|=Ba,(i.mode&Pn)!==Xt){var Ae=s===null&&(i.memoizedProps.unstable_avoidThisFallback!==!0||!0);Ae||HR(gl.current,wz)?AIe():cA()}}var ot=i.updateQueue;if(ot!==null&&(i.flags|=tr),ls(i),(i.mode&mr)!==Xt&&jn){var It=i.child;It!==null&&(i.treeBaseDuration-=It.treeBaseDuration)}return null}case y:return Qg(i),GN(s,i),s===null&&qke(i.stateNode.containerInfo),ls(i),null;case R:var Et=i.type._context;return DR(Et,i),ls(i),null;case q:{var pn=i.type;return cc(pn)&&_x(i),ls(i),null}case z:{Zg(i);var _n=i.memoizedState;if(_n===null)return ls(i),null;var Mr=(i.flags&qt)!==Yt,yr=_n.rendering;if(yr===null)if(Mr)y0(_n,!1);else{var to=OIe()&&(s===null||(s.flags&qt)===Yt);if(!to)for(var br=i.child;br!==null;){var Ga=Kx(br);if(Ga!==null){Mr=!0,i.flags|=qt,y0(_n,!1);var zs=Ga.updateQueue;return zs!==null&&(i.updateQueue=zs,i.flags|=tr),i.subtreeFlags=Yt,w_e(i,m),Mf(i,VR(gl.current,o0)),i.child}br=br.sibling}_n.tail!==null&&Za()>qU()&&(i.flags|=qt,Mr=!0,y0(_n,!1),i.lanes=cb)}else{if(!Mr){var hs=Kx(yr);if(hs!==null){i.flags|=qt,Mr=!0;var lu=hs.updateQueue;if(lu!==null&&(i.updateQueue=lu,i.flags|=tr),y0(_n,!0),_n.tail===null&&_n.tailMode==="hidden"&&!yr.alternate&&!is())return ls(i),null}else Za()*2-_n.renderingStartTime>qU()&&m!==Ds&&(i.flags|=qt,Mr=!0,y0(_n,!1),i.lanes=cb)}if(_n.isBackwards)yr.sibling=i.child,i.child=yr;else{var fi=_n.last;fi!==null?fi.sibling=yr:i.child=yr,_n.last=yr}}if(_n.tail!==null){var pi=_n.tail;_n.rendering=pi,_n.tail=pi.sibling,_n.renderingStartTime=Za(),pi.sibling=null;var Us=gl.current;return Mr?Us=VR(Us,o0):Us=Jg(Us),Mf(i,Us),pi}return ls(i),null}case te:break;case ee:case le:{lA(i);var kd=i.memoizedState,fv=kd!==null;if(s!==null){var M0=s.memoizedState,yc=M0!==null;yc!==fv&&!ge&&(i.flags|=Ba)}return!fv||(i.mode&Pn)===Xt?ls(i):Os(vc,Ds)&&(ls(i),i.subtreeFlags&(fa|tr)&&(i.flags|=Ba)),null}case ce:return null;case ye:return null}throw new Error("Unknown unit of work tag ("+i.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function ATe(s,i,m){switch(yR(i),i.tag){case p:{var v=i.type;cc(v)&&_x(i);var w=i.flags;return w&uo?(i.flags=w&~uo|qt,(i.mode&mr)!==Xt&&gN(i),i):null}case g:{i.stateNode,Qg(i),hR(i),jR();var T=i.flags;return(T&uo)!==Yt&&(T&qt)===Yt?(i.flags=T&~uo|qt,i):null}case S:return UR(i),null;case L:{Zg(i);var D=i.memoizedState;if(D!==null&&D.dehydrated!==null){if(i.alternate===null)throw new Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");qg()}var P=i.flags;return P&uo?(i.flags=P&~uo|qt,(i.mode&mr)!==Xt&&gN(i),i):null}case z:return Zg(i),null;case y:return Qg(i),null;case R:var H=i.type._context;return DR(H,i),null;case ee:case le:return lA(i),null;case ce:return null;default:return null}}function TU(s,i,m){switch(yR(i),i.tag){case p:{var v=i.type.childContextTypes;v!=null&&_x(i);break}case g:{i.stateNode,Qg(i),hR(i),jR();break}case S:{UR(i);break}case y:Qg(i);break;case L:Zg(i);break;case z:Zg(i);break;case R:var w=i.type._context;DR(w,i);break;case ee:case le:lA(i);break}}var IU=null;IU=new Set;var yC=!1,cs=!1,DTe=typeof WeakSet=="function"?WeakSet:Set,Pt=null,ov=null,sv=null;function OTe(s){Gl(null,function(){throw s}),Lp()}var MTe=function(s,i){if(i.props=s.memoizedProps,i.state=s.memoizedState,s.mode&mr)try{mc(),i.componentWillUnmount()}finally{hc(s)}else i.componentWillUnmount()};function RU(s,i){try{Pf(ko,s)}catch(m){ea(s,i,m)}}function qN(s,i,m){try{MTe(s,m)}catch(v){ea(s,i,v)}}function $Te(s,i,m){try{m.componentDidMount()}catch(v){ea(s,i,v)}}function NU(s,i){try{DU(s)}catch(m){ea(s,i,m)}}function iv(s,i){var m=s.ref;if(m!==null)if(typeof m=="function"){var v;try{if(Ce&&Me&&s.mode&mr)try{mc(),v=m(null)}finally{hc(s)}else v=m(null)}catch(w){ea(s,i,w)}typeof v=="function"&&u("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",en(s))}else m.current=null}function bC(s,i,m){try{m()}catch(v){ea(s,i,v)}}var AU=!1;function FTe(s,i){KCe(s.containerInfo),Pt=i,PTe();var m=AU;return AU=!1,m}function PTe(){for(;Pt!==null;){var s=Pt,i=s.child;(s.subtreeFlags&Kl)!==Yt&&i!==null?(i.return=s,Pt=i):LTe()}}function LTe(){for(;Pt!==null;){var s=Pt;ae(s);try{BTe(s)}catch(m){ea(s,s.return,m)}_r();var i=s.sibling;if(i!==null){i.return=s.return,Pt=i;return}Pt=s.return}}function BTe(s){var i=s.alternate,m=s.flags;if((m&Ja)!==Yt){switch(ae(s),s.tag){case f:case A:case j:break;case p:{if(i!==null){var v=i.memoizedProps,w=i.memoizedState,T=s.stateNode;s.type===s.elementType&&!Ah&&(T.props!==s.memoizedProps&&u("Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",en(s)||"instance"),T.state!==s.memoizedState&&u("Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",en(s)||"instance"));var D=T.getSnapshotBeforeUpdate(s.elementType===s.type?v:yl(s.type,v),w);{var P=IU;D===void 0&&!P.has(s.type)&&(P.add(s.type),u("%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",en(s)))}T.__reactInternalSnapshotBeforeUpdate=D}break}case g:{{var H=s.stateNode;bke(H.containerInfo)}break}case S:case E:case y:case q:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}_r()}}function Sl(s,i,m){var v=i.updateQueue,w=v!==null?v.lastEffect:null;if(w!==null){var T=w.next,D=T;do{if((D.tag&s)===s){var P=D.destroy;D.destroy=void 0,P!==void 0&&((s&us)!==Li?il(i):(s&ko)!==Li&&Up(i),(s&dc)!==Li&&A0(!0),bC(i,m,P),(s&dc)!==Li&&A0(!1),(s&us)!==Li?Jl():(s&ko)!==Li&&ub())}D=D.next}while(D!==T)}}function Pf(s,i){var m=i.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var w=v.next,T=w;do{if((T.tag&s)===s){(s&us)!==Li?ib(i):(s&ko)!==Li&&Jm(i);var D=T.create;(s&dc)!==Li&&A0(!0),T.destroy=D(),(s&dc)!==Li&&A0(!1),(s&us)!==Li?CE():(s&ko)!==Li&&kE();{var P=T.destroy;if(P!==void 0&&typeof P!="function"){var H=void 0;(T.tag&ko)!==Yt?H="useLayoutEffect":(T.tag&dc)!==Yt?H="useInsertionEffect":H="useEffect";var X=void 0;P===null?X=" You returned null. If your effect does not require clean up, return undefined (or nothing).":typeof P.then=="function"?X=`

It looks like you wrote `+H+`(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:

`+H+`(() => {
  async function fetchData() {
    // You can await here
    const response = await MyAPI.getData(someId);
    // ...
  }
  fetchData();
}, [someId]); // Or [] if effect doesn't need props or state

Learn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching`:X=" You returned: "+P,u("%s must not return anything besides a function, which is used for clean-up.%s",H,X)}}}T=T.next}while(T!==w)}}function zTe(s,i){if((i.flags&tr)!==Yt)switch(i.tag){case O:{var m=i.stateNode.passiveEffectDuration,v=i.memoizedProps,w=v.id,T=v.onPostCommit,D=qz(),P=i.alternate===null?"mount":"update";Gz()&&(P="nested-update"),typeof T=="function"&&T(w,P,m,D);var H=i.return;e:for(;H!==null;){switch(H.tag){case g:var X=H.stateNode;X.passiveEffectDuration+=m;break e;case O:var ne=H.stateNode;ne.passiveEffectDuration+=m;break e}H=H.return}break}}}function UTe(s,i,m,v){if((m.flags&Xl)!==Yt)switch(m.tag){case f:case A:case j:{if(!cs)if(m.mode&mr)try{mc(),Pf(ko|Co,m)}finally{hc(m)}else Pf(ko|Co,m);break}case p:{var w=m.stateNode;if(m.flags&tr&&!cs)if(i===null)if(m.type===m.elementType&&!Ah&&(w.props!==m.memoizedProps&&u("Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",en(m)||"instance"),w.state!==m.memoizedState&&u("Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",en(m)||"instance")),m.mode&mr)try{mc(),w.componentDidMount()}finally{hc(m)}else w.componentDidMount();else{var T=m.elementType===m.type?i.memoizedProps:yl(m.type,i.memoizedProps),D=i.memoizedState;if(m.type===m.elementType&&!Ah&&(w.props!==m.memoizedProps&&u("Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",en(m)||"instance"),w.state!==m.memoizedState&&u("Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",en(m)||"instance")),m.mode&mr)try{mc(),w.componentDidUpdate(T,D,w.__reactInternalSnapshotBeforeUpdate)}finally{hc(m)}else w.componentDidUpdate(T,D,w.__reactInternalSnapshotBeforeUpdate)}var P=m.updateQueue;P!==null&&(m.type===m.elementType&&!Ah&&(w.props!==m.memoizedProps&&u("Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",en(m)||"instance"),w.state!==m.memoizedState&&u("Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",en(m)||"instance")),vz(m,P,w));break}case g:{var H=m.updateQueue;if(H!==null){var X=null;if(m.child!==null)switch(m.child.tag){case S:X=m.child.stateNode;break;case p:X=m.child.stateNode;break}vz(m,H,X)}break}case S:{var ne=m.stateNode;if(i===null&&m.flags&tr){var xe=m.type,we=m.memoizedProps;oke(ne,xe,we)}break}case E:break;case y:break;case O:{{var Fe=m.memoizedProps,Be=Fe.onCommit,We=Fe.onRender,bt=m.stateNode.effectDuration,tn=qz(),Wt=i===null?"mount":"update";Gz()&&(Wt="nested-update"),typeof We=="function"&&We(m.memoizedProps.id,Wt,m.actualDuration,m.treeBaseDuration,m.actualStartTime,tn);{typeof Be=="function"&&Be(m.memoizedProps.id,Wt,bt,tn),LIe(m);var ar=m.return;e:for(;ar!==null;){switch(ar.tag){case g:var jn=ar.stateNode;jn.effectDuration+=bt;break e;case O:var Ne=ar.stateNode;Ne.effectDuration+=bt;break e}ar=ar.return}}}break}case L:{YTe(s,m);break}case z:case q:case te:case ee:case le:case ye:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}cs||m.flags&wa&&DU(m)}function HTe(s){switch(s.tag){case f:case A:case j:{if(s.mode&mr)try{mc(),RU(s,s.return)}finally{hc(s)}else RU(s,s.return);break}case p:{var i=s.stateNode;typeof i.componentDidMount=="function"&&$Te(s,s.return,i),NU(s,s.return);break}case S:{NU(s,s.return);break}}}function VTe(s,i){for(var m=null,v=s;;){if(v.tag===S){if(m===null){m=v;try{var w=v.stateNode;i?mke(w):vke(v.stateNode,v.memoizedProps)}catch(D){ea(s,s.return,D)}}}else if(v.tag===E){if(m===null)try{var T=v.stateNode;i?gke(T):yke(T,v.memoizedProps)}catch(D){ea(s,s.return,D)}}else if(!((v.tag===ee||v.tag===le)&&v.memoizedState!==null&&v!==s)){if(v.child!==null){v.child.return=v,v=v.child;continue}}if(v===s)return;for(;v.sibling===null;){if(v.return===null||v.return===s)return;m===v&&(m=null),v=v.return}m===v&&(m=null),v.sibling.return=v.return,v=v.sibling}}function DU(s){var i=s.ref;if(i!==null){var m=s.stateNode,v;switch(s.tag){case S:v=m;break;default:v=m}if(typeof i=="function"){var w;if(s.mode&mr)try{mc(),w=i(v)}finally{hc(s)}else w=i(v);typeof w=="function"&&u("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",en(s))}else i.hasOwnProperty("current")||u("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().",en(s)),i.current=v}}function WTe(s){var i=s.alternate;i!==null&&(i.return=null),s.return=null}function OU(s){var i=s.alternate;i!==null&&(s.alternate=null,OU(i));{if(s.child=null,s.deletions=null,s.sibling=null,s.tag===S){var m=s.stateNode;m!==null&&Xke(m)}s.stateNode=null,s._debugOwner=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}}function jTe(s){for(var i=s.return;i!==null;){if(MU(i))return i;i=i.return}throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.")}function MU(s){return s.tag===S||s.tag===g||s.tag===y}function $U(s){var i=s;e:for(;;){for(;i.sibling===null;){if(i.return===null||MU(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==S&&i.tag!==E&&i.tag!==K;){if(i.flags&fa||i.child===null||i.tag===y)continue e;i.child.return=i,i=i.child}if(!(i.flags&fa))return i.stateNode}}function GTe(s){var i=jTe(s);switch(i.tag){case S:{var m=i.stateNode;i.flags&Ii&&(PB(m),i.flags&=~Ii);var v=$U(s);YN(s,v,m);break}case g:case y:{var w=i.stateNode.containerInfo,T=$U(s);KN(s,T,w);break}default:throw new Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}}function KN(s,i,m){var v=s.tag,w=v===S||v===E;if(w){var T=s.stateNode;i?dke(m,T,i):lke(m,T)}else if(v!==y){var D=s.child;if(D!==null){KN(D,i,m);for(var P=D.sibling;P!==null;)KN(P,i,m),P=P.sibling}}}function YN(s,i,m){var v=s.tag,w=v===S||v===E;if(w){var T=s.stateNode;i?cke(m,T,i):uke(m,T)}else if(v!==y){var D=s.child;if(D!==null){YN(D,i,m);for(var P=D.sibling;P!==null;)YN(P,i,m),P=P.sibling}}}var ds=null,wl=!1;function qTe(s,i,m){{var v=i;e:for(;v!==null;){switch(v.tag){case S:{ds=v.stateNode,wl=!1;break e}case g:{ds=v.stateNode.containerInfo,wl=!0;break e}case y:{ds=v.stateNode.containerInfo,wl=!0;break e}}v=v.return}if(ds===null)throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");FU(s,i,m),ds=null,wl=!1}WTe(m)}function Lf(s,i,m){for(var v=m.child;v!==null;)FU(s,i,v),v=v.sibling}function FU(s,i,m){switch(ab(m),m.tag){case S:cs||iv(m,i);case E:{{var v=ds,w=wl;ds=null,Lf(s,i,m),ds=v,wl=w,ds!==null&&(wl?pke(ds,m.stateNode):fke(ds,m.stateNode))}return}case K:{ds!==null&&(wl?hke(ds,m.stateNode):sR(ds,m.stateNode));return}case y:{{var T=ds,D=wl;ds=m.stateNode.containerInfo,wl=!0,Lf(s,i,m),ds=T,wl=D}return}case f:case A:case U:case j:{if(!cs){var P=m.updateQueue;if(P!==null){var H=P.lastEffect;if(H!==null){var X=H.next,ne=X;do{var xe=ne,we=xe.destroy,Fe=xe.tag;we!==void 0&&((Fe&dc)!==Li?bC(m,i,we):(Fe&ko)!==Li&&(Up(m),m.mode&mr?(mc(),bC(m,i,we),hc(m)):bC(m,i,we),ub())),ne=ne.next}while(ne!==X)}}}Lf(s,i,m);return}case p:{if(!cs){iv(m,i);var Be=m.stateNode;typeof Be.componentWillUnmount=="function"&&qN(m,i,Be)}Lf(s,i,m);return}case te:{Lf(s,i,m);return}case ee:{if(m.mode&Pn){var We=cs;cs=We||m.memoizedState!==null,Lf(s,i,m),cs=We}else Lf(s,i,m);break}default:{Lf(s,i,m);return}}}function KTe(s){s.memoizedState}function YTe(s,i){var m=i.memoizedState;if(m===null){var v=i.alternate;if(v!==null){var w=v.memoizedState;if(w!==null){var T=w.dehydrated;T!==null&&Oke(T)}}}}function PU(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var m=s.stateNode;m===null&&(m=s.stateNode=new DTe),i.forEach(function(v){var w=jIe.bind(null,s,v);if(!m.has(v)){if(m.add(v),As)if(ov!==null&&sv!==null)N0(sv,ov);else throw Error("Expected finished root and lanes to be set. This is a bug in React.");v.then(w,w)}})}}function XTe(s,i,m){ov=m,sv=s,ae(i),LU(i,s),ae(i),ov=null,sv=null}function El(s,i,m){var v=i.deletions;if(v!==null)for(var w=0;w<v.length;w++){var T=v[w];try{qTe(s,i,T)}catch(H){ea(T,i,H)}}var D=_e();if(i.subtreeFlags&Yl)for(var P=i.child;P!==null;)ae(P),LU(P,s),P=P.sibling;ae(D)}function LU(s,i,m){var v=s.alternate,w=s.flags;switch(s.tag){case f:case A:case U:case j:{if(El(i,s),gc(s),w&tr){try{Sl(dc|Co,s,s.return),Pf(dc|Co,s)}catch(pn){ea(s,s.return,pn)}if(s.mode&mr){try{mc(),Sl(ko|Co,s,s.return)}catch(pn){ea(s,s.return,pn)}hc(s)}else try{Sl(ko|Co,s,s.return)}catch(pn){ea(s,s.return,pn)}}return}case p:{El(i,s),gc(s),w&wa&&v!==null&&iv(v,v.return);return}case S:{El(i,s),gc(s),w&wa&&v!==null&&iv(v,v.return);{if(s.flags&Ii){var T=s.stateNode;try{PB(T)}catch(pn){ea(s,s.return,pn)}}if(w&tr){var D=s.stateNode;if(D!=null){var P=s.memoizedProps,H=v!==null?v.memoizedProps:P,X=s.type,ne=s.updateQueue;if(s.updateQueue=null,ne!==null)try{ske(D,ne,X,H,P,s)}catch(pn){ea(s,s.return,pn)}}}}return}case E:{if(El(i,s),gc(s),w&tr){if(s.stateNode===null)throw new Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");var xe=s.stateNode,we=s.memoizedProps,Fe=v!==null?v.memoizedProps:we;try{ike(xe,Fe,we)}catch(pn){ea(s,s.return,pn)}}return}case g:{if(El(i,s),gc(s),w&tr&&v!==null){var Be=v.memoizedState;if(Be.isDehydrated)try{Dke(i.containerInfo)}catch(pn){ea(s,s.return,pn)}}return}case y:{El(i,s),gc(s);return}case L:{El(i,s),gc(s);var We=s.child;if(We.flags&Ba){var bt=We.stateNode,tn=We.memoizedState,Wt=tn!==null;if(bt.isHidden=Wt,Wt){var ar=We.alternate!==null&&We.alternate.memoizedState!==null;ar||NIe()}}if(w&tr){try{KTe(s)}catch(pn){ea(s,s.return,pn)}PU(s)}return}case ee:{var jn=v!==null&&v.memoizedState!==null;if(s.mode&Pn){var Ne=cs;cs=Ne||jn,El(i,s),cs=Ne}else El(i,s);if(gc(s),w&Ba){var je=s.stateNode,Ae=s.memoizedState,ot=Ae!==null,It=s;if(je.isHidden=ot,ot&&!jn&&(It.mode&Pn)!==Xt){Pt=It;for(var Et=It.child;Et!==null;)Pt=Et,JTe(Et),Et=Et.sibling}VTe(It,ot)}return}case z:{El(i,s),gc(s),w&tr&&PU(s);return}case te:return;default:{El(i,s),gc(s);return}}}function gc(s){var i=s.flags;if(i&fa){try{GTe(s)}catch(m){ea(s,s.return,m)}s.flags&=~fa}i&Is&&(s.flags&=~Is)}function QTe(s,i,m){ov=m,sv=i,Pt=s,BU(s,i,m),ov=null,sv=null}function BU(s,i,m){for(var v=(s.mode&Pn)!==Xt;Pt!==null;){var w=Pt,T=w.child;if(w.tag===ee&&v){var D=w.memoizedState!==null,P=D||yC;if(P){XN(s,i,m);continue}else{var H=w.alternate,X=H!==null&&H.memoizedState!==null,ne=X||cs,xe=yC,we=cs;yC=P,cs=ne,cs&&!we&&(Pt=w,ZTe(w));for(var Fe=T;Fe!==null;)Pt=Fe,BU(Fe,i,m),Fe=Fe.sibling;Pt=w,yC=xe,cs=we,XN(s,i,m);continue}}(w.subtreeFlags&Xl)!==Yt&&T!==null?(T.return=w,Pt=T):XN(s,i,m)}}function XN(s,i,m){for(;Pt!==null;){var v=Pt;if((v.flags&Xl)!==Yt){var w=v.alternate;ae(v);try{UTe(i,w,v,m)}catch(D){ea(v,v.return,D)}_r()}if(v===s){Pt=null;return}var T=v.sibling;if(T!==null){T.return=v.return,Pt=T;return}Pt=v.return}}function JTe(s){for(;Pt!==null;){var i=Pt,m=i.child;switch(i.tag){case f:case A:case U:case j:{if(i.mode&mr)try{mc(),Sl(ko,i,i.return)}finally{hc(i)}else Sl(ko,i,i.return);break}case p:{iv(i,i.return);var v=i.stateNode;typeof v.componentWillUnmount=="function"&&qN(i,i.return,v);break}case S:{iv(i,i.return);break}case ee:{var w=i.memoizedState!==null;if(w){zU(s);continue}break}}m!==null?(m.return=i,Pt=m):zU(s)}}function zU(s){for(;Pt!==null;){var i=Pt;if(i===s){Pt=null;return}var m=i.sibling;if(m!==null){m.return=i.return,Pt=m;return}Pt=i.return}}function ZTe(s){for(;Pt!==null;){var i=Pt,m=i.child;if(i.tag===ee){var v=i.memoizedState!==null;if(v){UU(s);continue}}m!==null?(m.return=i,Pt=m):UU(s)}}function UU(s){for(;Pt!==null;){var i=Pt;ae(i);try{HTe(i)}catch(v){ea(i,i.return,v)}if(_r(),i===s){Pt=null;return}var m=i.sibling;if(m!==null){m.return=i.return,Pt=m;return}Pt=i.return}}function eIe(s,i,m,v){Pt=i,tIe(i,s,m,v)}function tIe(s,i,m,v){for(;Pt!==null;){var w=Pt,T=w.child;(w.subtreeFlags&ol)!==Yt&&T!==null?(T.return=w,Pt=T):nIe(s,i,m,v)}}function nIe(s,i,m,v){for(;Pt!==null;){var w=Pt;if((w.flags&Ts)!==Yt){ae(w);try{rIe(i,w,m,v)}catch(D){ea(w,w.return,D)}_r()}if(w===s){Pt=null;return}var T=w.sibling;if(T!==null){T.return=w.return,Pt=T;return}Pt=w.return}}function rIe(s,i,m,v){switch(i.tag){case f:case A:case j:{if(i.mode&mr){mN();try{Pf(us|Co,i)}finally{hN(i)}}else Pf(us|Co,i);break}}}function aIe(s){Pt=s,oIe()}function oIe(){for(;Pt!==null;){var s=Pt,i=s.child;if((Pt.flags&Ti)!==Yt){var m=s.deletions;if(m!==null){for(var v=0;v<m.length;v++){var w=m[v];Pt=w,uIe(w,s)}{var T=s.alternate;if(T!==null){var D=T.child;if(D!==null){T.child=null;do{var P=D.sibling;D.sibling=null,D=P}while(D!==null)}}}Pt=s}}(s.subtreeFlags&ol)!==Yt&&i!==null?(i.return=s,Pt=i):sIe()}}function sIe(){for(;Pt!==null;){var s=Pt;(s.flags&Ts)!==Yt&&(ae(s),iIe(s),_r());var i=s.sibling;if(i!==null){i.return=s.return,Pt=i;return}Pt=s.return}}function iIe(s){switch(s.tag){case f:case A:case j:{s.mode&mr?(mN(),Sl(us|Co,s,s.return),hN(s)):Sl(us|Co,s,s.return);break}}}function uIe(s,i){for(;Pt!==null;){var m=Pt;ae(m),cIe(m,i),_r();var v=m.child;v!==null?(v.return=m,Pt=v):lIe(s)}}function lIe(s){for(;Pt!==null;){var i=Pt,m=i.sibling,v=i.return;if(OU(i),i===s){Pt=null;return}if(m!==null){m.return=v,Pt=m;return}Pt=v}}function cIe(s,i){switch(s.tag){case f:case A:case j:{s.mode&mr?(mN(),Sl(us,s,i),hN(s)):Sl(us,s,i);break}}}function dIe(s){switch(s.tag){case f:case A:case j:{try{Pf(ko|Co,s)}catch(m){ea(s,s.return,m)}break}case p:{var i=s.stateNode;try{i.componentDidMount()}catch(m){ea(s,s.return,m)}break}}}function fIe(s){switch(s.tag){case f:case A:case j:{try{Pf(us|Co,s)}catch(i){ea(s,s.return,i)}break}}}function pIe(s){switch(s.tag){case f:case A:case j:{try{Sl(ko|Co,s,s.return)}catch(m){ea(s,s.return,m)}break}case p:{var i=s.stateNode;typeof i.componentWillUnmount=="function"&&qN(s,s.return,i);break}}}function hIe(s){switch(s.tag){case f:case A:case j:try{Sl(us|Co,s,s.return)}catch(i){ea(s,s.return,i)}}}if(typeof Symbol=="function"&&Symbol.for){var b0=Symbol.for;b0("selector.component"),b0("selector.has_pseudo_class"),b0("selector.role"),b0("selector.test_id"),b0("selector.text")}var mIe=[];function gIe(){mIe.forEach(function(s){return s()})}var vIe=n.ReactCurrentActQueue;function yIe(s){{var i=typeof IS_REACT_ACT_ENVIRONMENT<"u"?IS_REACT_ACT_ENVIRONMENT:void 0,m=typeof jest<"u";return m&&i!==!1}}function HU(){{var s=typeof IS_REACT_ACT_ENVIRONMENT<"u"?IS_REACT_ACT_ENVIRONMENT:void 0;return!s&&vIe.current!==null&&u("The current testing environment is not configured to support act(...)"),s}}var bIe=Math.ceil,QN=n.ReactCurrentDispatcher,JN=n.ReactCurrentOwner,fs=n.ReactCurrentBatchConfig,xl=n.ReactCurrentActQueue,Io=0,VU=1,ps=2,Bu=4,wd=0,S0=1,Dh=2,SC=3,w0=4,WU=5,ZN=6,rr=Io,ci=null,Da=null,Ro=Ze,vc=Ze,eA=If(Ze),No=wd,E0=null,wC=Ze,x0=Ze,EC=Ze,C0=null,Bi=null,tA=0,jU=500,GU=1/0,SIe=500,Ed=null;function k0(){GU=Za()+SIe}function qU(){return GU}var xC=!1,nA=null,uv=null,Oh=!1,Bf=null,_0=Ze,rA=[],aA=null,wIe=50,T0=0,oA=null,sA=!1,CC=!1,EIe=50,lv=0,kC=null,I0=Br,_C=Ze,KU=!1;function TC(){return ci}function di(){return(rr&(ps|Bu))!==Io?Za():(I0!==Br||(I0=Za()),I0)}function zf(s){var i=s.mode;if((i&Pn)===Xt)return cn;if((rr&ps)!==Io&&Ro!==Ze)return eh(Ro);var m=v_e()!==g_e;if(m){if(fs.transition!==null){var v=fs.transition;v._updatedFibers||(v._updatedFibers=new Set),v._updatedFibers.add(s)}return _C===dr&&(_C=gb()),_C}var w=Mi();if(w!==dr)return w;var T=tke();return T}function xIe(s){var i=s.mode;return(i&Pn)===Xt?cn:AE()}function Ao(s,i,m,v){qIe(),KU&&u("useInsertionEffect must not schedule updates."),sA&&(CC=!0),vf(s,m,v),(rr&ps)!==Ze&&s===ci?XIe(i):(As&&rh(s,i,m),QIe(i),s===ci&&((rr&ps)===Io&&(x0=An(x0,m)),No===w0&&Uf(s,Ro)),zi(s,v),m===cn&&rr===Io&&(i.mode&Pn)===Xt&&!xl.isBatchingLegacy&&(k0(),KB()))}function CIe(s,i,m){var v=s.current;v.lanes=i,vf(s,i,m),zi(s,m)}function kIe(s){return(rr&ps)!==Io}function zi(s,i){var m=s.callbackNode;yg(s,i);var v=vg(s,s===ci?Ro:Ze);if(v===Ze){m!==null&&c7(m),s.callbackNode=null,s.callbackPriority=dr;return}var w=tc(v),T=s.callbackPriority;if(T===w&&!(xl.current!==null&&m!==pA)){m==null&&T!==cn&&u("Expected scheduled callback to exist. This error is likely caused by a bug in React. Please file an issue.");return}m!=null&&c7(m);var D;if(w===cn)s.tag===Rf?(xl.isBatchingLegacy!==null&&(xl.didScheduleLegacyUpdate=!0),Zke(QU.bind(null,s))):qB(QU.bind(null,s)),xl.current!==null?xl.current.push(Nf):rke(function(){(rr&(ps|Bu))===Io&&Nf()}),D=null;else{var P;switch(LE(v)){case ns:P=zp;break;case Ru:P=Ql;break;case Di:P=sl;break;case Oi:P=Yc;break;default:P=sl;break}D=hA(P,YU.bind(null,s))}s.callbackPriority=w,s.callbackNode=D}function YU(s,i){if(V_e(),I0=Br,_C=Ze,(rr&(ps|Bu))!==Io)throw new Error("Should not already be working.");var m=s.callbackNode,v=Cd();if(v&&s.callbackNode!==m)return null;var w=vg(s,s===ci?Ro:Ze);if(w===Ze)return null;var T=!Sg(s,w)&&!NE(s,w)&&!i,D=T?$Ie(s,w):RC(s,w);if(D!==wd){if(D===Dh){var P=bg(s);P!==Ze&&(w=P,D=iA(s,P))}if(D===S0){var H=E0;throw Mh(s,Ze),Uf(s,w),zi(s,Za()),H}if(D===ZN)Uf(s,w);else{var X=!Sg(s,w),ne=s.current.alternate;if(X&&!TIe(ne)){if(D=RC(s,w),D===Dh){var xe=bg(s);xe!==Ze&&(w=xe,D=iA(s,xe))}if(D===S0){var we=E0;throw Mh(s,Ze),Uf(s,w),zi(s,Za()),we}}s.finishedWork=ne,s.finishedLanes=w,_Ie(s,D,w)}}return zi(s,Za()),s.callbackNode===m?YU.bind(null,s):null}function iA(s,i){var m=C0;if(xg(s)){var v=Mh(s,i);v.flags|=Wo,Gke(s.containerInfo)}var w=RC(s,i);if(w!==Dh){var T=Bi;Bi=m,T!==null&&XU(T)}return w}function XU(s){Bi===null?Bi=s:Bi.push.apply(Bi,s)}function _Ie(s,i,m){switch(i){case wd:case S0:throw new Error("Root did not complete. This is a bug in React.");case Dh:{$h(s,Bi,Ed);break}case SC:{if(Uf(s,m),sd(m)&&!d7()){var v=tA+jU-Za();if(v>10){var w=vg(s,Ze);if(w!==Ze)break;var T=s.suspendedLanes;if(!id(T,m)){di(),wg(s,T);break}s.timeoutHandle=aR($h.bind(null,s,Bi,Ed),v);break}}$h(s,Bi,Ed);break}case w0:{if(Uf(s,m),hb(m))break;if(!d7()){var D=au(s,m),P=D,H=Za()-P,X=GIe(H)-H;if(X>10){s.timeoutHandle=aR($h.bind(null,s,Bi,Ed),X);break}}$h(s,Bi,Ed);break}case WU:{$h(s,Bi,Ed);break}default:throw new Error("Unknown root exit status.")}}function TIe(s){for(var i=s;;){if(i.flags&ff){var m=i.updateQueue;if(m!==null){var v=m.stores;if(v!==null)for(var w=0;w<v.length;w++){var T=v[w],D=T.getSnapshot,P=T.value;try{if(!rt(D(),P))return!1}catch{return!1}}}}var H=i.child;if(i.subtreeFlags&ff&&H!==null){H.return=i,i=H;continue}if(i===s)return!0;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}return!0}function Uf(s,i){i=th(i,EC),i=th(i,x0),ME(s,i)}function QU(s){if(W_e(),(rr&(ps|Bu))!==Io)throw new Error("Should not already be working.");Cd();var i=vg(s,Ze);if(!Os(i,cn))return zi(s,Za()),null;var m=RC(s,i);if(s.tag!==Rf&&m===Dh){var v=bg(s);v!==Ze&&(i=v,m=iA(s,v))}if(m===S0){var w=E0;throw Mh(s,Ze),Uf(s,i),zi(s,Za()),w}if(m===ZN)throw new Error("Root did not complete. This is a bug in React.");var T=s.current.alternate;return s.finishedWork=T,s.finishedLanes=i,$h(s,Bi,Ed),zi(s,Za()),null}function IIe(s,i){i!==Ze&&(Eg(s,An(i,cn)),zi(s,Za()),(rr&(ps|Bu))===Io&&(k0(),Nf()))}function uA(s,i){var m=rr;rr|=VU;try{return s(i)}finally{rr=m,rr===Io&&!xl.isBatchingLegacy&&(k0(),KB())}}function RIe(s,i,m,v,w){var T=Mi(),D=fs.transition;try{return fs.transition=null,Va(ns),s(i,m,v,w)}finally{Va(T),fs.transition=D,rr===Io&&k0()}}function xd(s){Bf!==null&&Bf.tag===Rf&&(rr&(ps|Bu))===Io&&Cd();var i=rr;rr|=VU;var m=fs.transition,v=Mi();try{return fs.transition=null,Va(ns),s?s():void 0}finally{Va(v),fs.transition=m,rr=i,(rr&(ps|Bu))===Io&&Nf()}}function JU(){return(rr&(ps|Bu))!==Io}function IC(s,i){Ls(eA,vc,s),vc=An(vc,i)}function lA(s){vc=eA.current,Ps(eA,s)}function Mh(s,i){s.finishedWork=null,s.finishedLanes=Ze;var m=s.timeoutHandle;if(m!==oR&&(s.timeoutHandle=oR,nke(m)),Da!==null)for(var v=Da.return;v!==null;){var w=v.alternate;TU(w,v),v=v.return}ci=s;var T=Fh(s.current,null);return Da=T,Ro=vc=i,No=wd,E0=null,wC=Ze,x0=Ze,EC=Ze,C0=null,Bi=null,C_e(),ml.discardPendingWarnings(),T}function ZU(s,i){do{var m=Da;try{if(Lx(),xz(),_r(),JN.current=null,m===null||m.return===null){No=S0,E0=i,Da=null;return}if(Ce&&m.mode&mr&&pC(m,!0),ke)if(si(),i!==null&&typeof i=="object"&&typeof i.then=="function"){var v=i;Iu(m,v,Ro)}else Hp(m,i,Ro);Z_e(s,m.return,m,i,Ro),r7(m)}catch(w){i=w,Da===m&&m!==null?(m=m.return,Da=m):m=Da;continue}return}while(!0)}function e7(){var s=QN.current;return QN.current=uC,s===null?uC:s}function t7(s){QN.current=s}function NIe(){tA=Za()}function R0(s){wC=An(s,wC)}function AIe(){No===wd&&(No=SC)}function cA(){(No===wd||No===SC||No===Dh)&&(No=w0),ci!==null&&(Zp(wC)||Zp(x0))&&Uf(ci,Ro)}function DIe(s){No!==w0&&(No=Dh),C0===null?C0=[s]:C0.push(s)}function OIe(){return No===wd}function RC(s,i){var m=rr;rr|=ps;var v=e7();if(ci!==s||Ro!==i){if(As){var w=s.memoizedUpdaters;w.size>0&&(N0(s,Ro),w.clear()),$E(s,i)}Ed=Sb(),Mh(s,i)}Zc(i);do try{MIe();break}catch(T){ZU(s,T)}while(!0);if(Lx(),rr=m,t7(v),Da!==null)throw new Error("Cannot commit an incomplete root. This error is likely caused by a bug in React. Please file an issue.");return Zm(),ci=null,Ro=Ze,No}function MIe(){for(;Da!==null;)n7(Da)}function $Ie(s,i){var m=rr;rr|=ps;var v=e7();if(ci!==s||Ro!==i){if(As){var w=s.memoizedUpdaters;w.size>0&&(N0(s,Ro),w.clear()),$E(s,i)}Ed=Sb(),k0(),Mh(s,i)}Zc(i);do try{FIe();break}catch(T){ZU(s,T)}while(!0);return Lx(),t7(v),rr=m,Da!==null?(_E(),wd):(Zm(),ci=null,Ro=Ze,No)}function FIe(){for(;Da!==null&&!Zy();)n7(Da)}function n7(s){var i=s.alternate;ae(s);var m;(s.mode&mr)!==Xt?(pN(s),m=dA(i,s,vc),pC(s,!0)):m=dA(i,s,vc),_r(),s.memoizedProps=s.pendingProps,m===null?r7(s):Da=m,JN.current=null}function r7(s){var i=s;do{var m=i.alternate,v=i.return;if((i.flags&Bp)===Yt){ae(i);var w=void 0;if((i.mode&mr)===Xt?w=_U(m,i,vc):(pN(i),w=_U(m,i,vc),pC(i,!1)),_r(),w!==null){Da=w;return}}else{var T=ATe(m,i);if(T!==null){T.flags&=SE,Da=T;return}if((i.mode&mr)!==Xt){pC(i,!1);for(var D=i.actualDuration,P=i.child;P!==null;)D+=P.actualDuration,P=P.sibling;i.actualDuration=D}if(v!==null)v.flags|=Bp,v.subtreeFlags=Yt,v.deletions=null;else{No=ZN,Da=null;return}}var H=i.sibling;if(H!==null){Da=H;return}i=v,Da=i}while(i!==null);No===wd&&(No=WU)}function $h(s,i,m){var v=Mi(),w=fs.transition;try{fs.transition=null,Va(ns),PIe(s,i,m,v)}finally{fs.transition=w,Va(v)}return null}function PIe(s,i,m,v){do Cd();while(Bf!==null);if(KIe(),(rr&(ps|Bu))!==Io)throw new Error("Should not already be working.");var w=s.finishedWork,T=s.finishedLanes;if(ob(T),w===null)return sb(),null;if(T===Ze&&u("root.finishedLanes should not be empty during a commit. This is a bug in React."),s.finishedWork=null,s.finishedLanes=Ze,w===s.current)throw new Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");s.callbackNode=null,s.callbackPriority=dr;var D=An(w.lanes,w.childLanes);yb(s,D),s===ci&&(ci=null,Da=null,Ro=Ze),((w.subtreeFlags&ol)!==Yt||(w.flags&ol)!==Yt)&&(Oh||(Oh=!0,aA=m,hA(sl,function(){return Cd(),null})));var P=(w.subtreeFlags&(Kl|Yl|Xl|ol))!==Yt,H=(w.flags&(Kl|Yl|Xl|ol))!==Yt;if(P||H){var X=fs.transition;fs.transition=null;var ne=Mi();Va(ns);var xe=rr;rr|=Bu,JN.current=null,FTe(s,w),Kz(),XTe(s,w,T),YCe(s.containerInfo),s.current=w,Vp(T),QTe(w,s,T),Wp(),eb(),rr=xe,Va(ne),fs.transition=X}else s.current=w,Kz();var we=Oh;if(Oh?(Oh=!1,Bf=s,_0=T):(lv=0,kC=null),D=s.pendingLanes,D===Ze&&(uv=null),we||i7(s.current,!1),nb(w.stateNode,v),As&&s.memoizedUpdaters.clear(),gIe(),zi(s,Za()),i!==null)for(var Fe=s.onRecoverableError,Be=0;Be<i.length;Be++){var We=i[Be],bt=We.stack,tn=We.digest;Fe(We.value,{componentStack:bt,digest:tn})}if(xC){xC=!1;var Wt=nA;throw nA=null,Wt}return Os(_0,cn)&&s.tag!==Rf&&Cd(),D=s.pendingLanes,Os(D,cn)?(H_e(),s===oA?T0++:(T0=0,oA=s)):T0=0,Nf(),sb(),null}function Cd(){if(Bf!==null){var s=LE(_0),i=oh(Di,s),m=fs.transition,v=Mi();try{return fs.transition=null,Va(i),BIe()}finally{Va(v),fs.transition=m}}return!1}function LIe(s){rA.push(s),Oh||(Oh=!0,hA(sl,function(){return Cd(),null}))}function BIe(){if(Bf===null)return!1;var s=aA;aA=null;var i=Bf,m=_0;if(Bf=null,_0=Ze,(rr&(ps|Bu))!==Io)throw new Error("Cannot flush passive effects while already rendering.");sA=!0,CC=!1,Jc(m);var v=rr;rr|=Bu,aIe(i.current),eIe(i,i.current,m,s);{var w=rA;rA=[];for(var T=0;T<w.length;T++){var D=w[T];zTe(i,D)}}lb(),i7(i.current,!0),rr=v,Nf(),CC?i===kC?lv++:(lv=0,kC=i):lv=0,sA=!1,CC=!1,rb(i);{var P=i.current.stateNode;P.effectDuration=0,P.passiveEffectDuration=0}return!0}function a7(s){return uv!==null&&uv.has(s)}function zIe(s){uv===null?uv=new Set([s]):uv.add(s)}function UIe(s){xC||(xC=!0,nA=s)}var HIe=UIe;function o7(s,i,m){var v=Nh(m,i),w=nU(s,v,cn),T=Df(s,w,cn),D=di();T!==null&&(vf(T,cn,D),zi(T,D))}function ea(s,i,m){if(OTe(m),A0(!1),s.tag===g){o7(s,s,m);return}var v=null;for(v=i;v!==null;){if(v.tag===g){o7(v,s,m);return}else if(v.tag===p){var w=v.type,T=v.stateNode;if(typeof w.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&!a7(T)){var D=Nh(m,s),P=AN(v,D,cn),H=Df(v,P,cn),X=di();H!==null&&(vf(H,cn,X),zi(H,X));return}}v=v.return}u(`Internal React error: Attempted to capture a commit phase error inside a detached tree. This indicates a bug in React. Likely causes include deleting the same fiber more than once, committing an already-finished tree, or an inconsistent return pointer.

Error message:

%s`,m)}function VIe(s,i,m){var v=s.pingCache;v!==null&&v.delete(i);var w=di();wg(s,m),JIe(s),ci===s&&id(Ro,m)&&(No===w0||No===SC&&sd(Ro)&&Za()-tA<jU?Mh(s,Ze):EC=An(EC,m)),zi(s,w)}function s7(s,i){i===dr&&(i=xIe(s));var m=di(),v=Pi(s,i);v!==null&&(vf(v,i,m),zi(v,m))}function WIe(s){var i=s.memoizedState,m=dr;i!==null&&(m=i.retryLane),s7(s,m)}function jIe(s,i){var m=dr,v;switch(s.tag){case L:v=s.stateNode;var w=s.memoizedState;w!==null&&(m=w.retryLane);break;case z:v=s.stateNode;break;default:throw new Error("Pinged unknown suspense boundary type. This is probably a bug in React.")}v!==null&&v.delete(i),s7(s,m)}function GIe(s){return s<120?120:s<480?480:s<1080?1080:s<1920?1920:s<3e3?3e3:s<4320?4320:bIe(s/1960)*1960}function qIe(){if(T0>wIe)throw T0=0,oA=null,new Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");lv>EIe&&(lv=0,kC=null,u("Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render."))}function KIe(){ml.flushLegacyContextWarning(),ml.flushPendingUnsafeLifecycleWarnings()}function i7(s,i){ae(s),NC(s,ql,pIe),i&&NC(s,ku,hIe),NC(s,ql,dIe),i&&NC(s,ku,fIe),_r()}function NC(s,i,m){for(var v=s,w=null;v!==null;){var T=v.subtreeFlags&i;v!==w&&v.child!==null&&T!==Yt?v=v.child:((v.flags&i)!==Yt&&m(v),v.sibling!==null?v=v.sibling:v=w=v.return)}}var AC=null;function u7(s){{if((rr&ps)!==Io||!(s.mode&Pn))return;var i=s.tag;if(i!==c&&i!==g&&i!==p&&i!==f&&i!==A&&i!==U&&i!==j)return;var m=en(s)||"ReactComponent";if(AC!==null){if(AC.has(m))return;AC.add(m)}else AC=new Set([m]);var v=Gr;try{ae(s),u("Can't perform a React state update on a component that hasn't mounted yet. This indicates that you have a side-effect in your render function that asynchronously later calls tries to update the component. Move this work to useEffect instead.")}finally{v?ae(s):_r()}}}var dA;{var YIe=null;dA=function(s,i,m){var v=g7(YIe,i);try{return wU(s,i,m)}catch(T){if(i_e()||T!==null&&typeof T=="object"&&typeof T.then=="function")throw T;if(Lx(),xz(),TU(s,i),g7(i,v),i.mode&mr&&pN(i),Gl(null,wU,null,s,i,m),rl()){var w=Lp();typeof w=="object"&&w!==null&&w._suppressLogging&&typeof T=="object"&&T!==null&&!T._suppressLogging&&(T._suppressLogging=!0)}throw T}}}var l7=!1,fA;fA=new Set;function XIe(s){if(Ho&&!B_e())switch(s.tag){case f:case A:case j:{var i=Da&&en(Da)||"Unknown",m=i;if(!fA.has(m)){fA.add(m);var v=en(s)||"Unknown";u("Cannot update a component (`%s`) while rendering a different component (`%s`). To locate the bad setState() call inside `%s`, follow the stack trace as described in https://reactjs.org/link/setstate-in-render",v,i,i)}break}case p:{l7||(u("Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."),l7=!0);break}}}function N0(s,i){if(As){var m=s.memoizedUpdaters;m.forEach(function(v){rh(s,v,i)})}}var pA={};function hA(s,i){{var m=xl.current;return m!==null?(m.push(i),pA):Jy(s,i)}}function c7(s){if(s!==pA)return EE(s)}function d7(){return xl.current!==null}function QIe(s){{if(s.mode&Pn){if(!HU())return}else if(!yIe()||rr!==Io||s.tag!==f&&s.tag!==A&&s.tag!==j)return;if(xl.current===null){var i=Gr;try{ae(s),u(`An update to %s inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act`,en(s))}finally{i?ae(s):_r()}}}}function JIe(s){s.tag!==Rf&&HU()&&xl.current===null&&u(`A suspended resource finished loading inside a test, but the event was not wrapped in act(...).

When testing, code that resolves suspended data should be wrapped into act(...):

act(() => {
  /* finish loading suspended data */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act`)}function A0(s){KU=s}var zu=null,cv=null,ZIe=function(s){zu=s};function dv(s){{if(zu===null)return s;var i=zu(s);return i===void 0?s:i.current}}function mA(s){return dv(s)}function gA(s){{if(zu===null)return s;var i=zu(s);if(i===void 0){if(s!=null&&typeof s.render=="function"){var m=dv(s.render);if(s.render!==m){var v={$$typeof:Ye,render:m};return s.displayName!==void 0&&(v.displayName=s.displayName),v}}return s}return i.current}}function f7(s,i){{if(zu===null)return!1;var m=s.elementType,v=i.type,w=!1,T=typeof v=="object"&&v!==null?v.$$typeof:null;switch(s.tag){case p:{typeof v=="function"&&(w=!0);break}case f:{(typeof v=="function"||T===Zt)&&(w=!0);break}case A:{(T===Ye||T===Zt)&&(w=!0);break}case U:case j:{(T===Gt||T===Zt)&&(w=!0);break}default:return!1}if(w){var D=zu(m);if(D!==void 0&&D===zu(v))return!0}return!1}}function p7(s){{if(zu===null||typeof WeakSet!="function")return;cv===null&&(cv=new WeakSet),cv.add(s)}}var e3e=function(s,i){{if(zu===null)return;var m=i.staleFamilies,v=i.updatedFamilies;Cd(),xd(function(){vA(s.current,v,m)})}},t3e=function(s,i){{if(s.context!==iu)return;Cd(),xd(function(){D0(i,s,null,null)})}};function vA(s,i,m){{var v=s.alternate,w=s.child,T=s.sibling,D=s.tag,P=s.type,H=null;switch(D){case f:case j:case p:H=P;break;case A:H=P.render;break}if(zu===null)throw new Error("Expected resolveFamily to be set during hot reload.");var X=!1,ne=!1;if(H!==null){var xe=zu(H);xe!==void 0&&(m.has(xe)?ne=!0:i.has(xe)&&(D===p?ne=!0:X=!0))}if(cv!==null&&(cv.has(s)||v!==null&&cv.has(v))&&(ne=!0),ne&&(s._debugNeedsRemount=!0),ne||X){var we=Pi(s,cn);we!==null&&Ao(we,s,cn,Br)}w!==null&&!ne&&vA(w,i,m),T!==null&&vA(T,i,m)}}var n3e=function(s,i){{var m=new Set,v=new Set(i.map(function(w){return w.current}));return yA(s.current,v,m),m}};function yA(s,i,m){{var v=s.child,w=s.sibling,T=s.tag,D=s.type,P=null;switch(T){case f:case j:case p:P=D;break;case A:P=D.render;break}var H=!1;P!==null&&i.has(P)&&(H=!0),H?r3e(s,m):v!==null&&yA(v,i,m),w!==null&&yA(w,i,m)}}function r3e(s,i){{var m=a3e(s,i);if(m)return;for(var v=s;;){switch(v.tag){case S:i.add(v.stateNode);return;case y:i.add(v.stateNode.containerInfo);return;case g:i.add(v.stateNode.containerInfo);return}if(v.return===null)throw new Error("Expected to reach root first.");v=v.return}}}function a3e(s,i){for(var m=s,v=!1;;){if(m.tag===S)v=!0,i.add(m.stateNode);else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===s)return v;for(;m.sibling===null;){if(m.return===null||m.return===s)return v;m=m.return}m.sibling.return=m.return,m=m.sibling}return!1}var bA;{bA=!1;try{var h7=Object.preventExtensions({})}catch{bA=!0}}function o3e(s,i,m,v){this.tag=s,this.key=m,this.elementType=null,this.type=null,this.stateNode=null,this.return=null,this.child=null,this.sibling=null,this.index=0,this.ref=null,this.pendingProps=i,this.memoizedProps=null,this.updateQueue=null,this.memoizedState=null,this.dependencies=null,this.mode=v,this.flags=Yt,this.subtreeFlags=Yt,this.deletions=null,this.lanes=Ze,this.childLanes=Ze,this.alternate=null,this.actualDuration=Number.NaN,this.actualStartTime=Number.NaN,this.selfBaseDuration=Number.NaN,this.treeBaseDuration=Number.NaN,this.actualDuration=0,this.actualStartTime=-1,this.selfBaseDuration=0,this.treeBaseDuration=0,this._debugSource=null,this._debugOwner=null,this._debugNeedsRemount=!1,this._debugHookTypes=null,!bA&&typeof Object.preventExtensions=="function"&&Object.preventExtensions(this)}var uu=function(s,i,m,v){return new o3e(s,i,m,v)};function SA(s){var i=s.prototype;return!!(i&&i.isReactComponent)}function s3e(s){return typeof s=="function"&&!SA(s)&&s.defaultProps===void 0}function i3e(s){if(typeof s=="function")return SA(s)?p:f;if(s!=null){var i=s.$$typeof;if(i===Ye)return A;if(i===Gt)return U}return c}function Fh(s,i){var m=s.alternate;m===null?(m=uu(s.tag,i,s.key,s.mode),m.elementType=s.elementType,m.type=s.type,m.stateNode=s.stateNode,m._debugSource=s._debugSource,m._debugOwner=s._debugOwner,m._debugHookTypes=s._debugHookTypes,m.alternate=s,s.alternate=m):(m.pendingProps=i,m.type=s.type,m.flags=Yt,m.subtreeFlags=Yt,m.deletions=null,m.actualDuration=0,m.actualStartTime=-1),m.flags=s.flags&za,m.childLanes=s.childLanes,m.lanes=s.lanes,m.child=s.child,m.memoizedProps=s.memoizedProps,m.memoizedState=s.memoizedState,m.updateQueue=s.updateQueue;var v=s.dependencies;switch(m.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext},m.sibling=s.sibling,m.index=s.index,m.ref=s.ref,m.selfBaseDuration=s.selfBaseDuration,m.treeBaseDuration=s.treeBaseDuration,m._debugNeedsRemount=s._debugNeedsRemount,m.tag){case c:case f:case j:m.type=dv(s.type);break;case p:m.type=mA(s.type);break;case A:m.type=gA(s.type);break}return m}function u3e(s,i){s.flags&=za|fa;var m=s.alternate;if(m===null)s.childLanes=Ze,s.lanes=i,s.child=null,s.subtreeFlags=Yt,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null,s.selfBaseDuration=0,s.treeBaseDuration=0;else{s.childLanes=m.childLanes,s.lanes=m.lanes,s.child=m.child,s.subtreeFlags=Yt,s.deletions=null,s.memoizedProps=m.memoizedProps,s.memoizedState=m.memoizedState,s.updateQueue=m.updateQueue,s.type=m.type;var v=m.dependencies;s.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext},s.selfBaseDuration=m.selfBaseDuration,s.treeBaseDuration=m.treeBaseDuration}return s}function l3e(s,i,m){var v;return s===Ix?(v=Pn,i===!0&&(v|=Dr,v|=gr)):v=Xt,As&&(v|=mr),uu(g,null,null,v)}function wA(s,i,m,v,w,T){var D=c,P=s;if(typeof s=="function")SA(s)?(D=p,P=mA(P)):P=dv(P);else if(typeof s=="string")D=S;else e:switch(s){case Kt:return Hf(m.children,w,T,i);case er:D=_,w|=Dr,(w&Pn)!==Xt&&(w|=gr);break;case Vr:return c3e(m,w,T,i);case ft:return d3e(m,w,T,i);case ut:return f3e(m,w,T,i);case Zr:return m7(m,w,T,i);case wr:case In:case hr:case Wr:case wn:default:{if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Jr:D=R;break e;case fe:D=I;break e;case Ye:D=A,P=gA(P);break e;case Gt:D=U;break e;case Zt:D=J,P=null;break e}var H="";{(s===void 0||typeof s=="object"&&s!==null&&Object.keys(s).length===0)&&(H+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var X=v?en(v):null;X&&(H+=`

Check the render method of \``+X+"`.")}throw new Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) "+("but got: "+(s==null?s:typeof s)+"."+H))}}var ne=uu(D,m,i,w);return ne.elementType=s,ne.type=P,ne.lanes=T,ne._debugOwner=v,ne}function EA(s,i,m){var v=null;v=s._owner;var w=s.type,T=s.key,D=s.props,P=wA(w,T,D,v,i,m);return P._debugSource=s._source,P._debugOwner=s._owner,P}function Hf(s,i,m,v){var w=uu(k,s,v,i);return w.lanes=m,w}function c3e(s,i,m,v){typeof s.id!="string"&&u('Profiler must specify an "id" of type `string` as a prop. Received the type `%s` instead.',typeof s.id);var w=uu(O,s,v,i|mr);return w.elementType=Vr,w.lanes=m,w.stateNode={effectDuration:0,passiveEffectDuration:0},w}function d3e(s,i,m,v){var w=uu(L,s,v,i);return w.elementType=ft,w.lanes=m,w}function f3e(s,i,m,v){var w=uu(z,s,v,i);return w.elementType=ut,w.lanes=m,w}function m7(s,i,m,v){var w=uu(ee,s,v,i);w.elementType=Zr,w.lanes=m;var T={isHidden:!1};return w.stateNode=T,w}function xA(s,i,m){var v=uu(E,s,null,i);return v.lanes=m,v}function p3e(){var s=uu(S,null,null,Xt);return s.elementType="DELETED",s}function h3e(s){var i=uu(K,null,null,Xt);return i.stateNode=s,i}function CA(s,i,m){var v=s.children!==null?s.children:[],w=uu(y,v,s.key,i);return w.lanes=m,w.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},w}function g7(s,i){return s===null&&(s=uu(c,null,null,Xt)),s.tag=i.tag,s.key=i.key,s.elementType=i.elementType,s.type=i.type,s.stateNode=i.stateNode,s.return=i.return,s.child=i.child,s.sibling=i.sibling,s.index=i.index,s.ref=i.ref,s.pendingProps=i.pendingProps,s.memoizedProps=i.memoizedProps,s.updateQueue=i.updateQueue,s.memoizedState=i.memoizedState,s.dependencies=i.dependencies,s.mode=i.mode,s.flags=i.flags,s.subtreeFlags=i.subtreeFlags,s.deletions=i.deletions,s.lanes=i.lanes,s.childLanes=i.childLanes,s.alternate=i.alternate,s.actualDuration=i.actualDuration,s.actualStartTime=i.actualStartTime,s.selfBaseDuration=i.selfBaseDuration,s.treeBaseDuration=i.treeBaseDuration,s._debugSource=i._debugSource,s._debugOwner=i._debugOwner,s._debugNeedsRemount=i._debugNeedsRemount,s._debugHookTypes=i._debugHookTypes,s}function m3e(s,i,m,v,w){this.tag=i,this.containerInfo=s,this.pendingChildren=null,this.current=null,this.pingCache=null,this.finishedWork=null,this.timeoutHandle=oR,this.context=null,this.pendingContext=null,this.callbackNode=null,this.callbackPriority=dr,this.eventTimes=nh(Ze),this.expirationTimes=nh(Br),this.pendingLanes=Ze,this.suspendedLanes=Ze,this.pingedLanes=Ze,this.expiredLanes=Ze,this.mutableReadLanes=Ze,this.finishedLanes=Ze,this.entangledLanes=Ze,this.entanglements=nh(Ze),this.identifierPrefix=v,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null,this.effectDuration=0,this.passiveEffectDuration=0;{this.memoizedUpdaters=new Set;for(var T=this.pendingUpdatersLaneMap=[],D=0;D<ed;D++)T.push(new Set)}switch(i){case Ix:this._debugRootType=m?"hydrateRoot()":"createRoot()";break;case Rf:this._debugRootType=m?"hydrate()":"render()";break}}function v7(s,i,m,v,w,T,D,P,H,X){var ne=new m3e(s,i,m,P,H),xe=l3e(i,T);ne.current=xe,xe.stateNode=ne;{var we={element:v,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null};xe.memoizedState=we}return PR(xe),ne}var kA="18.3.1";function g3e(s,i,m){var v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return on(v),{$$typeof:Ht,key:v==null?null:""+v,children:s,containerInfo:i,implementation:m}}var _A,TA;_A=!1,TA={};function y7(s){if(!s)return iu;var i=df(s),m=Jke(i);if(i.tag===p){var v=i.type;if(cc(v))return jB(i,v,m)}return m}function v3e(s,i){{var m=df(s);if(m===void 0){if(typeof s.render=="function")throw new Error("Unable to find node on an unmounted component.");var v=Object.keys(s).join(",");throw new Error("Argument appears to not be a ReactComponent. Keys: "+v)}var w=Rs(m);if(w===null)return null;if(w.mode&Dr){var T=en(m)||"Component";if(!TA[T]){TA[T]=!0;var D=Gr;try{ae(w),m.mode&Dr?u("%s is deprecated in StrictMode. %s was passed an instance of %s which is inside StrictMode. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",i,i,T):u("%s is deprecated in StrictMode. %s was passed an instance of %s which renders StrictMode children. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",i,i,T)}finally{D?ae(D):_r()}}}return w.stateNode}}function b7(s,i,m,v,w,T,D,P){var H=!1,X=null;return v7(s,i,H,X,m,v,w,T,D)}function S7(s,i,m,v,w,T,D,P,H,X){var ne=!0,xe=v7(m,v,ne,s,w,T,D,P,H);xe.context=y7(null);var we=xe.current,Fe=di(),Be=zf(we),We=bd(Fe,Be);return We.callback=i??null,Df(we,We,Be),CIe(xe,Be,Fe),xe}function D0(s,i,m,v){tb(i,s);var w=i.current,T=di(),D=zf(w);ha(D);var P=y7(m);i.context===null?i.context=P:i.pendingContext=P,Ho&&Gr!==null&&!_A&&(_A=!0,u(`Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.

Check the render method of %s.`,en(Gr)||"Unknown"));var H=bd(T,D);H.payload={element:s},v=v===void 0?null:v,v!==null&&(typeof v!="function"&&u("render(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",v),H.callback=v);var X=Df(w,H,D);return X!==null&&(Ao(X,w,D,T),Vx(X,w,D)),D}function DC(s){var i=s.current;if(!i.child)return null;switch(i.child.tag){case S:return i.child.stateNode;default:return i.child.stateNode}}function y3e(s){switch(s.tag){case g:{var i=s.stateNode;if(xg(i)){var m=IE(i);IIe(i,m)}break}case L:{xd(function(){var w=Pi(s,cn);if(w!==null){var T=di();Ao(w,s,cn,T)}});var v=cn;IA(s,v);break}}}function w7(s,i){var m=s.memoizedState;m!==null&&m.dehydrated!==null&&(m.retryLane=OE(m.retryLane,i))}function IA(s,i){w7(s,i);var m=s.alternate;m&&w7(m,i)}function b3e(s){if(s.tag===L){var i=Xp,m=Pi(s,i);if(m!==null){var v=di();Ao(m,s,i,v)}IA(s,i)}}function S3e(s){if(s.tag===L){var i=zf(s),m=Pi(s,i);if(m!==null){var v=di();Ao(m,s,i,v)}IA(s,i)}}function E7(s){var i=aa(s);return i===null?null:i.stateNode}var x7=function(s){return null};function w3e(s){return x7(s)}var C7=function(s){return!1};function E3e(s){return C7(s)}var k7=null,_7=null,T7=null,I7=null,R7=null,N7=null,A7=null,D7=null,O7=null;{var M7=function(s,i,m){var v=i[m],w=Ue(s)?s.slice():En({},s);return m+1===i.length?(Ue(w)?w.splice(v,1):delete w[v],w):(w[v]=M7(s[v],i,m+1),w)},$7=function(s,i){return M7(s,i,0)},F7=function(s,i,m,v){var w=i[v],T=Ue(s)?s.slice():En({},s);if(v+1===i.length){var D=m[v];T[D]=T[w],Ue(T)?T.splice(w,1):delete T[w]}else T[w]=F7(s[w],i,m,v+1);return T},P7=function(s,i,m){if(i.length!==m.length){o("copyWithRename() expects paths of the same length");return}else for(var v=0;v<m.length-1;v++)if(i[v]!==m[v]){o("copyWithRename() expects paths to be the same except for the deepest key");return}return F7(s,i,m,0)},L7=function(s,i,m,v){if(m>=i.length)return v;var w=i[m],T=Ue(s)?s.slice():En({},s);return T[w]=L7(s[w],i,m+1,v),T},B7=function(s,i,m){return L7(s,i,0,m)},RA=function(s,i){for(var m=s.memoizedState;m!==null&&i>0;)m=m.next,i--;return m};k7=function(s,i,m,v){var w=RA(s,i);if(w!==null){var T=B7(w.memoizedState,m,v);w.memoizedState=T,w.baseState=T,s.memoizedProps=En({},s.memoizedProps);var D=Pi(s,cn);D!==null&&Ao(D,s,cn,Br)}},_7=function(s,i,m){var v=RA(s,i);if(v!==null){var w=$7(v.memoizedState,m);v.memoizedState=w,v.baseState=w,s.memoizedProps=En({},s.memoizedProps);var T=Pi(s,cn);T!==null&&Ao(T,s,cn,Br)}},T7=function(s,i,m,v){var w=RA(s,i);if(w!==null){var T=P7(w.memoizedState,m,v);w.memoizedState=T,w.baseState=T,s.memoizedProps=En({},s.memoizedProps);var D=Pi(s,cn);D!==null&&Ao(D,s,cn,Br)}},I7=function(s,i,m){s.pendingProps=B7(s.memoizedProps,i,m),s.alternate&&(s.alternate.pendingProps=s.pendingProps);var v=Pi(s,cn);v!==null&&Ao(v,s,cn,Br)},R7=function(s,i){s.pendingProps=$7(s.memoizedProps,i),s.alternate&&(s.alternate.pendingProps=s.pendingProps);var m=Pi(s,cn);m!==null&&Ao(m,s,cn,Br)},N7=function(s,i,m){s.pendingProps=P7(s.memoizedProps,i,m),s.alternate&&(s.alternate.pendingProps=s.pendingProps);var v=Pi(s,cn);v!==null&&Ao(v,s,cn,Br)},A7=function(s){var i=Pi(s,cn);i!==null&&Ao(i,s,cn,Br)},D7=function(s){x7=s},O7=function(s){C7=s}}function x3e(s){var i=Rs(s);return i===null?null:i.stateNode}function C3e(s){return null}function k3e(){return Gr}function _3e(s){var i=s.findFiberByHostInstance,m=n.ReactCurrentDispatcher;return hf({bundleType:s.bundleType,version:s.version,rendererPackageName:s.rendererPackageName,rendererConfig:s.rendererConfig,overrideHookState:k7,overrideHookStateDeletePath:_7,overrideHookStateRenamePath:T7,overrideProps:I7,overridePropsDeletePath:R7,overridePropsRenamePath:N7,setErrorHandler:D7,setSuspenseHandler:O7,scheduleUpdate:A7,currentDispatcherRef:m,findHostInstanceByFiber:x3e,findFiberByHostInstance:i||C3e,findHostInstancesForRefresh:n3e,scheduleRefresh:e3e,scheduleRoot:t3e,setRefreshHandler:ZIe,getCurrentFiber:k3e,reconcilerVersion:kA})}var z7=typeof reportError=="function"?reportError:function(s){console.error(s)};function NA(s){this._internalRoot=s}OC.prototype.render=NA.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw new Error("Cannot update an unmounted root.");{typeof arguments[1]=="function"?u("render(...): does not support the second callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."):MC(arguments[1])?u("You passed a container to the second argument of root.render(...). You don't need to pass it again since you already passed it to create the root."):typeof arguments[1]<"u"&&u("You passed a second argument to root.render(...) but it only accepts one argument.");var m=i.containerInfo;if(m.nodeType!==La){var v=E7(i.current);v&&v.parentNode!==m&&u("render(...): It looks like the React-rendered content of the root container was removed without using React. This is not supported and will cause errors. Instead, call root.unmount() to empty a root's container.")}}D0(s,i,null,null)},OC.prototype.unmount=NA.prototype.unmount=function(){typeof arguments[0]=="function"&&u("unmount(...): does not support a callback argument. To execute a side effect after rendering, declare it in a component body with useEffect().");var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;JU()&&u("Attempted to synchronously unmount a root while React was already rendering. React cannot finish unmounting the root until the current render has completed, which may lead to a race condition."),xd(function(){D0(null,s,null,null)}),zB(i)}};function T3e(s,i){if(!MC(s))throw new Error("createRoot(...): Target container is not a DOM element.");U7(s);var m=!1,v=!1,w="",T=z7;i!=null&&(i.hydrate?o("hydrate through createRoot is deprecated. Use ReactDOMClient.hydrateRoot(container, <App />) instead."):typeof i=="object"&&i!==null&&i.$$typeof===Tn&&u(`You passed a JSX element to createRoot. You probably meant to call root.render instead. Example usage:

  let root = createRoot(domContainer);
  root.render(<App />);`),i.unstable_strictMode===!0&&(m=!0),i.identifierPrefix!==void 0&&(w=i.identifierPrefix),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.transitionCallbacks!==void 0&&i.transitionCallbacks);var D=b7(s,Ix,null,m,v,w,T);wx(D.current,s);var P=s.nodeType===La?s.parentNode:s;return Lb(P),new NA(D)}function OC(s){this._internalRoot=s}function I3e(s){s&&VE(s)}OC.prototype.unstable_scheduleHydration=I3e;function R3e(s,i,m){if(!MC(s))throw new Error("hydrateRoot(...): Target container is not a DOM element.");U7(s),i===void 0&&u("Must provide initial children as second argument to hydrateRoot. Example usage: hydrateRoot(domContainer, <App />)");var v=m??null,w=m!=null&&m.hydratedSources||null,T=!1,D=!1,P="",H=z7;m!=null&&(m.unstable_strictMode===!0&&(T=!0),m.identifierPrefix!==void 0&&(P=m.identifierPrefix),m.onRecoverableError!==void 0&&(H=m.onRecoverableError));var X=S7(i,null,s,Ix,v,T,D,P,H);if(wx(X.current,s),Lb(s),w)for(var ne=0;ne<w.length;ne++){var xe=w[ne];O_e(X,xe)}return new OC(X)}function MC(s){return!!(s&&(s.nodeType===_s||s.nodeType===nl||s.nodeType===zy))}function O0(s){return!!(s&&(s.nodeType===_s||s.nodeType===nl||s.nodeType===zy||s.nodeType===La&&s.nodeValue===" react-mount-point-unstable "))}function U7(s){s.nodeType===_s&&s.tagName&&s.tagName.toUpperCase()==="BODY"&&u("createRoot(): Creating roots directly with document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try using a container element created for your app."),Yb(s)&&(s._reactRootContainer?u("You are calling ReactDOMClient.createRoot() on a container that was previously passed to ReactDOM.render(). This is not supported."):u("You are calling ReactDOMClient.createRoot() on a container that has already been passed to createRoot() before. Instead, call root.render() on the existing root instead if you want to update it."))}var N3e=n.ReactCurrentOwner,H7;H7=function(s){if(s._reactRootContainer&&s.nodeType!==La){var i=E7(s._reactRootContainer.current);i&&i.parentNode!==s&&u("render(...): It looks like the React-rendered content of this container was removed without using React. This is not supported and will cause errors. Instead, call ReactDOM.unmountComponentAtNode to empty a container.")}var m=!!s._reactRootContainer,v=AA(s),w=!!(v&&Tf(v));w&&!m&&u("render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render."),s.nodeType===_s&&s.tagName&&s.tagName.toUpperCase()==="BODY"&&u("render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app.")};function AA(s){return s?s.nodeType===nl?s.documentElement:s.firstChild:null}function V7(){}function A3e(s,i,m,v,w){if(w){if(typeof v=="function"){var T=v;v=function(){var we=DC(D);T.call(we)}}var D=S7(i,v,s,Rf,null,!1,!1,"",V7);s._reactRootContainer=D,wx(D.current,s);var P=s.nodeType===La?s.parentNode:s;return Lb(P),xd(),D}else{for(var H;H=s.lastChild;)s.removeChild(H);if(typeof v=="function"){var X=v;v=function(){var we=DC(ne);X.call(we)}}var ne=b7(s,Rf,null,!1,!1,"",V7);s._reactRootContainer=ne,wx(ne.current,s);var xe=s.nodeType===La?s.parentNode:s;return Lb(xe),xd(function(){D0(i,ne,m,v)}),ne}}function D3e(s,i){s!==null&&typeof s!="function"&&u("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",i,s)}function $C(s,i,m,v,w){H7(m),D3e(w===void 0?null:w,"render");var T=m._reactRootContainer,D;if(!T)D=A3e(m,i,s,w,v);else{if(D=T,typeof w=="function"){var P=w;w=function(){var H=DC(D);P.call(H)}}D0(i,D,s,w)}return DC(D)}var W7=!1;function O3e(s){{W7||(W7=!0,u("findDOMNode is deprecated and will be removed in the next major release. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node"));var i=N3e.current;if(i!==null&&i.stateNode!==null){var m=i.stateNode._warnedAboutRefsInRender;m||u("%s is accessing findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",On(i.type)||"A component"),i.stateNode._warnedAboutRefsInRender=!0}}return s==null?null:s.nodeType===_s?s:v3e(s,"findDOMNode")}function M3e(s,i,m){if(u("ReactDOM.hydrate is no longer supported in React 18. Use hydrateRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!O0(i))throw new Error("Target container is not a DOM element.");{var v=Yb(i)&&i._reactRootContainer===void 0;v&&u("You are calling ReactDOM.hydrate() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call hydrateRoot(container, element)?")}return $C(null,s,i,!0,m)}function $3e(s,i,m){if(u("ReactDOM.render is no longer supported in React 18. Use createRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!O0(i))throw new Error("Target container is not a DOM element.");{var v=Yb(i)&&i._reactRootContainer===void 0;v&&u("You are calling ReactDOM.render() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call root.render(element)?")}return $C(null,s,i,!1,m)}function F3e(s,i,m,v){if(u("ReactDOM.unstable_renderSubtreeIntoContainer() is no longer supported in React 18. Consider using a portal instead. Until you switch to the createRoot API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!O0(m))throw new Error("Target container is not a DOM element.");if(s==null||!I3(s))throw new Error("parentComponent must be a valid React Component");return $C(s,i,m,!1,v)}var j7=!1;function P3e(s){if(j7||(j7=!0,u("unmountComponentAtNode is deprecated and will be removed in the next major release. Switch to the createRoot API. Learn more: https://reactjs.org/link/switch-to-createroot")),!O0(s))throw new Error("unmountComponentAtNode(...): Target container is not a DOM element.");{var i=Yb(s)&&s._reactRootContainer===void 0;i&&u("You are calling ReactDOM.unmountComponentAtNode() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call root.unmount()?")}if(s._reactRootContainer){{var m=AA(s),v=m&&!Tf(m);v&&u("unmountComponentAtNode(): The node you're attempting to unmount was rendered by another copy of React.")}return xd(function(){$C(null,null,s,!1,function(){s._reactRootContainer=null,zB(s)})}),!0}else{{var w=AA(s),T=!!(w&&Tf(w)),D=s.nodeType===_s&&O0(s.parentNode)&&!!s.parentNode._reactRootContainer;T&&u("unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s",D?"You may have accidentally passed in a React root node instead of its container.":"Instead, have the parent component update its state and rerender in order to remove this component.")}return!1}}Go(y3e),yf(b3e),BE(S3e),ih(Mi),wb(FE),(typeof Map!="function"||Map.prototype==null||typeof Map.prototype.forEach!="function"||typeof Set!="function"||Set.prototype==null||typeof Set.prototype.clear!="function"||typeof Set.prototype.forEach!="function")&&u("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),zm(BCe),T3(uA,RIe,xd);function L3e(s,i){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!MC(i))throw new Error("Target container is not a DOM element.");return g3e(s,i,null,m)}function B3e(s,i,m,v){return F3e(s,i,m,v)}var DA={usingClientEntryPoint:!1,Events:[Tf,Hg,Ex,sf,Um,uA]};function z3e(s,i){return DA.usingClientEntryPoint||u('You are importing createRoot from "react-dom" which is not supported. You should instead import it from "react-dom/client".'),T3e(s,i)}function U3e(s,i,m){return DA.usingClientEntryPoint||u('You are importing hydrateRoot from "react-dom" which is not supported. You should instead import it from "react-dom/client".'),R3e(s,i,m)}function H3e(s){return JU()&&u("flushSync was called from inside a lifecycle method. React cannot flush when React is already rendering. Consider moving this call to a scheduler task or micro task."),xd(s)}var V3e=_3e({findFiberByHostInstance:wh,bundleType:1,version:kA,rendererPackageName:"react-dom"});if(!V3e&&St&&window.top===window.self&&(navigator.userAgent.indexOf("Chrome")>-1&&navigator.userAgent.indexOf("Edge")===-1||navigator.userAgent.indexOf("Firefox")>-1)){var G7=window.location.protocol;/^(https?|file):$/.test(G7)&&console.info("%cDownload the React DevTools for a better development experience: https://reactjs.org/link/react-devtools"+(G7==="file:"?`
You might need to use a local HTTP server (instead of file://): https://reactjs.org/link/react-devtools-faq`:""),"font-weight:bold")}mi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DA,mi.createPortal=L3e,mi.createRoot=z3e,mi.findDOMNode=O3e,mi.flushSync=H3e,mi.hydrate=M3e,mi.hydrateRoot=U3e,mi.render=$3e,mi.unmountComponentAtNode=P3e,mi.unstable_batchedUpdates=uA,mi.unstable_renderSubtreeIntoContainer=B3e,mi.version=kA,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})()),mi}var jA;function s9(){if(jA)return P0.exports;jA=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function")){if(process.env.NODE_ENV!=="production")throw new Error("^_^");try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}}return process.env.NODE_ENV==="production"?(t(),P0.exports=a9()):P0.exports=o9(),P0.exports}var GA;function i9(){if(GA)return Lh;GA=1;var t=s9();if(process.env.NODE_ENV==="production")Lh.createRoot=t.createRoot,Lh.hydrateRoot=t.hydrateRoot;else{var e=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Lh.createRoot=function(n,r){e.usingClientEntryPoint=!0;try{return t.createRoot(n,r)}finally{e.usingClientEntryPoint=!1}},Lh.hydrateRoot=function(n,r,a){e.usingClientEntryPoint=!0;try{return t.hydrateRoot(n,r,a)}finally{e.usingClientEntryPoint=!1}}}return Lh}var u9=i9();const l9=Ph(u9),B0=Symbol.for("r2wc.reactRender"),qA=Symbol.for("r2wc.shouldRender"),z0=Symbol.for("r2wc.root");function c9(t=""){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function d9(t=""){return t.replace(/-([a-z0-9])/g,function(e){return e[1].toUpperCase()})}var KA={expando:function(t,e,n){Object.defineProperty(t,e,{enumerable:!0,get:function(){return n},set:function(r){n=r,this[B0]()}}),t[B0]()}};function f9(t,e,n,r={}){var a={isConnected:"isConnected"in HTMLElement.prototype},o=!1,u=function(){var p=Reflect.construct(HTMLElement,arguments,this.constructor);return typeof r.shadow=="string"?p.attachShadow({mode:r.shadow}):r.shadow&&(console.warn('Specifying the "shadow" option as a boolean is deprecated and will be removed in a future version.'),p.attachShadow({mode:"open"})),p},l=Object.create(HTMLElement.prototype);l.constructor=u;var f=new Proxy(l,{has:function(p,c){return c in t.propTypes||c in l},set:function(p,c,g,y){return o&&(a[c]=!0),typeof c=="symbol"||a[c]||c in p?(t.propTypes&&c in t.propTypes&&KA.expando(y,c,g),Reflect.set(p,c,g,y)):(KA.expando(y,c,g),!0)},getOwnPropertyDescriptor:function(p,c){var g=Reflect.getOwnPropertyDescriptor(p,c);if(g)return g;if(c in t.propTypes)return{configurable:!0,enumerable:!0,writable:!0,value:void 0}}});return u.prototype=f,l.connectedCallback=function(){this[qA]=!0,this[B0]()},l.disconnectedCallback=function(){typeof n.createRoot=="function"?this[z0].unmount():n.unmountComponentAtNode(this)},l[B0]=function(){if(this[qA]===!0){var p={};Object.keys(this).forEach(function(y){a[y]!==!1&&(p[y]=this[y])},this),o=!0;const c=r.shadow?this.shadowRoot:this,g=e.createElement(t,p);typeof n.createRoot=="function"?(this[z0]||(this[z0]=n.createRoot(c)),this[z0].render(g)):n.render(g,c),o=!1}},t.propTypes&&(u.observedAttributes=r.dashStyleAttributes?Object.keys(t.propTypes).map(function(p){return c9(p)}):Object.keys(t.propTypes),l.attributeChangedCallback=function(p,c,g){var y=r.dashStyleAttributes?d9(p):p;this[y]=g}),u}var U0={exports:{}},hv={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YA;function p9(){if(YA)return hv;YA=1;var t=bc(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function u(l,f,p){var c,g={},y=null,S=null;p!==void 0&&(y=""+p),f.key!==void 0&&(y=""+f.key),f.ref!==void 0&&(S=f.ref);for(c in f)r.call(f,c)&&!o.hasOwnProperty(c)&&(g[c]=f[c]);if(l&&l.defaultProps)for(c in f=l.defaultProps,f)g[c]===void 0&&(g[c]=f[c]);return{$$typeof:e,type:l,key:y,ref:S,props:g,_owner:a.current}}return hv.Fragment=n,hv.jsx=u,hv.jsxs=u,hv}var mv={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XA;function h9(){return XA||(XA=1,process.env.NODE_ENV!=="production"&&(function(){var t=bc(),e=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),l=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),E=Symbol.iterator,k="@@iterator";function _(fe){if(fe===null||typeof fe!="object")return null;var Ye=E&&fe[E]||fe[k];return typeof Ye=="function"?Ye:null}var I=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function R(fe){{for(var Ye=arguments.length,ft=new Array(Ye>1?Ye-1:0),ut=1;ut<Ye;ut++)ft[ut-1]=arguments[ut];A("error",fe,ft)}}function A(fe,Ye,ft){{var ut=I.ReactDebugCurrentFrame,Gt=ut.getStackAddendum();Gt!==""&&(Ye+="%s",ft=ft.concat([Gt]));var Zt=ft.map(function(In){return String(In)});Zt.unshift("Warning: "+Ye),Function.prototype.apply.call(console[fe],console,Zt)}}var O=!1,L=!1,U=!1,j=!1,J=!1,q;q=Symbol.for("react.module.reference");function K(fe){return!!(typeof fe=="string"||typeof fe=="function"||fe===r||fe===o||J||fe===a||fe===p||fe===c||j||fe===S||O||L||U||typeof fe=="object"&&fe!==null&&(fe.$$typeof===y||fe.$$typeof===g||fe.$$typeof===u||fe.$$typeof===l||fe.$$typeof===f||fe.$$typeof===q||fe.getModuleId!==void 0))}function z(fe,Ye,ft){var ut=fe.displayName;if(ut)return ut;var Gt=Ye.displayName||Ye.name||"";return Gt!==""?ft+"("+Gt+")":ft}function te(fe){return fe.displayName||"Context"}function ee(fe){if(fe==null)return null;if(typeof fe.tag=="number"&&R("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof fe=="function")return fe.displayName||fe.name||null;if(typeof fe=="string")return fe;switch(fe){case r:return"Fragment";case n:return"Portal";case o:return"Profiler";case a:return"StrictMode";case p:return"Suspense";case c:return"SuspenseList"}if(typeof fe=="object")switch(fe.$$typeof){case l:var Ye=fe;return te(Ye)+".Consumer";case u:var ft=fe;return te(ft._context)+".Provider";case f:return z(fe,fe.render,"ForwardRef");case g:var ut=fe.displayName||null;return ut!==null?ut:ee(fe.type)||"Memo";case y:{var Gt=fe,Zt=Gt._payload,In=Gt._init;try{return ee(In(Zt))}catch{return null}}}return null}var le=Object.assign,ce=0,ye,ve,oe,he,ge,Q,ue;function ke(){}ke.__reactDisabledLog=!0;function Ce(){{if(ce===0){ye=console.log,ve=console.info,oe=console.warn,he=console.error,ge=console.group,Q=console.groupCollapsed,ue=console.groupEnd;var fe={configurable:!0,enumerable:!0,value:ke,writable:!0};Object.defineProperties(console,{info:fe,log:fe,warn:fe,error:fe,group:fe,groupCollapsed:fe,groupEnd:fe})}ce++}}function Me(){{if(ce--,ce===0){var fe={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:le({},fe,{value:ye}),info:le({},fe,{value:ve}),warn:le({},fe,{value:oe}),error:le({},fe,{value:he}),group:le({},fe,{value:ge}),groupCollapsed:le({},fe,{value:Q}),groupEnd:le({},fe,{value:ue})})}ce<0&&R("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var Ve=I.ReactCurrentDispatcher,Ke;function He(fe,Ye,ft){{if(Ke===void 0)try{throw Error()}catch(Gt){var ut=Gt.stack.trim().match(/\n( *(at )?)/);Ke=ut&&ut[1]||""}return`
`+Ke+fe}}var Xe=!1,ct;{var St=typeof WeakMap=="function"?WeakMap:Map;ct=new St}function Rt(fe,Ye){if(!fe||Xe)return"";{var ft=ct.get(fe);if(ft!==void 0)return ft}var ut;Xe=!0;var Gt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var Zt;Zt=Ve.current,Ve.current=null,Ce();try{if(Ye){var In=function(){throw Error()};if(Object.defineProperty(In.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(In,[])}catch(fn){ut=fn}Reflect.construct(fe,[],In)}else{try{In.call()}catch(fn){ut=fn}fe.call(In.prototype)}}else{try{throw Error()}catch(fn){ut=fn}fe()}}catch(fn){if(fn&&ut&&typeof fn.stack=="string"){for(var wn=fn.stack.split(`
`),Zr=ut.stack.split(`
`),wr=wn.length-1,hr=Zr.length-1;wr>=1&&hr>=0&&wn[wr]!==Zr[hr];)hr--;for(;wr>=1&&hr>=0;wr--,hr--)if(wn[wr]!==Zr[hr]){if(wr!==1||hr!==1)do if(wr--,hr--,hr<0||wn[wr]!==Zr[hr]){var Wr=`
`+wn[wr].replace(" at new "," at ");return fe.displayName&&Wr.includes("<anonymous>")&&(Wr=Wr.replace("<anonymous>",fe.displayName)),typeof fe=="function"&&ct.set(fe,Wr),Wr}while(wr>=1&&hr>=0);break}}}finally{Xe=!1,Ve.current=Zt,Me(),Error.prepareStackTrace=Gt}var Lo=fe?fe.displayName||fe.name:"",Bo=Lo?He(Lo):"";return typeof fe=="function"&&ct.set(fe,Bo),Bo}function Dt(fe,Ye,ft){return Rt(fe,!1)}function jt(fe){var Ye=fe.prototype;return!!(Ye&&Ye.isReactComponent)}function zt(fe,Ye,ft){if(fe==null)return"";if(typeof fe=="function")return Rt(fe,jt(fe));if(typeof fe=="string")return He(fe);switch(fe){case p:return He("Suspense");case c:return He("SuspenseList")}if(typeof fe=="object")switch(fe.$$typeof){case f:return Dt(fe.render);case g:return zt(fe.type,Ye,ft);case y:{var ut=fe,Gt=ut._payload,Zt=ut._init;try{return zt(Zt(Gt),Ye,ft)}catch{}}}return""}var vt=Object.prototype.hasOwnProperty,on={},dn=I.ReactDebugCurrentFrame;function mn(fe){if(fe){var Ye=fe._owner,ft=zt(fe.type,fe._source,Ye?Ye.type:null);dn.setExtraStackFrame(ft)}else dn.setExtraStackFrame(null)}function Jt(fe,Ye,ft,ut,Gt){{var Zt=Function.call.bind(vt);for(var In in fe)if(Zt(fe,In)){var wn=void 0;try{if(typeof fe[In]!="function"){var Zr=Error((ut||"React class")+": "+ft+" type `"+In+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof fe[In]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw Zr.name="Invariant Violation",Zr}wn=fe[In](Ye,In,ut,ft,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(wr){wn=wr}wn&&!(wn instanceof Error)&&(mn(Gt),R("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",ut||"React class",ft,In,typeof wn),mn(null)),wn instanceof Error&&!(wn.message in on)&&(on[wn.message]=!0,mn(Gt),R("Failed %s type: %s",ft,wn.message),mn(null))}}}var Rn=Array.isArray;function bn(fe){return Rn(fe)}function Dn(fe){{var Ye=typeof Symbol=="function"&&Symbol.toStringTag,ft=Ye&&fe[Symbol.toStringTag]||fe.constructor.name||"Object";return ft}}function Vn(fe){try{return gn(fe),!1}catch{return!0}}function gn(fe){return""+fe}function Un(fe){if(Vn(fe))return R("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Dn(fe)),gn(fe)}var Nn=I.ReactCurrentOwner,pr={key:!0,ref:!0,__self:!0,__source:!0},Lr,st;function gt(fe){if(vt.call(fe,"ref")){var Ye=Object.getOwnPropertyDescriptor(fe,"ref").get;if(Ye&&Ye.isReactWarning)return!1}return fe.ref!==void 0}function ln(fe){if(vt.call(fe,"key")){var Ye=Object.getOwnPropertyDescriptor(fe,"key").get;if(Ye&&Ye.isReactWarning)return!1}return fe.key!==void 0}function Cn(fe,Ye){typeof fe.ref=="string"&&Nn.current}function Mn(fe,Ye){{var ft=function(){Lr||(Lr=!0,R("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",Ye))};ft.isReactWarning=!0,Object.defineProperty(fe,"key",{get:ft,configurable:!0})}}function vn(fe,Ye){{var ft=function(){st||(st=!0,R("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",Ye))};ft.isReactWarning=!0,Object.defineProperty(fe,"ref",{get:ft,configurable:!0})}}var sr=function(fe,Ye,ft,ut,Gt,Zt,In){var wn={$$typeof:e,type:fe,key:Ye,ref:ft,props:In,_owner:Zt};return wn._store={},Object.defineProperty(wn._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(wn,"_self",{configurable:!1,enumerable:!1,writable:!1,value:ut}),Object.defineProperty(wn,"_source",{configurable:!1,enumerable:!1,writable:!1,value:Gt}),Object.freeze&&(Object.freeze(wn.props),Object.freeze(wn)),wn};function Hr(fe,Ye,ft,ut,Gt){{var Zt,In={},wn=null,Zr=null;ft!==void 0&&(Un(ft),wn=""+ft),ln(Ye)&&(Un(Ye.key),wn=""+Ye.key),gt(Ye)&&(Zr=Ye.ref,Cn(Ye,Gt));for(Zt in Ye)vt.call(Ye,Zt)&&!pr.hasOwnProperty(Zt)&&(In[Zt]=Ye[Zt]);if(fe&&fe.defaultProps){var wr=fe.defaultProps;for(Zt in wr)In[Zt]===void 0&&(In[Zt]=wr[Zt])}if(wn||Zr){var hr=typeof fe=="function"?fe.displayName||fe.name||"Unknown":fe;wn&&Mn(In,hr),Zr&&vn(In,hr)}return sr(fe,wn,Zr,Gt,ut,Nn.current,In)}}var Xn=I.ReactCurrentOwner,Qn=I.ReactDebugCurrentFrame;function $n(fe){if(fe){var Ye=fe._owner,ft=zt(fe.type,fe._source,Ye?Ye.type:null);Qn.setExtraStackFrame(ft)}else Qn.setExtraStackFrame(null)}var ia;ia=!1;function lr(fe){return typeof fe=="object"&&fe!==null&&fe.$$typeof===e}function Fn(){{if(Xn.current){var fe=ee(Xn.current.type);if(fe)return`

Check the render method of \``+fe+"`."}return""}}function $a(fe){return""}var ua={};function Le(fe){{var Ye=Fn();if(!Ye){var ft=typeof fe=="string"?fe:fe.displayName||fe.name;ft&&(Ye=`

Check the top-level render call using <`+ft+">.")}return Ye}}function et(fe,Ye){{if(!fe._store||fe._store.validated||fe.key!=null)return;fe._store.validated=!0;var ft=Le(Ye);if(ua[ft])return;ua[ft]=!0;var ut="";fe&&fe._owner&&fe._owner!==Xn.current&&(ut=" It was passed a child from "+ee(fe._owner.type)+"."),$n(fe),R('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',ft,ut),$n(null)}}function Ot(fe,Ye){{if(typeof fe!="object")return;if(bn(fe))for(var ft=0;ft<fe.length;ft++){var ut=fe[ft];lr(ut)&&et(ut,Ye)}else if(lr(fe))fe._store&&(fe._store.validated=!0);else if(fe){var Gt=_(fe);if(typeof Gt=="function"&&Gt!==fe.entries)for(var Zt=Gt.call(fe),In;!(In=Zt.next()).done;)lr(In.value)&&et(In.value,Ye)}}}function lt(fe){{var Ye=fe.type;if(Ye==null||typeof Ye=="string")return;var ft;if(typeof Ye=="function")ft=Ye.propTypes;else if(typeof Ye=="object"&&(Ye.$$typeof===f||Ye.$$typeof===g))ft=Ye.propTypes;else return;if(ft){var ut=ee(Ye);Jt(ft,fe.props,"prop",ut,fe)}else if(Ye.PropTypes!==void 0&&!ia){ia=!0;var Gt=ee(Ye);R("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",Gt||"Unknown")}typeof Ye.getDefaultProps=="function"&&!Ye.getDefaultProps.isReactClassApproved&&R("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function kn(fe){{for(var Ye=Object.keys(fe.props),ft=0;ft<Ye.length;ft++){var ut=Ye[ft];if(ut!=="children"&&ut!=="key"){$n(fe),R("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",ut),$n(null);break}}fe.ref!==null&&($n(fe),R("Invalid attribute `ref` supplied to `React.Fragment`."),$n(null))}}var Tn={};function Ht(fe,Ye,ft,ut,Gt,Zt){{var In=K(fe);if(!In){var wn="";(fe===void 0||typeof fe=="object"&&fe!==null&&Object.keys(fe).length===0)&&(wn+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var Zr=$a();Zr?wn+=Zr:wn+=Fn();var wr;fe===null?wr="null":bn(fe)?wr="array":fe!==void 0&&fe.$$typeof===e?(wr="<"+(ee(fe.type)||"Unknown")+" />",wn=" Did you accidentally export a JSX literal instead of a component?"):wr=typeof fe,R("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",wr,wn)}var hr=Hr(fe,Ye,ft,Gt,Zt);if(hr==null)return hr;if(In){var Wr=Ye.children;if(Wr!==void 0)if(ut)if(bn(Wr)){for(var Lo=0;Lo<Wr.length;Lo++)Ot(Wr[Lo],fe);Object.freeze&&Object.freeze(Wr)}else R("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else Ot(Wr,fe)}if(vt.call(Ye,"key")){var Bo=ee(fe),fn=Object.keys(Ye).filter(function(Xi){return Xi!=="key"}),En=fn.length>0?"{key: someKey, "+fn.join(": ..., ")+": ...}":"{key: someKey}";if(!Tn[Bo+En]){var mo=fn.length>0?"{"+fn.join(": ..., ")+": ...}":"{}";R(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,En,Bo,mo,Bo),Tn[Bo+En]=!0}}return fe===r?kn(hr):lt(hr),hr}}function Kt(fe,Ye,ft){return Ht(fe,Ye,ft,!0)}function er(fe,Ye,ft){return Ht(fe,Ye,ft,!1)}var Vr=er,Jr=Kt;mv.Fragment=r,mv.jsx=Vr,mv.jsxs=Jr})()),mv}var QA;function m9(){return QA||(QA=1,process.env.NODE_ENV==="production"?U0.exports=p9():U0.exports=h9()),U0.exports}var Hs=m9();const g9="Logging",v9="NoHubcallbackProvidedException";var Ui;(function(t){t.DEBUG="DEBUG",t.ERROR="ERROR",t.INFO="INFO",t.WARN="WARN",t.VERBOSE="VERBOSE",t.NONE="NONE"})(Ui||(Ui={}));const JA={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5,NONE:6};class Hi{constructor(e,n=Ui.WARN){this.name=e,this.level=n,this._pluggables=[]}_padding(e){return e<10?"0"+e:""+e}_ts(){const e=new Date;return[this._padding(e.getMinutes()),this._padding(e.getSeconds())].join(":")+"."+e.getMilliseconds()}configure(e){return e?(this._config=e,this._config):this._config}_log(e,...n){let r=this.level;Hi.LOG_LEVEL&&(r=Hi.LOG_LEVEL),typeof window<"u"&&window.LOG_LEVEL&&(r=window.LOG_LEVEL);const a=JA[r];if(!(JA[e]>=a))return;let u=console.log.bind(console);e===Ui.ERROR&&console.error&&(u=console.error.bind(console)),e===Ui.WARN&&console.warn&&(u=console.warn.bind(console)),Hi.BIND_ALL_LOG_LEVELS&&(e===Ui.INFO&&console.info&&(u=console.info.bind(console)),e===Ui.DEBUG&&console.debug&&(u=console.debug.bind(console)));const l=`[${e}] ${this._ts()} ${this.name}`;let f="";if(n.length===1&&typeof n[0]=="string")f=`${l} - ${n[0]}`,u(f);else if(n.length===1)f=`${l} ${n[0]}`,u(l,n[0]);else if(typeof n[0]=="string"){let p=n.slice(1);p.length===1&&(p=p[0]),f=`${l} - ${n[0]} ${p}`,u(`${l} - ${n[0]}`,p)}else f=`${l} ${n}`,u(l,n);for(const p of this._pluggables){const c={message:f,timestamp:Date.now()};p.pushLogs([c])}}log(...e){this._log(Ui.INFO,...e)}info(...e){this._log(Ui.INFO,...e)}warn(...e){this._log(Ui.WARN,...e)}error(...e){this._log(Ui.ERROR,...e)}debug(...e){this._log(Ui.DEBUG,...e)}verbose(...e){this._log(Ui.VERBOSE,...e)}addPluggable(e){e&&e.getCategoryName()===g9&&(this._pluggables.push(e),e.configure(this._config))}listPluggables(){return this._pluggables}}Hi.LOG_LEVEL=null,Hi.BIND_ALL_LOG_LEVELS=!1;class Cl extends Error{constructor({message:e,name:n,recoverySuggestion:r,underlyingError:a,metadata:o}){if(super(e),this.name=n,this.underlyingError=a,this.recoverySuggestion=r,o){const{extendedRequestId:u,httpStatusCode:l,requestId:f}=o;this.metadata={extendedRequestId:u,httpStatusCode:l,requestId:f}}this.constructor=Cl,Object.setPrototypeOf(this,Cl.prototype)}}var Vf;(function(t){t.NoEndpointId="NoEndpointId",t.PlatformNotSupported="PlatformNotSupported",t.Unknown="Unknown",t.NetworkError="NetworkError"})(Vf||(Vf={}));const ZA=(t,e=Cl)=>(n,r,a)=>{const{message:o,recoverySuggestion:u}=t[r];if(!n)throw new e({name:r,message:a?`${o} ${a}`:o,recoverySuggestion:u})},H0=typeof Symbol<"u"?Symbol("amplify_default"):"@@amplify_default",gv=new Hi("Hub");class y9{constructor(e){this.listeners=new Map,this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=e}_remove(e,n){const r=this.listeners.get(e);if(!r){gv.warn(`No listeners for ${e}`);return}this.listeners.set(e,[...r.filter(({callback:a})=>a!==n)])}dispatch(e,n,r,a){typeof e=="string"&&this.protectedChannels.indexOf(e)>-1&&(a===H0||gv.warn(`WARNING: ${e} is protected and dispatching on it can have unintended consequences`));const o={channel:e,payload:{...n},source:r,patternInfo:[]};try{this._toListeners(o)}catch(u){gv.error(u)}}listen(e,n,r="noname"){let a;if(typeof n!="function")throw new Cl({name:v9,message:"No callback supplied to Hub"});a=n;let o=this.listeners.get(e);return o||(o=[],this.listeners.set(e,o)),o.push({name:r,callback:a}),()=>{this._remove(e,a)}}_toListeners(e){const{channel:n,payload:r}=e,a=this.listeners.get(n);a&&a.forEach(o=>{gv.debug(`Dispatching to ${n} with `,r);try{o.callback(e)}catch(u){gv.error(u)}})}}const LC=new y9("__default__"),b9=()=>{if(typeof window<"u"&&typeof window.atob=="function")return window.atob;if(typeof atob=="function")return atob;throw new Cl({name:"Base64EncoderError",message:"Cannot resolve the `atob` function from the environment."})},S9={convert(t,e){let n=t;return e?.urlSafe&&(n=n.replace(/-/g,"+").replace(/_/g,"/")),b9()(n)}};var Sc;(function(t){t.AuthTokenConfigException="AuthTokenConfigException",t.AuthUserPoolAndIdentityPoolException="AuthUserPoolAndIdentityPoolException",t.AuthUserPoolException="AuthUserPoolException",t.InvalidIdentityPoolIdException="InvalidIdentityPoolIdException",t.OAuthNotConfigureException="OAuthNotConfigureException"})(Sc||(Sc={}));const w9={[Sc.AuthTokenConfigException]:{message:"Auth Token Provider not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app."},[Sc.AuthUserPoolAndIdentityPoolException]:{message:"Auth UserPool or IdentityPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with UserPoolId and IdentityPoolId."},[Sc.AuthUserPoolException]:{message:"Auth UserPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with userPoolId and userPoolClientId."},[Sc.InvalidIdentityPoolIdException]:{message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."},[Sc.OAuthNotConfigureException]:{message:"oauth param not configured.",recoverySuggestion:"Make sure to call Amplify.configure with oauth parameter in your app."}},eD=ZA(w9);function gi(t){let e=!0;t?e=!!t.userPoolId&&!!t.userPoolClientId:e=!1,eD(e,Sc.AuthUserPoolException)}function V0(t){const e=!!t?.identityPoolId;eD(e,Sc.InvalidIdentityPoolIdException)}function vv(t){const e=t.split(".");if(e.length!==3)throw new Error("Invalid token");try{const r=e[1].replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(S9.convert(r).split("").map(u=>`%${`00${u.charCodeAt(0).toString(16)}`.slice(-2)}`).join("")),o=JSON.parse(a);return{toString:()=>t,payload:o}}catch{throw new Error("Invalid token payload")}}const E9=t=>t&&t["nonRetryable"],W0=new Hi("retryUtil");async function x9(t,e,n,r){if(typeof t!="function")throw Error("functionToRetry must be a function");return new Promise(async(a,o)=>{let u=0,l=!1,f=()=>{},p;for(;!l;){u++,W0.debug(`${t.name} attempt #${u} with this vars: ${JSON.stringify(e)}`);try{a(await t(...e));return}catch(c){if(p=c,W0.debug(`error on ${t.name}`,c),E9(c)){W0.debug(`${t.name} non retryable error`,c),o(c);return}const g=n(u,e,c);if(W0.debug(`${t.name} retrying in ${g} ms`),g===!1||l){o(c);return}else await new Promise(y=>{f=y,setTimeout(f,g)})}}o(p)})}const tD=t=>{const e=Reflect.ownKeys(t);for(const n of e){const r=t[n];(r&&typeof r=="object"||typeof r=="function")&&tD(r)}return Object.freeze(t)},C9=new Hi("parseAWSExports"),k9={API_KEY:"apiKey",AWS_IAM:"iam",AMAZON_COGNITO_USER_POOLS:"userPool",OPENID_CONNECT:"oidc",NONE:"none",AWS_LAMBDA:"lambda",LAMBDA:"lambda"},_9=(t={})=>{if(!Object.prototype.hasOwnProperty.call(t,"aws_project_region"))throw new Cl({name:"InvalidParameterException",message:"Invalid config parameter.",recoverySuggestion:"Ensure passing the config object imported from  `amplifyconfiguration.json`."});const{aws_appsync_apiKey:e,aws_appsync_authenticationType:n,aws_appsync_graphqlEndpoint:r,aws_appsync_region:a,aws_bots_config:o,aws_cognito_identity_pool_id:u,aws_cognito_sign_up_verification_method:l,aws_cognito_mfa_configuration:f,aws_cognito_mfa_types:p,aws_cognito_password_protection_settings:c,aws_cognito_verification_mechanisms:g,aws_cognito_signup_attributes:y,aws_cognito_social_providers:S,aws_cognito_username_attributes:E,aws_mandatory_sign_in:k,aws_mobile_analytics_app_id:_,aws_mobile_analytics_app_region:I,aws_user_files_s3_bucket:R,aws_user_files_s3_bucket_region:A,aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing:O,aws_user_pools_id:L,aws_user_pools_web_client_id:U,geo:j,oauth:J,predictions:q,aws_cloud_logic_custom:K,Notifications:z,modelIntrospection:te}=t,ee={};_&&(ee.Analytics={Pinpoint:{appId:_,region:I}});const{InAppMessaging:le,Push:ce}=z??{};if(le?.AWSPinpoint||ce?.AWSPinpoint){if(le?.AWSPinpoint){const{appId:Ce,region:Me}=le.AWSPinpoint;ee.Notifications={InAppMessaging:{Pinpoint:{appId:Ce,region:Me}}}}if(ce?.AWSPinpoint){const{appId:Ce,region:Me}=ce.AWSPinpoint;ee.Notifications={...ee.Notifications,PushNotification:{Pinpoint:{appId:Ce,region:Me}}}}}if(Array.isArray(o)&&(ee.Interactions={LexV1:Object.fromEntries(o.map(Ce=>[Ce.name,Ce]))}),r){const Ce=k9[n];Ce||C9.debug(`Invalid authentication type ${n}. Falling back to IAM.`),ee.API={GraphQL:{endpoint:r,apiKey:e,region:a,defaultAuthMode:Ce??"iam"}},te&&(ee.API.GraphQL.modelIntrospection=te)}const ye=f?{status:f&&f.toLowerCase(),totpEnabled:p?.includes("TOTP")??!1,smsEnabled:p?.includes("SMS")??!1}:void 0,ve=c?{minLength:c.passwordPolicyMinLength,requireLowercase:c.passwordPolicyCharacters?.includes("REQUIRES_LOWERCASE")??!1,requireUppercase:c.passwordPolicyCharacters?.includes("REQUIRES_UPPERCASE")??!1,requireNumbers:c.passwordPolicyCharacters?.includes("REQUIRES_NUMBERS")??!1,requireSpecialCharacters:c.passwordPolicyCharacters?.includes("REQUIRES_SYMBOLS")??!1}:void 0,he=Array.from(new Set([...g??[],...y??[]])).reduce((Ce,Me)=>({...Ce,[Me.toLowerCase()]:{required:!0}}),{}),ge=E?.includes("EMAIL")??!1,Q=E?.includes("PHONE_NUMBER")??!1;(u||L)&&(ee.Auth={Cognito:{identityPoolId:u,allowGuestAccess:k!=="enable",signUpVerificationMethod:l,userAttributes:he,userPoolClientId:U,userPoolId:L,mfa:ye,passwordFormat:ve,loginWith:{username:!(ge||Q),email:ge,phone:Q}}});const ue=J?Object.keys(J).length>0:!1,ke=S?S.length>0:!1;if(ee.Auth&&ue&&(ee.Auth.Cognito.loginWith={...ee.Auth.Cognito.loginWith,oauth:{...T9(J),...ke&&{providers:I9(S)}}}),R&&(ee.Storage={S3:{bucket:R,region:A,dangerouslyConnectToHttpEndpointForTesting:O}}),j){const{amazon_location_service:Ce}=j;ee.Geo={LocationService:{maps:Ce.maps,geofenceCollections:Ce.geofenceCollections,searchIndices:Ce.search_indices,region:Ce.region}}}if(K&&(ee.API={...ee.API,REST:K.reduce((Ce,Me)=>{const{name:Ve,endpoint:Ke,region:He,service:Xe}=Me;return{...Ce,[Ve]:{endpoint:Ke,...Xe?{service:Xe}:void 0,...He?{region:He}:void 0}}},{})}),q){const{VoiceId:Ce}=q?.convert?.speechGenerator?.defaults??{};ee.Predictions=Ce?{...q,convert:{...q.convert,speechGenerator:{...q.convert.speechGenerator,defaults:{voiceId:Ce}}}}:q}return ee},nD=t=>t?.split(",")??[],T9=({domain:t,scope:e,redirectSignIn:n,redirectSignOut:r,responseType:a})=>({domain:t,scopes:e,redirectSignIn:nD(n),redirectSignOut:nD(r),responseType:a}),I9=t=>t.map(e=>{const n=e.toLowerCase();return n.charAt(0).toUpperCase()+n.slice(1)}),R9=Symbol("oauth-listener"),Ko=[];for(let t=0;t<256;++t)Ko.push((t+256).toString(16).slice(1));function N9(t,e=0){return(Ko[t[e+0]]+Ko[t[e+1]]+Ko[t[e+2]]+Ko[t[e+3]]+"-"+Ko[t[e+4]]+Ko[t[e+5]]+"-"+Ko[t[e+6]]+Ko[t[e+7]]+"-"+Ko[t[e+8]]+Ko[t[e+9]]+"-"+Ko[t[e+10]]+Ko[t[e+11]]+Ko[t[e+12]]+Ko[t[e+13]]+Ko[t[e+14]]+Ko[t[e+15]]).toLowerCase()}let BC;const A9=new Uint8Array(16);function D9(){if(!BC){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");BC=crypto.getRandomValues.bind(crypto)}return BC(A9)}const rD={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function zC(t,e,n){if(rD.randomUUID&&!e&&!t)return rD.randomUUID();t=t||{};const r=t.random??t.rng?.()??D9();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){if(n=n||0,n<0||n+16>e.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let a=0;a<16;++a)e[n+a]=r[a];return e}return N9(r)}function O9(t){const{version:e}=t;return e?e.startsWith("1"):!1}function M9(t){if(!t)return;const{bucket_name:e,aws_region:n,buckets:r}=t;return{S3:{bucket:e,region:n,buckets:r&&j9(r)}}}function $9(t){if(!t)return;const{user_pool_id:e,user_pool_client_id:n,identity_pool_id:r,password_policy:a,mfa_configuration:o,mfa_methods:u,unauthenticated_identities_enabled:l,oauth:f,username_attributes:p,standard_required_attributes:c,groups:g}=t,y={Cognito:{userPoolId:e,userPoolClientId:n,groups:g}};return r&&(y.Cognito={...y.Cognito,identityPoolId:r}),a&&(y.Cognito.passwordFormat={requireLowercase:a.require_lowercase,requireNumbers:a.require_numbers,requireUppercase:a.require_uppercase,requireSpecialCharacters:a.require_symbols,minLength:a.min_length??6}),o&&(y.Cognito.mfa={status:W9(o),smsEnabled:u?.includes("SMS"),totpEnabled:u?.includes("TOTP")}),l&&(y.Cognito.allowGuestAccess=l),f&&(y.Cognito.loginWith={oauth:{domain:f.domain,redirectSignIn:f.redirect_sign_in_uri,redirectSignOut:f.redirect_sign_out_uri,responseType:f.response_type==="token"?"token":"code",scopes:f.scopes,providers:V9(f.identity_providers)}}),p&&(y.Cognito.loginWith={...y.Cognito.loginWith,email:p.includes("email"),phone:p.includes("phone_number"),username:p.includes("username")}),c&&(y.Cognito.userAttributes=c.reduce((S,E)=>({...S,[E]:{required:!0}}),{})),y}function F9(t){if(!t?.amazon_pinpoint)return;const{amazon_pinpoint:e}=t;return{Pinpoint:{appId:e.app_id,region:e.aws_region}}}function P9(t){if(!t)return;const{aws_region:e,geofence_collections:n,maps:r,search_indices:a}=t;return{LocationService:{region:e,searchIndices:a,geofenceCollections:n,maps:r}}}function L9(t){if(!t)return;const{aws_region:e,default_authorization_type:n,url:r,api_key:a,model_introspection:o}=t;return{GraphQL:{endpoint:r,defaultAuthMode:aD(n),region:e,apiKey:a,modelIntrospection:o}}}function B9(t){if(!t?.events)return;const{url:e,aws_region:n,api_key:r,default_authorization_type:a}=t.events;return{Events:{endpoint:e,defaultAuthMode:aD(a),region:n,apiKey:r}}}function z9(t){if(!t)return;const{aws_region:e,channels:n,amazon_pinpoint_app_id:r}=t,a=n.includes("IN_APP_MESSAGING"),o=n.includes("APNS")||n.includes("FCM");if(!(a||o))return;const u={};return a&&(u.InAppMessaging={Pinpoint:{appId:r,region:e}}),o&&(u.PushNotification={Pinpoint:{appId:r,region:e}}),u}function U9(t){const e={};if(t.storage&&(e.Storage=M9(t.storage)),t.auth&&(e.Auth=$9(t.auth)),t.analytics&&(e.Analytics=F9(t.analytics)),t.geo&&(e.Geo=P9(t.geo)),t.data&&(e.API=L9(t.data)),t.custom){const n=B9(t.custom);n&&"Events"in n&&(e.API={...e.API,...n})}return t.notifications&&(e.Notifications=z9(t.notifications)),e}const H9={AMAZON_COGNITO_USER_POOLS:"userPool",API_KEY:"apiKey",AWS_IAM:"iam",AWS_LAMBDA:"lambda",OPENID_CONNECT:"oidc"};function aD(t){return H9[t]}const oD={GOOGLE:"Google",LOGIN_WITH_AMAZON:"Amazon",FACEBOOK:"Facebook",SIGN_IN_WITH_APPLE:"Apple"};function V9(t=[]){return t.reduce((e,n)=>(oD[n]!==void 0&&e.push(oD[n]),e),[])}function W9(t){return t==="OPTIONAL"?"optional":t==="REQUIRED"?"on":"off"}function j9(t){const e={};return t.forEach(({name:n,bucket_name:r,aws_region:a,paths:o})=>{if(n in e)throw new Error(`Duplicate friendly name found: ${n}. Name must be unique.`);const u=o?Object.entries(o).reduce((l,[f,p])=>(p!==void 0&&(l[f]=p),l),{}):void 0;e[n]={bucketName:r,region:a,paths:u}}),e}const sD=t=>Object.keys(t).some(e=>e.startsWith("aws_"))?_9(t):O9(t)?U9(t):t;function G9(t,e,n,r){function a(o){return o instanceof n?o:new n(function(u){u(o)})}return new(n||(n=Promise))(function(o,u){function l(c){try{p(r.next(c))}catch(g){u(g)}}function f(c){try{p(r.throw(c))}catch(g){u(g)}}function p(c){c.done?o(c.value):a(c.value).then(l,f)}p((r=r.apply(t,e||[])).next())})}function q9(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,a,o,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=l(0),u.throw=l(1),u.return=l(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function l(p){return function(c){return f([p,c])}}function f(p){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(n=0)),n;)try{if(r=1,a&&(o=p[0]&2?a.return:p[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,p[1])).done)return o;switch(a=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,a=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){n.label=p[1];break}if(p[0]===6&&n.label<o[1]){n.label=o[1],o=p;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(p);break}o[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(c){p=[6,c],a=0}finally{r=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function K9(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function _t(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function Kr(t,e,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(t,n):a?a.value=n:e.set(t,n),n}typeof SuppressedError=="function"&&SuppressedError;var cu=64,Y9=32,X9=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Q9=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],J9=Math.pow(2,53)-1,j0=(function(){function t(){this.state=Int32Array.from(Q9),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return t.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var n=0,r=e.byteLength;if(this.bytesHashed+=r,this.bytesHashed*8>J9)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;r>0;)this.buffer[this.bufferLength++]=e[n++],r--,this.bufferLength===cu&&(this.hashBuffer(),this.bufferLength=0)},t.prototype.digest=function(){if(!this.finished){var e=this.bytesHashed*8,n=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),r=this.bufferLength;if(n.setUint8(this.bufferLength++,128),r%cu>=cu-8){for(var a=this.bufferLength;a<cu;a++)n.setUint8(a,0);this.hashBuffer(),this.bufferLength=0}for(var a=this.bufferLength;a<cu-8;a++)n.setUint8(a,0);n.setUint32(cu-8,Math.floor(e/4294967296),!0),n.setUint32(cu-4,e),this.hashBuffer(),this.finished=!0}for(var o=new Uint8Array(Y9),a=0;a<8;a++)o[a*4]=this.state[a]>>>24&255,o[a*4+1]=this.state[a]>>>16&255,o[a*4+2]=this.state[a]>>>8&255,o[a*4+3]=this.state[a]>>>0&255;return o},t.prototype.hashBuffer=function(){for(var e=this,n=e.buffer,r=e.state,a=r[0],o=r[1],u=r[2],l=r[3],f=r[4],p=r[5],c=r[6],g=r[7],y=0;y<cu;y++){if(y<16)this.temp[y]=(n[y*4]&255)<<24|(n[y*4+1]&255)<<16|(n[y*4+2]&255)<<8|n[y*4+3]&255;else{var S=this.temp[y-2],E=(S>>>17|S<<15)^(S>>>19|S<<13)^S>>>10;S=this.temp[y-15];var k=(S>>>7|S<<25)^(S>>>18|S<<14)^S>>>3;this.temp[y]=(E+this.temp[y-7]|0)+(k+this.temp[y-16]|0)}var _=(((f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(f&p^~f&c)|0)+(g+(X9[y]+this.temp[y]|0)|0)|0,I=((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+(a&o^a&u^o&u)|0;g=c,c=p,p=f,f=l+_|0,l=u,u=o,o=a,a=_+I|0}r[0]+=a,r[1]+=o,r[2]+=u,r[3]+=l,r[4]+=f,r[5]+=p,r[6]+=c,r[7]+=g},t})();const Z9=t=>new TextEncoder().encode(t);var eH=typeof Buffer<"u"&&Buffer.from?function(t){return Buffer.from(t,"utf8")}:Z9;function yv(t){return t instanceof Uint8Array?t:typeof t=="string"?eH(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}function UC(t){return typeof t=="string"?t.length===0:t.byteLength===0}function tH(t){if(!Uint32Array.from){for(var e=new Uint32Array(t.length),n=0;n<t.length;)e[n]=t[n],n+=1;return e}return Uint32Array.from(t)}var nH=(function(){function t(e){this.secret=e,this.hash=new j0,this.reset()}return t.prototype.update=function(e){if(!(UC(e)||this.error))try{this.hash.update(yv(e))}catch(n){this.error=n}},t.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},t.prototype.digest=function(){return G9(this,void 0,void 0,function(){return q9(this,function(e){return[2,this.digestSync()]})})},t.prototype.reset=function(){if(this.hash=new j0,this.secret){this.outer=new j0;var e=rH(this.secret),n=new Uint8Array(cu);n.set(e);for(var r=0;r<cu;r++)e[r]^=54,n[r]^=92;this.hash.update(e),this.outer.update(n);for(var r=0;r<e.byteLength;r++)e[r]=0}},t})();function rH(t){var e=yv(t);if(e.byteLength>cu){var n=new j0;n.update(e),e=n.digest()}var r=new Uint8Array(cu);return r.set(e),r}for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`)}var no;(function(t){t.WebUnknown="0",t.React="1",t.NextJs="2",t.Angular="3",t.VueJs="4",t.Nuxt="5",t.Svelte="6",t.ServerSideUnknown="100",t.ReactSSR="101",t.NextJsSSR="102",t.AngularSSR="103",t.VueJsSSR="104",t.NuxtSSR="105",t.SvelteSSR="106",t.ReactNative="201",t.Expo="202"})(no||(no={}));var iD;(function(t){t.AI="ai",t.API="api",t.Auth="auth",t.Analytics="analytics",t.DataStore="datastore",t.Geo="geo",t.InAppMessaging="inappmessaging",t.Interactions="interactions",t.Predictions="predictions",t.PubSub="pubsub",t.PushNotification="pushnotification",t.Storage="storage"})(iD||(iD={}));var uD;(function(t){t.CreateConversation="1",t.GetConversation="2",t.ListConversations="3",t.DeleteConversation="4",t.SendMessage="5",t.ListMessages="6",t.OnMessage="7",t.Generation="8",t.UpdateConversation="9"})(uD||(uD={}));var lD;(function(t){t.Record="1",t.IdentifyUser="2"})(lD||(lD={}));var cD;(function(t){t.GraphQl="1",t.Get="2",t.Post="3",t.Put="4",t.Patch="5",t.Del="6",t.Head="7"})(cD||(cD={}));var dD;(function(t){t.SignUp="1",t.ConfirmSignUp="2",t.ResendSignUpCode="3",t.SignIn="4",t.FetchMFAPreference="6",t.UpdateMFAPreference="7",t.SetUpTOTP="10",t.VerifyTOTPSetup="11",t.ConfirmSignIn="12",t.DeleteUserAttributes="15",t.DeleteUser="16",t.UpdateUserAttributes="17",t.FetchUserAttributes="18",t.ConfirmUserAttribute="22",t.SignOut="26",t.UpdatePassword="27",t.ResetPassword="28",t.ConfirmResetPassword="29",t.FederatedSignIn="30",t.RememberDevice="32",t.ForgetDevice="33",t.FetchDevices="34",t.SendUserAttributeVerificationCode="35",t.SignInWithRedirect="36",t.StartWebAuthnRegistration="37",t.CompleteWebAuthnRegistration="38",t.ListWebAuthnCredentials="39",t.DeleteWebAuthnCredential="40"})(dD||(dD={}));var fD;(function(t){t.Subscribe="1",t.GraphQl="2"})(fD||(fD={}));var pD;(function(t){t.SearchByText="0",t.SearchByCoordinates="1",t.SearchForSuggestions="2",t.SearchByPlaceId="3",t.SaveGeofences="4",t.GetGeofence="5",t.ListGeofences="6",t.DeleteGeofences="7"})(pD||(pD={}));var hD;(function(t){t.SyncMessages="1",t.IdentifyUser="2",t.NotifyMessageInteraction="3"})(hD||(hD={}));var mD;(function(t){t.None="0"})(mD||(mD={}));var gD;(function(t){t.Convert="1",t.Identify="2",t.Interpret="3"})(gD||(gD={}));var vD;(function(t){t.Subscribe="1"})(vD||(vD={}));var yD;(function(t){t.InitializePushNotifications="1",t.IdentifyUser="2"})(yD||(yD={}));var bD;(function(t){t.UploadData="1",t.DownloadData="2",t.List="3",t.Copy="4",t.Remove="5",t.GetProperties="6",t.GetUrl="7",t.GetDataAccess="8",t.ListCallerAccessGrants="9"})(bD||(bD={}));const aH="6.15.7",G0=()=>typeof global<"u",Bh=()=>typeof window<"u",SD=()=>typeof document<"u",HC=()=>typeof process<"u",bv=(t,e)=>!!Object.keys(t).find(n=>n.startsWith(e));function oH(){const t=r=>r.startsWith("_react")||r.startsWith("__react"),e=r=>Object.keys(r).find(t),n=()=>Array.from(document.querySelectorAll("[id]"));return SD()&&n().some(e)}function sH(){return HC()&&typeof process.env<"u"&&!!Object.keys(process.env).find(t=>t.includes("react"))}function iH(){return Bh()&&bv(window,"__VUE")}function uH(){return G0()&&bv(global,"__VUE")}function lH(){return Bh()&&bv(window,"__SVELTE")}function cH(){return HC()&&typeof process.env<"u"&&!!Object.keys(process.env).find(t=>t.includes("svelte"))}function dH(){return Bh()&&window.next&&typeof window.next=="object"}function fH(){return G0()&&(bv(global,"__next")||bv(global,"__NEXT"))}function pH(){return Bh()&&(window.__NUXT__!==void 0||window.$nuxt!==void 0)}function hH(){return G0()&&typeof global.__NUXT_PATHS__<"u"}function mH(){const t=!!(SD()&&document.querySelector("[ng-version]")),e=!!(Bh()&&typeof window.ng<"u");return t||e}function gH(){return HC()&&typeof process.env=="object"&&process.env.npm_lifecycle_script?.startsWith("ng ")||!1}function vH(){return typeof navigator<"u"&&typeof navigator.product<"u"&&navigator.product==="ReactNative"}function yH(){return G0()&&typeof global.expo<"u"}function bH(){return Bh()}const SH=[{platform:no.Expo,detectionMethod:yH},{platform:no.ReactNative,detectionMethod:vH},{platform:no.NextJs,detectionMethod:dH},{platform:no.Nuxt,detectionMethod:pH},{platform:no.Angular,detectionMethod:mH},{platform:no.React,detectionMethod:oH},{platform:no.VueJs,detectionMethod:iH},{platform:no.Svelte,detectionMethod:lH},{platform:no.WebUnknown,detectionMethod:bH},{platform:no.NextJsSSR,detectionMethod:fH},{platform:no.NuxtSSR,detectionMethod:hH},{platform:no.ReactSSR,detectionMethod:sH},{platform:no.VueJsSSR,detectionMethod:uH},{platform:no.AngularSSR,detectionMethod:gH},{platform:no.SvelteSSR,detectionMethod:cH}];function wH(){return SH.find(t=>t.detectionMethod())?.platform||no.ServerSideUnknown}let Sv;const VC=[];let WC=!1;const EH=10,xH=10,CH=1e3,wD=()=>{if(!Sv){if(Sv=wH(),WC)for(;VC.length;)VC.pop()?.();else VC.forEach(t=>{t()});ED(no.ServerSideUnknown,EH),ED(no.WebUnknown,xH)}return Sv};function kH(){Sv=void 0}function ED(t,e){Sv===t&&!WC&&setTimeout(()=>{kH(),WC=!0,setTimeout(wD,CH)},e)}const _H={},TH=(t,e)=>_H[t]?.[e]?.additionalDetails,IH="aws-amplify",RH=t=>t.replace(/\+.*/,""),NH=({category:t,action:e}={})=>{const n=[[IH,RH(aH)]];if(t&&n.push([t,e]),n.push(["framework",wD()]),t&&e){const r=TH(t,e);r&&r.forEach(a=>{n.push(a)})}return n},q0=t=>NH(t).map(([r,a])=>r&&a?`${r}/${a}`:r).join(" "),AH=()=>typeof window<"u"&&typeof window.document<"u",xD=new Hi("Auth");class DH{configure(e,n){this.authConfig=e,this.authOptions=n,e&&e.Cognito?.userPoolEndpoint&&xD.warn(CD("Amazon Cognito User Pool")),e&&e.Cognito?.identityPoolEndpoint&&xD.warn(CD("Amazon Cognito Identity Pool"))}async fetchAuthSession(e={}){let n,r;const a=await this.getTokens(e);return a?(r=a.accessToken?.payload?.sub,n=await this.authOptions?.credentialsProvider?.getCredentialsAndIdentityId({authConfig:this.authConfig,tokens:a,authenticated:!0,forceRefresh:e.forceRefresh})):n=await this.authOptions?.credentialsProvider?.getCredentialsAndIdentityId({authConfig:this.authConfig,authenticated:!1,forceRefresh:e.forceRefresh}),{tokens:a,credentials:n?.credentials,identityId:n?.identityId,userSub:r}}async clearCredentials(){await this.authOptions?.credentialsProvider?.clearCredentialsAndIdentityId()}async getTokens(e){return await this.authOptions?.tokenProvider?.getTokens(e)??void 0}}const CD=t=>`You are using a custom Amazon ${t} endpoint, ensure the endpoint is correct.`;class OH{constructor(){this.oAuthListener=void 0,this.isConfigured=!1,this.resourcesConfig={},this.libraryOptions={},this.Auth=new DH}configure(e,n){const r=sD(e);this.resourcesConfig=r,n&&(this.libraryOptions=n),this.resourcesConfig=tD(this.resourcesConfig),this.Auth.configure(this.resourcesConfig.Auth,this.libraryOptions.Auth),LC.dispatch("core",{event:"configure",data:this.resourcesConfig},"Configure",H0),this.notifyOAuthListener(),this.isConfigured=!0}getConfig(){return this.isConfigured||console.warn("Amplify has not been configured. Please call Amplify.configure() before using this service."),this.resourcesConfig}[R9](e){this.resourcesConfig.Auth?.Cognito.loginWith?.oauth?e(this.resourcesConfig.Auth?.Cognito):this.oAuthListener=e}notifyOAuthListener(){!this.resourcesConfig.Auth?.Cognito.loginWith?.oauth||!this.oAuthListener||(this.oAuthListener(this.resourcesConfig.Auth?.Cognito),this.oAuthListener=void 0)}}const wc=new OH,MH=(t,e)=>t.Auth.fetchAuthSession(e),kD=t=>MH(wc,t),K0=t=>{const{headers:e,statusCode:n}=t;return{...$H(t)?t.$metadata:{},httpStatusCode:n,requestId:e["x-amzn-requestid"]??e["x-amzn-request-id"]??e["x-amz-request-id"],extendedRequestId:e["x-amz-id-2"],cfId:e["x-amz-cf-id"]}},$H=t=>typeof t?.$metadata=="object",wv=async t=>{if(!t||t.statusCode<300)return;const e=await Y0(t),r=(u=>{const[l]=u.toString().split(/[,:]+/);return l.includes("#")?l.split("#")[1]:l})(t.headers["x-amzn-errortype"]??e.code??e.__type??"UnknownError"),a=e.message??e.Message??"Unknown error",o=new Error(a);return Object.assign(o,{name:r,$metadata:K0(t)})},Y0=async t=>{if(!t.body)throw new Error("Missing response payload");const e=await t.body.json();return Object.assign(e,{$metadata:K0(t)})},jC=(t,e,n,r)=>async(a,o)=>{const u={...r,...a},l=await u.endpointResolver(u,o),f=await e(o,l),p=await t(f,{...u});return n(p)},_D=300*1e3;function TD(t=_D){return r=>{const a=2**r*100+100*Math.random();return a>t?!1:a}}const ID=3,RD="amz-sdk-invocation-id",FH="amz-sdk-request",ND=300*1e3,AD=t=>{const n=TD(ND)(t);return n===!1?ND:n},PH=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch","BadRequestException"],LH=t=>!!t&&PH.includes(t),DD=t=>async(e,n)=>{const r=n??await t(e)??void 0,a=r?.code||r?.name,o=e?.statusCode;return{retryable:HH(n)||UH(o,a)||LH(a)||VH(o,a)}},BH=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException"],zH=["TimeoutError","RequestTimeout","RequestTimeoutException"],UH=(t,e)=>t===429||!!e&&BH.includes(e),HH=t=>[Vf.NetworkError,"ERR_NETWORK"].includes(t?.name),VH=(t,e)=>!!t&&[500,502,503,504].includes(t)||!!e&&zH.includes(e),OD="cognito-identity",MD={service:OD,retryDecider:DD(wv),computeDelay:AD,cache:"no-store"},WH=({maxAttempts:t=ID,retryDecider:e,computeDelay:n,abortSignal:r})=>{if(t<1)throw new Error("maxAttempts must be greater than 0");return(a,o)=>async function(l){let f,p=o.attemptsCount??0,c;const g=()=>{if(c)return $D(c,p),c;throw $D(f,p),f};for(;!r?.aborted&&p<t;){try{c=await a(l),f=void 0}catch(E){f=E,c=void 0}p=(o.attemptsCount??0)>p?o.attemptsCount??0:p+1,o.attemptsCount=p;const{isCredentialsExpiredError:y,retryable:S}=await e(c,f,o);if(S){if(o.isCredentialsExpired=!!y,!r?.aborted&&p<t){const E=n(p);await jH(E,r)}continue}else return g()}if(r?.aborted)throw new Error("Request aborted.");return g()}},jH=(t,e)=>{if(e?.aborted)return Promise.resolve();let n,r;const a=new Promise(o=>{r=o,n=setTimeout(o,t)});return e?.addEventListener("abort",function o(u){clearTimeout(n),e?.removeEventListener("abort",o),r()}),a},$D=(t,e)=>{Object.prototype.toString.call(t)==="[object Object]"&&(t.$metadata={...t.$metadata??{},attempts:e})},GH=zC,qH=()=>t=>async function(n){return n.headers[RD]||(n.headers[RD]=GH()),t(n)},KH=({maxAttempts:t=ID})=>(e,n)=>async function(a){const o=n.attemptsCount??0;return a.headers[FH]=`attempt=${o+1}; max=${t}`,e(a)},YH=({userAgentHeader:t="x-amz-user-agent",userAgentValue:e=""})=>n=>async function(a){if(e.trim().length===0)return await n(a);{const o=t.toLowerCase();return a.headers[o]=a.headers[o]?`${a.headers[o]} ${e}`:e,await n(a)}},GC=(t,e)=>(n,r)=>{const a={};let o=u=>t(u,r);for(let u=e.length-1;u>=0;u--){const l=e[u];o=l(r)(o,a)}return o(n)},qC=t=>{let e;return()=>(e||(e=t()),e)},XH=t=>!["HEAD","GET"].includes(t.toUpperCase()),FD=GC(async({url:t,method:e,headers:n,body:r},{abortSignal:a,cache:o,withCrossDomainCredentials:u})=>{let l;try{l=await fetch(t,{method:e,headers:n,body:XH(e)?r:void 0,signal:a,cache:o,credentials:u?"include":"same-origin"})}catch(g){throw g instanceof TypeError?new Cl({name:Vf.NetworkError,message:"A network error has occurred.",underlyingError:g}):g}const f={};l.headers?.forEach((g,y)=>{f[y.toLowerCase()]=g});const p={statusCode:l.status,headers:f,body:null},c=Object.assign(l.body??{},{text:qC(()=>l.text()),blob:qC(()=>l.blob()),json:qC(()=>l.json())});return{...p,body:c}},[YH,qH,WH,KH]),PD=GC(FD,[()=>t=>async function(n){return n.headers["cache-control"]="no-store",t(n)}]),LD=t=>(e,n)=>{const r=QH(t),a=JSON.stringify(e);return JH(n,r,a)},QH=t=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityService.${t}`}),JH=({url:t},e,n)=>({headers:e,url:t,body:n,method:"POST"}),BD=t=>jC(PD,LD("GetCredentialsForIdentity"),ZH,{...MD,...t,userAgentValue:q0()}),ZH=async t=>{if(t.statusCode>=300)throw await wv(t);const e=await Y0(t);return{IdentityId:e.IdentityId,Credentials:eV(e.Credentials),$metadata:K0(t)}},eV=({Expiration:t,...e}={})=>({...e,Expiration:t&&new Date(t*1e3)}),tV=t=>jC(PD,LD("GetId"),nV,{...MD,...t,userAgentValue:q0()}),nV=async t=>{if(t.statusCode>=300)throw await wv(t);return{IdentityId:(await Y0(t)).IdentityId,$metadata:K0(t)}},zD={id:"aws",outputs:{dnsSuffix:"amazonaws.com"},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:["aws-global"]},rV={partitions:[zD,{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn"},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:["aws-cn-global"]}]},UD=t=>{const{partitions:e}=rV;for(const{regions:n,outputs:r,regionRegex:a}of e){const o=new RegExp(a);if(n.includes(t)||o.test(t))return r.dnsSuffix}return zD.outputs.dnsSuffix},X0=URL,aV=({region:t})=>({url:new X0(`https://${OD}.${t}.${UD(t)}`)});class Ev extends Cl{constructor(){super({name:Vf.PlatformNotSupported,message:"Function not supported on current platform"})}}class HD{constructor(e){this.storage=e}async setItem(e,n){if(!this.storage)throw new Ev;this.storage.setItem(e,n)}async getItem(e){if(!this.storage)throw new Ev;return this.storage.getItem(e)}async removeItem(e){if(!this.storage)throw new Ev;this.storage.removeItem(e)}async clear(){if(!this.storage)throw new Ev;this.storage.clear()}}class VD{constructor(){this.storage=new Map}get length(){return this.storage.size}key(e){return e>this.length-1?null:Array.from(this.storage.keys())[e]}setItem(e,n){this.storage.set(e,n)}getItem(e){return this.storage.get(e)??null}removeItem(e){this.storage.delete(e)}clear(){this.storage.clear()}}const WD=new Hi("CoreStorageUtils"),oV=()=>{try{if(typeof window<"u"&&window.localStorage)return window.localStorage}catch{WD.info("localStorage not found. InMemoryStorage is used as a fallback.")}return new VD},jD=()=>{try{if(typeof window<"u"&&window.sessionStorage)return window.sessionStorage.getItem("test"),window.sessionStorage;throw new Error("sessionStorage is not defined")}catch{return WD.info("sessionStorage not found. InMemoryStorage is used as a fallback."),new VD}};class sV extends HD{constructor(){super(oV())}}class iV extends HD{constructor(){super(jD())}}class uV{constructor(e){this._storage=e}get storage(){if(!this._storage)throw new Ev;return this._storage}setItem(e,n){this.storage.setItem(e,n)}getItem(e){return this.storage.getItem(e)}removeItem(e){this.storage.removeItem(e)}clear(){this.storage.clear()}}class lV extends uV{constructor(){super(jD())}}/*! js-cookie v3.0.5 | MIT */function Q0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var cV={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function KC(t,e){function n(a,o,u){if(!(typeof document>"u")){u=Q0({},e,u),typeof u.expires=="number"&&(u.expires=new Date(Date.now()+u.expires*864e5)),u.expires&&(u.expires=u.expires.toUTCString()),a=encodeURIComponent(a).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var l="";for(var f in u)u[f]&&(l+="; "+f,u[f]!==!0&&(l+="="+u[f].split(";")[0]));return document.cookie=a+"="+t.write(o,a)+l}}function r(a){if(!(typeof document>"u"||arguments.length&&!a)){for(var o=document.cookie?document.cookie.split("; "):[],u={},l=0;l<o.length;l++){var f=o[l].split("="),p=f.slice(1).join("=");try{var c=decodeURIComponent(f[0]);if(u[c]=t.read(p,c),a===c)break}catch{}}return a?u[a]:u}}return Object.create({set:n,get:r,remove:function(a,o){n(a,"",Q0({},o,{expires:-1}))},withAttributes:function(a){return KC(this.converter,Q0({},this.attributes,a))},withConverter:function(a){return KC(Q0({},this.converter,a),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var J0=KC(cV,{path:"/"});class dV{constructor(e={}){const{path:n,domain:r,expires:a,sameSite:o,secure:u}=e;if(this.domain=r,this.path=n||"/",this.expires=Object.prototype.hasOwnProperty.call(e,"expires")?a:365,this.secure=Object.prototype.hasOwnProperty.call(e,"secure")?u:!0,Object.prototype.hasOwnProperty.call(e,"sameSite")){if(!o||!["strict","lax","none"].includes(o))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if(o==="none"&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=o}}async setItem(e,n){J0.set(e,n,this.getData())}async getItem(e){return J0.get(e)??null}async removeItem(e){J0.remove(e,this.getData())}async clear(){const e=J0.get(),n=Object.keys(e).map(r=>this.removeItem(r));await Promise.all(n)}getData(){return{path:this.path,expires:this.expires,domain:this.domain,secure:this.secure,...this.sameSite&&{sameSite:this.sameSite}}}}const Z0=new sV;new iV,new lV;const fV=(t,e,n=_D,r)=>x9(t,e,TD(n)),pV=t=>{let e;return async(...n)=>e||(e=new Promise((r,a)=>{t(...n).then(o=>{r(o)}).catch(o=>{a(o)}).finally(()=>{e=void 0})}),e)};function GD({expiresAt:t,clockDrift:e,tolerance:n=5e3}){return Date.now()+e+n>t}class ta extends Cl{constructor(e){super(e),this.constructor=ta,Object.setPrototypeOf(this,ta.prototype)}}function hV(t){const e=t?.split("_")[0];if(!t||t.indexOf("_")<0||!e||typeof e!="string")throw new ta({name:"InvalidUserPoolId",message:"Invalid user pool id provided."});return e}function YC(t){if(!t||!t.includes(":"))throw new ta({name:"InvalidIdentityPoolIdException",message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."});return t.split(":")[0]}const qD="UserUnAuthenticatedException",mV="InvalidRedirectException",gV="InvalidAppSchemeException",vV="InvalidPreferredRedirectUrlException";new ta({name:mV,message:"signInRedirect or signOutRedirect had an invalid format or was not found.",recoverySuggestion:"Please make sure the signIn/Out redirect in your oauth config is valid."}),new ta({name:gV,message:"A valid non-http app scheme was not found in the config.",recoverySuggestion:"Please make sure a valid custom app scheme is present in the config."}),new ta({name:vV,message:"The given preferredRedirectUrl does not match any items in the redirectSignOutUrls array from the config.",recoverySuggestion:"Please make sure a matching preferredRedirectUrl is provided."});const yV="InvalidOriginException";new ta({name:yV,message:"redirect is coming from a different origin. The oauth flow needs to be initiated from the same origin",recoverySuggestion:"Please call signInWithRedirect from the same origin."});const bV="TokenRefreshException";function SV(t){if(!t||!t.idToken)throw new ta({name:qD,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."})}const wV=new ta({name:bV,message:`Token refresh is not supported when authenticated with the 'implicit grant' (token) oauth flow. 
	Please change your oauth configuration to use 'code grant' flow.`,recoverySuggestion:`Please logout and change your Amplify configuration to use "code grant" flow. 
	E.g { responseType: 'code' }`}),EV=new ta({name:qD,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."});function xV(t){if(_V(t))throw wV;if(!kV(t))throw EV}const CV={inflightOAuth:"inflightOAuth",oauthSignIn:"oauthSignIn",oauthPKCE:"oauthPKCE",oauthState:"oauthState"};function KD(t){return t?.accessToken||t?.idToken}function kV(t){return KD(t)&&t?.refreshToken}function _V(t){return KD(t)&&!t?.refreshToken}const TV=t=>(e,n)=>{const r=IV(t),a=JSON.stringify(e);return RV(n,r,a)},IV=t=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityProviderService.${t}`}),RV=({url:t},e,n)=>({headers:e,url:t,body:n,method:"POST"});function xv(t){if(!t||t.name==="Error"||t instanceof TypeError)throw new ta({name:Vf.Unknown,message:"An unknown error has occurred.",underlyingError:t})}const NV=()=>async t=>{if(t.statusCode>=300){const e=await wv(t);throw xv(e),new ta({name:e.name,message:e.message,metadata:e.$metadata})}return Y0(t)},AV=GC(FD,[()=>(t,e)=>async function(r){return r.headers["cache-control"]="no-store",t(r)}]),YD="cognito-idp",DV={service:YD,retryDecider:DD(wv),computeDelay:AD,get userAgentValue(){return q0()},cache:"no-store"},OV=({region:t})=>({url:new X0(`https://${YD}.${t}.${UD(t)}`)}),MV=({endpointOverride:t})=>e=>t?{url:new X0(t)}:OV(e),$V=t=>jC(AV,TV("GetTokensFromRefreshToken"),NV(),{...DV,...t}),FV=pV(async({tokens:t,authConfig:e,username:n})=>{gi(e?.Cognito);const{userPoolId:r,userPoolClientId:a,userPoolEndpoint:o}=e.Cognito,u=hV(r);xV(t);const l=$V({endpointResolver:MV({endpointOverride:o})}),{AuthenticationResult:f}=await l({region:u},{ClientId:a,RefreshToken:t.refreshToken,DeviceKey:t.deviceMetadata?.deviceKey}),p=vv(f?.AccessToken??""),c=f?.IdToken?vv(f.IdToken):void 0,{iat:g}=p.payload;if(!g)throw new ta({name:"iatNotFoundException",message:"iat not found in access token"});const y=g*1e3-new Date().getTime();return{accessToken:p,idToken:c,clockDrift:y,refreshToken:f?.RefreshToken??t.refreshToken,username:n}}),PV={accessToken:"accessToken",idToken:"idToken",oidcProvider:"oidcProvider",clockDrift:"clockDrift",refreshToken:"refreshToken",deviceKey:"deviceKey",randomPasswordKey:"randomPasswordKey",deviceGroupKey:"deviceGroupKey",signInDetails:"signInDetails",oauthMetadata:"oauthMetadata"};var e1;(function(t){t.InvalidAuthTokens="InvalidAuthTokens"})(e1||(e1={}));const LV={[e1.InvalidAuthTokens]:{message:"Invalid tokens.",recoverySuggestion:"Make sure the tokens are valid."}},BV=ZA(LV),XD="CognitoIdentityServiceProvider";class zV{getKeyValueStorage(){if(!this.keyValueStorage)throw new ta({name:"KeyValueStorageNotFoundException",message:"KeyValueStorage was not found in TokenStore"});return this.keyValueStorage}setKeyValueStorage(e){this.keyValueStorage=e}setAuthConfig(e){this.authConfig=e}async loadTokens(){try{const e=await this.getAuthKeys(),n=await this.getKeyValueStorage().getItem(e.accessToken);if(!n)throw new ta({name:"NoSessionFoundException",message:"Auth session was not found. Make sure to call signIn."});const r=vv(n),a=await this.getKeyValueStorage().getItem(e.idToken),o=a?vv(a):void 0,u=await this.getKeyValueStorage().getItem(e.refreshToken)??void 0,l=await this.getKeyValueStorage().getItem(e.clockDrift)??"0",f=Number.parseInt(l),p=await this.getKeyValueStorage().getItem(e.signInDetails),c={accessToken:r,idToken:o,refreshToken:u,deviceMetadata:await this.getDeviceMetadata()??void 0,clockDrift:f,username:await this.getLastAuthUser()};return p&&(c.signInDetails=JSON.parse(p)),c}catch{return null}}async storeTokens(e){BV(e!==void 0,e1.InvalidAuthTokens);const n=e.username;await this.getKeyValueStorage().setItem(this.getLastAuthUserKey(),n);const r=await this.getAuthKeys();await this.getKeyValueStorage().setItem(r.accessToken,e.accessToken.toString()),e.idToken?await this.getKeyValueStorage().setItem(r.idToken,e.idToken.toString()):await this.getKeyValueStorage().removeItem(r.idToken),e.refreshToken?await this.getKeyValueStorage().setItem(r.refreshToken,e.refreshToken):await this.getKeyValueStorage().removeItem(r.refreshToken),e.deviceMetadata&&(e.deviceMetadata.deviceKey&&await this.getKeyValueStorage().setItem(r.deviceKey,e.deviceMetadata.deviceKey),e.deviceMetadata.deviceGroupKey&&await this.getKeyValueStorage().setItem(r.deviceGroupKey,e.deviceMetadata.deviceGroupKey),await this.getKeyValueStorage().setItem(r.randomPasswordKey,e.deviceMetadata.randomPassword)),e.signInDetails?await this.getKeyValueStorage().setItem(r.signInDetails,JSON.stringify(e.signInDetails)):await this.getKeyValueStorage().removeItem(r.signInDetails),await this.getKeyValueStorage().setItem(r.clockDrift,`${e.clockDrift}`)}async clearTokens(){const e=await this.getAuthKeys();await Promise.all([this.getKeyValueStorage().removeItem(e.accessToken),this.getKeyValueStorage().removeItem(e.idToken),this.getKeyValueStorage().removeItem(e.clockDrift),this.getKeyValueStorage().removeItem(e.refreshToken),this.getKeyValueStorage().removeItem(e.signInDetails),this.getKeyValueStorage().removeItem(this.getLastAuthUserKey()),this.getKeyValueStorage().removeItem(e.oauthMetadata)])}async getDeviceMetadata(e){const n=await this.getAuthKeys(e),r=await this.getKeyValueStorage().getItem(n.deviceKey),a=await this.getKeyValueStorage().getItem(n.deviceGroupKey),o=await this.getKeyValueStorage().getItem(n.randomPasswordKey);return o&&a&&r?{deviceKey:r,deviceGroupKey:a,randomPassword:o}:null}async clearDeviceMetadata(e){const n=await this.getAuthKeys(e);await Promise.all([this.getKeyValueStorage().removeItem(n.deviceKey),this.getKeyValueStorage().removeItem(n.deviceGroupKey),this.getKeyValueStorage().removeItem(n.randomPasswordKey)])}async getAuthKeys(e){gi(this.authConfig?.Cognito);const n=e??await this.getLastAuthUser();return UV(XD,`${this.authConfig.Cognito.userPoolClientId}.${n}`)}getLastAuthUserKey(){gi(this.authConfig?.Cognito);const e=this.authConfig.Cognito.userPoolClientId;return`${XD}.${e}.LastAuthUser`}async getLastAuthUser(){return await this.getKeyValueStorage().getItem(this.getLastAuthUserKey())??"username"}async setOAuthMetadata(e){const{oauthMetadata:n}=await this.getAuthKeys();await this.getKeyValueStorage().setItem(n,JSON.stringify(e))}async getOAuthMetadata(){const{oauthMetadata:e}=await this.getAuthKeys(),n=await this.getKeyValueStorage().getItem(e);return n&&JSON.parse(n)}}const UV=(t,e)=>XC(PV)(`${t}`,e);function XC(t){const e=Object.values({...t});return(n,r)=>e.reduce((a,o)=>({...a,[o]:`${n}.${r}.${o}`}),{})}const QD="amplify-signin-with-hostedUI",kl="CognitoIdentityServiceProvider";class HV{constructor(e){this.keyValueStorage=e}async clearOAuthInflightData(){gi(this.cognitoConfig);const e=_l(kl,this.cognitoConfig.userPoolClientId);await Promise.all([this.keyValueStorage.removeItem(e.inflightOAuth),this.keyValueStorage.removeItem(e.oauthPKCE),this.keyValueStorage.removeItem(e.oauthState)])}async clearOAuthData(){gi(this.cognitoConfig);const e=_l(kl,this.cognitoConfig.userPoolClientId);return await this.clearOAuthInflightData(),await this.keyValueStorage.removeItem(QD),this.keyValueStorage.removeItem(e.oauthSignIn)}loadOAuthState(){gi(this.cognitoConfig);const e=_l(kl,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(e.oauthState)}storeOAuthState(e){gi(this.cognitoConfig);const n=_l(kl,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(n.oauthState,e)}loadPKCE(){gi(this.cognitoConfig);const e=_l(kl,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(e.oauthPKCE)}storePKCE(e){gi(this.cognitoConfig);const n=_l(kl,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(n.oauthPKCE,e)}setAuthConfig(e){this.cognitoConfig=e}async loadOAuthInFlight(){gi(this.cognitoConfig);const e=_l(kl,this.cognitoConfig.userPoolClientId);return await this.keyValueStorage.getItem(e.inflightOAuth)==="true"}async storeOAuthInFlight(e){gi(this.cognitoConfig);const n=_l(kl,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(n.inflightOAuth,`${e}`)}async loadOAuthSignIn(){gi(this.cognitoConfig);const e=_l(kl,this.cognitoConfig.userPoolClientId),n=await this.keyValueStorage.getItem(QD),[r,a]=(await this.keyValueStorage.getItem(e.oauthSignIn))?.split(",")??[];return{isOAuthSignIn:r==="true"||n==="true",preferPrivateSession:a==="true"}}async storeOAuthSignIn(e,n=!1){gi(this.cognitoConfig);const r=_l(kl,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(r.oauthSignIn,`${e},${n}`)}}const _l=(t,e)=>XC(CV)(t,e),JD=new HV(Z0);class VV{constructor(){this.waitForInflightOAuth=AH()?async()=>{if(await JD.loadOAuthInFlight())return this.inflightPromise?this.inflightPromise:(this.inflightPromise=new Promise((e,n)=>{}),this.inflightPromise)}:async()=>{}}setAuthConfig(e){JD.setAuthConfig(e.Cognito),this.authConfig=e}setTokenRefresher(e){this.tokenRefresher=e}setAuthTokenStore(e){this.tokenStore=e}getTokenStore(){if(!this.tokenStore)throw new ta({name:"EmptyTokenStoreException",message:"TokenStore not set"});return this.tokenStore}getTokenRefresher(){if(!this.tokenRefresher)throw new ta({name:"EmptyTokenRefresherException",message:"TokenRefresher not set"});return this.tokenRefresher}async getTokens(e){let n;try{gi(this.authConfig?.Cognito)}catch{return null}await this.waitForInflightOAuth(),this.inflightPromise=void 0,n=await this.getTokenStore().loadTokens();const r=await this.getTokenStore().getLastAuthUser();if(n===null)return null;const a=!!n?.idToken&&GD({expiresAt:(n.idToken?.payload?.exp??0)*1e3,clockDrift:n.clockDrift??0}),o=GD({expiresAt:(n.accessToken?.payload?.exp??0)*1e3,clockDrift:n.clockDrift??0});return(e?.forceRefresh||a||o)&&(n=await this.refreshTokens({tokens:n,username:r}),n===null)?null:{accessToken:n?.accessToken,idToken:n?.idToken,signInDetails:n?.signInDetails}}async refreshTokens({tokens:e,username:n}){try{const{signInDetails:r}=e,a=await this.getTokenRefresher()({tokens:e,authConfig:this.authConfig,username:n});return a.signInDetails=r,await this.setTokens({tokens:a}),LC.dispatch("auth",{event:"tokenRefresh"},"Auth",H0),a}catch(r){return this.handleErrors(r)}}handleErrors(e){if(xv(e),e.name!==Vf.NetworkError&&this.clearTokens(),LC.dispatch("auth",{event:"tokenRefresh_failure",data:{error:e}},"Auth",H0),e.name.startsWith("NotAuthorizedException"))return null;throw e}async setTokens({tokens:e}){return this.getTokenStore().storeTokens(e)}async clearTokens(){return this.getTokenStore().clearTokens()}getDeviceMetadata(e){return this.getTokenStore().getDeviceMetadata(e)}clearDeviceMetadata(e){return this.getTokenStore().clearDeviceMetadata(e)}setOAuthMetadata(e){return this.getTokenStore().setOAuthMetadata(e)}getOAuthMetadata(){return this.getTokenStore().getOAuthMetadata()}}class WV{constructor(){this.authTokenStore=new zV,this.authTokenStore.setKeyValueStorage(Z0),this.tokenOrchestrator=new VV,this.tokenOrchestrator.setAuthTokenStore(this.authTokenStore),this.tokenOrchestrator.setTokenRefresher(FV)}getTokens({forceRefresh:e}={forceRefresh:!1}){return this.tokenOrchestrator.getTokens({forceRefresh:e})}setKeyValueStorage(e){this.authTokenStore.setKeyValueStorage(e)}setAuthConfig(e){this.authTokenStore.setAuthConfig(e),this.tokenOrchestrator.setAuthConfig(e)}}const Cv=new WV,{tokenOrchestrator:Q3e}=Cv,jV={identityId:"identityId"},GV=new Hi("DefaultIdentityIdStore");class ZD{setAuthConfig(e){V0(e.Cognito),this.authConfig=e,this._authKeys=qV("Cognito",e.Cognito.identityPoolId)}constructor(e){this._authKeys={},this._hasGuestIdentityId=!1,this.keyValueStorage=e}async loadIdentityId(){V0(this.authConfig?.Cognito);try{if(this._primaryIdentityId)return{id:this._primaryIdentityId,type:"primary"};{const e=await this.keyValueStorage.getItem(this._authKeys.identityId);return e?(this._hasGuestIdentityId=!0,{id:e,type:"guest"}):null}}catch(e){return GV.log("Error getting stored IdentityId.",e),null}}async storeIdentityId(e){V0(this.authConfig?.Cognito),e.type==="guest"?(this.keyValueStorage.setItem(this._authKeys.identityId,e.id),this._primaryIdentityId=void 0,this._hasGuestIdentityId=!0):(this._primaryIdentityId=e.id,this._hasGuestIdentityId&&(this.keyValueStorage.removeItem(this._authKeys.identityId),this._hasGuestIdentityId=!1))}async clearIdentityId(){this._primaryIdentityId=void 0,await this.keyValueStorage.removeItem(this._authKeys.identityId)}}const qV=(t,e)=>XC(jV)(`com.amplify.${t}`,e),QC=({endpointOverride:t})=>e=>t?{url:new X0(t)}:aV(e);function e4(t){const e=vv(t).payload.iss,n={};if(!e)throw new ta({name:"InvalidIdTokenException",message:"Invalid Idtoken."});const r=e.replace(/(^\w+:|^)\/\//,"");return n[r]=t,n}async function KV({tokens:t,authConfig:e,identityIdStore:n}){n.setAuthConfig({Cognito:e});const r=await n.loadIdentityId();if(r)return r.id;const a=t?.idToken?e4(t.idToken.toString()):{},o=await YV(a,e);return n.storeIdentityId({id:o,type:t?"primary":"guest"}),o}async function YV(t,e){const n=e?.identityPoolId,r=YC(n),a=tV({endpointResolver:QC({endpointOverride:e.identityPoolEndpoint})});let o;try{o=(await a({region:r},{IdentityPoolId:n,Logins:t})).IdentityId}catch(u){throw xv(u),new ta(u)}if(!o)throw new ta({name:"GetIdResponseException",message:"Received undefined response from getId operation",recoverySuggestion:"Make sure to pass a valid identityPoolId in the configuration."});return o}const t1=new Hi("CognitoCredentialsProvider"),t4=3e3*1e3;class n4{constructor(e){this._nextCredentialsRefresh=0,this._identityIdStore=e}async clearCredentialsAndIdentityId(){t1.debug("Clearing out credentials and identityId"),this._credentialsAndIdentityId=void 0,await this._identityIdStore.clearIdentityId()}async clearCredentials(){t1.debug("Clearing out in-memory credentials"),this._credentialsAndIdentityId=void 0}async getCredentialsAndIdentityId(e){const n=e.authenticated,{tokens:r}=e,{authConfig:a}=e;try{V0(a?.Cognito)}catch{return}if(!n&&!a.Cognito.allowGuestAccess)return;const{forceRefresh:o}=e,u=this.hasTokenChanged(r),l=await KV({tokens:r,authConfig:a.Cognito,identityIdStore:this._identityIdStore});return(o||u)&&this.clearCredentials(),n?(SV(r),this.credsForOIDCTokens(a.Cognito,r,l)):this.getGuestCredentials(l,a.Cognito)}async getGuestCredentials(e,n){if(this._credentialsAndIdentityId&&!this.isPastTTL()&&this._credentialsAndIdentityId.isAuthenticatedCreds===!1)return t1.info("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();const r=YC(n.identityPoolId),a=BD({endpointResolver:QC({endpointOverride:n.identityPoolEndpoint})});let o;try{o=await a({region:r},{IdentityId:e})}catch(u){throw xv(u),new ta(u)}if(o?.Credentials?.AccessKeyId&&o?.Credentials?.SecretKey){this._nextCredentialsRefresh=new Date().getTime()+t4;const u={credentials:{accessKeyId:o.Credentials.AccessKeyId,secretAccessKey:o.Credentials.SecretKey,sessionToken:o.Credentials.SessionToken,expiration:o.Credentials.Expiration},identityId:e};return o.IdentityId&&(u.identityId=o.IdentityId,this._identityIdStore.storeIdentityId({id:o.IdentityId,type:"guest"})),this._credentialsAndIdentityId={...u,isAuthenticatedCreds:!1},u}else throw new ta({name:"CredentialsNotFoundException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}async credsForOIDCTokens(e,n,r){if(this._credentialsAndIdentityId&&!this.isPastTTL()&&this._credentialsAndIdentityId.isAuthenticatedCreds===!0)return t1.debug("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();const a=n.idToken?e4(n.idToken.toString()):{},o=YC(e.identityPoolId),u=BD({endpointResolver:QC({endpointOverride:e.identityPoolEndpoint})});let l;try{l=await u({region:o},{IdentityId:r,Logins:a})}catch(f){throw xv(f),new ta(f)}if(l?.Credentials?.AccessKeyId&&l?.Credentials?.SecretKey){this._nextCredentialsRefresh=new Date().getTime()+t4;const f={credentials:{accessKeyId:l.Credentials.AccessKeyId,secretAccessKey:l.Credentials.SecretKey,sessionToken:l.Credentials.SessionToken,expiration:l.Credentials.Expiration},identityId:r};return l.IdentityId&&(f.identityId=l.IdentityId,this._identityIdStore.storeIdentityId({id:l.IdentityId,type:"primary"})),this._credentialsAndIdentityId={...f,isAuthenticatedCreds:!0,associatedIdToken:n.idToken?.toString()},f}else throw new ta({name:"CredentialsException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}isPastTTL(){return this._nextCredentialsRefresh===void 0?!0:this._nextCredentialsRefresh<=Date.now()}hasTokenChanged(e){return!!e&&!!this._credentialsAndIdentityId?.associatedIdToken&&e.idToken?.toString()!==this._credentialsAndIdentityId.associatedIdToken}}const XV=new n4(new ZD(Z0)),r4={configure(t,e){const n=sD(t),r=new dV({sameSite:"lax"}),a=e?.ssr?r:Z0,o=e?.ssr?new n4(new ZD(r)):XV;if(!n.Auth){wc.configure(n,e);return}if(e?.Auth){wc.configure(n,e);return}if(!wc.libraryOptions.Auth){Cv.setAuthConfig(n.Auth),Cv.setKeyValueStorage(a),wc.configure(n,{...e,Auth:{tokenProvider:Cv,credentialsProvider:o}});return}if(e){const u=wc.libraryOptions.Auth;e.ssr!==void 0&&(Cv.setKeyValueStorage(a),u.credentialsProvider=o),wc.configure(n,{Auth:u,...e});return}wc.configure(n)},getConfig(){return wc.getConfig()}};var n1={exports:{}},JC={},r1={exports:{}},ZC={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a4;function QV(){if(a4)return ZC;a4=1;var t=bc();function e(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,a=t.useEffect,o=t.useLayoutEffect,u=t.useDebugValue;function l(g,y){var S=y(),E=r({inst:{value:S,getSnapshot:y}}),k=E[0].inst,_=E[1];return o(function(){k.value=S,k.getSnapshot=y,f(k)&&_({inst:k})},[g,S,y]),a(function(){return f(k)&&_({inst:k}),g(function(){f(k)&&_({inst:k})})},[g]),u(S),S}function f(g){var y=g.getSnapshot;g=g.value;try{var S=y();return!n(g,S)}catch{return!0}}function p(g,y){return y()}var c=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:l;return ZC.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:c,ZC}var ek={};/**
 * @license React
 * use-sync-external-store-shim.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o4;function JV(){return o4||(o4=1,process.env.NODE_ENV!=="production"&&(function(){function t(S,E){return S===E&&(S!==0||1/S===1/E)||S!==S&&E!==E}function e(S,E){c||a.startTransition===void 0||(c=!0,console.error("You are using an outdated, pre-release alpha of React 18 that does not support useSyncExternalStore. The use-sync-external-store shim will not work correctly. Upgrade to a newer pre-release."));var k=E();if(!g){var _=E();o(k,_)||(console.error("The result of getSnapshot should be cached to avoid an infinite loop"),g=!0)}_=u({inst:{value:k,getSnapshot:E}});var I=_[0].inst,R=_[1];return f(function(){I.value=k,I.getSnapshot=E,n(I)&&R({inst:I})},[S,k,E]),l(function(){return n(I)&&R({inst:I}),S(function(){n(I)&&R({inst:I})})},[S]),p(k),k}function n(S){var E=S.getSnapshot;S=S.value;try{var k=E();return!o(S,k)}catch{return!0}}function r(S,E){return E()}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var a=bc(),o=typeof Object.is=="function"?Object.is:t,u=a.useState,l=a.useEffect,f=a.useLayoutEffect,p=a.useDebugValue,c=!1,g=!1,y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?r:e;ek.useSyncExternalStore=a.useSyncExternalStore!==void 0?a.useSyncExternalStore:y,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()),ek}var s4;function i4(){return s4||(s4=1,process.env.NODE_ENV==="production"?r1.exports=QV():r1.exports=JV()),r1.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u4;function ZV(){if(u4)return JC;u4=1;var t=bc(),e=i4();function n(p,c){return p===c&&(p!==0||1/p===1/c)||p!==p&&c!==c}var r=typeof Object.is=="function"?Object.is:n,a=e.useSyncExternalStore,o=t.useRef,u=t.useEffect,l=t.useMemo,f=t.useDebugValue;return JC.useSyncExternalStoreWithSelector=function(p,c,g,y,S){var E=o(null);if(E.current===null){var k={hasValue:!1,value:null};E.current=k}else k=E.current;E=l(function(){function I(U){if(!R){if(R=!0,A=U,U=y(U),S!==void 0&&k.hasValue){var j=k.value;if(S(j,U))return O=j}return O=U}if(j=O,r(A,U))return j;var J=y(U);return S!==void 0&&S(j,J)?(A=U,j):(A=U,O=J)}var R=!1,A,O,L=g===void 0?null:g;return[function(){return I(c())},L===null?void 0:function(){return I(L())}]},[c,g,y,S]);var _=a(p,E[0],E[1]);return u(function(){k.hasValue=!0,k.value=_},[_]),f(_),_},JC}var tk={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l4;function eW(){return l4||(l4=1,process.env.NODE_ENV!=="production"&&(function(){function t(p,c){return p===c&&(p!==0||1/p===1/c)||p!==p&&c!==c}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var e=bc(),n=i4(),r=typeof Object.is=="function"?Object.is:t,a=n.useSyncExternalStore,o=e.useRef,u=e.useEffect,l=e.useMemo,f=e.useDebugValue;tk.useSyncExternalStoreWithSelector=function(p,c,g,y,S){var E=o(null);if(E.current===null){var k={hasValue:!1,value:null};E.current=k}else k=E.current;E=l(function(){function I(U){if(!R){if(R=!0,A=U,U=y(U),S!==void 0&&k.hasValue){var j=k.value;if(S(j,U))return O=j}return O=U}if(j=O,r(A,U))return j;var J=y(U);return S!==void 0&&S(j,J)?(A=U,j):(A=U,O=J)}var R=!1,A,O,L=g===void 0?null:g;return[function(){return I(c())},L===null?void 0:function(){return I(L())}]},[c,g,y,S]);var _=a(p,E[0],E[1]);return u(function(){k.hasValue=!0,k.value=_},[_]),f(_),_},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()),tk}var c4;function tW(){return c4||(c4=1,process.env.NODE_ENV==="production"?n1.exports=ZV():n1.exports=eW()),n1.exports}var d4=tW();/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var pt=function(){return pt=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},pt.apply(this,arguments)};function nk(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function ir(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Er(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),a,o=[],u;try{for(;(e===void 0||e-- >0)&&!(a=r.next()).done;)o.push(a.value)}catch(l){u={error:l}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(u)throw u.error}}return o}function sa(t,e,n){if(arguments.length===2)for(var r=0,a=e.length,o;r<a;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var zr;(function(t){t.Start="xstate.start",t.Stop="xstate.stop",t.Raise="xstate.raise",t.Send="xstate.send",t.Cancel="xstate.cancel",t.NullEvent="",t.Assign="xstate.assign",t.After="xstate.after",t.DoneState="done.state",t.DoneInvoke="done.invoke",t.Log="xstate.log",t.Init="xstate.init",t.Invoke="xstate.invoke",t.ErrorExecution="error.execution",t.ErrorCommunication="error.communication",t.ErrorPlatform="error.platform",t.ErrorCustom="xstate.error",t.Update="xstate.update",t.Pure="xstate.pure",t.Choose="xstate.choose"})(zr||(zr={}));var zh;(function(t){t.Parent="#_parent",t.Internal="#_internal"})(zh||(zh={}));var rk=zr.Start,ak=zr.Stop,kv=zr.Raise,a1=zr.Send,f4=zr.Cancel,nW=zr.NullEvent,ok=zr.Assign;zr.After,zr.DoneState;var p4=zr.Log,rW=zr.Init,sk=zr.Invoke;zr.ErrorExecution;var h4=zr.ErrorPlatform,aW=zr.ErrorCustom,m4=zr.Update,oW=zr.Choose,sW=zr.Pure,g4=".",v4={},ik="xstate.guard",iW="",Oa=process.env.NODE_ENV==="production",o1;function uk(t,e,n){n===void 0&&(n=g4);var r=_v(t,n),a=_v(e,n);return Sr(a)?Sr(r)?a===r:!1:Sr(r)?r in a:Object.keys(r).every(function(o){return o in a?uk(r[o],a[o]):!1})}function y4(t){try{return Sr(t)||typeof t=="number"?"".concat(t):t.type}catch{throw new Error("Events must be strings or objects with a string event.type property.")}}function lk(t,e){try{return Uh(t)?t:t.toString().split(e)}catch{throw new Error("'".concat(t,"' is not a valid state path."))}}function uW(t){return typeof t=="object"&&"value"in t&&"context"in t&&"event"in t&&"_event"in t}function _v(t,e){if(uW(t))return t.value;if(Uh(t))return s1(t);if(typeof t!="string")return t;var n=lk(t,e);return s1(n)}function s1(t){if(t.length===1)return t[0];for(var e={},n=e,r=0;r<t.length-1;r++)r===t.length-2?n[t[r]]=t[r+1]:(n[t[r]]={},n=n[t[r]]);return e}function Tv(t,e){for(var n={},r=Object.keys(t),a=0;a<r.length;a++){var o=r[a];n[o]=e(t[o],o,t,a)}return n}function b4(t,e,n){var r,a,o={};try{for(var u=ir(Object.keys(t)),l=u.next();!l.done;l=u.next()){var f=l.value,p=t[f];n(p)&&(o[f]=e(p,f,t))}}catch(c){r={error:c}}finally{try{l&&!l.done&&(a=u.return)&&a.call(u)}finally{if(r)throw r.error}}return o}var lW=function(t){return function(e){var n,r,a=e;try{for(var o=ir(t),u=o.next();!u.done;u=o.next()){var l=u.value;a=a[l]}}catch(f){n={error:f}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return a}};function cW(t,e){return function(n){var r,a,o=n;try{for(var u=ir(t),l=u.next();!l.done;l=u.next()){var f=l.value;o=o[e][f]}}catch(p){r={error:p}}finally{try{l&&!l.done&&(a=u.return)&&a.call(u)}finally{if(r)throw r.error}}return o}}function i1(t){if(!t)return[[]];if(Sr(t))return[[t]];var e=Ea(Object.keys(t).map(function(n){var r=t[n];return typeof r!="string"&&(!r||!Object.keys(r).length)?[[n]]:i1(t[n]).map(function(a){return[n].concat(a)})}));return e}function Ea(t){var e;return(e=[]).concat.apply(e,sa([],Er(t),!1))}function S4(t){return Uh(t)?t:[t]}function Uu(t){return t===void 0?[]:S4(t)}function u1(t,e,n){var r,a;if(xr(t))return t(e,n.data);var o={};try{for(var u=ir(Object.keys(t)),l=u.next();!l.done;l=u.next()){var f=l.value,p=t[f];xr(p)?o[f]=p(e,n.data):o[f]=p}}catch(c){r={error:c}}finally{try{l&&!l.done&&(a=u.return)&&a.call(u)}finally{if(r)throw r.error}}return o}function dW(t){return/^(done|error)\./.test(t)}function w4(t){return!!(t instanceof Promise||t!==null&&(xr(t)||typeof t=="object")&&xr(t.then))}function fW(t){return t!==null&&typeof t=="object"&&"transition"in t&&typeof t.transition=="function"}function pW(t,e){var n,r,a=Er([[],[]],2),o=a[0],u=a[1];try{for(var l=ir(t),f=l.next();!f.done;f=l.next()){var p=f.value;e(p)?o.push(p):u.push(p)}}catch(c){n={error:c}}finally{try{f&&!f.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return[o,u]}function E4(t,e){return Tv(t.states,function(n,r){if(n){var a=(Sr(e)?void 0:e[r])||(n?n.current:void 0);if(a)return{current:a,states:E4(n,a)}}})}function hW(t,e){return{current:e,states:E4(t,e)}}function x4(t,e,n,r){Oa||Do(!!t,"Attempting to update undefined context");var a=t&&n.reduce(function(o,u){var l,f,p=u.assignment,c={state:r,action:u,_event:e},g={};if(xr(p))g=p(o,e.data,c);else try{for(var y=ir(Object.keys(p)),S=y.next();!S.done;S=y.next()){var E=S.value,k=p[E];g[E]=xr(k)?k(o,e.data,c):k}}catch(_){l={error:_}}finally{try{S&&!S.done&&(f=y.return)&&f.call(y)}finally{if(l)throw l.error}}return Object.assign({},o,g)},t);return a}var Do=function(){};Oa||(Do=function(t,e){var n=t instanceof Error?t:void 0;if(!(!n&&t)&&console!==void 0){var r=["Warning: ".concat(e)];n&&r.push(n),console.warn.apply(console,r)}});function Uh(t){return Array.isArray(t)}function xr(t){return typeof t=="function"}function Sr(t){return typeof t=="string"}function C4(t,e){if(t)return Sr(t)?{type:ik,name:t,predicate:e?e[t]:void 0}:xr(t)?{type:ik,name:t.name,predicate:t}:t}function mW(t){try{return"subscribe"in t&&xr(t.subscribe)}catch{return!1}}var Td=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})();o1={},o1[Td]=function(){return this},o1[Symbol.observable]=function(){return this};function Ec(t){return!!t&&"__xstatenode"in t}function gW(t){return!!t&&typeof t.send=="function"}var vW=(function(){var t=0;return function(){return t++,t.toString(16)}})();function l1(t,e){return Sr(t)||typeof t=="number"?pt({type:t},e):t}function Yo(t,e){if(!Sr(t)&&"$$type"in t&&t.$$type==="scxml")return t;var n=l1(t);return pt({name:n.type,data:n,$$type:"scxml",type:"external"},e)}function Hh(t,e){var n=S4(e).map(function(r){return typeof r>"u"||typeof r=="string"||Ec(r)?{target:r,event:t}:pt(pt({},r),{event:t})});return n}function yW(t){if(!(t===void 0||t===iW))return Uu(t)}function bW(t,e,n){if(!Oa){var r=t.stack?" Stacktrace was '".concat(t.stack,"'"):"";if(t===e)console.error("Missing onError handler for invocation '".concat(n,"', error was '").concat(t,"'.").concat(r));else{var a=e.stack?" Stacktrace was '".concat(e.stack,"'"):"";console.error("Missing onError handler and/or unhandled exception/promise rejection for invocation '".concat(n,"'. ")+"Original error: '".concat(t,"'. ").concat(r," Current error is '").concat(e,"'.").concat(a))}}}function k4(t,e,n,r,a){var o=t.options.guards,u={state:a,cond:e,_event:r};if(e.type===ik)return(o?.[e.name]||e.predicate)(n,r.data,u);var l=o?.[e.type];if(!l)throw new Error("Guard '".concat(e.type,"' is not implemented on machine '").concat(t.id,"'."));return l(n,r.data,u)}function _4(t){return typeof t=="string"?{type:t}:t}function Iv(t,e,n){var r=function(){},a=typeof t=="object",o=a?t:null;return{next:((a?t.next:t)||r).bind(o),error:((a?t.error:e)||r).bind(o),complete:((a?t.complete:n)||r).bind(o)}}function c1(t,e){return"".concat(t,":invocation[").concat(e,"]")}function ck(t){return(t.type===kv||t.type===a1&&t.to===zh.Internal)&&typeof t.delay!="number"}var Vh=Yo({type:rW});function dk(t,e){return e&&e[t]||void 0}function Rv(t,e){var n;if(Sr(t)||typeof t=="number"){var r=dk(t,e);xr(r)?n={type:t,exec:r}:r?n=r:n={type:t,exec:void 0}}else if(xr(t))n={type:t.name||t.toString(),exec:t};else{var r=dk(t.type,e);if(xr(r))n=pt(pt({},t),{exec:r});else if(r){var a=r.type||t.type;n=pt(pt(pt({},r),t),{type:a})}else n=t}return n}var Id=function(t,e){if(!t)return[];var n=Uh(t)?t:[t];return n.map(function(r){return Rv(r,e)})};function fk(t){var e=Rv(t);return pt(pt({id:Sr(t)?t:e.id},e),{type:e.type})}function SW(t,e){return{type:kv,event:typeof t=="function"?t:l1(t),delay:e?e.delay:void 0,id:e?.id}}function wW(t,e,n,r){var a={_event:n},o=Yo(xr(t.event)?t.event(e,n.data,a):t.event),u;if(Sr(t.delay)){var l=r&&r[t.delay];u=xr(l)?l(e,n.data,a):l}else u=xr(t.delay)?t.delay(e,n.data,a):t.delay;return pt(pt({},t),{type:kv,_event:o,delay:u})}function d1(t,e){return{to:e?e.to:void 0,type:a1,event:xr(t)?t:l1(t),delay:e?e.delay:void 0,id:e&&e.id!==void 0?e.id:xr(t)?t.name:y4(t)}}function EW(t,e,n,r){var a={_event:n},o=Yo(xr(t.event)?t.event(e,n.data,a):t.event),u;if(Sr(t.delay)){var l=r&&r[t.delay];u=xr(l)?l(e,n.data,a):l}else u=xr(t.delay)?t.delay(e,n.data,a):t.delay;var f=xr(t.to)?t.to(e,n.data,a):t.to;return pt(pt({},t),{to:f,_event:o,event:o.data,delay:u})}var xW=function(t,e,n){return pt(pt({},t),{value:Sr(t.expr)?t.expr:t.expr(e,n.data,{_event:n})})},f1=function(t){return{type:f4,sendId:t}};function CW(t){var e=fk(t);return{type:zr.Start,activity:e,exec:void 0}}function kW(t){var e=xr(t)?t:fk(t);return{type:zr.Stop,activity:e,exec:void 0}}function _W(t,e,n){var r=xr(t.activity)?t.activity(e,n.data):t.activity,a=typeof r=="string"?{id:r}:r,o={type:zr.Stop,activity:a};return o}var TW=function(t){return{type:ok,assignment:t}};function IW(t,e){var n=e?"#".concat(e):"";return"".concat(zr.After,"(").concat(t,")").concat(n)}function p1(t,e){var n="".concat(zr.DoneState,".").concat(t),r={type:n,data:e};return r.toString=function(){return n},r}function h1(t,e){var n="".concat(zr.DoneInvoke,".").concat(t),r={type:n,data:e};return r.toString=function(){return n},r}function Nv(t,e){var n="".concat(zr.ErrorPlatform,".").concat(t),r={type:n,data:e};return r.toString=function(){return n},r}var RW=function(t){var e,n,r=[];try{for(var a=ir(t),o=a.next();!o.done;o=a.next())for(var u=o.value,l=0;l<u.actions.length;){if(u.actions[l].type===ok){r.push(u.actions[l]),u.actions.splice(l,1);continue}l++}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return r};function m1(t,e,n,r,a,o,u){u===void 0&&(u=!1);var l=u?[]:RW(a),f=l.length?x4(n,r,l,e):n,p=u?[n]:void 0,c=[];function g(E,k){var _;switch(k.type){case kv:{var I=wW(k,f,r,t.options.delays);return o&&typeof I.delay=="number"&&o(I,f,r),I}case a1:var R=EW(k,f,r,t.options.delays);if(!Oa){var A=k.delay;Do(!Sr(A)||typeof R.delay=="number","No delay reference for delay expression '".concat(A,"' was found on machine '").concat(t.id,"'"))}return o&&R.to!==zh.Internal&&(E==="entry"?c.push(R):o(R,f,r)),R;case p4:{var O=xW(k,f,r);return o?.(O,f,r),O}case oW:{var L=k,U=(_=L.conds.find(function(ve){var oe=C4(ve.cond,t.options.guards);return!oe||k4(t,oe,f,r,o?void 0:e)}))===null||_===void 0?void 0:_.actions;if(!U)return[];var j=Er(m1(t,e,f,r,[{type:E,actions:Id(Uu(U),t.options.actions)}],o,u),2),J=j[0],q=j[1];return f=q,p?.push(f),J}case sW:{var U=k.get(f,r.data);if(!U)return[];var K=Er(m1(t,e,f,r,[{type:E,actions:Id(Uu(U),t.options.actions)}],o,u),2),z=K[0],te=K[1];return f=te,p?.push(f),z}case ak:{var O=_W(k,f,r);return o?.(O,n,r),O}case ok:{f=x4(f,r,[k],o?void 0:e),p?.push(f);break}default:var ee=Rv(k,t.options.actions),le=ee.exec;if(o)o(ee,f,r);else if(le&&p){var ce=p.length-1,ye=pt(pt({},ee),{exec:function(ve){for(var oe=[],he=1;he<arguments.length;he++)oe[he-1]=arguments[he];le.apply(void 0,sa([p[ce]],Er(oe),!1))}});ee=ye}return ee}}function y(E){var k,_,I=[];try{for(var R=ir(E.actions),A=R.next();!A.done;A=R.next()){var O=A.value,L=g(E.type,O);L&&(I=I.concat(L))}}catch(U){k={error:U}}finally{try{A&&!A.done&&(_=R.return)&&_.call(R)}finally{if(k)throw k.error}}return c.forEach(function(U){o(U,f,r)}),c.length=0,I}var S=Ea(a.map(y));return[S,f]}var g1=[],Wh=function(t,e){g1.push(t);var n=e(t);return g1.pop(),n},NW=function(t){return t(g1[g1.length-1])};function T4(t){var e;return e={id:t,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:t}}},e[Td]=function(){return this},e}function AW(t,e,n,r){var a,o=_4(t.src),u=(a=e?.options.services)===null||a===void 0?void 0:a[o.type],l=t.data?u1(t.data,n,r):void 0,f=u?pk(u,t.id,l):T4(t.id);return f.meta=t,f}function pk(t,e,n){var r=T4(e);if(r.deferred=!0,Ec(t)){var a=r.state=Wh(void 0,function(){return(n?t.withContext(n):t).initialState});r.getSnapshot=function(){return a}}return r}function DW(t){try{return typeof t.send=="function"}catch{return!1}}function OW(t){return DW(t)&&"id"in t}function MW(t){var e;return pt((e={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}},e[Td]=function(){return this},e),t)}var v1=function(t){return t.type==="atomic"||t.type==="final"};function I4(t){return Object.keys(t.states).map(function(e){return t.states[e]})}function Av(t){return I4(t).filter(function(e){return e.type!=="history"})}function R4(t){var e=[t];return v1(t)?e:e.concat(Ea(Av(t).map(R4)))}function Dv(t,e){var n,r,a,o,u,l,f,p,c=new Set(t),g=hk(c),y=new Set(e);try{for(var S=ir(y),E=S.next();!E.done;E=S.next())for(var k=E.value,_=k.parent;_&&!y.has(_);)y.add(_),_=_.parent}catch(q){n={error:q}}finally{try{E&&!E.done&&(r=S.return)&&r.call(S)}finally{if(n)throw n.error}}var I=hk(y);try{for(var R=ir(y),A=R.next();!A.done;A=R.next()){var k=A.value;if(k.type==="compound"&&(!I.get(k)||!I.get(k).length))g.get(k)?g.get(k).forEach(function(K){return y.add(K)}):k.initialStateNodes.forEach(function(K){return y.add(K)});else if(k.type==="parallel")try{for(var O=(u=void 0,ir(Av(k))),L=O.next();!L.done;L=O.next()){var U=L.value;y.has(U)||(y.add(U),g.get(U)?g.get(U).forEach(function(K){return y.add(K)}):U.initialStateNodes.forEach(function(K){return y.add(K)}))}}catch(K){u={error:K}}finally{try{L&&!L.done&&(l=O.return)&&l.call(O)}finally{if(u)throw u.error}}}}catch(q){a={error:q}}finally{try{A&&!A.done&&(o=R.return)&&o.call(R)}finally{if(a)throw a.error}}try{for(var j=ir(y),J=j.next();!J.done;J=j.next())for(var k=J.value,_=k.parent;_&&!y.has(_);)y.add(_),_=_.parent}catch(q){f={error:q}}finally{try{J&&!J.done&&(p=j.return)&&p.call(j)}finally{if(f)throw f.error}}return y}function N4(t,e){var n=e.get(t);if(!n)return{};if(t.type==="compound"){var r=n[0];if(r){if(v1(r))return r.key}else return{}}var a={};return n.forEach(function(o){a[o.key]=N4(o,e)}),a}function hk(t){var e,n,r=new Map;try{for(var a=ir(t),o=a.next();!o.done;o=a.next()){var u=o.value;r.has(u)||r.set(u,[]),u.parent&&(r.has(u.parent)||r.set(u.parent,[]),r.get(u.parent).push(u))}}catch(l){e={error:l}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return r}function $W(t,e){var n=Dv([t],e);return N4(t,hk(n))}function Ov(t,e){return Array.isArray(t)?t.some(function(n){return n===e}):t instanceof Set?t.has(e):!1}function FW(t){return sa([],Er(new Set(Ea(sa([],Er(t.map(function(e){return e.ownEvents})),!1)))),!1)}function y1(t,e){return e.type==="compound"?Av(e).some(function(n){return n.type==="final"&&Ov(t,n)}):e.type==="parallel"?Av(e).every(function(n){return y1(t,n)}):!1}function PW(t){return t===void 0&&(t=[]),t.reduce(function(e,n){return n.meta!==void 0&&(e[n.id]=n.meta),e},{})}function A4(t){return new Set(Ea(t.map(function(e){return e.tags})))}function D4(t,e){if(t===e)return!0;if(t===void 0||e===void 0)return!1;if(Sr(t)||Sr(e))return t===e;var n=Object.keys(t),r=Object.keys(e);return n.length===r.length&&n.every(function(a){return D4(t[a],e[a])})}function LW(t){return typeof t!="object"||t===null?!1:"value"in t&&"_event"in t}function BW(t,e){var n=t.exec,r=pt(pt({},t),{exec:n!==void 0?function(){return n(e.context,e.event,{action:t,state:e,_event:e._event})}:void 0});return r}var Hu=(function(){function t(e){var n=this,r;this.actions=[],this.activities=v4,this.meta={},this.events=[],this.value=e.value,this.context=e.context,this._event=e._event,this._sessionid=e._sessionid,this.event=this._event.data,this.historyValue=e.historyValue,this.history=e.history,this.actions=e.actions||[],this.activities=e.activities||v4,this.meta=PW(e.configuration),this.events=e.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=e.configuration,this.transitions=e.transitions,this.children=e.children,this.done=!!e.done,this.tags=(r=Array.isArray(e.tags)?new Set(e.tags):e.tags)!==null&&r!==void 0?r:new Set,this.machine=e.machine,Object.defineProperty(this,"nextEvents",{get:function(){return FW(n.configuration)}})}return t.from=function(e,n){if(e instanceof t)return e.context!==n?new t({value:e.value,context:n,_event:e._event,_sessionid:null,historyValue:e.historyValue,history:e.history,actions:[],activities:e.activities,events:[],configuration:[],transitions:[],children:{}}):e;var r=Vh;return new t({value:e,context:n,_event:r,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,events:[],configuration:[],transitions:[],children:{}})},t.create=function(e){return new t(e)},t.inert=function(e,n){if(e instanceof t){if(!e.actions.length)return e;var r=Vh;return new t({value:e.value,context:n,_event:r,_sessionid:null,historyValue:e.historyValue,history:e.history,activities:e.activities,configuration:e.configuration,transitions:[],children:{}})}return t.from(e,n)},t.prototype.toStrings=function(e,n){var r=this;if(e===void 0&&(e=this.value),n===void 0&&(n="."),Sr(e))return[e];var a=Object.keys(e);return a.concat.apply(a,sa([],Er(a.map(function(o){return r.toStrings(e[o],n).map(function(u){return o+n+u})})),!1))},t.prototype.toJSON=function(){var e=this;e.configuration,e.transitions;var n=e.tags;e.machine;var r=nk(e,["configuration","transitions","tags","machine"]);return pt(pt({},r),{tags:Array.from(n)})},t.prototype.matches=function(e){return uk(e,this.value)},t.prototype.hasTag=function(e){return this.tags.has(e)},t.prototype.can=function(e){var n;Oa&&Do(!!this.machine,"state.can(...) used outside of a machine-created State object; this will always return false.");var r=(n=this.machine)===null||n===void 0?void 0:n.getTransitionData(this,e);return!!r?.transitions.length&&r.transitions.some(function(a){return a.target!==void 0||a.actions.length})},t})(),zW={deferEvents:!1},O4=(function(){function t(e){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=pt(pt({},zW),e)}return t.prototype.initialize=function(e){if(this.initialized=!0,e){if(!this.options.deferEvents){this.schedule(e);return}this.process(e)}this.flushEvents()},t.prototype.schedule=function(e){if(!this.initialized||this.processingEvent){this.queue.push(e);return}if(this.queue.length!==0)throw new Error("Event queue should be empty when it is not processing events");this.process(e),this.flushEvents()},t.prototype.clear=function(){this.queue=[]},t.prototype.flushEvents=function(){for(var e=this.queue.shift();e;)this.process(e),e=this.queue.shift()},t.prototype.process=function(e){this.processingEvent=!0;try{e()}catch(n){throw this.clear(),n}finally{this.processingEvent=!1}},t})(),mk=new Map,UW=0,Mv={bookId:function(){return"x:".concat(UW++)},register:function(t,e){return mk.set(t,e),t},get:function(t){return mk.get(t)},free:function(t){mk.delete(t)}};function gk(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;Oa||console.warn("XState could not find a global object in this environment. Please let the maintainers know and raise an issue here: https://github.com/statelyai/xstate/issues")}function HW(){var t=gk();if(t&&"__xstate__"in t)return t.__xstate__}function VW(t){if(gk()){var e=HW();e&&e.register(t)}}function WW(t,e){e===void 0&&(e={});var n=t.initialState,r=new Set,a=[],o=!1,u=function(){if(!o){for(o=!0;a.length>0;){var p=a.shift();n=t.transition(n,p,f),r.forEach(function(c){return c.next(n)})}o=!1}},l=MW({id:e.id,send:function(p){a.push(p),u()},getSnapshot:function(){return n},subscribe:function(p,c,g){var y=Iv(p,c,g);return r.add(y),y.next(n),{unsubscribe:function(){r.delete(y)}}}}),f={parent:e.parent,self:l,id:e.id||"anonymous",observers:r};return n=t.start?t.start(f):n,l}var vk={sync:!1,autoForward:!1},qa;(function(t){t[t.NotStarted=0]="NotStarted",t[t.Running=1]="Running",t[t.Stopped=2]="Stopped"})(qa||(qa={}));var jW=(function(){function t(e,n){n===void 0&&(n=t.defaultOptions);var r=this;this.machine=e,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=qa.NotStarted,this.children=new Map,this.forwardTo=new Set,this._outgoingQueue=[],this.init=this.start,this.send=function(c,g){if(Uh(c))return r.batch(c),r.state;var y=Yo(l1(c,g));if(r.status===qa.Stopped)return Oa||Do(!1,'Event "'.concat(y.name,'" was sent to stopped service "').concat(r.machine.id,`". This service has already reached its final state, and will not transition.
Event: `).concat(JSON.stringify(y.data))),r.state;if(r.status!==qa.Running&&!r.options.deferEvents)throw new Error('Event "'.concat(y.name,'" was sent to uninitialized service "').concat(r.machine.id,`". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.
Event: `).concat(JSON.stringify(y.data)));return r.scheduler.schedule(function(){r.forward(y);var S=r._nextState(y);r.update(S,y)}),r._state},this.sendTo=function(c,g,y){var S=r.parent&&(g===zh.Parent||r.parent.id===g),E=S?r.parent:Sr(g)?g===zh.Internal?r:r.children.get(g)||Mv.get(g):gW(g)?g:void 0;if(!E){if(!S)throw new Error("Unable to send event to child '".concat(g,"' from service '").concat(r.id,"'."));Oa||Do(!1,"Service '".concat(r.id,"' has no parent: unable to send event ").concat(c.type));return}if("machine"in E){if(r.status!==qa.Stopped||r.parent!==E||r.state.done){var k=pt(pt({},c),{name:c.name===aW?"".concat(Nv(r.id)):c.name,origin:r.sessionId});!y&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([E,k]):E.send(k)}}else!y&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([E,c.data]):E.send(c.data)},this._exec=function(c,g,y,S){S===void 0&&(S=r.machine.options.actions);var E=c.exec||dk(c.type,S),k=xr(E)?E:E?E.exec:c.exec;if(k)try{return k(g,y.data,r.machine.config.predictableActionArguments?{action:c,_event:y}:{action:c,state:r.state,_event:y})}catch(le){throw r.parent&&r.parent.send({type:"xstate.error",data:le}),le}switch(c.type){case kv:{var _=c;r.defer(_);break}case a1:var I=c;if(typeof I.delay=="number"){r.defer(I);return}else I.to?r.sendTo(I._event,I.to,y===Vh):r.send(I._event);break;case f4:r.cancel(c.sendId);break;case rk:{if(r.status!==qa.Running)return;var R=c.activity;if(!r.machine.config.predictableActionArguments&&!r.state.activities[R.id||R.type])break;if(R.type===zr.Invoke){var A=_4(R.src),O=r.machine.options.services?r.machine.options.services[A.type]:void 0,L=R.id,U=R.data;Oa||Do(!("forward"in R),"`forward` property is deprecated (found in invocation of '".concat(R.src,"' in in machine '").concat(r.machine.id,"'). ")+"Please use `autoForward` instead.");var j="autoForward"in R?R.autoForward:!!R.forward;if(!O){Oa||Do(!1,"No service found for invocation '".concat(R.src,"' in machine '").concat(r.machine.id,"'."));return}var J=U?u1(U,g,y):void 0;if(typeof O=="string")return;var q=xr(O)?O(g,y.data,{data:J,src:A,meta:R.meta}):O;if(!q)return;var K=void 0;Ec(q)&&(q=J?q.withContext(J):q,K={autoForward:j}),r.spawn(q,L,K)}else r.spawnActivity(R);break}case ak:{r.stopChild(c.activity.id);break}case p4:var z=c,te=z.label,ee=z.value;te?r.logger(te,ee):r.logger(ee);break;default:Oa||Do(!1,"No implementation found for action type '".concat(c.type,"'"));break}};var a=pt(pt({},t.defaultOptions),n),o=a.clock,u=a.logger,l=a.parent,f=a.id,p=f!==void 0?f:e.id;this.id=p,this.logger=u,this.clock=o,this.parent=l,this.options=a,this.scheduler=new O4({deferEvents:this.options.deferEvents}),this.sessionId=Mv.bookId()}return Object.defineProperty(t.prototype,"initialState",{get:function(){var e=this;return this._initialState?this._initialState:Wh(this,function(){return e._initialState=e.machine.initialState,e._initialState})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return Oa||Do(this.status!==qa.NotStarted,"Attempted to read state from uninitialized service '".concat(this.id,"'. Make sure the service is started first.")),this._state},enumerable:!1,configurable:!0}),t.prototype.execute=function(e,n){var r,a;try{for(var o=ir(e.actions),u=o.next();!u.done;u=o.next()){var l=u.value;this.exec(l,e,n)}}catch(f){r={error:f}}finally{try{u&&!u.done&&(a=o.return)&&a.call(o)}finally{if(r)throw r.error}}},t.prototype.update=function(e,n){var r,a,o,u,l,f,p,c,g=this;if(e._sessionid=this.sessionId,this._state=e,(!this.machine.config.predictableActionArguments||n===Vh)&&this.options.execute)this.execute(this.state);else for(var y=void 0;y=this._outgoingQueue.shift();)y[0].send(y[1]);if(this.children.forEach(function(q){g.state.children[q.id]=q}),this.devTools&&this.devTools.send(n.data,e),e.event)try{for(var S=ir(this.eventListeners),E=S.next();!E.done;E=S.next()){var k=E.value;k(e.event)}}catch(q){r={error:q}}finally{try{E&&!E.done&&(a=S.return)&&a.call(S)}finally{if(r)throw r.error}}try{for(var _=ir(this.listeners),I=_.next();!I.done;I=_.next()){var k=I.value;k(e,e.event)}}catch(q){o={error:q}}finally{try{I&&!I.done&&(u=_.return)&&u.call(_)}finally{if(o)throw o.error}}try{for(var R=ir(this.contextListeners),A=R.next();!A.done;A=R.next()){var O=A.value;O(this.state.context,this.state.history?this.state.history.context:void 0)}}catch(q){l={error:q}}finally{try{A&&!A.done&&(f=R.return)&&f.call(R)}finally{if(l)throw l.error}}if(this.state.done){var L=e.configuration.find(function(q){return q.type==="final"&&q.parent===g.machine}),U=L&&L.doneData?u1(L.doneData,e.context,n):void 0;this._doneEvent=h1(this.id,U);try{for(var j=ir(this.doneListeners),J=j.next();!J.done;J=j.next()){var k=J.value;k(this._doneEvent)}}catch(q){p={error:q}}finally{try{J&&!J.done&&(c=j.return)&&c.call(j)}finally{if(p)throw p.error}}this._stop(),this._stopChildren(),Mv.free(this.sessionId)}},t.prototype.onTransition=function(e){return this.listeners.add(e),this.status===qa.Running&&e(this.state,this.state.event),this},t.prototype.subscribe=function(e,n,r){var a=this,o=Iv(e,n,r);this.listeners.add(o.next),this.status!==qa.NotStarted&&o.next(this.state);var u=function(){a.doneListeners.delete(u),a.stopListeners.delete(u),o.complete()};return this.status===qa.Stopped?o.complete():(this.onDone(u),this.onStop(u)),{unsubscribe:function(){a.listeners.delete(o.next),a.doneListeners.delete(u),a.stopListeners.delete(u)}}},t.prototype.onEvent=function(e){return this.eventListeners.add(e),this},t.prototype.onSend=function(e){return this.sendListeners.add(e),this},t.prototype.onChange=function(e){return this.contextListeners.add(e),this},t.prototype.onStop=function(e){return this.stopListeners.add(e),this},t.prototype.onDone=function(e){return this.status===qa.Stopped&&this._doneEvent?e(this._doneEvent):this.doneListeners.add(e),this},t.prototype.off=function(e){return this.listeners.delete(e),this.eventListeners.delete(e),this.sendListeners.delete(e),this.stopListeners.delete(e),this.doneListeners.delete(e),this.contextListeners.delete(e),this},t.prototype.start=function(e){var n=this;if(this.status===qa.Running)return this;this.machine._init(),Mv.register(this.sessionId,this),this.initialized=!0,this.status=qa.Running;var r=e===void 0?this.initialState:Wh(this,function(){return LW(e)?n.machine.resolveState(e):n.machine.resolveState(Hu.from(e,n.machine.context))});return this.options.devTools&&this.attachDev(),this.scheduler.initialize(function(){n.update(r,Vh)}),this},t.prototype._stopChildren=function(){this.children.forEach(function(e){xr(e.stop)&&e.stop()}),this.children.clear()},t.prototype._stop=function(){var e,n,r,a,o,u,l,f,p,c;try{for(var g=ir(this.listeners),y=g.next();!y.done;y=g.next()){var S=y.value;this.listeners.delete(S)}}catch(j){e={error:j}}finally{try{y&&!y.done&&(n=g.return)&&n.call(g)}finally{if(e)throw e.error}}try{for(var E=ir(this.stopListeners),k=E.next();!k.done;k=E.next()){var S=k.value;S(),this.stopListeners.delete(S)}}catch(j){r={error:j}}finally{try{k&&!k.done&&(a=E.return)&&a.call(E)}finally{if(r)throw r.error}}try{for(var _=ir(this.contextListeners),I=_.next();!I.done;I=_.next()){var S=I.value;this.contextListeners.delete(S)}}catch(j){o={error:j}}finally{try{I&&!I.done&&(u=_.return)&&u.call(_)}finally{if(o)throw o.error}}try{for(var R=ir(this.doneListeners),A=R.next();!A.done;A=R.next()){var S=A.value;this.doneListeners.delete(S)}}catch(j){l={error:j}}finally{try{A&&!A.done&&(f=R.return)&&f.call(R)}finally{if(l)throw l.error}}if(!this.initialized)return this;this.initialized=!1,this.status=qa.Stopped,this._initialState=void 0;try{for(var O=ir(Object.keys(this.delayedEventsMap)),L=O.next();!L.done;L=O.next()){var U=L.value;this.clock.clearTimeout(this.delayedEventsMap[U])}}catch(j){p={error:j}}finally{try{L&&!L.done&&(c=O.return)&&c.call(O)}finally{if(p)throw p.error}}this.scheduler.clear(),this.scheduler=new O4({deferEvents:this.options.deferEvents})},t.prototype.stop=function(){var e=this,n=this.scheduler;return this._stop(),n.schedule(function(){var r;if(!(!((r=e._state)===null||r===void 0)&&r.done)){var a=Yo({type:"xstate.stop"}),o=Wh(e,function(){var u=Ea(sa([],Er(e.state.configuration),!1).sort(function(g,y){return y.order-g.order}).map(function(g){return Id(g.onExit,e.machine.options.actions)})),l=Er(m1(e.machine,e.state,e.state.context,a,[{type:"exit",actions:u}],e.machine.config.predictableActionArguments?e._exec:void 0,e.machine.config.predictableActionArguments||e.machine.config.preserveActionOrder),2),f=l[0],p=l[1],c=new Hu({value:e.state.value,context:p,_event:a,_sessionid:e.sessionId,historyValue:void 0,history:e.state,actions:f.filter(function(g){return!ck(g)}),activities:{},events:[],configuration:[],transitions:[],children:{},done:e.state.done,tags:e.state.tags,machine:e.machine});return c.changed=!0,c});e.update(o,a),e._stopChildren(),Mv.free(e.sessionId)}}),this},t.prototype.batch=function(e){var n=this;if(this.status===qa.NotStarted&&this.options.deferEvents)Oa||Do(!1,"".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,`" and are deferred. Make sure .start() is called for this service.
Event: `).concat(JSON.stringify(event)));else if(this.status!==qa.Running)throw new Error("".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'));if(e.length){var r=!!this.machine.config.predictableActionArguments&&this._exec;this.scheduler.schedule(function(){var a,o,u=n.state,l=!1,f=[],p=function(S){var E=Yo(S);n.forward(E),u=Wh(n,function(){return n.machine.transition(u,E,void 0,r||void 0)}),f.push.apply(f,sa([],Er(n.machine.config.predictableActionArguments?u.actions:u.actions.map(function(k){return BW(k,u)})),!1)),l=l||!!u.changed};try{for(var c=ir(e),g=c.next();!g.done;g=c.next()){var y=g.value;p(y)}}catch(S){a={error:S}}finally{try{g&&!g.done&&(o=c.return)&&o.call(c)}finally{if(a)throw a.error}}u.changed=l,u.actions=f,n.update(u,Yo(e[e.length-1]))})}},t.prototype.sender=function(e){return this.send.bind(this,e)},t.prototype._nextState=function(e,n){var r=this;n===void 0&&(n=!!this.machine.config.predictableActionArguments&&this._exec);var a=Yo(e);if(a.name.indexOf(h4)===0&&!this.state.nextEvents.some(function(u){return u.indexOf(h4)===0}))throw a.data.data;var o=Wh(this,function(){return r.machine.transition(r.state,a,void 0,n||void 0)});return o},t.prototype.nextState=function(e){return this._nextState(e,!1)},t.prototype.forward=function(e){var n,r;try{for(var a=ir(this.forwardTo),o=a.next();!o.done;o=a.next()){var u=o.value,l=this.children.get(u);if(!l)throw new Error("Unable to forward event '".concat(e,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(u,"'."));l.send(e)}}catch(f){n={error:f}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}},t.prototype.defer=function(e){var n=this,r=this.clock.setTimeout(function(){"to"in e&&e.to?n.sendTo(e._event,e.to,!0):n.send(e._event)},e.delay);e.id&&(this.delayedEventsMap[e.id]=r)},t.prototype.cancel=function(e){this.clock.clearTimeout(this.delayedEventsMap[e]),delete this.delayedEventsMap[e]},t.prototype.exec=function(e,n,r){r===void 0&&(r=this.machine.options.actions),this._exec(e,n.context,n._event,r)},t.prototype.removeChild=function(e){var n;this.children.delete(e),this.forwardTo.delete(e),(n=this.state)===null||n===void 0||delete n.children[e]},t.prototype.stopChild=function(e){var n=this.children.get(e);n&&(this.removeChild(e),xr(n.stop)&&n.stop())},t.prototype.spawn=function(e,n,r){if(this.status!==qa.Running)return pk(e,n);if(w4(e))return this.spawnPromise(Promise.resolve(e),n);if(xr(e))return this.spawnCallback(e,n);if(OW(e))return this.spawnActor(e,n);if(mW(e))return this.spawnObservable(e,n);if(Ec(e))return this.spawnMachine(e,pt(pt({},r),{id:n}));if(fW(e))return this.spawnBehavior(e,n);throw new Error('Unable to spawn entity "'.concat(n,'" of type "').concat(typeof e,'".'))},t.prototype.spawnMachine=function(e,n){var r=this;n===void 0&&(n={});var a=new t(e,pt(pt({},this.options),{parent:this,id:n.id||e.id})),o=pt(pt({},vk),n);o.sync&&a.onTransition(function(l){r.send(m4,{state:l,id:a.id})});var u=a;return this.children.set(a.id,u),o.autoForward&&this.forwardTo.add(a.id),a.onDone(function(l){r.removeChild(a.id),r.send(Yo(l,{origin:a.id}))}).start(),u},t.prototype.spawnBehavior=function(e,n){var r=WW(e,{id:n,parent:this});return this.children.set(n,r),r},t.prototype.spawnPromise=function(e,n){var r,a=this,o=!1,u;e.then(function(f){o||(u=f,a.removeChild(n),a.send(Yo(h1(n,f),{origin:n})))},function(f){if(!o){a.removeChild(n);var p=Nv(n,f);try{a.send(Yo(p,{origin:n}))}catch(c){bW(f,c,n),a.devTools&&a.devTools.send(p,a.state),a.machine.strict&&a.stop()}}});var l=(r={id:n,send:function(){},subscribe:function(f,p,c){var g=Iv(f,p,c),y=!1;return e.then(function(S){y||(g.next(S),!y&&g.complete())},function(S){y||g.error(S)}),{unsubscribe:function(){return y=!0}}},stop:function(){o=!0},toJSON:function(){return{id:n}},getSnapshot:function(){return u}},r[Td]=function(){return this},r);return this.children.set(n,l),l},t.prototype.spawnCallback=function(e,n){var r,a=this,o=!1,u=new Set,l=new Set,f,p=function(y){f=y,l.forEach(function(S){return S(y)}),!o&&a.send(Yo(y,{origin:n}))},c;try{c=e(p,function(y){u.add(y)})}catch(y){this.send(Nv(n,y))}if(w4(c))return this.spawnPromise(c,n);var g=(r={id:n,send:function(y){return u.forEach(function(S){return S(y)})},subscribe:function(y){var S=Iv(y);return l.add(S.next),{unsubscribe:function(){l.delete(S.next)}}},stop:function(){o=!0,xr(c)&&c()},toJSON:function(){return{id:n}},getSnapshot:function(){return f}},r[Td]=function(){return this},r);return this.children.set(n,g),g},t.prototype.spawnObservable=function(e,n){var r,a=this,o,u=e.subscribe(function(f){o=f,a.send(Yo(f,{origin:n}))},function(f){a.removeChild(n),a.send(Yo(Nv(n,f),{origin:n}))},function(){a.removeChild(n),a.send(Yo(h1(n),{origin:n}))}),l=(r={id:n,send:function(){},subscribe:function(f,p,c){return e.subscribe(f,p,c)},stop:function(){return u.unsubscribe()},getSnapshot:function(){return o},toJSON:function(){return{id:n}}},r[Td]=function(){return this},r);return this.children.set(n,l),l},t.prototype.spawnActor=function(e,n){return this.children.set(n,e),e},t.prototype.spawnActivity=function(e){var n=this.machine.options&&this.machine.options.activities?this.machine.options.activities[e.type]:void 0;if(!n){Oa||Do(!1,"No implementation found for activity '".concat(e.type,"'"));return}var r=n(this.state.context,e);this.spawnEffect(e.id,r)},t.prototype.spawnEffect=function(e,n){var r;this.children.set(e,(r={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:n||void 0,getSnapshot:function(){},toJSON:function(){return{id:e}}},r[Td]=function(){return this},r))},t.prototype.attachDev=function(){var e=gk();if(this.options.devTools&&e){if(e.__REDUX_DEVTOOLS_EXTENSION__){var n=typeof this.options.devTools=="object"?this.options.devTools:void 0;this.devTools=e.__REDUX_DEVTOOLS_EXTENSION__.connect(pt(pt({name:this.id,autoPause:!0,stateSanitizer:function(r){return{value:r.value,context:r.context,actions:r.actions}}},n),{features:pt({jump:!1,skip:!1},n?n.features:void 0)}),this.machine),this.devTools.init(this.state)}VW(this)}},t.prototype.toJSON=function(){return{id:this.id}},t.prototype[Td]=function(){return this},t.prototype.getSnapshot=function(){return this.status===qa.NotStarted?this.initialState:this._state},t.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(e,n){return setTimeout(e,n)},clearTimeout:function(e){return clearTimeout(e)}},logger:console.log.bind(console),devTools:!1},t.interpret=M4,t})(),GW=function(t){return Sr(t)?pt(pt({},vk),{name:t}):pt(pt(pt({},vk),{name:vW()}),t)};function qW(t,e){var n=GW(e);return NW(function(r){if(!Oa){var a=Ec(t)||xr(t);Do(!!r||a,'Attempted to spawn an Actor (ID: "'.concat(Ec(t)?t.id:"undefined",'") outside of a service. This will have no effect.'))}return r?r.spawn(t,n.name,n):pk(t,n.name)})}function M4(t,e){var n=new jW(t,e);return n}function KW(t){if(typeof t=="string"){var e={type:t};return e.toString=function(){return t},e}return t}function b1(t){return pt(pt({type:sk},t),{toJSON:function(){t.onDone,t.onError;var e=nk(t,["onDone","onError"]);return pt(pt({},e),{type:sk,src:KW(t.src)})}})}var jh="",yk="#",$v="*",Gh={},qh=function(t){return t[0]===yk},YW=function(){return{actions:{},guards:{},services:{},activities:{},delays:{}}},XW=function(t,e,n){var r=n.slice(0,-1).some(function(o){return!("cond"in o)&&!("in"in o)&&(Sr(o.target)||Ec(o.target))}),a=e===jh?"the transient event":"event '".concat(e,"'");Do(!r,"One or more transitions for ".concat(a," on state '").concat(t.id,"' are unreachable. ")+"Make sure that the default transition is the last one defined.")},QW=(function(){function t(e,n,r,a){r===void 0&&(r="context"in e?e.context:void 0);var o=this,u;this.config=e,this._context=r,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign(YW(),n),this.parent=a?.parent,this.key=this.config.key||a?.key||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:g4),this.id=this.config.id||sa([this.machine.key],Er(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:(u=this.config.schema)!==null&&u!==void 0?u:{},this.description=this.config.description,Oa||Do(!("parallel"in this.config),'The "parallel" property is deprecated and will be removed in version 4.1. '.concat(this.config.parallel?"Replace with `type: 'parallel'`":"Use `type: '".concat(this.type,"'`")," in the config for state node '").concat(this.id,"' instead.")),this.initial=this.config.initial,this.states=this.config.states?Tv(this.config.states,function(p,c){var g,y=new t(p,{},void 0,{parent:o,key:c});return Object.assign(o.idMap,pt((g={},g[y.id]=y,g),y.idMap)),y}):Gh;var l=0;function f(p){var c,g;p.order=l++;try{for(var y=ir(I4(p)),S=y.next();!S.done;S=y.next()){var E=S.value;f(E)}}catch(k){c={error:k}}finally{try{S&&!S.done&&(g=y.return)&&g.call(y)}finally{if(c)throw c.error}}}f(this),this.history=this.config.history===!0?"shallow":this.config.history||!1,this._transient=!!this.config.always||(this.config.on?Array.isArray(this.config.on)?this.config.on.some(function(p){var c=p.event;return c===jh}):jh in this.config.on:!1),this.strict=!!this.config.strict,this.onEntry=Uu(this.config.entry||this.config.onEntry).map(function(p){return Rv(p)}),this.onExit=Uu(this.config.exit||this.config.onExit).map(function(p){return Rv(p)}),this.meta=this.config.meta,this.doneData=this.type==="final"?this.config.data:void 0,this.invoke=Uu(this.config.invoke).map(function(p,c){var g,y;if(Ec(p)){var S=c1(o.id,c);return o.machine.options.services=pt((g={},g[S]=p,g),o.machine.options.services),b1({src:S,id:S})}else if(Sr(p.src)){var S=p.id||c1(o.id,c);return b1(pt(pt({},p),{id:S,src:p.src}))}else if(Ec(p.src)||xr(p.src)){var S=p.id||c1(o.id,c);return o.machine.options.services=pt((y={},y[S]=p.src,y),o.machine.options.services),b1(pt(pt({id:S},p),{src:S}))}else{var E=p.src;return b1(pt(pt({id:c1(o.id,c)},p),{src:E}))}}),this.activities=Uu(this.config.activities).concat(this.invoke).map(function(p){return fk(p)}),this.transition=this.transition.bind(this),this.tags=Uu(this.config.tags)}return t.prototype._init=function(){this.__cache.transitions||R4(this).forEach(function(e){return e.on})},t.prototype.withConfig=function(e,n){var r=this.options,a=r.actions,o=r.activities,u=r.guards,l=r.services,f=r.delays;return new t(this.config,{actions:pt(pt({},a),e.actions),activities:pt(pt({},o),e.activities),guards:pt(pt({},u),e.guards),services:pt(pt({},l),e.services),delays:pt(pt({},f),e.delays)},n??this.context)},t.prototype.withContext=function(e){return new t(this.config,this.options,e)},Object.defineProperty(t.prototype,"context",{get:function(){return xr(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:Tv(this.states,function(e){return e.definition}),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return this.definition},Object.defineProperty(t.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var e=this.transitions;return this.__cache.on=e.reduce(function(n,r){return n[r.eventType]=n[r.eventType]||[],n[r.eventType].push(r),n},{})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),t.prototype.getCandidates=function(e){if(this.__cache.candidates[e])return this.__cache.candidates[e];var n=e===jh,r=this.transitions.filter(function(a){var o=a.eventType===e;return n?o:o||a.eventType===$v});return this.__cache.candidates[e]=r,r},t.prototype.getDelayedTransitions=function(){var e=this,n=this.config.after;if(!n)return[];var r=function(o,u){var l=xr(o)?"".concat(e.id,":delay[").concat(u,"]"):o,f=IW(l,e.id);return e.onEntry.push(d1(f,{delay:o})),e.onExit.push(f1(f)),f},a=Uh(n)?n.map(function(o,u){var l=r(o.delay,u);return pt(pt({},o),{event:l})}):Ea(Object.keys(n).map(function(o,u){var l=n[o],f=Sr(l)?{target:l}:l,p=isNaN(+o)?o:+o,c=r(p,u);return Uu(f).map(function(g){return pt(pt({},g),{event:c,delay:p})})}));return a.map(function(o){var u=o.delay;return pt(pt({},e.formatTransition(o)),{delay:u})})},t.prototype.getStateNodes=function(e){var n,r=this;if(!e)return[];var a=e instanceof Hu?e.value:_v(e,this.delimiter);if(Sr(a)){var o=this.getStateNode(a).initial;return o!==void 0?this.getStateNodes((n={},n[a]=o,n)):[this,this.states[a]]}var u=Object.keys(a),l=[this];return l.push.apply(l,sa([],Er(Ea(u.map(function(f){return r.getStateNode(f).getStateNodes(a[f])}))),!1)),l},t.prototype.handles=function(e){var n=y4(e);return this.events.includes(n)},t.prototype.resolveState=function(e){var n=e instanceof Hu?e:Hu.create(e),r=Array.from(Dv([],this.getStateNodes(n.value)));return new Hu(pt(pt({},n),{value:this.resolve(n.value),configuration:r,done:y1(r,this),tags:A4(r),machine:this.machine}))},t.prototype.transitionLeafNode=function(e,n,r){var a=this.getStateNode(e),o=a.next(n,r);return!o||!o.transitions.length?this.next(n,r):o},t.prototype.transitionCompoundNode=function(e,n,r){var a=Object.keys(e),o=this.getStateNode(a[0]),u=o._transition(e[a[0]],n,r);return!u||!u.transitions.length?this.next(n,r):u},t.prototype.transitionParallelNode=function(e,n,r){var a,o,u={};try{for(var l=ir(Object.keys(e)),f=l.next();!f.done;f=l.next()){var p=f.value,c=e[p];if(c){var g=this.getStateNode(p),y=g._transition(c,n,r);y&&(u[p]=y)}}}catch(I){a={error:I}}finally{try{f&&!f.done&&(o=l.return)&&o.call(l)}finally{if(a)throw a.error}}var S=Object.keys(u).map(function(I){return u[I]}),E=Ea(S.map(function(I){return I.transitions})),k=S.some(function(I){return I.transitions.length>0});if(!k)return this.next(n,r);var _=Ea(Object.keys(u).map(function(I){return u[I].configuration}));return{transitions:E,exitSet:Ea(S.map(function(I){return I.exitSet})),configuration:_,source:n,actions:Ea(Object.keys(u).map(function(I){return u[I].actions}))}},t.prototype._transition=function(e,n,r){return Sr(e)?this.transitionLeafNode(e,n,r):Object.keys(e).length===1?this.transitionCompoundNode(e,n,r):this.transitionParallelNode(e,n,r)},t.prototype.getTransitionData=function(e,n){return this._transition(e.value,e,Yo(n))},t.prototype.next=function(e,n){var r,a,o=this,u=n.name,l=[],f=[],p;try{for(var c=ir(this.getCandidates(u)),g=c.next();!g.done;g=c.next()){var y=g.value,S=y.cond,E=y.in,k=e.context,_=E?Sr(E)&&qh(E)?e.matches(_v(this.getStateNodeById(E).path,this.delimiter)):uk(_v(E,this.delimiter),lW(this.path.slice(0,-2))(e.value)):!0,I=!1;try{I=!S||k4(this.machine,S,k,n,e)}catch(O){throw new Error("Unable to evaluate guard '".concat(S.name||S.type,"' in transition for event '").concat(u,"' in state node '").concat(this.id,`':
`).concat(O.message))}if(I&&_){y.target!==void 0&&(f=y.target),l.push.apply(l,sa([],Er(y.actions),!1)),p=y;break}}}catch(O){r={error:O}}finally{try{g&&!g.done&&(a=c.return)&&a.call(c)}finally{if(r)throw r.error}}if(p){if(!f.length)return{transitions:[p],exitSet:[],configuration:e.value?[this]:[],source:e,actions:l};var R=Ea(f.map(function(O){return o.getRelativeStateNodes(O,e.historyValue)})),A=!!p.internal;return{transitions:[p],exitSet:A?[]:Ea(f.map(function(O){return o.getPotentiallyReenteringNodes(O)})),configuration:R,source:e,actions:l}}},t.prototype.getPotentiallyReenteringNodes=function(e){if(this.order<e.order)return[this];for(var n=[],r=this,a=e;r&&r!==a;)n.push(r),r=r.parent;return r!==a?[]:(n.push(a),n)},t.prototype.getActions=function(e,n,r,a,o,u,l){var f,p,c,g,y=this,S=u?Dv([],this.getStateNodes(u.value)):[],E=new Set;try{for(var k=ir(Array.from(e).sort(function(z,te){return z.order-te.order})),_=k.next();!_.done;_=k.next()){var I=_.value;(!Ov(S,I)||Ov(r.exitSet,I)||I.parent&&E.has(I.parent))&&E.add(I)}}catch(z){f={error:z}}finally{try{_&&!_.done&&(p=k.return)&&p.call(k)}finally{if(f)throw f.error}}try{for(var R=ir(S),A=R.next();!A.done;A=R.next()){var I=A.value;(!Ov(e,I)||Ov(r.exitSet,I.parent))&&r.exitSet.push(I)}}catch(z){c={error:z}}finally{try{A&&!A.done&&(g=R.return)&&g.call(R)}finally{if(c)throw c.error}}r.exitSet.sort(function(z,te){return te.order-z.order});var O=Array.from(E).sort(function(z,te){return z.order-te.order}),L=new Set(r.exitSet),U=Ea(O.map(function(z){var te=[];if(z.type!=="final")return te;var ee=z.parent;if(!ee.parent)return te;te.push(p1(z.id,z.doneData),p1(ee.id,z.doneData?u1(z.doneData,a,o):void 0));var le=ee.parent;return le.type==="parallel"&&Av(le).every(function(ce){return y1(r.configuration,ce)})&&te.push(p1(le.id)),te})),j=O.map(function(z){var te=z.onEntry,ee=z.activities.map(function(le){return CW(le)});return{type:"entry",actions:Id(l?sa(sa([],Er(te),!1),Er(ee),!1):sa(sa([],Er(ee),!1),Er(te),!1),y.machine.options.actions)}}).concat({type:"state_done",actions:U.map(function(z){return SW(z)})}),J=Array.from(L).map(function(z){return{type:"exit",actions:Id(sa(sa([],Er(z.onExit),!1),Er(z.activities.map(function(te){return kW(te)})),!1),y.machine.options.actions)}}),q=J.concat({type:"transition",actions:Id(r.actions,this.machine.options.actions)}).concat(j);if(n){var K=Id(Ea(sa([],Er(e),!1).sort(function(z,te){return te.order-z.order}).map(function(z){return z.onExit})),this.machine.options.actions).filter(function(z){return!ck(z)});return q.concat({type:"stop",actions:K})}return q},t.prototype.transition=function(e,n,r,a){e===void 0&&(e=this.initialState);var o=Yo(n),u;if(e instanceof Hu)u=r===void 0?e:this.resolveState(Hu.from(e,r));else{var l=Sr(e)?this.resolve(s1(this.getResolvedPath(e))):this.resolve(e),f=r??this.machine.context;u=this.resolveState(Hu.from(l,f))}if(!Oa&&o.name===$v)throw new Error("An event cannot have the wildcard type ('".concat($v,"')"));if(this.strict&&!this.events.includes(o.name)&&!dW(o.name))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(o.name,"'"));var p=this._transition(u.value,u,o)||{transitions:[],configuration:[],exitSet:[],source:u,actions:[]},c=Dv([],this.getStateNodes(u.value)),g=p.configuration.length?Dv(c,p.configuration):c;return p.configuration=sa([],Er(g),!1),this.resolveTransition(p,u,u.context,a,o)},t.prototype.resolveRaisedTransition=function(e,n,r,a){var o,u=e.actions;return e=this.transition(e,n,void 0,a),e._event=r,e.event=r.data,(o=e.actions).unshift.apply(o,sa([],Er(u),!1)),e},t.prototype.resolveTransition=function(e,n,r,a,o){var u,l,f,p,c=this;o===void 0&&(o=Vh);var g=e.configuration,y=!n||e.transitions.length>0,S=y?e.configuration:n?n.configuration:[],E=y1(S,this),k=y?$W(this.machine,g):void 0,_=n?n.historyValue?n.historyValue:e.source?this.machine.historyValue(n.value):void 0:void 0,I=this.getActions(new Set(S),E,e,r,o,n,a),R=n?pt({},n.activities):{};try{for(var A=ir(I),O=A.next();!O.done;O=A.next()){var L=O.value;try{for(var U=(f=void 0,ir(L.actions)),j=U.next();!j.done;j=U.next()){var J=j.value;J.type===rk?R[J.activity.id||J.activity.type]=J:J.type===ak&&(R[J.activity.id||J.activity.type]=!1)}}catch(Ce){f={error:Ce}}finally{try{j&&!j.done&&(p=U.return)&&p.call(U)}finally{if(f)throw f.error}}}}catch(Ce){u={error:Ce}}finally{try{O&&!O.done&&(l=A.return)&&l.call(A)}finally{if(u)throw u.error}}var q=Er(m1(this,n,r,o,I,a,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),K=q[0],z=q[1],te=Er(pW(K,ck),2),ee=te[0],le=te[1],ce=K.filter(function(Ce){var Me;return Ce.type===rk&&((Me=Ce.activity)===null||Me===void 0?void 0:Me.type)===sk}),ye=ce.reduce(function(Ce,Me){return Ce[Me.activity.id]=AW(Me.activity,c.machine,z,o),Ce},n?pt({},n.children):{}),ve=new Hu({value:k||n.value,context:z,_event:o,_sessionid:n?n._sessionid:null,historyValue:k?_?hW(_,k):void 0:n?n.historyValue:void 0,history:!k||e.source?n:void 0,actions:k?le:[],activities:k?R:n?n.activities:{},events:[],configuration:S,transitions:e.transitions,children:ye,done:E,tags:A4(S),machine:this}),oe=r!==z;ve.changed=o.name===m4||oe;var he=ve.history;he&&delete he.history;var ge=!E&&(this._transient||g.some(function(Ce){return Ce._transient}));if(!y&&(!ge||o.name===jh))return ve;var Q=ve;if(!E)for(ge&&(Q=this.resolveRaisedTransition(Q,{type:nW},o,a));ee.length;){var ue=ee.shift();Q=this.resolveRaisedTransition(Q,ue._event,o,a)}var ke=Q.changed||(he?!!Q.actions.length||oe||typeof he.value!=typeof Q.value||!D4(Q.value,he.value):void 0);return Q.changed=ke,Q.history=he,Q},t.prototype.getStateNode=function(e){if(qh(e))return this.machine.getStateNodeById(e);if(!this.states)throw new Error("Unable to retrieve child state '".concat(e,"' from '").concat(this.id,"'; no child states exist."));var n=this.states[e];if(!n)throw new Error("Child state '".concat(e,"' does not exist on '").concat(this.id,"'"));return n},t.prototype.getStateNodeById=function(e){var n=qh(e)?e.slice(yk.length):e;if(n===this.id)return this;var r=this.machine.idMap[n];if(!r)throw new Error("Child state node '#".concat(n,"' does not exist on machine '").concat(this.id,"'"));return r},t.prototype.getStateNodeByPath=function(e){if(typeof e=="string"&&qh(e))try{return this.getStateNodeById(e.slice(1))}catch{}for(var n=lk(e,this.delimiter).slice(),r=this;n.length;){var a=n.shift();if(!a.length)break;r=r.getStateNode(a)}return r},t.prototype.resolve=function(e){var n,r=this;if(!e)return this.initialStateValue||Gh;switch(this.type){case"parallel":return Tv(this.initialStateValue,function(o,u){return o?r.getStateNode(u).resolve(e[u]||o):Gh});case"compound":if(Sr(e)){var a=this.getStateNode(e);return a.type==="parallel"||a.type==="compound"?(n={},n[e]=a.initialStateValue,n):e}return Object.keys(e).length?Tv(e,function(o,u){return o?r.getStateNode(u).resolve(o):Gh}):this.initialStateValue||{};default:return e||Gh}},t.prototype.getResolvedPath=function(e){if(qh(e)){var n=this.machine.idMap[e.slice(yk.length)];if(!n)throw new Error("Unable to find state node '".concat(e,"'"));return n.path}return lk(e,this.delimiter)},Object.defineProperty(t.prototype,"initialStateValue",{get:function(){var e;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;var n;if(this.type==="parallel")n=b4(this.states,function(r){return r.initialStateValue||Gh},function(r){return r.type!=="history"});else if(this.initial!==void 0){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));n=v1(this.states[this.initial])?this.initial:(e={},e[this.initial]=this.states[this.initial].initialStateValue,e)}else n={};return this.__cache.initialStateValue=n,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),t.prototype.getInitialState=function(e,n){this._init();var r=this.getStateNodes(e);return this.resolveTransition({configuration:r,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,n??this.machine.context,void 0)},Object.defineProperty(t.prototype,"initialState",{get:function(){var e=this.initialStateValue;if(!e)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){var e;if(this.type==="history"){var n=this.config;Sr(n.target)?e=qh(n.target)?s1(this.machine.getStateNodeById(n.target).path.slice(this.path.length-1)):n.target:e=n.target}return e},enumerable:!1,configurable:!0}),t.prototype.getRelativeStateNodes=function(e,n,r){return r===void 0&&(r=!0),r?e.type==="history"?e.resolveHistory(n):e.initialStateNodes:[e]},Object.defineProperty(t.prototype,"initialStateNodes",{get:function(){var e=this;if(v1(this))return[this];if(this.type==="compound"&&!this.initial)return Oa||Do(!1,"Compound state node '".concat(this.id,"' has no initial state.")),[this];var n=i1(this.initialStateValue);return Ea(n.map(function(r){return e.getFromRelativePath(r)}))},enumerable:!1,configurable:!0}),t.prototype.getFromRelativePath=function(e){if(!e.length)return[this];var n=Er(e),r=n[0],a=n.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(r,"' from node with no states"));var o=this.getStateNode(r);if(o.type==="history")return o.resolveHistory();if(!this.states[r])throw new Error("Child state '".concat(r,"' does not exist on '").concat(this.id,"'"));return this.states[r].getFromRelativePath(a)},t.prototype.historyValue=function(e){if(Object.keys(this.states).length)return{current:e||this.initialStateValue,states:b4(this.states,function(n,r){if(!e)return n.historyValue();var a=Sr(e)?void 0:e[r];return n.historyValue(a||n.initialStateValue)},function(n){return!n.history})}},t.prototype.resolveHistory=function(e){var n=this;if(this.type!=="history")return[this];var r=this.parent;if(!e){var a=this.target;return a?Ea(i1(a).map(function(u){return r.getFromRelativePath(u)})):r.initialStateNodes}var o=cW(r.path,"states")(e).current;return Sr(o)?[r.getStateNode(o)]:Ea(i1(o).map(function(u){return n.history==="deep"?r.getFromRelativePath(u):[r.states[u[0]]]}))},Object.defineProperty(t.prototype,"stateIds",{get:function(){var e=this,n=Ea(Object.keys(this.states).map(function(r){return e.states[r].stateIds}));return[this.id].concat(n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"events",{get:function(){var e,n,r,a;if(this.__cache.events)return this.__cache.events;var o=this.states,u=new Set(this.ownEvents);if(o)try{for(var l=ir(Object.keys(o)),f=l.next();!f.done;f=l.next()){var p=f.value,c=o[p];if(c.states)try{for(var g=(r=void 0,ir(c.events)),y=g.next();!y.done;y=g.next()){var S=y.value;u.add("".concat(S))}}catch(E){r={error:E}}finally{try{y&&!y.done&&(a=g.return)&&a.call(g)}finally{if(r)throw r.error}}}}catch(E){e={error:E}}finally{try{f&&!f.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return this.__cache.events=Array.from(u)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ownEvents",{get:function(){var e=new Set(this.transitions.filter(function(n){return!(!n.target&&!n.actions.length&&n.internal)}).map(function(n){return n.eventType}));return Array.from(e)},enumerable:!1,configurable:!0}),t.prototype.resolveTarget=function(e){var n=this;if(e!==void 0)return e.map(function(r){if(!Sr(r))return r;var a=r[0]===n.delimiter;if(a&&!n.parent)return n.getStateNodeByPath(r.slice(1));var o=a?n.key+r:r;if(n.parent)try{var u=n.parent.getStateNodeByPath(o);return u}catch(l){throw new Error("Invalid transition definition for state node '".concat(n.id,`':
`).concat(l.message))}else return n.getStateNodeByPath(o)})},t.prototype.formatTransition=function(e){var n=this,r=yW(e.target),a="internal"in e?e.internal:r?r.some(function(f){return Sr(f)&&f[0]===n.delimiter}):!0,o=this.machine.options.guards,u=this.resolveTarget(r),l=pt(pt({},e),{actions:Id(Uu(e.actions)),cond:C4(e.cond,o),target:u,source:this,internal:a,eventType:e.event,toJSON:function(){return pt(pt({},l),{target:l.target?l.target.map(function(f){return"#".concat(f.id)}):void 0,source:"#".concat(n.id)})}});return l},t.prototype.formatTransitions=function(){var e,n,r=this,a;if(!this.config.on)a=[];else if(Array.isArray(this.config.on))a=this.config.on;else{var o=this.config.on,u=$v,l=o[u],f=l===void 0?[]:l,p=nk(o,[typeof u=="symbol"?u:u+""]);a=Ea(Object.keys(p).map(function(R){!Oa&&R===jh&&Do(!1,"Empty string transition configs (e.g., `{ on: { '': ... }}`) for transient transitions are deprecated. Specify the transition in the `{ always: ... }` property instead. "+'Please check the `on` configuration for "#'.concat(r.id,'".'));var A=Hh(R,p[R]);return Oa||XW(r,R,A),A}).concat(Hh($v,f)))}var c=this.config.always?Hh("",this.config.always):[],g=this.config.onDone?Hh(String(p1(this.id)),this.config.onDone):[];Oa||Do(!(this.config.onDone&&!this.parent),'Root nodes cannot have an ".onDone" transition. Please check the config of "'.concat(this.id,'".'));var y=Ea(this.invoke.map(function(R){var A=[];return R.onDone&&A.push.apply(A,sa([],Er(Hh(String(h1(R.id)),R.onDone)),!1)),R.onError&&A.push.apply(A,sa([],Er(Hh(String(Nv(R.id)),R.onError)),!1)),A})),S=this.after,E=Ea(sa(sa(sa(sa([],Er(g),!1),Er(y),!1),Er(a),!1),Er(c),!1).map(function(R){return Uu(R).map(function(A){return r.formatTransition(A)})}));try{for(var k=ir(S),_=k.next();!_.done;_=k.next()){var I=_.value;E.push(I)}}catch(R){e={error:R}}finally{try{_&&!_.done&&(n=k.return)&&n.call(k)}finally{if(e)throw e.error}}return E},t})(),$4=!1;function JW(t,e){return!Oa&&!("predictableActionArguments"in t)&&!$4&&($4=!0,console.warn("It is highly recommended to set `predictableActionArguments` to `true` when using `createMachine`. https://xstate.js.org/docs/guides/actions.html")),new QW(t,e)}var $r=TW,F4=Ie.useLayoutEffect;function bk(t){var e=Ie.useRef();return e.current||(e.current={v:t()}),e.current.v}var S1=function(){return S1=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},S1.apply(this,arguments)},ZW=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n},P4=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),a,o=[],u;try{for(;(e===void 0||e-- >0)&&!(a=r.next()).done;)o.push(a.value)}catch(l){u={error:l}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(u)throw u.error}}return o};function ej(t,e){var n=bk(function(){return typeof t=="function"?t():t});if(process.env.NODE_ENV!=="production"&&typeof t!="function"){var r=P4(Ie.useState(n),1),a=r[0];t!==a&&console.warn("Machine given to `useMachine` has changed between renders. This is not supported and might lead to unexpected results.\nPlease make sure that you pass the same Machine as argument each time.")}var o=e.context,u=e.guards,l=e.actions,f=e.activities,p=e.services,c=e.delays;e.state;var g=ZW(e,["context","guards","actions","activities","services","delays","state"]),y=bk(function(){var S={context:o,guards:u,actions:l,activities:f,services:p,delays:c},E=n.withConfig(S,function(){return S1(S1({},n.context),o)});return M4(E,g)});return F4(function(){Object.assign(y.machine.options.actions,l),Object.assign(y.machine.options.guards,u),Object.assign(y.machine.options.activities,f),Object.assign(y.machine.options.services,p),Object.assign(y.machine.options.delays,c)},[l,u,f,p,c]),y}function tj(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=P4(e,2),a=r[0],o=a===void 0?{}:a,u=r[1],l=ej(t,o);return Ie.useEffect(function(){if(u){var f=l.subscribe(Iv(u));return function(){f.unsubscribe()}}},[u]),Ie.useEffect(function(){var f=o.state;return l.start(f?Hu.create(f):void 0),function(){l.stop(),l.status=qa.NotStarted}},[]),l}function L4(t){return t.status!==0?t.getSnapshot():t.machine.initialState}function Sk(t){return"state"in t&&"machine"in t}function nj(t,e,n){if(t.status===qa.NotStarted)return!0;var r=n.changed===void 0&&(Object.keys(n.children).length>0||typeof e.changed=="boolean");return!(n.changed||r)}function rj(t){return t}function B4(t){return"state"in t}function aj(t){return"deferred"in t}function oj(t){return"getSnapshot"in t?Sk(t)?L4(t):t.getSnapshot():B4(t)?t.state:void 0}function sj(t,e){e===void 0&&(e=oj);var n=Ie.useRef(t),r=Ie.useRef([]),a=Ie.useCallback(function(p){var c=t.subscribe(p).unsubscribe;return c},[t]),o=Ie.useCallback(function(){return e(t)},[t,e]),u=Ie.useCallback(function(p,c){return Sk(t)?nj(t,p,c):p===c},[t]),l=d4.useSyncExternalStoreWithSelector(a,o,o,rj,u),f=bk(function(){return function(){for(var p=[],c=0;c<arguments.length;c++)p[c]=arguments[c];var g=p[0];process.env.NODE_ENV!=="production"&&p.length>1&&console.warn("Unexpected payload: ".concat(JSON.stringify(p[1]),". Only a single event object can be sent to actor send() functions."));var y=n.current;aj(y)&&y.deferred?r.current.push(g):y.send(g)}});return F4(function(){for(n.current=t;r.current.length>0;){var p=r.current.shift();t.send(p)}},[t]),[l,f]}var ij=function(t,e){return t===e},uj=function(t,e){if(Sk(t)){if(t.status===0&&e.current)return e.current;var n=L4(t);return e.current=t.status===0?n:null,n}return B4(t)?t.state:void 0};function lj(t,e,n,r){n===void 0&&(n=ij);var a=Ie.useRef(null),o=Ie.useCallback(function(f){var p=t.subscribe(f).unsubscribe;return p},[t]),u=Ie.useCallback(function(){return uj(t,a)},[t,r]),l=d4.useSyncExternalStoreWithSelector(o,u,u,e,n);return l}var xc;(function(t){t.DARK="dark",t.BRIGHT="bright",t.NORMAL="normal"})(xc||(xc={}));var Cr;(function(t){t.MATCHED="MATCHED",t.TOO_FAR="TOO FAR",t.CANT_IDENTIFY="CANNOT IDENTIFY",t.FACE_IDENTIFIED="ONE FACE IDENTIFIED",t.TOO_MANY="TOO MANY FACES",t.OFF_CENTER="OFF CENTER"})(Cr||(Cr={}));const na={CONNECTION_TIMEOUT:"CONNECTION_TIMEOUT",TIMEOUT:"TIMEOUT",RUNTIME_ERROR:"RUNTIME_ERROR",SERVER_ERROR:"SERVER_ERROR",CAMERA_FRAMERATE_ERROR:"CAMERA_FRAMERATE_ERROR",CAMERA_ACCESS_ERROR:"CAMERA_ACCESS_ERROR",FACE_DISTANCE_ERROR:"FACE_DISTANCE_ERROR",MOBILE_LANDSCAPE_ERROR:"MOBILE_LANDSCAPE_ERROR",MULTIPLE_FACES_ERROR:"MULTIPLE_FACES_ERROR"},wk=2,z4=1.8,cj=0,dj=1,fj=.25,pj=.75,U4=1.618,Kh={SUCCESS_CODE:1e3,DEFAULT_ERROR_CODE:4e3,FACE_FIT_TIMEOUT:4001,USER_CANCEL:4003,RUNTIME_ERROR:4005,USER_ERROR_DURING_CONNECTION:4007},hj=1e3,mj=10,gj=299,vj=1e4,Ek={type:"FaceMovementAndLightChallenge",version:"2.0.0"},w1={type:"FaceMovementChallenge",version:"1.0.0"},yj=[Ek,w1].map(t=>`${t.type}_${t.version}`).join(",");function H4(t,e,n){return t*(n-e)+e}function V4(t){const e=t.flippedCenterX-t.width/2,n=t.flippedCenterX+t.width/2,r=t.centerY-t.height/2,a=t.centerY+t.height/2;return{ovalBoundingBox:{left:e,top:r,right:n,bottom:a},minOvalX:e,maxOvalX:n,minOvalY:r,maxOvalY:a}}function W4(t,e){const n=Math.max(t.left,e.left),r=Math.max(t.top,e.top),a=Math.min(t.right,e.right),o=Math.min(t.bottom,e.bottom),u=Math.abs(Math.max(0,a-n)*Math.max(0,o-r));if(u===0)return 0;const l=Math.abs((t.right-t.left)*(t.bottom-t.top)),f=Math.abs((e.right-e.left)*(e.bottom-e.top));return u/(l+f-u)}function bj({parsedSessionInformation:t,videoWidth:e}){const n=t.Challenge.OvalParameters;if(!n||!n.CenterX||!n.CenterY||!n.Width||!n.Height)throw new Error("Oval parameters not returned from session information.");return{flippedCenterX:e-n.CenterX,centerX:n.CenterX,centerY:n.CenterY,width:n.Width,height:n.Height}}function j4({width:t,height:e,widthSeed:n=1,centerXSeed:r=.5,centerYSeed:a=.5,ratioMultiplier:o=.8,ovalHeightWidthRatio:u=U4}){const l=e;let f=t;const p=n*o,c=Math.floor(7*t/16),g=Math.floor(9*t/16),y=Math.floor(7*e/16),S=Math.floor(9*e/16),E=H4(r,c,g),k=H4(a,y,S);t>=e&&(f=3/4*l);const _=p*f,I=u*_;return{flippedCenterX:Math.floor(f-E),centerX:Math.floor(E),centerY:Math.floor(k),width:Math.floor(_),height:Math.floor(I)}}function G4({canvas:t,oval:e,scaleFactor:n,videoEl:r,isStartScreen:a}){const{flippedCenterX:o,centerY:u,width:l,height:f}=e,{width:p,height:c}=t.getBoundingClientRect(),g=t.getContext("2d");if(g){g.restore(),g.clearRect(0,0,p,c),g.fillStyle=a?getComputedStyle(t).getPropertyValue("--amplify-colors-background-primary"):"#fff",g.fillRect(0,0,p,c);const y={width:r.videoWidth,height:r.videoHeight},S={x:(p-y.width*n)/2,y:(c-y.height*n)/2};g.setTransform(n,0,0,n,S.x,S.y),g.beginPath(),g.ellipse(o,u,l/2,f/2,0,0,2*Math.PI),g.strokeStyle=getComputedStyle(t).getPropertyValue("--amplify-colors-border-secondary"),g.lineWidth=3,g.stroke(),g.save(),g.clip(),g.setTransform(1,0,0,1,0,0),g.clearRect(0,0,p,c)}else throw new Error("Cannot find Canvas.")}function q4(t,e,n){const{width:r,height:a}=n.getTracks()[0].getSettings(),{width:o,height:u}=e.getBoundingClientRect();t.width=Math.ceil(o),t.height=Math.ceil(u);const l=j4({width:r,height:a,ratioMultiplier:.5});l.flippedCenterX=r-l.centerX;const f=o/e.videoWidth;G4({canvas:t,oval:l,scaleFactor:f,videoEl:e,isStartScreen:!0})}function Sj({canvas:t}){const e=t.getContext("2d");if(e)e.restore(),e.clearRect(0,0,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER);else throw new Error("Cannot find Canvas.")}function K4(t){const{leftEye:e,rightEye:n,mouth:r}=t,a=[];a[0]=(e[0]+n[0])/2,a[1]=(e[1]+n[1])/2;const o=Math.sqrt((e[0]-n[0])**2+(e[1]-n[1])**2),u=Math.sqrt((a[0]-r[0])**2+(a[1]-r[1])**2);return{pupilDistance:o,faceHeight:u}}function xk({ovalHeightWidthRatio:t=U4,face:e,oval:n,frameHeight:r}){const{leftEye:a,rightEye:o,nose:u,leftEar:l,rightEar:f}=e,{height:p,centerY:c}=n,g=c-p/2,y=[];y[0]=(a[0]+o[0])/2,y[1]=(a[1]+o[1])/2;const{pupilDistance:S,faceHeight:E}=K4(e),k=(wk*S+z4*E)/2;let _,I;y[1]<=(g+p)/2?(_=(y[0]+u[0])/2,I=(y[1]+u[1])/2):(_=y[0],I=y[1]);const A=t*k,O=Math.max(I-A/2,0),L=Math.min(I+A/2,r),U=Math.min(_-k/2,f[0]),j=Math.max(_+k/2,l[0]);return{bottom:L,left:U,right:j,top:O}}function Y4(t){const e=document.createElement("canvas");e.width=t.videoWidth,e.height=t.videoHeight;const n=e.getContext("2d");if(n){n.drawImage(t,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height).data,a=8,o=new Array(a).fill(0);for(let f=0;f<r.length;f++){const p=Math.round(r[f++]*.2126+r[f++]*.7152+r[f++]*.0722);o[p%32]++}let u=-1,l=0;for(let f=0;f<a;f++)o[f]>l&&(l=o[f],u=f);return e.remove(),u===0?xc.DARK:u===a?xc.BRIGHT:xc.NORMAL}else throw new Error("Cannot find Video Element.")}function wj(t){return t.label.toLowerCase().includes("virtual")}const Ej=.9,xj=.75;function Ck({ctx:t,prevColor:e,nextColor:n,fraction:r}){const a=t.canvas.width,o=t.canvas.height;t.fillStyle=n,t.fillRect(0,0,a,o*r),r!==1&&(t.fillStyle=e,t.fillRect(0,o*r,a,o*(1-r)))}function Cj({overlayCanvas:t,prevColor:e,nextColor:n,videoEl:r,ovalDetails:a,heightFraction:o,scaleFactor:u}){const{x:l,y:f}=r.getBoundingClientRect(),{flippedCenterX:p,centerY:c,width:g,height:y}=a,S=p*u+l,E=c*u+f,k=t.width,_=t.height,I=t.getContext("2d");if(I)I.canvas.width=window.innerWidth,I.canvas.height=window.innerHeight,I.clearRect(0,0,k,_),Ck({ctx:I,prevColor:e,nextColor:n,fraction:o}),I.save(),I.beginPath(),I.rect(0,0,k,_),I.clip(),I.clearRect(0,0,k,_),I.globalAlpha=Ej,Ck({ctx:I,prevColor:e,nextColor:n,fraction:o}),I.beginPath(),I.ellipse(S,E,g*u/2,y*u/2,0,0,2*Math.PI),I.strokeStyle="white",I.lineWidth=8,I.stroke(),I.clip(),I.clearRect(0,0,k,_),I.globalAlpha=xj,Ck({ctx:I,prevColor:e,nextColor:n,fraction:o}),I.restore();else throw new Error("Cannot find Overlay Canvas.")}const kj=t=>!!t;function _j(t){return(t.Challenge.ColorSequences??[]).map(({FreshnessColor:r,DownscrollDuration:a,FlatDisplayDuration:o})=>{const u=r.RGB,l=`rgb(${u[0]},${u[1]},${u[2]})`;return typeof l<"u"&&typeof a<"u"&&typeof o<"u"?{color:l,downscrollDuration:a,flatDisplayDuration:o}:void 0}).filter(kj)}async function Tj(t,e){const n=await t.detectFaces(e);let r;switch(n.length){case 0:{r=Cr.CANT_IDENTIFY;break}case 1:{r=Cr.FACE_IDENTIFIED;break}default:{r=Cr.TOO_MANY;break}}return r}async function Ij({parsedSessionInformation:t,faceDetector:e,videoEl:n,ovalDetails:r,reduceThreshold:a=!1}){const o=t.Challenge.ChallengeConfig,{FaceDistanceThresholdMin:u,FaceDistanceThreshold:l}=o,f=await e.detectFaces(n);let p,c=!1,g;switch(f.length){case 0:{g=na.FACE_DISTANCE_ERROR;break}case 1:{p=f[0];const{width:y}=r,{pupilDistance:S,faceHeight:E}=K4(p),k=(wk*S+z4*E)/2/wk;y&&(c=k/y<(a?l:u),c||(g=na.FACE_DISTANCE_ERROR));break}default:{g=na.MULTIPLE_FACES_ERROR;break}}return{isDistanceBelowThreshold:c,error:g}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Rj=1e-7,Nj=1e-4;class X4{constructor(e,n){this.backend=e,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,n){this.dataIdsCount++,this.data.set(e,n)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class kk{refCount(e){return vi("refCount")}incRef(e){return vi("incRef")}timerAvailable(){return!0}time(e){return vi("time")}read(e){return vi("read")}readSync(e){return vi("readSync")}readToGPU(e,n){return vi("readToGPU")}numDataIds(){return vi("numDataIds")}disposeData(e,n){return vi("disposeData")}write(e,n,r){return vi("write")}move(e,n,r,a,o){return vi("move")}createTensorFromGPUData(e,n,r){return vi("createTensorFromGPUData")}memory(){return vi("memory")}floatPrecision(){return vi("floatPrecision")}epsilon(){return this.floatPrecision()===32?Rj:Nj}dispose(){return vi("dispose")}}function vi(t){throw new Error(`'${t}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _k(t,e,n){return Math.max(t,Math.min(e,n))}function Fv(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Z(t,e){if(!t)throw new Error(typeof e=="string"?e:e())}function yi(t,e,n=""){Z(du(t,e),()=>n+` Shapes ${t} and ${e} must match`)}function Yh(t){Z(t!=null,()=>"The input to the tensor constructor must be a non-null value.")}function ze(t){if(t.length===0)return 1;let e=t[0];for(let n=1;n<t.length;n++)e*=t[n];return e}function Aj(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==null&&e[n]!==null&&t[n]!==e[n])return!1;return!0}function du(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Pv(t){return t%1===0}function E1(t,e){return e<=t.length?t:t+" ".repeat(e-t.length)}function Q4(t,e){let n=1,r=-1;for(let o=0;o<t.length;++o)if(t[o]>=0)n*=t[o];else if(t[o]===-1){if(r!==-1)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${r} and dim ${o}`);r=o}else if(t[o]<0)throw Error(`Shapes can not be < 0. Found ${t[o]} at dim ${o}`);if(r===-1){if(e>0&&e!==n)throw Error(`Size(${e}) must match the product of shape ${t}`);return t}if(n===0)throw Error(`Cannot infer the missing size in [${t}] when there are 0 elements`);if(e%n!==0)throw Error(`The implicit shape can't be a fractional number. Got ${e} / ${n}`);const a=t.slice();return a[r]=e/n,a}function ga(t,e){const n=e.length;return t=t==null?e.map((r,a)=>a):[].concat(t),Z(t.every(r=>r>=-n&&r<n),()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${t}`),Z(t.every(r=>Pv(r)),()=>`All values in axis param must be integers but got axis ${t}`),t.map(r=>r<0?n+r:r)}function Dj(t,e){const n=[],r=[],a=e!=null&&Array.isArray(e)&&e.length===0,o=e==null||a?null:ga(e,t).sort();let u=0;for(let l=0;l<t.length;++l){if(o!=null){if(o[u]===l&&t[l]!==1)throw new Error(`Can't squeeze axis ${l} since its dim '${t[l]}' is not 1`);(o[u]==null||o[u]>l)&&t[l]===1&&(n.push(t[l]),r.push(l)),o[u]<=l&&u++}t[l]!==1&&(n.push(t[l]),r.push(l))}return{newShape:n,keptDims:r}}function ms(t,e){return Ka(t,e)}function Ka(t,e){let n=null;if(t==null||t==="float32")n=new Float32Array(e);else if(t==="int32")n=new Int32Array(e);else if(t==="bool")n=new Uint8Array(e);else if(t==="string")n=new Array(e);else throw new Error(`Unknown data type ${t}`);return n}function Oj(t,e){for(let n=0;n<t.length;n++){const r=t[n];if(isNaN(r)||!isFinite(r))throw Error(`A tensor of type ${e} being uploaded contains ${r}.`)}}function Mj(t){return t==="bool"||t==="complex64"||t==="float32"||t==="int32"||t==="string"}function $j(t,e){return!(e==="complex64"||e==="float32"&&t!=="complex64"||e==="int32"&&t!=="float32"&&t!=="complex64"||e==="bool"&&t==="bool")}function Lv(t){if(t==="float32"||t==="int32")return 4;if(t==="complex64")return 8;if(t==="bool")return 1;throw new Error(`Unknown dtype ${t}`)}function Fj(t){if(t==null)return 0;let e=0;return t.forEach(n=>e+=n.length),e}function x1(t){return typeof t=="string"||t instanceof String}function Pj(t){return typeof t=="boolean"}function Lj(t){return typeof t=="number"}function Bv(t){return Array.isArray(t)?Bv(t[0]):t instanceof Float32Array?"float32":t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray?"int32":Lj(t)?"float32":x1(t)?"string":Pj(t)?"bool":"float32"}function Tk(t){return!!(t&&t.constructor&&t.call&&t.apply)}function Bt(t){const e=t.length;if(e<2)return[];const n=new Array(e-1);n[e-2]=t[e-1];for(let r=e-3;r>=0;--r)n[r]=n[r+1]*t[r+1];return n}function J4(t,e,n,r=!1){const a=new Array;if(e.length===1){const o=e[0]*(r?2:1);for(let u=0;u<o;u++)a[u]=n[t+u]}else{const o=e[0],u=e.slice(1),l=u.reduce((f,p)=>f*p)*(r?2:1);for(let f=0;f<o;f++)a[f]=J4(t+f*l,u,n,r)}return a}function fu(t,e,n=!1){if(t.length===0)return e[0];const r=t.reduce((a,o)=>a*o)*(n?2:1);if(r===0)return[];if(r!==e.length)throw new Error(`[${t}] does not match the input size ${e.length}${n?" for a complex tensor":""}.`);return J4(0,t,e,n)}function Bj(t,e){if(Array.isArray(t))return t;if(e==="float32")return t instanceof Float32Array?t:new Float32Array(t);if(e==="int32")return t instanceof Int32Array?t:new Int32Array(t);if(e==="bool"||e==="string")return Uint8Array.from(new Int32Array(t));throw new Error(`Unknown dtype ${e}`)}function Ik(t,e){const n=Xo(t,e);for(let r=0;r<n.length;r++)n[r]=1;return n}function Xo(t,e){if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool")return new Uint8Array(t);throw new Error(`Unknown data type ${e}`)}function Z4(t,e){const n=t.reduce((r,a)=>r*a,1);if(e==null||e==="float32")return fu(t,new Float32Array(n));if(e==="int32")return fu(t,new Int32Array(n));if(e==="bool")return fu(t,new Uint8Array(n));throw new Error(`Unknown data type ${e}`)}function Vi(t){t.forEach(e=>{Z(Number.isInteger(e)&&e>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${t}].`)})}function Tl(t,e,n){if(e===0)return 0;if(e===1)return t[0];let r=t[t.length-1];for(let a=0;a<t.length-1;++a)r+=n[a]*t[a];return r}function Xh(t,e,n){if(e===0)return[];if(e===1)return[t];const r=new Array(e);for(let a=0;a<r.length-1;++a)r[a]=Math.floor(t/n[a]),t-=r[a]*n[a];return r[r.length-1]=t,r}function Wf(t){return t&&t.then&&typeof t.then=="function"}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eO="tfjsflags";class zj{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=Uj,this.populateURLFlags()}setPlatform(e,n){this.platform!=null&&(Ln().getBool("IS_TEST")||Ln().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`)),this.platformName=e,this.platform=n}registerFlag(e,n,r){if(this.flagRegistry[e]={evaluationFn:n,setHook:r},this.urlFlags[e]!=null){const a=this.urlFlags[e];Ln().getBool("IS_TEST")||Ln().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${a}.`),this.set(e,a)}}async getAsync(e){return e in this.flags?this.flags[e]:(this.flags[e]=await this.evaluateFlag(e),this.flags[e])}get(e){if(e in this.flags)return this.flags[e];const n=this.evaluateFlag(e);if(Wf(n))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=n,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getString(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,n){if(this.flagRegistry[e]==null)throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=n,this.flagRegistry[e].setHook!=null&&this.flagRegistry[e].setHook(n)}evaluateFlag(e){if(this.flagRegistry[e]==null)throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(typeof this.global>"u"||typeof this.global.location>"u"||typeof this.global.location.search>"u")return;const e=this.getQueryParams(this.global.location.search);eO in e&&e[eO].split(",").forEach(r=>{const[a,o]=r.split(":");this.urlFlags[a]=Vj(a,o)})}}function Uj(t){const e={};return t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(n,...r)=>(Hj(e,r[0],r[1]),r.join("="))),e}function Hj(t,e,n){t[decodeURIComponent(e)]=decodeURIComponent(n||"")}function Vj(t,e){const n=e.toLowerCase();return n==="true"||n==="false"?n==="true":`${+n}`===n?+n:e}function Ln(){return tO}let tO=null;function Wj(t){tO=t}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Rk;function nO(){if(Rk==null){let t;if(typeof window<"u")t=window;else if(typeof global<"u")t=global;else if(typeof process<"u")t=process;else if(typeof self<"u")t=self;else throw new Error("Could not find a global object");Rk=t}return Rk}function jj(){const t=nO();return t._tfGlobals==null&&(t._tfGlobals=new Map),t._tfGlobals}function Nk(t,e){const n=jj();if(n.has(t))return n.get(t);{const r=e();return n.set(t,r),n.get(t)}}const Ak="Abs",C1="Acos",k1="Acosh",zv="Add",_1="AddN",T1="All",I1="Any",Dk="ArgMax",Ok="ArgMin",R1="Asin",N1="Asinh",A1="Atan",D1="Atanh",O1="Atan2",M1="AvgPool",rO="AvgPoolGrad",Mk="AvgPool3D",aO="AvgPool3DGrad",$1="BatchMatMul",$k="BatchToSpaceND",F1="Bincount",P1="BitwiseAnd",Fk="BroadcastArgs",L1="Cast",B1="Ceil",Uv="ClipByValue",oO="Complex",sO="ComplexAbs",Pk="Concat",z1="Conv2D",iO="Conv2DBackpropFilter",U1="Conv2DBackpropInput",H1="Conv3D",Lk="Conv3DBackpropFilterV2",V1="Conv3DBackpropInputV2",W1="Cos",j1="Cosh",G1="Cumprod",q1="Cumsum",K1="CropAndResize",Bk="DenseBincount",Y1="DepthToSpace",X1="DepthwiseConv2dNative",uO="DepthwiseConv2dNativeBackpropFilter",lO="DepthwiseConv2dNativeBackpropInput",zk="Diag",Q1="Dilation2D",J1="Dilation2DBackpropInput",Z1="Dilation2DBackpropFilter",Gj="Draw",eS="RealDiv",cO="Einsum",tS="Elu",Uk="EluGrad",nS="Erf",rS="Equal",aS="Exp",Hk="ExpandDims",oS="Expm1",dO="FFT",Vk="Fill",sS="FlipLeftRight",iS="Floor",uS="FloorDiv",lS="FusedBatchNorm",Wk="GatherV2",cS="GatherNd",dS="Greater",fS="GreaterEqual",pS="Identity",fO="IFFT",pO="Imag",hS="IsFinite",mS="IsInf",gS="IsNan",vS="LeakyRelu",yS="Less",bS="LessEqual",SS="LinSpace",wS="Log",ES="Log1p",xS="LogicalAnd",CS="LogicalNot",kS="LogicalOr",qj="LogicalXor",_S="LRN",jk="LRNGrad",TS="Max",IS="Maximum",RS="MaxPool",hO="MaxPoolGrad",Gk="MaxPool3D",mO="MaxPool3DGrad",qk="MaxPoolWithArgmax",NS="Mean",AS="Min",DS="Minimum",OS="MirrorPad",MS="Mod",$S="Multinomial",FS="Multiply",Kk="Neg",PS="NotEqual",LS="NonMaxSuppressionV3",BS="NonMaxSuppressionV4",zS="NonMaxSuppressionV5",Yk="OnesLike",US="OneHot",Xk="Pack",HS="PadV2",VS="Pow",WS="Prelu",jS="Prod",gO="RaggedGather",vO="RaggedRange",yO="RaggedTensorToTensor",Qk="Range",bO="Real",GS="Reciprocal",qS="Relu",Jk="Reshape",KS="ResizeNearestNeighbor",Zk="ResizeNearestNeighborGrad",YS="ResizeBilinear",e_="ResizeBilinearGrad",XS="Relu6",QS="Reverse",JS="Round",ZS="Rsqrt",ew="ScatterNd",tw="TensorScatterUpdate",nw="SearchSorted",t_="Select",rw="Selu",n_="Slice",aw="Sin",ow="Sinh",sw="Sign",iw="Sigmoid",uw="Softplus",lw="Sqrt",cw="Sum",r_="SpaceToBatchND",a_="SplitV",dw="Softmax",o_="SparseFillEmptyRows",fw="SparseReshape",s_="SparseSegmentMean",i_="SparseSegmentSum",pw="SparseToDense",hw="SquaredDifference",SO="Square",u_="StaticRegexReplace",mw="StridedSlice",l_="StringNGrams",c_="StringSplit",d_="StringToHashBucketFast",gw="Sub",vw="Tan",yw="Tanh",Hv="Tile",bw="TopK",Sw="Transform",Qh="Transpose",f_="Unique",p_="Unpack",wO="UnsortedSegmentSum",h_="ZerosLike",Vv="Step",EO="FromPixels",ww="RotateWithOffset",Wv="_FusedMatMul",jv="FusedConv2D",Gv="FusedDepthwiseConv2D";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jf(...t){Ln().getBool("IS_TEST")||Ln().getBool("PROD")||console.warn(...t)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ew=Nk("kernelRegistry",()=>new Map),Kj=Nk("gradRegistry",()=>new Map);function m_(t,e){const n=_O(t,e);return Ew.get(n)}function xO(t){return Kj.get(t)}function CO(t){const e=Ew.entries(),n=[];for(;;){const{done:r,value:a}=e.next();if(r)break;const[o,u]=a,[l]=o.split("_");l===t&&n.push(u)}return n}function kO(t){const{kernelName:e,backendName:n}=t,r=_O(e,n);Ew.has(r)&&jf(`The kernel '${e}' for backend '${n}' is already registered`),Ew.set(r,t)}function _O(t,e){return`${e}_${t}`}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TO(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray}var g_,IO;function Yj(){if(IO)return g_;IO=1,g_=e;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function e(K,z,te){this.low=K|0,this.high=z|0,this.unsigned=!!te}e.prototype.__isLong__,Object.defineProperty(e.prototype,"__isLong__",{value:!0});function n(K){return(K&&K.__isLong__)===!0}e.isLong=n;var r={},a={};function o(K,z){var te,ee,le;return z?(K>>>=0,(le=0<=K&&K<256)&&(ee=a[K],ee)?ee:(te=l(K,(K|0)<0?-1:0,!0),le&&(a[K]=te),te)):(K|=0,(le=-128<=K&&K<128)&&(ee=r[K],ee)?ee:(te=l(K,K<0?-1:0,!1),le&&(r[K]=te),te))}e.fromInt=o;function u(K,z){if(isNaN(K))return z?R:I;if(z){if(K<0)return R;if(K>=E)return j}else{if(K<=-k)return J;if(K+1>=k)return U}return K<0?u(-K,z).neg():l(K%S|0,K/S|0,z)}e.fromNumber=u;function l(K,z,te){return new e(K,z,te)}e.fromBits=l;var f=Math.pow;function p(K,z,te){if(K.length===0)throw Error("empty string");if(K==="NaN"||K==="Infinity"||K==="+Infinity"||K==="-Infinity")return I;if(typeof z=="number"?(te=z,z=!1):z=!!z,te=te||10,te<2||36<te)throw RangeError("radix");var ee;if((ee=K.indexOf("-"))>0)throw Error("interior hyphen");if(ee===0)return p(K.substring(1),z,te).neg();for(var le=u(f(te,8)),ce=I,ye=0;ye<K.length;ye+=8){var ve=Math.min(8,K.length-ye),oe=parseInt(K.substring(ye,ye+ve),te);if(ve<8){var he=u(f(te,ve));ce=ce.mul(he).add(u(oe))}else ce=ce.mul(le),ce=ce.add(u(oe))}return ce.unsigned=z,ce}e.fromString=p;function c(K,z){return typeof K=="number"?u(K,z):typeof K=="string"?p(K,z):l(K.low,K.high,typeof z=="boolean"?z:K.unsigned)}e.fromValue=c;var g=65536,y=1<<24,S=g*g,E=S*S,k=E/2,_=o(y),I=o(0);e.ZERO=I;var R=o(0,!0);e.UZERO=R;var A=o(1);e.ONE=A;var O=o(1,!0);e.UONE=O;var L=o(-1);e.NEG_ONE=L;var U=l(-1,2147483647,!1);e.MAX_VALUE=U;var j=l(-1,-1,!0);e.MAX_UNSIGNED_VALUE=j;var J=l(0,-2147483648,!1);e.MIN_VALUE=J;var q=e.prototype;return q.toInt=function(){return this.unsigned?this.low>>>0:this.low},q.toNumber=function(){return this.unsigned?(this.high>>>0)*S+(this.low>>>0):this.high*S+(this.low>>>0)},q.toString=function(z){if(z=z||10,z<2||36<z)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(J)){var te=u(z),ee=this.div(te),le=ee.mul(te).sub(this);return ee.toString(z)+le.toInt().toString(z)}else return"-"+this.neg().toString(z);for(var ce=u(f(z,6),this.unsigned),ye=this,ve="";;){var oe=ye.div(ce),he=ye.sub(oe.mul(ce)).toInt()>>>0,ge=he.toString(z);if(ye=oe,ye.isZero())return ge+ve;for(;ge.length<6;)ge="0"+ge;ve=""+ge+ve}},q.getHighBits=function(){return this.high},q.getHighBitsUnsigned=function(){return this.high>>>0},q.getLowBits=function(){return this.low},q.getLowBitsUnsigned=function(){return this.low>>>0},q.getNumBitsAbs=function(){if(this.isNegative())return this.eq(J)?64:this.neg().getNumBitsAbs();for(var z=this.high!=0?this.high:this.low,te=31;te>0&&(z&1<<te)==0;te--);return this.high!=0?te+33:te+1},q.isZero=function(){return this.high===0&&this.low===0},q.eqz=q.isZero,q.isNegative=function(){return!this.unsigned&&this.high<0},q.isPositive=function(){return this.unsigned||this.high>=0},q.isOdd=function(){return(this.low&1)===1},q.isEven=function(){return(this.low&1)===0},q.equals=function(z){return n(z)||(z=c(z)),this.unsigned!==z.unsigned&&this.high>>>31===1&&z.high>>>31===1?!1:this.high===z.high&&this.low===z.low},q.eq=q.equals,q.notEquals=function(z){return!this.eq(z)},q.neq=q.notEquals,q.ne=q.notEquals,q.lessThan=function(z){return this.comp(z)<0},q.lt=q.lessThan,q.lessThanOrEqual=function(z){return this.comp(z)<=0},q.lte=q.lessThanOrEqual,q.le=q.lessThanOrEqual,q.greaterThan=function(z){return this.comp(z)>0},q.gt=q.greaterThan,q.greaterThanOrEqual=function(z){return this.comp(z)>=0},q.gte=q.greaterThanOrEqual,q.ge=q.greaterThanOrEqual,q.compare=function(z){if(n(z)||(z=c(z)),this.eq(z))return 0;var te=this.isNegative(),ee=z.isNegative();return te&&!ee?-1:!te&&ee?1:this.unsigned?z.high>>>0>this.high>>>0||z.high===this.high&&z.low>>>0>this.low>>>0?-1:1:this.sub(z).isNegative()?-1:1},q.comp=q.compare,q.negate=function(){return!this.unsigned&&this.eq(J)?J:this.not().add(A)},q.neg=q.negate,q.add=function(z){n(z)||(z=c(z));var te=this.high>>>16,ee=this.high&65535,le=this.low>>>16,ce=this.low&65535,ye=z.high>>>16,ve=z.high&65535,oe=z.low>>>16,he=z.low&65535,ge=0,Q=0,ue=0,ke=0;return ke+=ce+he,ue+=ke>>>16,ke&=65535,ue+=le+oe,Q+=ue>>>16,ue&=65535,Q+=ee+ve,ge+=Q>>>16,Q&=65535,ge+=te+ye,ge&=65535,l(ue<<16|ke,ge<<16|Q,this.unsigned)},q.subtract=function(z){return n(z)||(z=c(z)),this.add(z.neg())},q.sub=q.subtract,q.multiply=function(z){if(this.isZero())return I;if(n(z)||(z=c(z)),t){var te=t.mul(this.low,this.high,z.low,z.high);return l(te,t.get_high(),this.unsigned)}if(z.isZero())return I;if(this.eq(J))return z.isOdd()?J:I;if(z.eq(J))return this.isOdd()?J:I;if(this.isNegative())return z.isNegative()?this.neg().mul(z.neg()):this.neg().mul(z).neg();if(z.isNegative())return this.mul(z.neg()).neg();if(this.lt(_)&&z.lt(_))return u(this.toNumber()*z.toNumber(),this.unsigned);var ee=this.high>>>16,le=this.high&65535,ce=this.low>>>16,ye=this.low&65535,ve=z.high>>>16,oe=z.high&65535,he=z.low>>>16,ge=z.low&65535,Q=0,ue=0,ke=0,Ce=0;return Ce+=ye*ge,ke+=Ce>>>16,Ce&=65535,ke+=ce*ge,ue+=ke>>>16,ke&=65535,ke+=ye*he,ue+=ke>>>16,ke&=65535,ue+=le*ge,Q+=ue>>>16,ue&=65535,ue+=ce*he,Q+=ue>>>16,ue&=65535,ue+=ye*oe,Q+=ue>>>16,ue&=65535,Q+=ee*ge+le*he+ce*oe+ye*ve,Q&=65535,l(ke<<16|Ce,Q<<16|ue,this.unsigned)},q.mul=q.multiply,q.divide=function(z){if(n(z)||(z=c(z)),z.isZero())throw Error("division by zero");if(t){if(!this.unsigned&&this.high===-2147483648&&z.low===-1&&z.high===-1)return this;var te=(this.unsigned?t.div_u:t.div_s)(this.low,this.high,z.low,z.high);return l(te,t.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?R:I;var ee,le,ce;if(this.unsigned){if(z.unsigned||(z=z.toUnsigned()),z.gt(this))return R;if(z.gt(this.shru(1)))return O;ce=R}else{if(this.eq(J)){if(z.eq(A)||z.eq(L))return J;if(z.eq(J))return A;var ye=this.shr(1);return ee=ye.div(z).shl(1),ee.eq(I)?z.isNegative()?A:L:(le=this.sub(z.mul(ee)),ce=ee.add(le.div(z)),ce)}else if(z.eq(J))return this.unsigned?R:I;if(this.isNegative())return z.isNegative()?this.neg().div(z.neg()):this.neg().div(z).neg();if(z.isNegative())return this.div(z.neg()).neg();ce=I}for(le=this;le.gte(z);){ee=Math.max(1,Math.floor(le.toNumber()/z.toNumber()));for(var ve=Math.ceil(Math.log(ee)/Math.LN2),oe=ve<=48?1:f(2,ve-48),he=u(ee),ge=he.mul(z);ge.isNegative()||ge.gt(le);)ee-=oe,he=u(ee,this.unsigned),ge=he.mul(z);he.isZero()&&(he=A),ce=ce.add(he),le=le.sub(ge)}return ce},q.div=q.divide,q.modulo=function(z){if(n(z)||(z=c(z)),t){var te=(this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,z.low,z.high);return l(te,t.get_high(),this.unsigned)}return this.sub(this.div(z).mul(z))},q.mod=q.modulo,q.rem=q.modulo,q.not=function(){return l(~this.low,~this.high,this.unsigned)},q.and=function(z){return n(z)||(z=c(z)),l(this.low&z.low,this.high&z.high,this.unsigned)},q.or=function(z){return n(z)||(z=c(z)),l(this.low|z.low,this.high|z.high,this.unsigned)},q.xor=function(z){return n(z)||(z=c(z)),l(this.low^z.low,this.high^z.high,this.unsigned)},q.shiftLeft=function(z){return n(z)&&(z=z.toInt()),(z&=63)===0?this:z<32?l(this.low<<z,this.high<<z|this.low>>>32-z,this.unsigned):l(0,this.low<<z-32,this.unsigned)},q.shl=q.shiftLeft,q.shiftRight=function(z){return n(z)&&(z=z.toInt()),(z&=63)===0?this:z<32?l(this.low>>>z|this.high<<32-z,this.high>>z,this.unsigned):l(this.high>>z-32,this.high>=0?0:-1,this.unsigned)},q.shr=q.shiftRight,q.shiftRightUnsigned=function(z){if(n(z)&&(z=z.toInt()),z&=63,z===0)return this;var te=this.high;if(z<32){var ee=this.low;return l(ee>>>z|te<<32-z,te>>>z,this.unsigned)}else return z===32?l(te,0,this.unsigned):l(te>>>z-32,0,this.unsigned)},q.shru=q.shiftRightUnsigned,q.shr_u=q.shiftRightUnsigned,q.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},q.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},q.toBytes=function(z){return z?this.toBytesLE():this.toBytesBE()},q.toBytesLE=function(){var z=this.high,te=this.low;return[te&255,te>>>8&255,te>>>16&255,te>>>24,z&255,z>>>8&255,z>>>16&255,z>>>24]},q.toBytesBE=function(){var z=this.high,te=this.low;return[z>>>24,z>>>16&255,z>>>8&255,z&255,te>>>24,te>>>16&255,te>>>8&255,te&255]},e.fromBytes=function(z,te,ee){return ee?e.fromBytesLE(z,te):e.fromBytesBE(z,te)},e.fromBytesLE=function(z,te){return new e(z[0]|z[1]<<8|z[2]<<16|z[3]<<24,z[4]|z[5]<<8|z[6]<<16|z[7]<<24,te)},e.fromBytesBE=function(z,te){return new e(z[4]<<24|z[5]<<16|z[6]<<8|z[7],z[0]<<24|z[1]<<16|z[2]<<8|z[3],te)},g_}var RO=Yj();const NO=Ph(RO),Xj=$0({__proto__:null,default:NO},[RO]);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gf=NO||Xj;function xw(t){return Gf.fromString(t,!0,16)}const AO=xw("c3a5c85c97cb3127"),qf=xw("b492b66fbe98f273"),gs=xw("9ae16a3b2f90404f");function v_(t){return t.xor(t.shru(47))}function DO(t,e,n){const r=t.slice(e,e+n);return Gf.fromBytes(Array.from(r),!0,!0)}function Yr(t,e){return DO(t,e,8)}function OO(t,e){return DO(t,e,4)}function ho(t,e){return e===0?t:t.shru(e).or(t.shl(64-e))}function Rd(t,e,n=xw("9ddfea08eb382d69")){let r=t.xor(e).mul(n);r=r.xor(r.shru(47));let a=e.xor(r).mul(n);return a=a.xor(a.shru(47)),a=a.mul(n),a}function Qj(t,e,n,r,a,o){a=a.add(t),o=ho(o.add(a).add(r),21);const u=a;return a=a.add(e),a=a.add(n),o=o.add(ho(a,44)),[a.add(r),o.add(u)]}function Cw(t,e,n,r){return Qj(Yr(t,e),Yr(t,e+8),Yr(t,e+16),Yr(t,e+24),n,r)}function Jj(t,e=t.length){if(e>=8){const n=gs.add(e*2),r=Yr(t,0).add(gs),a=Yr(t,e-8),o=ho(a,37).mul(n).add(r),u=ho(r,25).add(a).mul(n);return Rd(o,u,n)}if(e>=4){const n=gs.add(e*2),r=OO(t,0);return Rd(r.shl(3).add(e),OO(t,e-4),n)}if(e>0){const n=t[0],r=t[e>>1],a=t[e-1],o=n+(r<<8),u=e+(a<<2);return v_(gs.mul(o).xor(AO.mul(u))).mul(gs)}return gs}function Zj(t,e=t.length){const n=gs.add(e*2),r=Yr(t,0).mul(qf),a=Yr(t,8),o=Yr(t,e-8).mul(n),u=Yr(t,e-16).mul(gs);return Rd(ho(r.add(a),43).add(ho(o,30)).add(u),r.add(ho(a.add(gs),18)).add(o),n)}function eG(t,e=t.length){const n=gs.add(e*2),r=Yr(t,0).mul(gs),a=Yr(t,8),o=Yr(t,e-8).mul(n),u=Yr(t,e-16).mul(gs),l=ho(r.add(a),43).add(ho(o,30)).add(u),f=Rd(l,r.add(ho(a.add(gs),18)).add(o),n),p=Yr(t,16).mul(n),c=Yr(t,24),g=l.add(Yr(t,e-32)).mul(n),y=f.add(Yr(t,e-24)).mul(n);return Rd(ho(p.add(c),43).add(ho(g,30)).add(y),p.add(ho(c.add(r),18)).add(g),n)}function tG(t,e=t.length){const n=Gf.fromNumber(81,!0);if(e<=32)return e<=16?Jj(t,e):Zj(t,e);if(e<=64)return eG(t,e);let r=n,a=n.mul(qf).add(113),o=v_(a.mul(gs).add(113)).mul(gs),u=[Gf.UZERO,Gf.UZERO],l=[Gf.UZERO,Gf.UZERO];r=r.mul(gs).add(Yr(t,0));let f=0;const p=(e-1>>6)*64,c=p+(e-1&63)-63;do r=ho(r.add(a).add(u[0]).add(Yr(t,f+8)),37).mul(qf),a=ho(a.add(u[1]).add(Yr(t,f+48)),42).mul(qf),r=r.xor(l[1]),a=a.add(u[0]).add(Yr(t,f+40)),o=ho(o.add(l[0]),33).mul(qf),u=Cw(t,f,u[1].mul(qf),r.add(l[0])),l=Cw(t,f+32,o.add(l[1]),a.add(Yr(t,f+16))),[o,r]=[r,o],f+=64;while(f!==p);const g=qf.add(o.and(255).shl(1));return f=c,l[0]=l[0].add(e-1&63),u[0]=u[0].add(l[0]),l[0]=l[0].add(u[0]),r=ho(r.add(a).add(u[0]).add(Yr(t,f+8)),37).mul(g),a=ho(a.add(u[1]).add(Yr(t,f+48)),42).mul(g),r=r.xor(l[1].mul(9)),a=a.add(u[0].mul(9).add(Yr(t,f+40))),o=ho(o.add(l[0]),33).mul(g),u=Cw(t,f,u[1].mul(g),r.add(l[0])),l=Cw(t,f+32,o.add(l[1]),a.add(Yr(t,f+16))),[o,r]=[r,o],Rd(Rd(u[0],l[0],g).add(v_(a).mul(AO)).add(o),Rd(u[1],l[1],g).add(r),g)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function y_(t,e){return e==="string"?Yf(t):Kf([t],e)}function nG(t,e){return t instanceof Float32Array&&e==="float32"||t instanceof Int32Array&&e==="int32"||t instanceof Uint8Array&&e==="bool"}function Kf(t,e){if(e==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(t)&&(t=Kv(t)),Ln().getBool("DEBUG")&&Oj(t,e),nG(t,e))return t;if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool"){const n=new Uint8Array(t.length);for(let r=0;r<n.length;++r)Math.round(t[r])!==0&&(n[r]=1);return n}else throw new Error(`Unknown data type ${e}`)}function Nd(){return Ln().platform.now()}function rG(t,e){return Ln().platform.fetch(t,e)}function Yf(t,e="utf-8"){return e=e||"utf-8",Ln().platform.encode(t,e)}function qv(t,e="utf-8"){return e=e||"utf-8",Ln().platform.decode(t,e)}function pu(t){return Ln().platform.isTypedArray!=null?Ln().platform.isTypedArray(t):TO(t)}function Kv(t,e=[],n=!1){if(e==null&&(e=[]),typeof t=="boolean"||typeof t=="number"||typeof t=="string"||Wf(t)||t==null||pu(t)&&n)e.push(t);else if(Array.isArray(t)||pu(t))for(let r=0;r<t.length;++r)Kv(t[r],e,n);else{let r=-1;for(const a of Object.keys(t))/^([1-9]+[0-9]*|0)$/.test(a)&&(r=Math.max(r,Number(a)));for(let a=0;a<=r;a++)Kv(t[a],e,n)}return e}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class aG{constructor(e,n){this.backendTimer=e,this.logger=n,n==null&&(this.logger=new sG)}profileKernel(e,n,r){let a;const o=()=>{a=r()};let u;const l=Nd();if(this.backendTimer.timerAvailable())u=this.backendTimer.time(o);else{o();for(const p of a)p.dataSync();u=Promise.resolve({kernelMs:Nd()-l})}if(Ln().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let p=0;p<a.length;p++){const c=a[p];c.data().then(g=>{oG(g,c.dtype,e)})}return{kernelName:e,outputs:a,inputs:n,timeMs:u.then(p=>p.kernelMs),extraInfo:u.then(p=>p.getExtraProfileInfo!=null?p.getExtraProfileInfo():"")}}logKernelProfile(e){const{kernelName:n,outputs:r,timeMs:a,inputs:o,extraInfo:u}=e;r.forEach(l=>{Promise.all([l.data(),a,u]).then(f=>{this.logger.logKernelProfile(n,l,f[0],f[1],o,f[2])})})}}function oG(t,e,n){if(e!=="float32")return!1;for(let r=0;r<t.length;r++){const a=t[r];if(isNaN(a)||!isFinite(a))return console.warn(`Found ${a} in the result of '${n}'`),!0}return!1}class sG{logKernelProfile(e,n,r,a,o,u){const l=typeof a=="number"?E1(`${a}ms`,9):a.error,f=E1(e,25),p=n.rank,c=n.size,g=E1(n.shape.toString(),14);let y="";for(const S in o){const E=o[S];if(E!=null){const k=E.shape||n.shape,_=k.length;y+=`${S}: ${_}D ${_>0?k:""} `}}console.log(`%c${f}	%c${l}	%c${p}D ${g}	%c${c}	%c${y}	%c${u}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iG(t,e,n){const r={},a={};for(let f=0;f<e.length;f++)r[e[f].id]=!0;for(let f=0;f<t.length;f++){const p=t[f],c=p.inputs;for(const g in c){const y=c[g];let S=!1;for(let E=0;E<e.length;E++)if(r[y.id]){p.outputs.forEach(k=>r[k.id]=!0),S=!0,a[p.id]=!0;break}if(S)break}}const o={};o[n.id]=!0;const u={};for(let f=t.length-1;f>=0;f--){const p=t[f],c=p.inputs;for(let g=0;g<p.outputs.length;g++)if(o[p.outputs[g].id]){for(const y in c)o[c[y].id]=!0,u[p.id]=!0;break}}const l=[];for(let f=0;f<t.length;f++){const p=t[f];if(a[p.id]&&u[p.id]){const c={};for(const y in p.inputs){const S=p.inputs[y];r[S.id]&&(c[y]=S)}const g=Object.assign({},p);g.inputs=c,g.outputs=p.outputs,l.push(g)}}return l}function uG(t,e,n,r){for(let a=e.length-1;a>=0;a--){const o=e[a],u=[];if(o.outputs.forEach(f=>{const p=t[f.id];p!=null?u.push(p):u.push(null)}),o.gradient==null)throw new Error(`Cannot compute gradient: gradient function not found for ${o.kernelName}.`);const l=o.gradient(u);for(const f in o.inputs){if(!(f in l))throw new Error(`Cannot backprop through input ${f}. Available gradients found: ${Object.keys(l)}.`);const p=n(()=>l[f]());if(p.dtype!=="float32")throw new Error(`Error in gradient for op ${o.kernelName}. The gradient of input ${f} must have 'float32' dtype, but has '${p.dtype}'`);const c=o.inputs[f];if(!du(p.shape,c.shape))throw new Error(`Error in gradient for op ${o.kernelName}. The gradient of input '${f}' has shape '${p.shape}', which does not match the shape of the input '${c.shape}'`);if(t[c.id]==null)t[c.id]=p;else{const g=t[c.id];t[c.id]=r(g,p),g.dispose()}}}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const MO=20,Yv=3,b_=7;function lG(t,e,n,r){const a=Bt(e),o=cG(t,e,n,a),u=e.length,l=kw(t,e,n,a,o),f=["Tensor"];return r&&(f.push(`  dtype: ${n}`),f.push(`  rank: ${u}`),f.push(`  shape: [${e}]`),f.push("  values:")),f.push(l.map(p=>"    "+p).join(`
`)),f.join(`
`)}function cG(t,e,n,r){const a=ze(e),o=r[r.length-1],u=new Array(o).fill(0),l=e.length,f=n==="complex64"?Qv(t):t;if(l>1)for(let p=0;p<a/o;p++){const c=p*o;for(let g=0;g<o;g++)u[g]=Math.max(u[g],Xv(f[c+g],0,n).length)}return u}function Xv(t,e,n){let r;return Array.isArray(t)?r=`${parseFloat(t[0].toFixed(b_))} + ${parseFloat(t[1].toFixed(b_))}j`:x1(t)?r=`'${t}'`:n==="bool"?r=$O(t):r=parseFloat(t.toFixed(b_)).toString(),E1(r,e)}function $O(t){return t===0?"false":"true"}function kw(t,e,n,r,a,o=!0){const u=n==="complex64"?2:1,l=e[0],f=e.length;if(f===0){if(n==="complex64"){const k=Qv(t);return[Xv(k[0],0,n)]}return n==="bool"?[$O(t[0])]:[t[0].toString()]}if(f===1){if(l>MO){const _=Yv*u;let I=Array.from(t.slice(0,_)),R=Array.from(t.slice((l-Yv)*u,l*u));return n==="complex64"&&(I=Qv(I),R=Qv(R)),["["+I.map((A,O)=>Xv(A,a[O],n)).join(", ")+", ..., "+R.map((A,O)=>Xv(A,a[l-Yv+O],n)).join(", ")+"]"]}return["["+(n==="complex64"?Qv(t):Array.from(t)).map((_,I)=>Xv(_,a[I],n)).join(", ")+"]"]}const p=e.slice(1),c=r.slice(1),g=r[0]*u,y=[];if(l>MO){for(let k=0;k<Yv;k++){const _=k*g,I=_+g;y.push(...kw(t.slice(_,I),p,n,c,a,!1))}y.push("...");for(let k=l-Yv;k<l;k++){const _=k*g,I=_+g;y.push(...kw(t.slice(_,I),p,n,c,a,k===l-1))}}else for(let k=0;k<l;k++){const _=k*g,I=_+g;y.push(...kw(t.slice(_,I),p,n,c,a,k===l-1))}const S=f===2?",":"";y[0]="["+(l>0?y[0]+S:"");for(let k=1;k<y.length-1;k++)y[k]=" "+y[k]+S;let E=`,
`;for(let k=2;k<f;k++)E+=`
`;return y[y.length-1]=" "+y[y.length-1]+"]"+(o?"":E),y}function Qv(t){const e=[];for(let n=0;n<t.length;n+=2)e.push([t[n],t[n+1]]);return e}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ro{constructor(e,n,r){if(this.dtype=n,this.shape=e.slice(),this.size=ze(e),r!=null){const a=r.length;Z(a===this.size,()=>`Length of values '${a}' does not match the size inferred by the shape '${this.size}'.`)}if(n==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||Ka(n,this.size),this.strides=Bt(e)}set(e,...n){n.length===0&&(n=[0]),Z(n.length===this.rank,()=>`The number of provided coordinates (${n.length}) must match the rank (${this.rank})`);const r=this.locToIndex(n);this.values[r]=e}get(...e){e.length===0&&(e=[0]);let n=0;for(const a of e){if(a<0||a>=this.shape[n]){const o=`Requested out of range element at ${e}.   Buffer shape=${this.shape}`;throw new Error(o)}n++}let r=e[e.length-1];for(let a=0;a<e.length-1;++a)r+=this.strides[a]*e[a];return this.values[r]}locToIndex(e){if(this.rank===0)return 0;if(this.rank===1)return e[0];let n=e[e.length-1];for(let r=0;r<e.length-1;++r)n+=this.strides[r]*e[r];return n}indexToLoc(e){if(this.rank===0)return[];if(this.rank===1)return[e];const n=new Array(this.shape.length);for(let r=0;r<n.length-1;++r)n[r]=Math.floor(e/this.strides[r]),e-=n[r]*this.strides[r];return n[n.length-1]=e,n}get rank(){return this.shape.length}toTensor(){return Vu().makeTensor(this.values,this.shape,this.dtype)}}let Vu=null,Jh=null;function dG(t){Vu=t}function fG(t){Jh=t}class Ya{constructor(e,n,r,a){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=n||"float32",this.size=ze(e),this.strides=Bt(e),this.dataId=r,this.id=a,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return Jh.buffer(this.shape,this.dtype,e)}bufferSync(){return Jh.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return fu(this.shape,e,this.dtype==="complex64")}arraySync(){return fu(this.shape,this.dataSync(),this.dtype==="complex64")}async data(){this.throwIfDisposed();const e=Vu().read(this.dataId);if(this.dtype==="string"){const n=await e;try{return n.map(r=>qv(r))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),Vu().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=Vu().readSync(this.dataId);if(this.dtype==="string")try{return e.map(n=>qv(n))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await Vu().read(this.dataId);return this.dtype==="string"?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),Vu().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return Jh.print(this,e)}clone(){return this.throwIfDisposed(),Jh.clone(this)}toString(e=!1){const n=this.dataSync();return lG(n,this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),Jh.cast(this,e)}variable(e=!0,n,r){return this.throwIfDisposed(),Vu().makeVariable(this,e,n,r)}}Object.defineProperty(Ya,Symbol.hasInstance,{value:t=>!!t&&t.data!=null&&t.dataSync!=null&&t.throwIfDisposed!=null});function pG(){return Nk("Tensor",()=>Ya)}pG();class _w extends Ya{constructor(e,n,r,a){super(e.shape,e.dtype,e.dataId,a),this.trainable=n,this.name=r}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!du(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);Vu().disposeTensor(this),this.dataId=e.dataId,Vu().incRef(this,null)}dispose(){Vu().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(_w,Symbol.hasInstance,{value:t=>t instanceof Ya&&t.assign!=null&&t.assign instanceof Function});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var FO;(function(t){t.R0="R0",t.R1="R1",t.R2="R2",t.R3="R3",t.R4="R4",t.R5="R5",t.R6="R6"})(FO||(FO={}));var S_;(function(t){t.float32="float32",t.int32="int32",t.bool="int32",t.complex64="complex64"})(S_||(S_={}));var w_;(function(t){t.float32="float32",t.int32="int32",t.bool="bool",t.complex64="complex64"})(w_||(w_={}));var E_;(function(t){t.float32="float32",t.int32="float32",t.bool="float32",t.complex64="complex64"})(E_||(E_={}));var x_;(function(t){t.float32="complex64",t.int32="complex64",t.bool="complex64",t.complex64="complex64"})(x_||(x_={}));const hG={float32:E_,int32:S_,bool:w_,complex64:x_};function Zh(t,e){if(t==="string"||e==="string"){if(t==="string"&&e==="string")return"string";throw new Error(`Can not upcast ${t} with ${e}`)}return hG[t][e]}function PO(t){return t!=null&&typeof t=="object"&&"texture"in t&&t.texture instanceof WebGLTexture}function LO(t){return typeof GPUBuffer<"u"&&t!=null&&typeof t=="object"&&"buffer"in t&&t.buffer instanceof GPUBuffer}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xa(t,e){if(t.dtype===e.dtype)return[t,e];const n=Zh(t.dtype,e.dtype);return[t.cast(n),e.cast(n)]}function mG(t,e){Z(t.dtype===e.dtype,()=>`The dtypes of the first(${t.dtype}) and second(${e.dtype}) input must match`)}function BO(t){const e=[];return zO(t,e,new Set),e}function zO(t,e,n){if(t==null)return;if(t instanceof Ya){e.push(t);return}if(!gG(t))return;const r=t;for(const a in r){const o=r[a];n.has(o)||(n.add(o),zO(o,e,n))}}function gG(t){return Array.isArray(t)||typeof t=="object"}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function C_(t){return t.kernelName!=null}class UO{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(e=>e.name)))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class em{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new UO}async ready(){if(this.pendingBackendInit!=null)return this.pendingBackendInit.then(()=>{});if(this.backendInstance!=null)return;const e=this.getSortedBackends();for(let n=0;n<e.length;n++){const r=e[n];if(await this.initializeBackend(r).success){await this.setBackend(r);return}}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(this.pendingBackendInit!=null)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(this.backendInstance==null){const{name:e,asyncInit:n}=this.initializeBackendsAndReturnBest();if(n)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry))if(e in this.registryFactory){const{asyncInit:n}=this.initializeBackend(e);if(n)return null}else return null;return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,n,r=1){return e in this.registryFactory?(jf(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:n,priority:r},!0)}async setBackend(e){if(this.registryFactory[e]==null)throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,this.registry[e]==null){this.backendInstance=null;const{success:n,asyncInit:r}=this.initializeBackend(e);if(!(r?await n:n))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new aG(this.backendInstance),!0}setupRegisteredKernels(){CO(this.backendName).forEach(n=>{n.setupFunc!=null&&n.setupFunc(this.backendInstance)})}disposeRegisteredKernels(e){CO(e).forEach(r=>{r.disposeFunc!=null&&r.disposeFunc(this.registry[e])})}initializeBackend(e){const n=this.registryFactory[e];if(n==null)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const r=n.factory();if(r&&!(r instanceof kk)&&typeof r.then=="function"){const a=++this.pendingBackendInitId,o=r.then(u=>a<this.pendingBackendInitId?!1:(this.registry[e]=u,this.pendingBackendInit=null,!0)).catch(u=>(a<this.pendingBackendInitId||(this.pendingBackendInit=null,jf(`Initialization of backend ${e} failed`),jf(u.stack||u.message)),!1));return this.pendingBackendInit=o,{success:o,asyncInit:!0}}else return this.registry[e]=r,{success:!0,asyncInit:!1}}catch(r){return jf(`Initialization of backend ${e} failed`),jf(r.stack||r.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((e,n)=>this.registryFactory[n].priority-this.registryFactory[e].priority)}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let n=0;n<e.length;n++){const r=e[n],{success:a,asyncInit:o}=this.initializeBackend(r);if(o||a)return{name:r,asyncInit:o}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,n){const r=this.state.tensorInfo.get(n),a=r.backend,o=this.readSync(n),u=a.refCount(n);a.disposeData(n,!0),r.backend=e,e.move(n,o,r.shape,r.dtype,u),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,n){let r=null;if(n==null){if(typeof e!="function")throw new Error("Please provide a function to tidy()");n=e}else{if(typeof e!="string"&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof n!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=e}let a;return this.scopedRun(()=>this.startScope(r),()=>this.endScope(a),()=>(a=n(),a instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),a))}scopedRun(e,n,r){e();try{const a=r();return n(),a}catch(a){throw n(),a}}nextTensorId(){return em.nextTensorId++}nextVariableId(){return em.nextVariableId++}clone(e){const n=Se.runKernel(pS,{x:e}),r={x:e},a=u=>({x:()=>{const l="float32",f={x:u},p={dtype:l};return Se.runKernel(L1,f,p)}}),o=[];return this.addTapeNode(this.state.activeScope.name,r,[n],a,o,{}),n}runKernel(e,n,r){if(this.backendName==null&&this.backend,!(m_(e,this.backendName)!=null))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:n,attrs:r})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,n,r){const a=this.backend.numDataIds();let o=0;r.forEach(f=>{o+=f.dtype==="complex64"?3:1});const u=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],l=a-n-o-u;if(l>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${l} data ids) after running '${e}'`)}runKernelFunc(e){let n,r=[];const a=this.isTapeOn(),o=this.state.numBytes,u=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);let l;this.backendName==null&&this.backend;let f;const p=C_(e)?e.kernelName:this.state.activeScope!=null?this.state.activeScope.name:"";if(C_(e)){const{kernelName:E,inputs:k,attrs:_}=e;this.backendName==null&&this.backend;const I=m_(E,this.backendName);Z(I!=null,()=>`Cannot find registered kernel '${E}' for backend '${this.backendName}'`),l=()=>{const R=this.backend.numDataIds();f=I.kernelFunc({inputs:k,attrs:_,backend:this.backend});const A=Array.isArray(f)?f:[f];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(E,R,A);const O=A.map(L=>L.rank!=null?L:this.makeTensorFromTensorInfo(L));if(a){const L=this.getTensorsForGradient(E,k,O);r=this.saveTensorsForBackwardMode(L)}return O}}else{const{forwardFunc:E}=e,k=_=>{a&&(r=_.map(I=>this.keep(this.clone(I))))};l=()=>{const _=this.backend.numDataIds();f=this.tidy(()=>E(this.backend,k));const I=Array.isArray(f)?f:[f];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(p,_,I),I}}const{inputs:c,attrs:g}=e,y=C_(e)?null:e.backwardsFunc;let S;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{!this.ENV.getBool("DEBUG")&&!this.state.profiling?n=l():(S=this.profiler.profileKernel(p,c,()=>l()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(S),n=S.outputs)}),a&&this.addTapeNode(p,c,n,y,r,g),this.state.profiling&&this.state.activeProfile.kernels.push({name:p,bytesAdded:this.state.numBytes-o,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-u,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(c).map(E=>c[E]!=null?c[E].shape:null),outputShapes:n.map(E=>E.shape),kernelTimeMs:S.timeMs,extraInfo:S.extraInfo}),Array.isArray(f)?n:n[0]}saveTensorsForBackwardMode(e){return e.map(r=>this.keep(this.clone(r)))}getTensorsForGradient(e,n,r){const a=xO(e);if(a!=null){const o=a.inputsToSave||[],u=a.outputsToSave||[];let l;a.saveAllInputs?(Z(Array.isArray(n),()=>"saveAllInputs is true, expected inputs to be an array."),l=Object.keys(n).map(p=>n[p])):l=o.map(p=>n[p]);const f=r.filter((p,c)=>u[c]);return l.concat(f)}return[]}makeTensor(e,n,r,a){if(e==null)throw new Error("Values passed to engine.makeTensor() are null");r=r||"float32",a=a||this.backend;let o=e;r==="string"&&x1(e[0])&&(o=e.map(f=>Yf(f)));const u=a.write(o,n,r),l=new Ya(n,r,u,this.nextTensorId());if(this.trackTensor(l,a),r==="string"){const f=this.state.tensorInfo.get(u),p=Fj(o);this.state.numBytes+=p-f.bytes,f.bytes=p}return l}makeTensorFromDataId(e,n,r,a){r=r||"float32";const o={dataId:e,shape:n,dtype:r};return this.makeTensorFromTensorInfo(o,a)}makeTensorFromTensorInfo(e,n){const{dataId:r,shape:a,dtype:o}=e,u=new Ya(a,o,r,this.nextTensorId());return this.trackTensor(u,n),u}makeVariable(e,n=!0,r,a){r=r||this.nextVariableId().toString(),a!=null&&a!==e.dtype&&(e=e.cast(a));const o=new _w(e,n,r,this.nextTensorId());if(this.state.registeredVariables[o.name]!=null)throw new Error(`Variable with name ${o.name} was already registered`);return this.state.registeredVariables[o.name]=o,this.incRef(o,this.backend),o}trackTensor(e,n){this.state.numTensors++,e.dtype==="string"&&this.state.numStringTensors++;let r=0;e.dtype!=="complex64"&&e.dtype!=="string"&&(r=e.size*Lv(e.dtype)),this.state.numBytes+=r,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:n||this.backend,dtype:e.dtype,shape:e.shape,bytes:r})),e instanceof _w||this.track(e)}incRef(e,n){this.trackTensor(e,n),this.backend.incRef(e.dataId)}removeDataId(e,n){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===n&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const n=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,e.dtype==="string"&&(this.state.numStringTensors--,this.state.numBytes-=n.bytes),e.dtype!=="complex64"&&e.dtype!=="string"){const r=e.size*Lv(e.dtype);this.state.numBytes-=r}n.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,n.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const n=this.state.registeredVariables[e];this.disposeVariable(n)}}disposeVariable(e){this.disposeTensor(e),this.state.registeredVariables[e.name]!=null&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,e.reasons==null&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const n=this.state.numBytes,r=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(a=>a.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-r;for(const a of this.state.activeProfile.kernels)a.kernelTimeMs=await a.kernelTimeMs,a.extraInfo=await a.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&this.state.kernelDepth===0}addTapeNode(e,n,r,a,o,u){const l={id:this.state.nextTapeNodeId++,kernelName:e,inputs:n,outputs:r,saved:o},f=xO(e);f!=null&&(a=f.gradFunc),a!=null&&(l.gradient=p=>(p=p.map((c,g)=>{if(c==null){const y=r[g],S=Xo(y.size,y.dtype);return this.makeTensor(S,y.shape,y.dtype)}return c}),a(p.length>1?p:p[0],o,u))),this.state.activeTape.push(l)}keep(e){return e.kept=!0,e}startTape(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const n={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(n.name=e),this.state.scopeStack.push(n),this.state.activeScope=n}endScope(e){const n=BO(e),r=new Set(n.map(o=>o.id));for(let o=0;o<this.state.activeScope.track.length;o++){const u=this.state.activeScope.track[o];!u.kept&&!r.has(u.id)&&u.dispose()}const a=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach(o=>{!o.kept&&o.scopeId===a.id&&this.track(o)})}gradients(e,n,r,a=!1){if(Z(n.length>0,()=>"gradients() received an empty list of xs."),r!=null&&r.dtype!=="float32")throw new Error(`dy must have 'float32' dtype, but has '${r.dtype}'`);const o=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",e));Z(o instanceof Ya,()=>"The result y returned by f() must be a tensor.");const u=iG(this.state.activeTape,n,o);if(!a&&u.length===0&&n.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{const l={};l[o.id]=r??vG(o.shape),uG(l,u,p=>this.tidy(p),yG);const f=n.map(p=>l[p.id]);return this.state.gradientDepth===0&&(this.state.activeTape.forEach(p=>{for(const c of p.saved)c.dispose()}),this.state.activeTape=null),{value:o,grads:f}})}customGrad(e){return Z(Tk(e),()=>"The f passed in customGrad(f) must be a function."),(...n)=>{Z(n.every(l=>l instanceof Ya),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");let r;const a={};n.forEach((l,f)=>{a[f]=l});const o=(l,f)=>(r=e(...n,f),Z(r.value instanceof Ya,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),Z(Tk(r.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),r.value),u=(l,f)=>{const p=r.gradFunc(l,f),c=Array.isArray(p)?p:[p];Z(c.length===n.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),Z(c.every(y=>y instanceof Ya),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");const g={};return c.forEach((y,S)=>{g[S]=()=>y}),g};return this.runKernelFunc({forwardFunc:o,backwardsFunc:u,inputs:a})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,n){return this.state.tensorInfo.get(e).backend.readToGPU(e,n)}async time(e){const n=Nd(),r=await this.backend.time(e);return r.wallMs=Nd()-n,r}track(e){return this.state.activeScope!=null&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new UO;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}em.nextTensorId=0,em.nextVariableId=0;function vG(t){const e=Ik(ze(t),"float32");return Se.makeTensor(e,t,"float32")}function HO(){const t=nO();if(t._tfengine==null){const e=new zj(t);t._tfengine=new em(e)}return Wj(t._tfengine.ENV),dG(()=>t._tfengine),t._tfengine}const Se=HO();function yG(t,e){const n={a:t,b:e};return Se.runKernel(zv,n)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bG(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vs=Ln();Vs.registerFlag("DEBUG",()=>!1,t=>{t&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")}),Vs.registerFlag("IS_BROWSER",()=>bG()),Vs.registerFlag("IS_NODE",()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"),Vs.registerFlag("IS_CHROME",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)),Vs.registerFlag("IS_SAFARI",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor)),Vs.registerFlag("PROD",()=>!1),Vs.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>Vs.getBool("DEBUG")),Vs.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0),Vs.registerFlag("IS_TEST",()=>!1),Vs.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>Vs.getBool("DEBUG")),Vs.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1),Vs.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",()=>!1),Vs.registerFlag("USE_SETTIMEOUTCUSTOM",()=>!1);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ad(t,e){let n=t;if(pu(t))return e==="string"?[]:[t.length];if(PO(t)){const a=t.channels||"RGBA";return[t.height,t.width*a.length]}else if(LO(t))return[t.buffer.size/(e==null?4:Lv(e))];if(!Array.isArray(t))return[];const r=[];for(;Array.isArray(n)||pu(n)&&e!=="string";)r.push(n.length),n=n[0];return Array.isArray(t)&&Ln().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&VO(t,r,[]),r}function VO(t,e,n){if(n=n||[],!Array.isArray(t)&&!pu(t)){Z(e.length===0,()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${e[0]} elements`);return}Z(e.length>0,()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${t.length} elements`),Z(t.length===e[0],()=>`Element arr[${n.join("][")}] should have ${e[0]} elements, but has ${t.length} elements`);const r=e.slice(1);for(let a=0;a<t.length;++a)VO(t[a],r,n.concat(a))}function WO(t,e,n,r){if(t!=="string_or_numeric"){if(t==null)throw new Error("Expected dtype cannot be null.");if(t!=="numeric"&&t!==e||t==="numeric"&&e==="string")throw new Error(`Argument '${n}' passed to '${r}' must be ${t} tensor, but got ${e} tensor`)}}function Y(t,e,n,r="numeric"){if(t instanceof Ya)return WO(r,t.dtype,e,n),t;let a=Bv(t);if(a!=="string"&&["bool","int32","float32"].indexOf(r)>=0&&(a=r),WO(r,a,e,n),t==null||!pu(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string"){const f=t==null?"null":t.constructor.name;throw new Error(`Argument '${e}' passed to '${n}' must be a Tensor or TensorLike, but got '${f}'`)}const o=Ad(t,a);!pu(t)&&!Array.isArray(t)&&(t=[t]);const l=a!=="string"?Kf(t,a):Kv(t,[],!0);return Se.makeTensor(l,o,a)}function Tw(t,e,n,r="numeric"){if(!Array.isArray(t))throw new Error(`Argument ${e} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return t.map((o,u)=>Y(o,`${e}[${u}]`,n,r))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jO="__op";function pe(t){const e=Object.keys(t);if(e.length!==1)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${e.length} keys.`);let n=e[0];const r=t[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n=n+jO;const a=(...o)=>{Se.startScope(n);try{const u=r(...o);return Wf(u)&&console.error("Cannot return a Promise inside of tidy."),Se.endScope(u),u}catch(u){throw Se.endScope(null),u}};return Object.defineProperty(a,"name",{value:n,configurable:!0}),a}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SG(t,e){const n=Y(t,"real","complex"),r=Y(e,"imag","complex");yi(n.shape,r.shape,`real and imag shapes, ${n.shape} and ${r.shape}, must match in call to tf.complex().`);const a={real:n,imag:r};return Se.runKernel(oO,a)}const Dd=pe({complex_:SG});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Od(t,e,n,r){if(r==null)r=Bv(t);else if(r==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(LO(t)||PO(t)){if(r!=="float32"&&r!=="int32")throw new Error(`Creating tensor from GPU data only supports 'float32'|'int32' dtype, while the dtype is ${r}.`);return Se.backend.createTensorFromGPUData(t,e||n,r)}if(!pu(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(e!=null){Vi(e);const a=ze(e),o=ze(n);Z(a===o,()=>`Based on the provided shape, [${e}], the tensor should have ${a} values but has ${o}`);for(let u=0;u<n.length;++u){const l=n[u],f=u===n.length-1?l!==ze(e.slice(u)):!0;Z(n[u]===e[u]||!f,()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${e}). `)}}return!pu(t)&&!Array.isArray(t)&&(t=[t]),e=e||n,t=r!=="string"?Kf(t,r):Kv(t,[],!0),Se.makeTensor(t,e,r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wu(t,e,n){const r=Ad(t,n);return Od(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const k_={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};class ju{static join(e){return new ju(e).slice()}constructor(e){if(this.shards=[],this.previousShardIndex=0,e==null||(e instanceof Array||(e=[e]),e=e.map(r=>pu(r)?r.buffer:r),e.length===0))return;this.bufferUniformSize=e[0].byteLength;let n=0;for(let r=0;r<e.length;r++){const a=e[r];r!==e.length-1&&a.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const o=n+a.byteLength;this.shards.push({buffer:a,start:n,end:o}),n=o}this.shards.length===0&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(e=0,n=this.byteLength){if(this.shards.length===0)return new ArrayBuffer(0);if(e=isNaN(Number(e))?0:e,n=isNaN(Number(n))?0:n,e=Math.max(0,e),n=Math.min(this.byteLength,n),n<=e)return new ArrayBuffer(0);const r=this.findShardForByte(e);if(r===-1)throw new Error(`Could not find start shard for byte ${e}`);const a=n-e,o=new ArrayBuffer(a),u=new Uint8Array(o);let l=0;for(let f=r;f<this.shards.length;f++){const p=this.shards[f],g=e+l-p.start,y=l,E=Math.min(n,p.end)-p.start,k=new Uint8Array(p.buffer,g,E-g);if(u.set(k,y),l+=k.length,n<p.end)break}return o}findShardForByte(e){if(this.shards.length===0||e<0||e>=this.byteLength)return-1;if(this.bufferUniformSize!=null)return this.previousShardIndex=Math.floor(e/this.bufferUniformSize),this.previousShardIndex;function n(a){return e<a.start?-1:e>=a.end?1:0}if(n(this.shards[this.previousShardIndex])===0)return this.previousShardIndex;const r=wG(this.shards,n);return r===-1?-1:(this.previousShardIndex=r,this.previousShardIndex)}}function wG(t,e){let n=0,r=t.length;for(;n<=r;){const a=Math.floor((r-n)/2)+n,o=e(t[a]);if(o===0)return a;o<0?r=a:n=a+1}return-1}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Iw=4;async function EG(t,e){const n=[],r=[],a=Array.isArray(t)?t.map(u=>u.name):Object.keys(t);for(let u=0;u<a.length;++u){const l=a[u],f=Array.isArray(t)?t[u].tensor:t[l];if(f.dtype!=="float32"&&f.dtype!=="int32"&&f.dtype!=="bool"&&f.dtype!=="string"&&f.dtype!=="complex64")throw new Error(`Unsupported dtype in weight '${l}': ${f.dtype}`);const p={name:l,shape:f.shape,dtype:f.dtype};if(f.dtype==="string"){const c=new Promise(async g=>{const y=await f.bytes(),S=y.reduce((_,I)=>_+I.length,0)+Iw*y.length,E=new Uint8Array(S);let k=0;for(let _=0;_<y.length;_++){const I=y[_],R=new Uint8Array(new Uint32Array([I.length]).buffer);E.set(R,k),k+=Iw,E.set(I,k),k+=I.length}g(E)});r.push(c)}else r.push(f.data());e!=null&&(p.group=e),n.push(p)}const o=await Promise.all(r);return{data:xG(o),specs:n}}function GO(t,e){const n=new ju(t),r={};let a,o=0;for(const u of e){const l=u.name,f=u.dtype,p=u.shape,c=ze(p);let g;if("quantization"in u){const y=u.quantization;if(y.dtype==="uint8"||y.dtype==="uint16"){if(!("min"in y&&"scale"in y))throw new Error(`Weight ${u.name} with quantization ${y.dtype} doesn't have corresponding metadata min and scale.`)}else if(y.dtype==="float16"){if(f!=="float32")throw new Error(`Weight ${u.name} is quantized with ${y.dtype} which only supports weights of type float32 not ${f}.`)}else throw new Error(`Weight ${u.name} has unknown quantization dtype ${y.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);const S=k_[y.dtype],E=n.slice(o,o+c*S),k=y.dtype==="uint8"?new Uint8Array(E):new Uint16Array(E);if(f==="float32")if(y.dtype==="uint8"||y.dtype==="uint16"){g=new Float32Array(k.length);for(let _=0;_<k.length;_++){const I=k[_];g[_]=I*y.scale+y.min}}else if(y.dtype==="float16")a===void 0&&(a=NG()),g=a(k);else throw new Error(`Unsupported quantization type ${y.dtype} for weight type float32.`);else if(f==="int32"){if(y.dtype!=="uint8"&&y.dtype!=="uint16")throw new Error(`Unsupported quantization type ${y.dtype} for weight type int32.`);g=new Int32Array(k.length);for(let _=0;_<k.length;_++){const I=k[_];g[_]=Math.round(I*y.scale+y.min)}}else throw new Error(`Unsupported dtype in weight '${l}': ${f}`);o+=c*S}else if(f==="string"){const y=ze(u.shape);g=[];for(let S=0;S<y;S++){const E=new Uint32Array(n.slice(o,o+Iw))[0];o+=Iw;const k=new Uint8Array(n.slice(o,o+E));g.push(k),o+=E}}else{const y=k_[f],S=n.slice(o,o+c*y);if(f==="float32")g=new Float32Array(S);else if(f==="int32")g=new Int32Array(S);else if(f==="bool")g=new Uint8Array(S);else if(f==="complex64"){g=new Float32Array(S);const E=new Float32Array(g.length/2),k=new Float32Array(g.length/2);for(let R=0;R<E.length;R++)E[R]=g[R*2],k[R]=g[R*2+1];const _=Wu(E,p,"float32"),I=Wu(k,p,"float32");r[l]=Dd(_,I),_.dispose(),I.dispose()}else throw new Error(`Unsupported dtype in weight '${l}': ${f}`);o+=c*y}f!=="complex64"&&(r[l]=Wu(g,p,f))}return r}function xG(t){if(t===null)throw new Error(`Invalid input value: ${JSON.stringify(t)}`);let e=0;const n=[];t.forEach(o=>{if(e+=o.byteLength,n.push(o.byteLength===o.buffer.byteLength?o:new o.constructor(o)),!(o instanceof Float32Array||o instanceof Int32Array||o instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${o.constructor.name}`)});const r=new Uint8Array(e);let a=0;return n.forEach(o=>{r.set(new Uint8Array(o.buffer),a),a+=o.byteLength}),r.buffer}const __=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function qO(t){return __?Buffer.byteLength(t,"utf8"):new Blob([t]).size}function CG(t){if(__)return Buffer.from(t).toString("base64");const e=new Uint8Array(t);let n="";for(let r=0,a=e.length;r<a;r++)n+=String.fromCharCode(e[r]);return btoa(n)}function kG(t){if(__){const r=Buffer.from(t,"base64");return r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)}const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;++r)n.set([e.charCodeAt(r)],r);return n.buffer}function _G(t){return ju.join(t)}function KO(t){for(t=t.trim();t.endsWith("/");)t=t.slice(0,t.length-1);const n=t.split("/");return n[n.length-1]}function YO(t,e){const n={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,weightsManifest:e};return t.signature!=null&&(n.signature=t.signature),t.userDefinedMetadata!=null&&(n.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(n.modelInitializer=t.modelInitializer),t.initializerSignature!=null&&(n.initializerSignature=t.initializerSignature),t.trainingConfig!=null&&(n.trainingConfig=t.trainingConfig),n}function XO(t,e,n){const r={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy};if(t.trainingConfig!=null&&(r.trainingConfig=t.trainingConfig),t.weightsManifest!=null){if(!e)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");r.weightSpecs=e,r.weightData=n}return t.signature!=null&&(r.signature=t.signature),t.userDefinedMetadata!=null&&(r.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(r.modelInitializer=t.modelInitializer),t.initializerSignature!=null&&(r.initializerSignature=t.initializerSignature),r}async function T_(t,e){let n,r;return t.weightsManifest!=null&&([n,r]=await e(t.weightsManifest)),XO(t,n,r)}function Jv(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:t.modelTopology==null?0:qO(JSON.stringify(t.modelTopology)),weightSpecsBytes:t.weightSpecs==null?0:qO(JSON.stringify(t.weightSpecs)),weightDataBytes:t.weightData==null?0:new ju(t.weightData).byteLength}}function QO(t){const e=[];for(const n of t)e.push(...n.weights);return e}function TG(){const t=n=>{let r=n<<13,a=0;for(;(r&8388608)===0;)a-=8388608,r<<=1;return r&=-8388609,a+=947912704,r|a},e=new Uint32Array(2048);e[0]=0;for(let n=1;n<1024;n++)e[n]=t(n);for(let n=1024;n<2048;n++)e[n]=939524096+(n-1024<<13);return e}function IG(){const t=new Uint32Array(64);t[0]=0,t[31]=1199570944,t[32]=2147483648,t[63]=3347054592;for(let e=1;e<31;e++)t[e]=e<<23;for(let e=33;e<63;e++)t[e]=2147483648+(e-32<<23);return t}function RG(){const t=new Uint32Array(64);for(let e=0;e<64;e++)t[e]=1024;return t[0]=t[32]=0,t}function NG(){const t=TG(),e=IG(),n=RG();return r=>{const a=new ArrayBuffer(4*r.length),o=new Uint32Array(a);for(let u=0;u<r.length;u++){const l=r[u],f=t[n[l>>10]+(l&1023)]+e[l>>10];o[u]=f}return new Float32Array(a)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class va{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return va.instance==null&&(va.instance=new va),va.instance}static registerSaveRouter(e){va.getInstance().saveRouters.push(e)}static registerLoadRouter(e){va.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return va.getHandlers(e,"save")}static getLoadHandlers(e,n){return va.getHandlers(e,"load",n)}static getHandlers(e,n,r){const a=[];return(n==="load"?va.getInstance().loadRouters:va.getInstance().saveRouters).forEach(u=>{const l=u(e,r);l!==null&&a.push(l)}),a}}const AG=t=>va.registerSaveRouter(t),DG=t=>va.registerLoadRouter(t),OG=t=>va.getSaveHandlers(t),MG=(t,e)=>va.getLoadHandlers(t,e);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const I_="tensorflowjs",R_=1,Xf="models_store",Md="model_info_store";function JO(){if(!Ln().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const t=typeof window>"u"?self:window,e=t.indexedDB||t.mozIndexedDB||t.webkitIndexedDB||t.msIndexedDB||t.shimIndexedDB;if(e==null)throw new Error("The current browser does not appear to support IndexedDB.");return e}function N_(t){const e=t.result;e.createObjectStore(Xf,{keyPath:"modelPath"}),e.createObjectStore(Md,{keyPath:"modelPath"})}class Qf{constructor(e){if(this.indexedDB=JO(),e==null||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,n){return new Promise((r,a)=>{const o=this.indexedDB.open(I_,R_);o.onupgradeneeded=()=>N_(o),o.onsuccess=()=>{const u=o.result;if(n==null){const l=u.transaction(Xf,"readonly"),p=l.objectStore(Xf).get(this.modelPath);p.onsuccess=()=>{if(p.result==null)return u.close(),a(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));r(p.result.modelArtifacts)},p.onerror=c=>(u.close(),a(p.error)),l.oncomplete=()=>u.close()}else{n.weightData=ju.join(n.weightData);const l=Jv(n),f=u.transaction(Md,"readwrite");let p=f.objectStore(Md),c;try{c=p.put({modelPath:this.modelPath,modelArtifactsInfo:l})}catch(y){return a(y)}let g;c.onsuccess=()=>{g=u.transaction(Xf,"readwrite");const y=g.objectStore(Xf);let S;try{S=y.put({modelPath:this.modelPath,modelArtifacts:n,modelArtifactsInfo:l})}catch(E){return a(E)}S.onsuccess=()=>r({modelArtifactsInfo:l}),S.onerror=E=>{p=f.objectStore(Md);const k=p.delete(this.modelPath);k.onsuccess=()=>(u.close(),a(S.error)),k.onerror=_=>(u.close(),a(S.error))}},c.onerror=y=>(u.close(),a(c.error)),f.oncomplete=()=>{g==null?u.close():g.oncomplete=()=>u.close()}}},o.onerror=u=>a(o.error)})}}Qf.URL_SCHEME="indexeddb://";const ZO=t=>Ln().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Qf.URL_SCHEME)?$G(t.slice(Qf.URL_SCHEME.length)):null;va.registerSaveRouter(ZO),va.registerLoadRouter(ZO);function $G(t){return new Qf(t)}function FG(t){return t.startsWith(Qf.URL_SCHEME)?t.slice(Qf.URL_SCHEME.length):t}class PG{constructor(){this.indexedDB=JO()}async listModels(){return new Promise((e,n)=>{const r=this.indexedDB.open(I_,R_);r.onupgradeneeded=()=>N_(r),r.onsuccess=()=>{const a=r.result,o=a.transaction(Md,"readonly"),l=o.objectStore(Md).getAll();l.onsuccess=()=>{const f={};for(const p of l.result)f[p.modelPath]=p.modelArtifactsInfo;e(f)},l.onerror=f=>(a.close(),n(l.error)),o.oncomplete=()=>a.close()},r.onerror=a=>n(r.error)})}async removeModel(e){return e=FG(e),new Promise((n,r)=>{const a=this.indexedDB.open(I_,R_);a.onupgradeneeded=()=>N_(a),a.onsuccess=()=>{const o=a.result,u=o.transaction(Md,"readwrite"),l=u.objectStore(Md),f=l.get(e);let p;f.onsuccess=()=>{if(f.result==null)return o.close(),r(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const c=l.delete(e),g=()=>{p=o.transaction(Xf,"readwrite");const S=p.objectStore(Xf).delete(e);S.onsuccess=()=>n(f.result.modelArtifactsInfo),S.onerror=E=>r(f.error)};c.onsuccess=g,c.onerror=y=>(g(),o.close(),r(f.error))}},f.onerror=c=>(o.close(),r(f.error)),u.oncomplete=()=>{p==null?o.close():p.oncomplete=()=>o.close()}},a.onerror=o=>r(a.error)})}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cc="/",tm="tensorflowjs_models",eM="info",LG="model_topology",BG="weight_specs",zG="weight_data",UG="model_metadata";function tM(t){return{info:[tm,t,eM].join(Cc),topology:[tm,t,LG].join(Cc),weightSpecs:[tm,t,BG].join(Cc),weightData:[tm,t,zG].join(Cc),modelMetadata:[tm,t,UG].join(Cc)}}function nM(t){for(const e of Object.values(t))window.localStorage.removeItem(e)}function HG(t){const e=t.split(Cc);if(e.length<3)throw new Error(`Invalid key format: ${t}`);return e.slice(1,e.length-1).join(Cc)}function VG(t){return t.startsWith(Jf.URL_SCHEME)?t.slice(Jf.URL_SCHEME.length):t}class Jf{constructor(e){if(!Ln().getBool("IS_BROWSER")||typeof window>"u"||typeof window.localStorage>"u")throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,e==null||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=tM(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const n=JSON.stringify(e.modelTopology),r=JSON.stringify(e.weightSpecs),a=Jv(e),o=ju.join(e.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(a)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,CG(o));const u={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:e.signature!=null?e.signature:void 0,userDefinedMetadata:e.userDefinedMetadata!=null?e.userDefinedMetadata:void 0,modelInitializer:e.modelInitializer!=null?e.modelInitializer:void 0,initializerSignature:e.initializerSignature!=null?e.initializerSignature:void 0,trainingConfig:e.trainingConfig!=null?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(u)),{modelArtifactsInfo:a}}catch{throw nM(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${a.modelTopologyBytes}, weightSpecsBytes=${a.weightSpecsBytes}, weightDataBytes=${a.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(e==null)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if(e.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const n={},r=JSON.parse(this.LS.getItem(this.keys.topology));if(r==null)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);n.modelTopology=r;const a=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(a==null)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);n.weightSpecs=a;const o=this.LS.getItem(this.keys.modelMetadata);if(o!=null){const l=JSON.parse(o);n.format=l.format,n.generatedBy=l.generatedBy,n.convertedBy=l.convertedBy,l.signature!=null&&(n.signature=l.signature),l.userDefinedMetadata!=null&&(n.userDefinedMetadata=l.userDefinedMetadata),l.modelInitializer!=null&&(n.modelInitializer=l.modelInitializer),l.initializerSignature!=null&&(n.initializerSignature=l.initializerSignature),l.trainingConfig!=null&&(n.trainingConfig=l.trainingConfig)}const u=this.LS.getItem(this.keys.weightData);if(u==null)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return n.weightData=kG(u),n}}Jf.URL_SCHEME="localstorage://";const rM=t=>Ln().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Jf.URL_SCHEME)?WG(t.slice(Jf.URL_SCHEME.length)):null;va.registerSaveRouter(rM),va.registerLoadRouter(rM);function WG(t){return new Jf(t)}class jG{constructor(){Z(Ln().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),Z(typeof window>"u"||typeof window.localStorage<"u",()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}async listModels(){const e={},n=tm+Cc,r=Cc+eM;for(let a=0;a<this.LS.length;++a){const o=this.LS.key(a);if(o.startsWith(n)&&o.endsWith(r)){const u=HG(o);e[u]=JSON.parse(this.LS.getItem(o))}}return e}async removeModel(e){e=VG(e);const n=tM(e);if(this.LS.getItem(n.info)==null)throw new Error(`Cannot find model at path '${e}'`);const r=JSON.parse(this.LS.getItem(n.info));return nM(n),r}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nm="://";class vs{constructor(){this.managers={}}static getInstance(){return vs.instance==null&&(vs.instance=new vs),vs.instance}static registerManager(e,n){Z(e!=null,()=>"scheme must not be undefined or null."),e.endsWith(nm)&&(e=e.slice(0,e.indexOf(nm))),Z(e.length>0,()=>"scheme must not be an empty string.");const r=vs.getInstance();Z(r.managers[e]==null,()=>`A model store manager is already registered for scheme '${e}'.`),r.managers[e]=n}static getManager(e){const n=vs.getInstance().managers[e];if(n==null)throw new Error(`Cannot find model manager for scheme '${e}'`);return n}static getSchemes(){return Object.keys(vs.getInstance().managers)}}function Rw(t){if(t.indexOf(nm)===-1)throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${vs.getSchemes().join(",")}`);return{scheme:t.split(nm)[0],path:t.split(nm)[1]}}async function aM(t,e,n=!1){Z(t!==e,()=>`Old path and new path are the same: '${t}'`);const r=va.getLoadHandlers(t);Z(r.length>0,()=>`Copying failed because no load handler is found for source URL ${t}.`),Z(r.length<2,()=>`Copying failed because more than one (${r.length}) load handlers for source URL ${t}.`);const a=r[0],o=va.getSaveHandlers(e);Z(o.length>0,()=>`Copying failed because no save handler is found for destination URL ${e}.`),Z(o.length<2,()=>`Copying failed because more than one (${r.length}) save handlers for destination URL ${e}.`);const u=o[0],l=Rw(t).scheme,f=Rw(t).path,p=l===Rw(t).scheme,c=await a.load();n&&p&&await vs.getManager(l).removeModel(f);const g=await u.save(c);return n&&!p&&await vs.getManager(l).removeModel(f),g.modelArtifactsInfo}async function GG(){const t=vs.getSchemes(),e={};for(const n of t){const r=await vs.getManager(n).listModels();for(const a in r){const o=n+nm+a;e[o]=r[a]}}return e}async function qG(t){const e=Rw(t);return vs.getManager(e.scheme).removeModel(e.path)}async function KG(t,e){return aM(t,e,!1)}async function YG(t,e){return aM(t,e,!0)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class XG{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,n){return fetch(e,n)}now(){return performance.now()}encode(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Browser's encoder only supports utf-8, but got ${n}`);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,n){return new TextDecoder(n).decode(e)}setTimeoutCustom(e,n){if(typeof window>"u"||!Ln().getBool("USE_SETTIMEOUTCUSTOM")){setTimeout(e,n);return}this.functionRefs.push(e),setTimeout(()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")},n),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",r=>{if(r.source===window&&r.data.name===this.messageName){r.stopPropagation();const a=this.functionRefs[r.data.index];a(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}},!0))}isTypedArray(e){return TO(e)}}if(Ln().get("IS_BROWSER")){Ln().setPlatform("browser",new XG);try{vs.registerManager(Jf.URL_SCHEME,new jG)}catch{}try{vs.registerManager(Qf.URL_SCHEME,new PG)}catch{}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QG={importFetch:()=>require("node-fetch")};let A_;class JG{constructor(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}fetch(e,n){return Ln().global.fetch!=null?Ln().global.fetch(e,n):(A_==null&&(A_=QG.importFetch()),A_(e,n))}now(){const e=process.hrtime();return e[0]*1e3+e[1]/1e6}encode(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Node built-in encoder only supports utf-8, but got ${n}`);return this.textEncoder.encode(e)}decode(e,n){return e.length===0?"":new this.util.TextDecoder(n).decode(e)}isTypedArray(e){return this.util.types.isFloat32Array(e)||this.util.types.isInt32Array(e)||this.util.types.isUint8Array(e)||this.util.types.isUint8ClampedArray(e)}}Ln().get("IS_NODE")&&!Ln().get("IS_BROWSER")&&Ln().setPlatform("node",new JG);/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qn(t,e="float32",n){return e=e||"float32",Vi(t),new ro(t,e,n)}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZG(t,e){const n=Y(t,"x","cast");if(!Mj(e))throw new Error(`Failed to cast to unknown dtype ${e}`);if(e==="string"&&n.dtype!=="string"||e!=="string"&&n.dtype==="string")throw new Error("Only strings can be casted to strings");const r={x:n},a={dtype:e};return Se.runKernel(L1,r,a)}const ya=pe({cast_:ZG});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eq(t){const n={x:Y(t,"x","clone","string_or_numeric")};return Se.runKernel(pS,n)}const $d=pe({clone_:eq});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oM(t,e=!1){console.log(t.toString(e))}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */HO(),fG({buffer:qn,cast:ya,clone:$d,print:oM});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function D_(){return Se}function Kn(t,e){return Se.tidy(t,e)}function ao(t){BO(t).forEach(n=>n.dispose())}function Il(t){return Se.keep(t)}function sM(t){return Se.setBackend(t)}function tq(){return Se.ready()}function iM(t,e,n=1){return Se.registerBackend(t,e,n)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nq(t,e){let n=Y(t,"a","add"),r=Y(e,"b","add");[n,r]=xa(n,r);const a={a:n,b:r};return Se.runKernel(zv,a)}const nn=pe({add_:nq});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rq(t,e){let n=Y(t,"a","floorDiv"),r=Y(e,"b","floorDiv");[n,r]=xa(n,r);const a={a:n,b:r};return Se.runKernel(uS,a)}const uM=pe({floorDiv_:rq});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aq(t,e){let n=Y(t,"a","div"),r=Y(e,"b","div");if([n,r]=xa(n,r),n.dtype==="int32"&&r.dtype==="int32")return uM(n,r);const a={a:n,b:r},o={};return Se.runKernel(eS,a,o)}const Yn=pe({div_:aq});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oq(t,e){let n=Y(t,"a","mul"),r=Y(e,"b","mul");[n,r]=xa(n,r);const a={a:n,b:r};return Se.runKernel(FS,a)}const dt=pe({mul_:oq});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sq(t){const e=Y(t,"x","abs");if(e.dtype==="complex64"){const n={x:e};return Se.runKernel(sO,n)}else{const n={x:e};return Se.runKernel(Ak,n)}}const Wi=pe({abs_:sq});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iq(t){const n={x:Y(t,"x","acos")};return Se.runKernel(C1,n)}const uq=pe({acos_:iq});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lq(t){const n={x:Y(t,"x","acosh")};return Se.runKernel(k1,n)}const cq=pe({acosh_:lq});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dq(t){Z(Array.isArray(t),()=>"The argument passed to tf.addN() must be a list of tensors"),Z(t.length>=1,()=>`Must pass at least one tensor to tf.addN(), but got ${t.length}`);const e=t.map((a,o)=>Y(a,`tensors${o}`,"addN")),n=e[0];e.forEach(a=>{if(a.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),e.forEach(a=>{if(!du(a.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});const r=e;return Se.runKernel(_1,r)}const fq=pe({addN_:dq});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pq(t,e=null,n=!1){const a={x:Y(t,"x","all","bool")},o={axis:e,keepDims:n};return Se.runKernel(T1,a,o)}const hq=pe({all_:pq});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mq(t,e=null,n=!1){const a={x:Y(t,"x","any","bool")},o={axis:e,keepDims:n};return Se.runKernel(I1,a,o)}const gq=pe({any_:mq});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vq(t,e=0){const r={x:Y(t,"x","argMax")},a={axis:e};return Se.runKernel(Dk,r,a)}const yq=pe({argMax_:vq});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bq(t,e=0){const r={x:Y(t,"x","argMin")},a={axis:e};return Se.runKernel(Ok,r,a)}const Sq=pe({argMin_:bq});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wq(t){const n={x:Y(t,"x","asin")};return Se.runKernel(R1,n)}const Eq=pe({asin_:wq});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xq(t){const n={x:Y(t,"x","asinh")};return Se.runKernel(N1,n)}const Cq=pe({asinh_:xq});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kq(t){const n={x:Y(t,"x","atan")};return Se.runKernel(A1,n)}const _q=pe({atan_:kq});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tq(t,e){let n=Y(t,"a","atan2"),r=Y(e,"b","atan2");[n,r]=xa(n,r);const a={a:n,b:r};return Se.runKernel(O1,a)}const Iq=pe({atan2_:Tq});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rq(t){const n={x:Y(t,"x","atanh")};return Se.runKernel(D1,n)}const Nq=pe({atanh_:Rq});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rm(t,e,n,r,a="NHWC",o){const u=t[3],l=[...e,u],f=sm(a);return Ws(t,l,n,o,r,null,null,f)}function Gu(t,e,n,r,a,o,u="channelsLast"){const[l,f]=Zv(e);let p;if(u==="channelsLast")p=[l,f,t[3],t[3]];else if(u==="channelsFirst")p=[l,f,t[1],t[1]];else throw new Error(`Unknown dataFormat ${u}`);return Ws(t,p,n,r,a,o,!1,u)}function Fd(t,e,n,r,a,o,u="NDHWC"){const[l,f,p]=O_(e);let c,g;if(u==="NDHWC")g="channelsLast",c=[l,f,p,t[4],t[4]];else if(u==="NCDHW")g="channelsFirst",c=[l,f,p,t[1],t[1]];else throw new Error(`Unknown dataFormat ${u}`);return Zf(t,c,n,r,a,!1,g,o)}function Ws(t,e,n,r,a,o,u=!1,l="channelsLast"){let[f,p,c,g]=[-1,-1,-1,-1];if(l==="channelsLast")[f,p,c,g]=t;else if(l==="channelsFirst")[f,g,p,c]=t;else throw new Error(`Unknown dataFormat ${l}`);const[y,S,,E]=e,[k,_]=Zv(n),[I,R]=Zv(r),A=am(y,I),O=am(S,R),{padInfo:L,outHeight:U,outWidth:j}=Oq(a,p,c,k,_,A,O,o,l),J=u?E*g:E;let q;return l==="channelsFirst"?q=[f,J,U,j]:l==="channelsLast"&&(q=[f,U,j,J]),{batchSize:f,dataFormat:l,inHeight:p,inWidth:c,inChannels:g,outHeight:U,outWidth:j,outChannels:J,padInfo:L,strideHeight:k,strideWidth:_,filterHeight:y,filterWidth:S,effectiveFilterHeight:A,effectiveFilterWidth:O,dilationHeight:I,dilationWidth:R,inShape:t,outShape:q,filterShape:e}}function Zf(t,e,n,r,a,o=!1,u="channelsLast",l){let[f,p,c,g,y]=[-1,-1,-1,-1,-1];if(u==="channelsLast")[f,p,c,g,y]=t;else if(u==="channelsFirst")[f,y,p,c,g]=t;else throw new Error(`Unknown dataFormat ${u}`);const[S,E,k,,_]=e,[I,R,A]=O_(n),[O,L,U]=O_(r),j=am(S,O),J=am(E,L),q=am(k,U),{padInfo:K,outDepth:z,outHeight:te,outWidth:ee}=Mq(a,p,c,g,I,R,A,j,J,q,l),le=o?_*y:_;let ce;return u==="channelsFirst"?ce=[f,le,z,te,ee]:u==="channelsLast"&&(ce=[f,z,te,ee,le]),{batchSize:f,dataFormat:u,inDepth:p,inHeight:c,inWidth:g,inChannels:y,outDepth:z,outHeight:te,outWidth:ee,outChannels:le,padInfo:K,strideDepth:I,strideHeight:R,strideWidth:A,filterDepth:S,filterHeight:E,filterWidth:k,effectiveFilterDepth:j,effectiveFilterHeight:J,effectiveFilterWidth:q,dilationDepth:O,dilationHeight:L,dilationWidth:U,inShape:t,outShape:ce,filterShape:e}}function Aq(t,e,n,r,a){r==null&&(r=lM(t,e,n));const o=t[0],u=t[1],l=ey((o-e+2*r)/n+1,a),f=ey((u-e+2*r)/n+1,a);return[l,f]}function Dq(t,e,n,r,a,o){a==null&&(a=lM(t,e[0],r[0]));const u=[0,0,0,n];for(let l=0;l<3;l++)t[l]+2*a>=e[l]&&(u[l]=ey((t[l]-e[l]+2*a)/r[l]+1,o));return u}function lM(t,e,n,r=1){const a=am(e,r);return Math.floor((t[0]*(n-1)-n+a)/2)}function Zv(t){return typeof t=="number"?[t,t,t]:t.length===2?[t[0],t[1],1]:t}function O_(t){return typeof t=="number"?[t,t,t]:t}function am(t,e){return e<=1?t:t+(t-1)*(e-1)}function Oq(t,e,n,r,a,o,u,l,f){let p,c,g;if(typeof t=="number"){p={top:t,bottom:t,left:t,right:t,type:t===0?"VALID":"NUMBER"};const S=Aq([e,n],o,r,t,l);c=S[0],g=S[1]}else if(t==="same"){c=Math.ceil(e/r),g=Math.ceil(n/a);const y=Math.max(0,(c-1)*r+o-e),S=Math.max(0,(g-1)*a+u-n),E=Math.floor(y/2),k=y-E,_=Math.floor(S/2),I=S-_;p={top:E,bottom:k,left:_,right:I,type:"SAME"}}else if(t==="valid")p={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((e-o+1)/r),g=Math.ceil((n-u+1)/a);else if(typeof t=="object"){const y=f==="channelsLast"?t[1][0]:t[2][0],S=f==="channelsLast"?t[1][1]:t[2][1],E=f==="channelsLast"?t[2][0]:t[3][0],k=f==="channelsLast"?t[2][1]:t[3][1];p={top:y,bottom:S,left:E,right:k,type:y===0&&S===0&&E===0&&k===0?"VALID":"EXPLICIT"},c=ey((e-o+y+S)/r+1,l),g=ey((n-u+E+k)/a+1,l)}else throw Error(`Unknown padding parameter: ${t}`);return{padInfo:p,outHeight:c,outWidth:g}}function Mq(t,e,n,r,a,o,u,l,f,p,c){let g,y,S,E;if(t==="valid"&&(t=0),typeof t=="number"){g={top:t,bottom:t,left:t,right:t,front:t,back:t,type:t===0?"VALID":"NUMBER"};const _=Dq([e,n,r,1],[l,f,p],1,[a,o,u],t,c);y=_[0],S=_[1],E=_[2]}else if(t==="same"){y=Math.ceil(e/a),S=Math.ceil(n/o),E=Math.ceil(r/u);const k=(y-1)*a+l-e,_=(S-1)*o+f-n,I=(E-1)*u+p-r,R=Math.floor(k/2),A=k-R,O=Math.floor(_/2),L=_-O,U=Math.floor(I/2),j=I-U;g={top:O,bottom:L,left:U,right:j,front:R,back:A,type:"SAME"}}else throw Error(`Unknown padding parameter: ${t}`);return{padInfo:g,outDepth:y,outHeight:S,outWidth:E}}function ey(t,e){if(!e)return Math.trunc(t);switch(e){case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"floor":return Math.floor(t);default:throw new Error(`Unknown roundingMode ${e}`)}}function Nw(t){const[e,n,r]=Zv(t);return e===1&&n===1&&r===1}function hu(t,e){return Nw(t)||Nw(e)}function om(t){return Zv(t).every(e=>e>0)}function sm(t){if(t==="NHWC")return"channelsLast";if(t==="NCHW")return"channelsFirst";throw new Error(`Unknown dataFormat ${t}`)}function qu(t,e,n){if(n!=null){if(typeof e=="string")throw Error(`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${e}.`);if(typeof e=="number")Z(Pv(e),()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${e}.`);else if(typeof e=="object")e.forEach(r=>{r.forEach(a=>{Z(Pv(a),()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${a}.`)})});else throw Error(`Error in ${t}: Unknown padding parameter: ${e}`)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $q(t,e){const r={x:Y(t,"x","reshape","string_or_numeric")},a={shape:e};return Se.runKernel(Jk,r,a)}const Ge=pe({reshape_:$q});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fq(t,e,n,r,a){const o=Y(t,"x","avgPool","float32"),u=1;Z(hu(n,u),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${u}'`);let l=o,f=!1;o.rank===3&&(f=!0,l=Ge(o,[1,o.shape[0],o.shape[1],o.shape[2]])),Z(l.rank===4,()=>`Error in avgPool: x must be rank 4 but got rank ${l.rank}.`),qu("avgPool",r,a);const p={x:l},c={filterSize:e,strides:n,pad:r,dimRoundingMode:a};let g=Se.runKernel(M1,p,c);return g=ya(g,o.dtype),f?Ge(g,[g.shape[1],g.shape[2],g.shape[3]]):g}const cM=pe({avgPool_:Fq});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pq(t,e,n,r,a,o="NDHWC"){const u=Y(t,"x","avgPool3d","float32");let l=u,f=!1;u.rank===4&&(f=!0,l=Ge(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]])),Z(l.rank===5,()=>`Error in avgPool3d: x must be rank 5 but got rank ${l.rank}.`),Z(o==="NDHWC",()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${o}`),Z(typeof n=="number"&&n>0||Array.isArray(n)&&n[0]>0&&n[1]>0&&n[2]>0,()=>`Error in avgPool3d: Stride must be > 0, but got '${n}'`),qu("avgPool3d",r,a);const p={x:l},c={filterSize:e,strides:n,pad:r,dimRoundingMode:a,dataFormat:o};let g=Se.runKernel(Mk,p,c);return g=ya(g,l.dtype),f?Ge(g,[g.shape[1],g.shape[2],g.shape[3],g.shape[4]]):g}const Lq=pe({avgPool3d_:Pq});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bq(t,e=0){Z(t.length>=1,()=>"Pass at least one tensor to concat");const n=Tw(t,"tensors","concat","string_or_numeric");if(n[0].dtype==="complex64"&&n.forEach(o=>{if(o.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype ${o.dtype}. `)}),n.length===1)return $d(n[0]);const r=n,a={axis:e};return Se.runKernel(Pk,r,a)}const Oo=pe({concat_:Bq});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zq(t,e,n=!1,r=!1){let a=Y(t,"a","matMul"),o=Y(e,"b","matMul");[a,o]=xa(a,o);const u={a,b:o},l={transposeA:n,transposeB:r};return Se.runKernel($1,u,l)}const Fr=pe({matMul_:zq});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uq(t){const n={x:Y(t,"x","sigmoid","float32")};return Se.runKernel(iw,n)}const ep=pe({sigmoid_:Uq});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hq(t,e,n){const r=Y(t,"x","slice","string_or_numeric");if(r.rank===0)throw new Error("Slicing scalar is not possible");const a={x:r},o={begin:e,size:n};return Se.runKernel(n_,a,o)}const Bn=pe({slice_:Hq});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vq(t){const n={x:Y(t,"x","tanh","float32")};return Se.runKernel(yw,n)}const M_=pe({tanh_:Vq});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wq(t,e,n,r,a,o){const u=Y(t,"forgetBias","basicLSTMCell"),l=Y(e,"lstmKernel","basicLSTMCell"),f=Y(n,"lstmBias","basicLSTMCell"),p=Y(r,"data","basicLSTMCell"),c=Y(a,"c","basicLSTMCell"),g=Y(o,"h","basicLSTMCell"),y=Oo([p,g],1),S=Fr(y,l),E=nn(S,f),k=E.shape[0],_=E.shape[1]/4,I=[k,_],R=Bn(E,[0,0],I),A=Bn(E,[0,_],I),O=Bn(E,[0,_*2],I),L=Bn(E,[0,_*3],I),U=nn(dt(ep(R),M_(A)),dt(c,ep(nn(u,O)))),j=dt(M_(U),ep(L));return[U,j]}const jq=pe({basicLSTMCell_:Wq});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gq(t,e,n){const r=Y(t,"x","batchToSpaceND"),a=e.reduce((l,f)=>l*f);Z(r.rank>=1+e.length,()=>`input rank is ${r.rank} but should be > than blockShape.length ${e.length}`),Z(n.length===e.length,()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${e.length}`),Z(r.shape[0]%a===0,()=>`input tensor batch is ${r.shape[0]} but is not divisible by the product of the elements of blockShape ${e.join(" * ")} === ${a}`);const o={x:r},u={blockShape:e,crops:n};return Se.runKernel($k,o,u)}const dM=pe({batchToSpaceND_:Gq});function qq(t){let e;return t.rank===0||t.rank===1?e=Ge(t,[1,1,1,t.size]):t.rank===2?e=Ge(t,[1,1,t.shape[0],t.shape[1]]):t.rank===3?e=Ge(t,[1,t.shape[0],t.shape[1],t.shape[2]]):e=t,e}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kq(t,e,n,r,a,o){o==null&&(o=.001);const u=Y(t,"x","batchNorm"),l=Y(e,"mean","batchNorm"),f=Y(n,"variance","batchNorm");let p;a!=null&&(p=Y(a,"scale","batchNorm"));let c;r!=null&&(c=Y(r,"offset","batchNorm")),Z(l.rank===f.rank,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),Z(c==null||l.rank===c.rank,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),Z(p==null||l.rank===p.rank,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");const y={x:qq(u),scale:p,offset:c,mean:l,variance:f},S={varianceEpsilon:o},E=Se.runKernel(lS,y,S);return Ge(E,u.shape)}const Aw=pe({batchNorm_:Kq});function Yq(t,e,n,r,a,o){const u=Y(t,"x","batchNorm"),l=Y(e,"mean","batchNorm"),f=Y(n,"variance","batchNorm");let p;a!=null&&(p=Y(a,"scale","batchNorm"));let c;return r!=null&&(c=Y(r,"offset","batchNorm")),Z(u.rank===2,()=>`Error in batchNorm2D: x must be rank 2 but got rank ${u.rank}.`),Z(l.rank===2||l.rank===1,()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${l.rank}.`),Z(f.rank===2||f.rank===1,()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${f.rank}.`),p!=null&&Z(p.rank===2||p.rank===1,()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${p.rank}.`),c!=null&&Z(c.rank===2||c.rank===1,()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${c.rank}.`),Aw(u,l,f,c,p,o)}const Xq=pe({batchNorm2d_:Yq});function Qq(t,e,n,r,a,o){const u=Y(t,"x","batchNorm"),l=Y(e,"mean","batchNorm"),f=Y(n,"variance","batchNorm");let p;a!=null&&(p=Y(a,"scale","batchNorm"));let c;return r!=null&&(c=Y(r,"offset","batchNorm")),Z(u.rank===3,()=>`Error in batchNorm3D: x must be rank 3 but got rank ${u.rank}.`),Z(l.rank===3||l.rank===1,()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${l.rank}.`),Z(f.rank===3||f.rank===1,()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${f.rank}.`),p!=null&&Z(p.rank===3||p.rank===1,()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${p.rank}.`),c!=null&&Z(c.rank===3||c.rank===1,()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${c.rank}.`),Aw(u,l,f,c,p,o)}const Jq=pe({batchNorm3d_:Qq});function Zq(t,e,n,r,a,o){const u=Y(t,"x","batchNorm"),l=Y(e,"mean","batchNorm"),f=Y(n,"variance","batchNorm");let p;a!=null&&(p=Y(a,"scale","batchNorm"));let c;return r!=null&&(c=Y(r,"offset","batchNorm")),Z(u.rank===4,()=>`Error in batchNorm4D: x must be rank 4 but got rank ${u.rank}.`),Z(l.rank===4||l.rank===1,()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${l.rank}.`),Z(f.rank===4||f.rank===1,()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${f.rank}.`),p!=null&&Z(p.rank===4||p.rank===1,()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${p.rank}.`),c!=null&&Z(c.rank===4||c.rank===1,()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${c.rank}.`),Aw(u,l,f,c,p,o)}const eK=pe({batchNorm4d_:Zq});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tK(t,e,n){const r=Y(t,"x","bincount"),a=Y(e,"weights","bincount");Z(r.dtype==="int32",()=>`Error in bincount: input dtype must be int32, but got ${r.dtype}`),Z(n>=0,()=>`size must be non-negative, but got ${n}.`),Z(a.size===r.size||a.size===0,()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${r.shape}, weights shape: ${a.shape}.`);const o={x:r,weights:a},u={size:n};return Se.runKernel(F1,o,u)}const fM=pe({bincount_:tK});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nK(t,e){const n=Y(t,"x","bitwiseAnd"),r=Y(e,"y","bitwiseAnd");if(!du(n.shape,r.shape))throw new Error(`BitwiseAnd: Tensors must have the same shape. x: ${n.shape}, y: ${r.shape}`);if(n.dtype!=="int32"||r.dtype!=="int32")throw new Error(`BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ${n.dtype} and type of y: ${r.dtype}`);const a={a:n,b:r};return Se.runKernel(P1,a)}const rK=pe({bitwiseAnd_:nK});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aK(t,e){const n=Y(t,"s0","broadcastArgs","int32"),r=Y(e,"s1","broadcastArgs","int32");if(n.rank!==1)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${n.rank}`);if(r.rank!==1)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${r.rank}`);const a={s0:n,s1:r};return Se.runKernel(Fk,a)}const oK=pe({broadcastArgs_:aK});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sK(t,e){let n=Y(t,"broadcastTo","x");const r=n.shape;if(Vi(e),e.length<n.rank)throw new Error(`broadcastTo(): shape.length=${e.length} < input.rank=${n.rank}.`);if(e.length>n.rank){const p=n.shape.slice();for(;p.length<e.length;)p.unshift(1);n=Ge(n,p)}const a=n.shape,o=Array.from(e);for(let p=e.length-1;p>=0;p--)if(a[p]===e[p])o[p]=1;else if(n.shape[p]!==1)throw new Error(`broadcastTo(): [${r}] cannot be broadcast to [${e}].`);if(o.map((p,c)=>p>1?c:-1).filter(p=>p>=0).length===0)return $d(n);const l={x:n},f={reps:o};return Se.runKernel(Hv,l,f)}const ty=pe({broadcastTo_:sK});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iK(t){const n={x:Y(t,"x","ceil","float32")};return Se.runKernel(B1,n)}const uK=pe({ceil_:iK});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ny(t,e,n){Vi(t),n=n||Bv(e);const r={shape:t,value:e,dtype:n};return Se.runKernel(Vk,{},r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lK(t,e,n){const r=Y(t,"x","clipByValue");if(Z(e<=n,()=>`Error in clip: min (${e}) must be less than or equal to max (${n}).`),e===n)return ny(r.shape,e,r.dtype);const a={x:r},o={clipValueMin:e,clipValueMax:n};return Se.runKernel(Uv,a,o)}const pM=pe({clipByValue_:lK});function cK(t){return Oo(t,0)}const dK=pe({concat1d_:cK});function fK(t,e){return Oo(t,e)}const pK=pe({concat2d_:fK});function hK(t,e){return Oo(t,e)}const mK=pe({concat3d_:hK});function gK(t,e){return Oo(t,e)}const vK=pe({concat4d_:gK});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yK(t,e,n,r,a="NHWC",o=[1,1],u){const l=Y(t,"x","conv2d","float32"),f=Y(e,"filter","conv2d","float32");let p=l,c=!1;l.rank===3&&(c=!0,p=Ge(l,[1,l.shape[0],l.shape[1],l.shape[2]])),Z(p.rank===4,()=>`Error in conv2d: input must be rank 4, but got rank ${p.rank}.`),Z(f.rank===4,()=>`Error in conv2d: filter must be rank 4, but got rank ${f.rank}.`),qu("conv2d",r,u);const g=a==="NHWC"?p.shape[3]:p.shape[1];Z(g===f.shape[2],()=>`Error in conv2d: depth of input (${g}) must match input depth for filter ${f.shape[2]}.`),Z(hu(n,o),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`),Z(om(o),()=>"Error in conv2D: Dilated rates should be larger than 0."),Z(om(n),()=>"Error in conv2D: Strides should be larger than 0.");const y={x:p,filter:f},S={strides:n,pad:r,dataFormat:a,dilations:o,dimRoundingMode:u},E=Se.runKernel(z1,y,S);return c?Ge(E,[E.shape[1],E.shape[2],E.shape[3]]):E}const Dw=pe({conv2d_:yK});function bK(t,e,n,r,a="NWC",o=1,u){const l=Y(t,"x","conv1d"),f=Y(e,"filter","conv1d");let p=l,c=!1;l.rank===2&&(c=!0,p=Ge(l,[1,l.shape[0],l.shape[1]])),Z(p.rank===3,()=>`Error in conv1d: input must be rank 3, but got rank ${p.rank}.`),Z(f.rank===3,()=>`Error in conv1d: filter must be rank 3, but got rank ${f.rank}.`),qu("conv1d",r,u),Z(p.shape[2]===f.shape[1],()=>`Error in conv1d: depth of input (${p.shape[2]}) must match input depth for filter ${f.shape[1]}.`),Z(hu(n,o),()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${o}'`),Z(om(o),()=>"Error in conv1D: Dilated rates should be larger than 0."),Z(om(n),()=>"Error in conv1D: Stride should be larger than 0."),Z(a==="NWC",()=>`Error in conv1d: got dataFormat of ${a} but only NWC is currently supported.`);const g=Ge(f,[1,f.shape[0],f.shape[1],f.shape[2]]),y=Ge(p,[p.shape[0],1,p.shape[1],p.shape[2]]),_=Dw(y,g,[1,n],r,"NHWC",[1,o],u);return c?Ge(_,[_.shape[2],_.shape[3]]):Ge(_,[_.shape[0],_.shape[2],_.shape[3]])}const SK=pe({conv1d_:bK});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wK(t,e,n,r,a,o="NHWC",u){Z(t.length===e.rank,()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`);let l=t,f=e,p=!1;e.rank===3&&(p=!0,f=Ge(e,[1,e.shape[0],e.shape[1],e.shape[2]]),l=[1,t[0],t[1],t[2]]),Z(l.length===4,()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${l.length}.`),Z(f.rank===4,()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${f.rank}`),Z(n.rank===4,()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`);const c=o==="NHWC"?l[3]:l[1],g=o==="NHWC"?f.shape[3]:f.shape[1];Z(c===n.shape[2],()=>`Error in conv2dDerInput: depth of input (${c}) must match input depth for filter ${n.shape[2]}.`),Z(g===n.shape[3],()=>`Error in conv2dDerInput: depth of output (${g}) must match output depth for filter ${n.shape[3]}.`),qu("conv2dDerInput",a,u);const y={dy:f,filter:n},S={strides:r,pad:a,dataFormat:o,dimRoundingMode:u,inputShape:l},E=Se.runKernel(U1,y,S);return p?Ge(E,[E.shape[1],E.shape[2],E.shape[3]]):E}const hM=pe({conv2DBackpropInput_:wK});function EK(t,e,n,r,a,o){const u=Y(t,"x","conv2dTranspose"),l=Y(e,"filter","conv2dTranspose");return hM(n,u,l,r,a,"NHWC",o)}const xK=pe({conv2dTranspose_:EK});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CK(t,e,n,r,a="NDHWC",o=[1,1,1]){const u=Y(t,"x","conv3d"),l=Y(e,"filter","conv3d");let f=u,p=!1;u.rank===4&&(p=!0,f=Ge(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]])),Z(f.rank===5,()=>`Error in conv3d: input must be rank 5, but got rank ${f.rank}.`),Z(l.rank===5,()=>`Error in conv3d: filter must be rank 5, but got rank ${l.rank}.`),Z(f.shape[4]===l.shape[3],()=>`Error in conv3d: depth of input (${f.shape[4]}) must match input depth for filter ${l.shape[3]}.`),Z(hu(n,o),()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`),Z(a==="NDHWC",()=>`Error in conv3d: got dataFormat of ${a} but only NDHWC is currently supported.`),Z(om(o),()=>"Error in conv3D: Dilated rates should be larger than 0."),Z(om(n),()=>"Error in conv3D: Strides should be larger than 0.");const c={x:f,filter:l},g={strides:n,pad:r,dataFormat:a,dilations:o},y=Se.runKernel(H1,c,g);return p?Ge(y,[y.shape[1],y.shape[2],y.shape[3],y.shape[4]]):y}const kK=pe({conv3d_:CK});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _K(t,e,n,r,a){Z(t.length===e.rank,()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`);let o=t,u=e,l=!1;e.rank===4&&(l=!0,u=Ge(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]),o=[1,t[0],t[1],t[2],t[3]]);const f=o[4],p=u.shape[4];Z(o.length===5,()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${o.length}.`),Z(u.rank===5,()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${u.rank}`),Z(n.rank===5,()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${n.rank}`),Z(f===n.shape[3],()=>`Error in conv3dDerInput: depth of input (${f}) must match input depth for filter ${n.shape[3]}.`),Z(p===n.shape[4],()=>`Error in conv3dDerInput: depth of output (${p}) must match output depth for filter ${n.shape[4]}.`);const c={dy:u,filter:n},g={pad:a,strides:r,inputShape:o},y=Se.runKernel(V1,c,g);return l?Ge(y,[y.shape[1],y.shape[2],y.shape[3],y.shape[4]]):y}const TK=pe({conv3DBackpropInput_:_K});function IK(t,e,n,r,a){const o=Y(t,"x","conv3dTranspose"),u=Y(e,"filter","conv3dTranspose");return TK(n,o,u,r,a)}const RK=pe({conv3dTranspose_:IK});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NK(t){const n={x:Y(t,"x","cos","float32")};return Se.runKernel(W1,n)}const AK=pe({cos_:NK});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DK(t){const n={x:Y(t,"x","cosh","float32")};return Se.runKernel(j1,n)}const OK=pe({cosh_:DK});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MK(t,e=0,n=!1,r=!1){const o={x:Y(t,"x","cumprod")},u={axis:e,exclusive:n,reverse:r};return Se.runKernel(G1,o,u)}const $K=pe({cumprod_:MK});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FK(t,e=0,n=!1,r=!1){const o={x:Y(t,"x","cumsum")},u={axis:e,exclusive:n,reverse:r};return Se.runKernel(q1,o,u)}const PK=pe({cumsum_:FK});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LK(t,e,n,r=!1){const a=Y(t,"x","denseBincount"),o=Y(e,"weights","denseBincount");Z(a.dtype==="int32",()=>`Error in denseBincount: input dtype must be int32, but got ${a.dtype}`),Z(a.rank<=2,()=>`Error in denseBincount: input must be at most rank 2, but got rank ${a.rank}.`),Z(n>=0,()=>`size must be non-negative, but got ${n}.`),Z(o.size===a.size||o.size===0,()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${a.shape}, weights shape: ${o.shape}.`);const u={x:a,weights:o},l={size:n,binaryOutput:r};return Se.runKernel(Bk,u,l)}const BK=pe({denseBincount_:LK});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zK(t,e,n="NHWC"){const r=Y(t,"x","depthToSpace","float32"),a=n==="NHWC"?r.shape[1]:r.shape[2],o=n==="NHWC"?r.shape[2]:r.shape[3],u=n==="NHWC"?r.shape[3]:r.shape[1];Z(e>1,()=>`blockSize should be > 1 for depthToSpace, but was: ${e}`),Z(a*e>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${a} and ${e}  for depthToSpace with input shape
    ${r.shape}`),Z(o*e>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${o} and ${e} for depthToSpace with input shape
        ${r.shape}`),Z(u%(e*e)===0,()=>`Dimension size must be evenly divisible by ${e*e} but is ${u} for depthToSpace with input shape ${r.shape}`);const l={x:r},f={blockSize:e,dataFormat:n};return Se.runKernel(Y1,l,f)}const UK=pe({depthToSpace_:zK});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HK(t,e,n,r,a="NHWC",o=[1,1],u){const l=Y(t,"x","depthwiseConv2d","float32"),f=Y(e,"filter","depthwiseConv2d","float32");let p=l,c=!1;l.rank===3&&(c=!0,p=Ge(l,[1,l.shape[0],l.shape[1],l.shape[2]])),Z(p.rank===4,()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${p.rank}.`),Z(f.rank===4,()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${f.rank}.`);const g=a==="NHWC"?p.shape[3]:p.shape[1];Z(g===f.shape[2],()=>`Error in depthwiseConv2d: number of input channels (${g}) must match the inChannels dimension in filter ${f.shape[2]}.`),qu("depthwiseConv2d",r,u);const y={x:p,filter:f},S={strides:n,pad:r,dataFormat:a,dilations:o,dimRoundingMode:u},E=Se.runKernel(X1,y,S);return c?Ge(E,[E.shape[1],E.shape[2],E.shape[3]]):E}const $_=pe({depthwiseConv2d_:HK});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VK(t){const n={x:Y(t,"x","diag")};return Se.runKernel(zk,n)}const WK=pe({diag_:VK});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jK(t,e,n,r,a=[1,1],o="NHWC"){const u=Y(t,"x","dilation2d"),l=Y(e,"filter","dilation2d");Z(u.rank===3||u.rank===4,()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${u.rank}.`),Z(l.rank===3,()=>`Error in dilation2d: filter must be rank 3, but got rank ${l.rank}.`),Z(o==="NHWC",()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${o}`);let f=u,p=!1;u.rank===3&&(f=Ge(u,[1,u.shape[0],u.shape[1],u.shape[2]]),p=!0),Z(f.shape[3]===l.shape[2],()=>`Error in dilation2d:  input and filter must have the same depth: ${f.shape[3]} vs ${l.shape[2]}`);const c={x:f,filter:l},g={strides:n,pad:r,dilations:a},y=Se.runKernel(Q1,c,g);return p?Ge(y,[y.shape[1],y.shape[2],y.shape[3]]):y}const GK=pe({dilation2d_:jK});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ow(t,e){const n=t.length,r=[];for(let a=0;a<n;a++){const o=n-1-a,u=t[o]||1;(e[e.length-1-a]||1)>1&&u===1&&r.unshift(o)}return r}function qK(t,e){const n=[];for(let r=0;r<e.length;r++){const a=t[t.length-r-1],o=e.length-r-1,u=e[o];(a==null||a===1&&u>1)&&n.unshift(o)}return n}function Xr(t,e){const n=Math.max(t.length,e.length),r=new Array(n);for(let a=0;a<n;a++){let o=t[t.length-a-1];o==null&&(o=1);let u=e[e.length-a-1];if(u==null&&(u=1),o===1)r[n-a-1]=u;else if(u===1)r[n-a-1]=o;else if(o!==u){const l=`Operands could not be broadcast together with shapes ${t} and ${e}.`;throw Error(l)}else r[n-a-1]=o}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KK(t,e){let n=Y(t,"a","equal","string_or_numeric"),r=Y(e,"b","equal","string_or_numeric");[n,r]=xa(n,r),Xr(n.shape,r.shape);const a={a:n,b:r};return Se.runKernel(rS,a)}const mM=pe({equal_:KK});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YK(t,e,n){const r=Y(e,"a","where"),a=Y(n,"b","where"),o=Y(t,"condition","where","bool"),u=Xr(Xr(o.shape,r.shape),a.shape),l=ty(o,u),f=ty(r,u),p=ty(a,u),c={condition:l,t:f,e:p};return Se.runKernel(t_,c)}const Pd=pe({where_:YK});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XK(t){const n={x:Y(t,"x","zerosLike")};return Se.runKernel(h_,n)}const ji=pe({zerosLike_:XK});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QK(t,e){let n=Y(t,"a","div"),r=Y(e,"b","div");[n,r]=xa(n,r);const a=Yn(n,r),o=ji(a),u=mM(r,o);return Pd(u,o,a)}const JK=pe({divNoNan_:QK});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZK(t,e){const n=Y(t,"t1","dot"),r=Y(e,"t2","dot");Z((n.rank===1||n.rank===2)&&(r.rank===1||r.rank===2),()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${r.rank}.`);const a=n.rank===1?n.size:n.shape[1],o=r.rank===1?r.size:r.shape[0];if(Z(a===o,()=>`Error in dot: inner dimensions of inputs must match, but got ${a} and ${o}.`),n.rank===1&&r.rank===1){const u=Ge(n,[1,-1]),l=Ge(r,[-1,1]),f=Fr(u,l);return Ge(f,[])}else if(n.rank===1&&r.rank===2){const u=Ge(n,[1,-1]),l=Ge(r,[r.shape[0],r.shape[1]]),f=Fr(u,l);return Ge(f,[f.size])}else if(n.rank===2&&r.rank===1){const u=Ge(r,[-1,1]),l=Fr(n,u);return Ge(l,[l.size])}else{const u=Ge(r,[r.shape[0],r.shape[1]]);return Fr(n,u)}}const eY=pe({dot_:ZK});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tY(t,...e){const n=e.map((a,o)=>Y(a,`tensors${o}`,"einsum")),r={equation:t};return Se.runKernel(cO,n,r)}const im=pe({einsum_:tY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nY(t){const n={x:Y(t,"x","elu","float32")};return Se.runKernel(tS,n)}const gM=pe({elu_:nY});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rY(t,e){const n=Y(t,"x","ensureShape","string_or_numeric");if(!Aj(n.shape,e))throw new Error(`EnsureShape: Shape of tensor ${n.shape} is not compatible with expected shape ${e}`);return t}const aY=pe({ensureShape_:rY});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oY(t){let e=Y(t,"x","erf");Z(e.dtype==="int32"||e.dtype==="float32",()=>"Input dtype must be `int32` or `float32`."),e.dtype==="int32"&&(e=ya(e,"float32"));const n={x:e};return Se.runKernel(nS,n)}const sY=pe({erf_:oY});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vM(t,e){for(let n=0;n<t.length;++n)if(t[t.length-n-1]!==e-1-n)return!1;return!0}function iY(t,e,n){const r=t.length+e.length,a=[];let o=0,u=0;for(let l=0;l<r;l++)n.indexOf(l)===-1?a.push(t[o++]):a.push(e[u++]);return a}function ys(t,e){const n=[],r=t.length;for(let o=0;o<r;o++)e.indexOf(o)===-1&&n.push(t[o]);const a=e.map(o=>t[o]);return[n,a]}function Mo(t,e){const n=e.map(r=>1);return iY(t,n,e)}function bs(t,e,n){Z(vM(e,n),()=>`${t} supports only inner-most axes for now. Got axes ${e} and rank-${n} input.`)}function Gi(t,e){if(vM(t,e))return null;const n=[];for(let r=0;r<e;++r)t.indexOf(r)===-1&&n.push(r);return t.forEach(r=>n.push(r)),n}function Mw(t){return t.map((e,n)=>[n,e]).sort((e,n)=>e[1]-n[1]).map(e=>e[0])}function Ss(t,e){const n=[];for(let r=e-t;r<e;++r)n.push(r);return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uY(t,e=null,n=!1){const a={x:Y(t,"x","max")},o={reductionIndices:e,keepDims:n};return Se.runKernel(TS,a,o)}const um=pe({max_:uY});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lY(t,e=null,n=!1){const a={x:Y(t,"x","min")},o={axis:e,keepDims:n};return Se.runKernel(AS,a,o)}const F_=pe({min_:lY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cY(t,e){let n=Y(t,"base","pow"),r=Y(e,"exp","pow");[n,r]=xa(n,r);const a={a:n,b:r};return Se.runKernel(VS,a)}const ry=pe({pow_:cY});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ur(t,e){if((pu(t)&&e!=="string"||Array.isArray(t))&&e!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(e==="string"&&pu(t)&&!(t instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Od(t,[],[],e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dY(t){const n={x:Y(t,"x","sqrt","float32")};return Se.runKernel(lw,n)}const kc=pe({sqrt_:dY});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fY(t){const e=Y(t,"x","square"),n={};return Se.runKernel("Square",{x:e},n)}const Ku=pe({square_:fY});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pY(t,e=null,n=!1){let r=Y(t,"x","sum");r.dtype==="bool"&&(r=ya(r,"int32"));const a={x:r},o={axis:e,keepDims:n};return Se.runKernel(cw,a,o)}const ra=pe({sum_:pY});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hY(t,e="euclidean",n=null,r=!1){t=Y(t,"x","norm");const a=yM(t,e,n);let o=a.shape;if(r){const u=ga(n,t.shape);o=Mo(a.shape,u)}return Ge(a,o)}function yM(t,e,n=null){if(t.rank===0)return Wi(t);if(t.rank!==1&&n===null)return yM(Ge(t,[-1]),e,n);if(t.rank===1||typeof n=="number"||Array.isArray(n)&&n.length===1){if(e===1)return ra(Wi(t),n);if(e===1/0)return um(Wi(t),n);if(e===-1/0)return F_(Wi(t),n);if(e==="euclidean"||e===2)return kc(ra(ry(Wi(t),ur(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${e}`)}if(Array.isArray(n)&&n.length===2){if(e===1)return um(ra(Wi(t),n[0]),n[1]-1);if(e===1/0)return um(ra(Wi(t),n[1]),n[0]);if(e===-1/0)return F_(ra(Wi(t),n[1]),n[0]);if(e==="fro"||e==="euclidean")return kc(ra(Ku(t),n));throw new Error(`Error in norm: invalid ord value: ${e}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}const $w=pe({norm_:hY});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mY(t,e=null,n=!1){return $w(t,"euclidean",e,n)}const gY=pe({euclideanNorm_:mY});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vY(t){const n={x:Y(t,"x","exp")};return Se.runKernel(aS,n)}const _c=pe({exp_:vY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yY(t,e=0){const n=Y(t,"x","expandDims","string_or_numeric");Z(e<=n.rank,()=>"Axis must be <= rank of the tensor");const r={input:n},a={dim:e};return Se.runKernel(Hk,r,a)}const Rl=pe({expandDims_:yY});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bY(t){const n={x:Y(t,"x","expm1")};return Se.runKernel(oS,n)}const SY=pe({expm1_:bY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wY(t,e){const n=Y(t,"x","tile","string_or_numeric");Z(n.rank===e.length,()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${e}.`);const r={x:n},a={reps:e};return Se.runKernel(Hv,r,a)}const ay=pe({tile_:wY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EY(t,e,n,r="float32"){e==null&&(e=t);const a=qn([t,e],r),o=t<=e?t:e;for(let l=0;l<o;++l)a.set(1,l,l);const u=Ge(a.toTensor(),[t,e]);if(n==null)return u;if(n.length===1)return ay(Rl(u,0),[n[0],1,1]);if(n.length===2)return ay(Rl(Rl(u,0),0),[n[0],n[1],1,1]);if(n.length===3)return ay(Rl(Rl(Rl(u,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}const bM=pe({eye_:EY});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xY(t){const n={x:Y(t,"x","floor","float32")};return Se.runKernel(iS,n)}const SM=pe({floor_:xY});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CY(t,e,n=0,r=0){const a=Y(t,"x","gather"),o=Y(e,"indices","gather","int32"),u={x:a,indices:o},l={axis:n,batchDims:r};return Se.runKernel(Wk,u,l)}const wM=pe({gather_:CY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kY(t,e){let n=Y(t,"a","greater","string_or_numeric"),r=Y(e,"b","greater","string_or_numeric");[n,r]=xa(n,r),Xr(n.shape,r.shape);const a={a:n,b:r};return Se.runKernel(dS,a)}const Fw=pe({greater_:kY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _Y(t,e){let n=Y(t,"a","greaterEqual","string_or_numeric"),r=Y(e,"b","greaterEqual","string_or_numeric");[n,r]=xa(n,r),Xr(n.shape,r.shape);const a={a:n,b:r};return Se.runKernel(fS,a)}const EM=pe({greaterEqual_:_Y});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TY(t){const n={input:Y(t,"input","imag")};return Se.runKernel(pO,n)}const Pw=pe({imag_:TY});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IY(t){const n={x:Y(t,"x","isFinite")};return Se.runKernel(hS,n)}const RY=pe({isFinite_:IY});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NY(t){const n={x:Y(t,"x","isInf")};return Se.runKernel(mS,n)}const AY=pe({isInf_:NY});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DY(t){const n={x:Y(t,"x","isNaN")};return Se.runKernel(gS,n)}const OY=pe({isNaN_:DY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MY(t,e=.2){const r={x:Y(t,"x","leakyRelu")},a={alpha:e};return Se.runKernel(vS,r,a)}const xM=pe({leakyRelu_:MY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Y(t,e){let n=Y(t,"a","less","string_or_numeric"),r=Y(e,"b","less","string_or_numeric");[n,r]=xa(n,r),Xr(n.shape,r.shape);const a={a:n,b:r};return Se.runKernel(yS,a)}const P_=pe({less_:$Y});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FY(t,e){let n=Y(t,"a","lessEqual","string_or_numeric"),r=Y(e,"b","lessEqual","string_or_numeric");[n,r]=xa(n,r),Xr(n.shape,r.shape);const a={a:n,b:r};return Se.runKernel(bS,a)}const L_=pe({lessEqual_:FY});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PY(t,e,n){if(n<=0)throw new Error("The number of values should be positive.");const r={start:t,stop:e,num:n};return Se.runKernel(SS,{},r)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LY(t,e=5,n=1,r=1,a=.5){const o=Y(t,"x","localResponseNormalization");Z(o.rank===4||o.rank===3,()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank ${o.rank}.`),Z(Pv(e),()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${e}.`);let u=o,l=!1;o.rank===3&&(l=!0,u=Ge(o,[1,o.shape[0],o.shape[1],o.shape[2]]));const f={x:u},p={depthRadius:e,bias:n,alpha:r,beta:a},c=Se.runKernel(_S,f,p);return l?Ge(c,[c.shape[1],c.shape[2],c.shape[3]]):c}const BY=pe({localResponseNormalization_:LY});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zY(t){const n={x:Y(t,"x","log","float32")};return Se.runKernel(wS,n)}const oy=pe({log_:zY});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UY(t){const n={x:Y(t,"x","log1p")};return Se.runKernel(ES,n)}const CM=pe({log1p_:UY});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HY(t,e){Z(Tk(t),()=>"The f passed in variableGrads(f) must be a function"),Z(e==null||Array.isArray(e)&&e.every(p=>p instanceof _w),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");const n=e!=null;if(!n){e=[];for(const p in Se.registeredVariables)e.push(Se.registeredVariables[p])}const r=n?e.filter(p=>!p.trainable):null,a=e.length;e=e.filter(p=>p.trainable),Z(e.length>0,()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${a} variables is trainable.`);const o=!0,{value:u,grads:l}=Se.gradients(t,e,null,o);Z(l.some(p=>p!=null),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),Z(u.rank===0,()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${u.rank} tensor`);const f={};return e.forEach((p,c)=>{l[c]!=null&&(f[p.name]=l[c])}),r?.forEach(p=>f[p.name]=null),{value:u,grads:f}}function Tc(t){return Se.customGrad(t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VY(t){const n={x:Y(t,"x","neg")};return Se.runKernel(Kk,n)}const Nl=pe({neg_:VY});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WY(t){const n={x:Y(t,"x","softplus")};return Se.runKernel(uw,n)}const kM=pe({softplus_:WY});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jY(t){const e=Y(t,"x","logSigmoid");return Tc(r=>({value:Nl(kM(Nl(r))),gradFunc:u=>dt(u,ep(Nl(r)))}))(e)}const GY=pe({logSigmoid_:jY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qY(t,e){let n=Y(t,"a","sub"),r=Y(e,"b","sub");[n,r]=xa(n,r);const a={a:n,b:r};return Se.runKernel(gw,a)}const zn=pe({sub_:qY});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KY(t,e=-1){const n=Y(t,"logits","logSoftmax");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${e}`);return Tc((a,o)=>{const l=um(a,e,!0),f=zn(a,l),p=zn(ya(f,"float32"),oy(ra(_c(f),e,!0)));return o([p]),{value:p,gradFunc:(g,y)=>{const[S]=y,E=!0,k=_c(S);return zn(g,dt(ra(g,e,E),k))}}})(n)}const YY=pe({logSoftmax_:KY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XY(t,e=null,n=!1){const r=Y(t,"x","logSumExp"),a=ga(e,r.shape),o=um(r,a,!0),u=zn(r,o),l=_c(u),f=ra(l,a),p=oy(f),c=nn(Ge(o,p.shape),p);if(n){const g=Mo(c.shape,a);return Ge(c,g)}return c}const _M=pe({logSumExp_:XY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QY(t,e){const n=Y(t,"a","logicalAnd","bool"),r=Y(e,"b","logicalAnd","bool");Xr(n.shape,r.shape);const a={a:n,b:r};return Se.runKernel(xS,a)}const Lw=pe({logicalAnd_:QY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JY(t){const n={x:Y(t,"x","logicalNot","bool")};return Se.runKernel(CS,n)}const TM=pe({logicalNot_:JY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZY(t,e){const n=Y(t,"a","logicalOr","bool"),r=Y(e,"b","logicalOr","bool");Xr(n.shape,r.shape);const a={a:n,b:r};return Se.runKernel(kS,a)}const IM=pe({logicalOr_:ZY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eX(t,e){const n=Y(t,"a","logicalXor","bool"),r=Y(e,"b","logicalXor","bool");return Xr(n.shape,r.shape),Lw(IM(t,e),TM(Lw(t,e)))}const tX=pe({logicalXor_:eX});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Bw=2147483648;function nX(t,e,n="left"){const r=Y(t,"sortedSequence","searchSorted"),a=Y(e,"values","searchSorted"),o=r.shape[r.shape.length-1],u=a.shape[a.shape.length-1],l=Ge(r,[-1,o]),f=Ge(a,[-1,u]);if(l.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(l.shape[0]!==f.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(ze(f.shape)>=Bw)throw new Error(`values tensor size must less than ${Bw}`);if(l.shape[1]>=Bw)throw new Error(`trailing dim_size must less than ${Bw} for int32 output type, was ${l.shape[1]}`);const p={sortedSequence:l,values:f},c={side:n};return Se.runKernel(nw,p,c)}const B_=pe({searchSorted_:nX});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rX(t,e){return B_(t,e,"left")}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aX(t,e,n,r,a){const o=Y(t,"x","maxPool"),u=1;let l=o,f=!1;o.rank===3&&(f=!0,l=Ge(o,[1,o.shape[0],o.shape[1],o.shape[2]])),Z(l.rank===4,()=>`Error in maxPool: input must be rank 4 but got rank ${l.rank}.`),Z(hu(n,u),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${u}'`),qu("maxPool",r,a);const p={x:l},c={filterSize:e,strides:n,pad:r,dimRoundingMode:a},g=Se.runKernel(RS,p,c);return f?Ge(g,[g.shape[1],g.shape[2],g.shape[3]]):g}const RM=pe({maxPool_:aX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oX(t,e=[1,1,1],n,r,a,o="NDHWC"){const u=Y(t,"x","maxPool3d");let l=u,f=!1;u.rank===4&&(f=!0,l=Ge(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]])),Z(l.rank===5,()=>`Error in maxPool3d: x must be rank 5 but got rank ${l.rank}.`),Z(o==="NDHWC",()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${o}`),qu("maxPool3d",r,a);const p={x:l},c={filterSize:e,strides:n,pad:r,dimRoundingMode:a,dataFormat:o},g=Se.runKernel(Gk,p,c);return f?Ge(g,[g.shape[1],g.shape[2],g.shape[3],g.shape[4]]):g}const sX=pe({maxPool3d_:oX});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iX(t,e,n,r,a=!1){const u={x:Y(t,"x","maxPoolWithArgmax")},l={filterSize:e,strides:n,pad:r,includeBatchInIndex:a},f=Se.runKernel(qk,u,l);return{result:f[0],indexes:f[1]}}const uX=pe({maxPoolWithArgmax_:iX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lX(t,e){let n=Y(t,"a","maximum"),r=Y(e,"b","maximum");[n,r]=xa(n,r),n.dtype==="bool"&&(n=ya(n,"int32"),r=ya(r,"int32")),Xr(n.shape,r.shape);const a={a:n,b:r};return Se.runKernel(IS,a)}const NM=pe({maximum_:lX});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cX(t,e=null,n=!1){const a={x:Y(t,"x","mean")},o={axis:e,keepDims:n};return Se.runKernel(NS,a,o)}const zw=pe({mean_:cX});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lm(t,e="float32"){if(Vi(t),e==="complex64"){const r=lm(t,"float32"),a=lm(t,"float32");return Dd(r,a)}const n=Xo(ze(t),e);return Se.makeTensor(n,t,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tp(t,e="float32"){if(Vi(t),e==="complex64"){const r=tp(t,"float32"),a=lm(t,"float32");return Dd(r,a)}const n=Ik(ze(t),e);return Se.makeTensor(n,t,e)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dX(t,e,{indexing:n="xy"}={}){if(n!=="xy"&&n!=="ij")throw new TypeError(`${n} is not a valid third argument to meshgrid`);if(t===void 0)return[];let r=Y(t,"x","meshgrid",t instanceof Ya?t.dtype:"float32");if(e===void 0)return[r];let a=Y(e,"y","meshgrid",e instanceof Ya?e.dtype:"float32");const o=ze(r.shape),u=ze(a.shape);return n==="xy"?(r=Ge(r,[1,-1]),a=Ge(a,[-1,1]),[Fr(tp([u,1],r.dtype),r),Fr(a,tp([1,o],a.dtype))]):(r=Ge(r,[-1,1]),a=Ge(a,[1,-1]),[Fr(r,tp([1,u],r.dtype)),Fr(tp([o,1],a.dtype),a)])}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fX(t,e){let n=Y(t,"a","minimum"),r=Y(e,"b","minimum");[n,r]=xa(n,r),n.dtype==="bool"&&(n=ya(n,"int32"),r=ya(r,"int32")),Xr(n.shape,r.shape);const a={a:n,b:r};return Se.runKernel(DS,a)}const Uw=pe({minimum_:fX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pX(t,e,n){Z(n==="reflect"||n==="symmetric",()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`);const r=Y(t,"x","mirrorPad");if(r.rank===0)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");Z(e.length===r.rank,()=>`Padding doesn't match input. Must be ${r.rank}. Got ${e.length}.`);const a=n==="reflect"?1:0;for(let l=0;l<r.rank;l++)Z(e[l].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Z(e[l][0]>=0&&e[l][0]<=r.shape[l]-a&&e[l][1]>=0&&e[l][1]<=r.shape[l]-a,()=>`Padding in dimension ${l} cannot be greater than or equal to ${r.shape[l]-a} or less than 0 for input of shape ${r.shape}`);const o={paddings:e,mode:n},u={x:r};return Se.runKernel(OS,u,o)}const hX=pe({mirrorPad_:pX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mX(t,e){let n=Y(t,"a","mod"),r=Y(e,"b","mod");[n,r]=xa(n,r);const a={a:n,b:r};return Se.runKernel(MS,a)}const gX=pe({mod_:mX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vX(t,e=null,n=!1){t=Y(t,"x","moments");const r=ga(e,t.shape),a=zw(t,r,n);let o=a.shape;n||(o=Mo(a.shape,r));const u=Ku(zn(ya(t,"float32"),Ge(a,o))),l=zw(u,r,n);return{mean:a,variance:l}}const yX=pe({moments_:vX});function bX(t,e,n,r){const a=Y(e,"data","multiRNNCell"),o=Tw(n,"c","multiRNNCell"),u=Tw(r,"h","multiRNNCell");let l=a;const f=[];for(let g=0;g<t.length;g++){const y=t[g](l,o[g],u[g]);f.push(y[0]),f.push(y[1]),l=y[1]}const p=[],c=[];for(let g=0;g<f.length;g+=2)p.push(f[g]),c.push(f[g+1]);return[p,c]}const SX=pe({multiRNNCell_:bX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wX(t,e,n,r=!1){const a=Y(t,"logits","multinomial"),o=a.size,u=a.rank;if(o<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${o}.`);if(u>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${u}`);n=n||Math.random();const f={logits:u===1?Ge(a,[1,-1]):a},p={numSamples:e,seed:n,normalized:r},c=Se.runKernel($S,f,p);return u===1?Ge(c,[c.size]):c}const EX=pe({multinomial_:wX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xX(t,e){let n=Y(t,"a","notEqual","string_or_numeric"),r=Y(e,"b","notEqual","string_or_numeric");[n,r]=xa(n,r),Xr(n.shape,r.shape);const a={a:n,b:r};return Se.runKernel(PS,a)}const AM=pe({notEqual_:xX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CX(t,e,n=1,r=0,a="int32"){if(e<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${e}`);const u={indices:Y(t,"indices","oneHot","int32")},l={dtype:a,depth:e,onValue:n,offValue:r};return Se.runKernel(US,u,l)}const kX=pe({oneHot_:CX});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _X(t){const n={x:Y(t,"x","onesLike")};return Se.runKernel(Yk,n)}const TX=pe({onesLike_:_X});function IX(t,e){const n=Y(t,"v1","outerProduct"),r=Y(e,"v2","outerProduct");Z(n.rank===1&&r.rank===1,()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${n.rank} and ${r.rank}.`);const a=Ge(n,[-1,1]),o=Ge(r,[1,-1]);return Fr(a,o)}const RX=pe({outerProduct_:IX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NX(t,e,n=0){const r=Y(t,"x","pad");if(r.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const a={paddings:e,constantValue:n},o={x:r};return Se.runKernel(HS,o,a)}const sy=pe({pad_:NX});function AX(t,e,n=0){return Z(e.length===2,()=>"Invalid number of paddings. Must be length of 2."),sy(t,[e],n)}const DX=pe({pad1d_:AX});function OX(t,e,n=0){return Z(e.length===2&&e[0].length===2&&e[1].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),sy(t,e,n)}const MX=pe({pad2d_:OX});function $X(t,e,n=0){return Z(e.length===3&&e[0].length===2&&e[1].length===2&&e[2].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),sy(t,e,n)}const FX=pe({pad3d_:$X});function PX(t,e,n=0){return Z(e.length===4&&e[0].length===2&&e[1].length===2&&e[2].length===2&&e[3].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),sy(t,e,n)}const LX=pe({pad4d_:PX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BX(t,e,n){const r=Y(t,"x","spaceToBatchND");Z(r.rank>=1+e.length,()=>`input rank ${r.rank} should be > than [blockShape] ${e.length}`),Z(n.length===e.length,()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${e.length}`),Z(r.shape.reduce((u,l,f)=>f>0&&f<=e.length?u&&(l+n[f-1][0]+n[f-1][1])%e[f-1]===0:u,!0),()=>`input spatial dimensions ${r.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${e.toString()}`);const a={x:r},o={blockShape:e,paddings:n};return Se.runKernel(r_,a,o)}const DM=pe({spaceToBatchND_:BX});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zX(t,e,n,r,a,o,u){a==null&&(a=[1,1]),o==null&&(o=1),r===0&&(r="valid");const l=Y(t,"x","maxPool");let f=l,p=!1;l.rank===3&&(p=!0,f=Ge(l,[1,l.shape[0],l.shape[1],l.shape[2]])),Z(hu(o,a),()=>`Error in pool: Either strides or dilations must be 1. Got strides ${o} and dilations '${a}'`);const c=Gu(f.shape,e,o,a,r),g=[c.dilationHeight,c.dilationWidth];let y;r==="same"?y=HX([c.filterHeight,c.filterWidth],g):y=[[0,0],[0,0]];const S=g[0]===1&&g[1]===1,[E,k]=UX([c.inHeight,c.inWidth],g,y),_=S?r:"valid",I=S?f:DM(f,g,E),A=(n==="avg"?()=>cM(I,e,o,_,u):()=>RM(I,e,o,_,u))(),O=S?A:dM(A,g,k);return p?Ge(O,[O.shape[1],O.shape[2],O.shape[3]]):O}function UX(t,e,n){const r=n.map(c=>c[0]),a=n.map(c=>c[1]),o=t.concat(r,a),u=e.map((c,g)=>(c-o[g]%c)%c),l=a.map((c,g)=>c+u[g]),f=e.map((c,g)=>[r[g],l[g]]),p=e.map((c,g)=>[0,u[g]]);return[f,p]}function HX(t,e){const r=t.map((u,l)=>u+(u-1)*(e[l]-1)).map(u=>u-1),a=r.map(u=>Math.floor(u/2)),o=r.map((u,l)=>u-a[l]);return r.map((u,l)=>[a[l],o[l]])}const VX=pe({pool_:zX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WX(t,e){const n=Y(t,"x","prelu"),r=Y(e,"alpha","prelu"),a={x:n,alpha:r};return Se.runKernel(WS,a)}const OM=pe({prelu_:WX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jX(t,e=null,n=!1){let r=Y(t,"x","prod");r.dtype==="bool"&&(r=ya(r,"int32"));const a={x:r},o={axis:e,keepDims:n};return Se.runKernel(jS,a,o)}const GX=pe({prod_:jX});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qX(t,e,n,r){const a=t.map((c,g)=>Y(c,`tensors${g}`,"raggedGather","int32")),o=Y(e,"paramsDenseValues","raggedGather"),u=Y(n,"indices","raggedGather","int32"),l={paramsNestedSplits:a,paramsDenseValues:o,indices:u},f={outputRaggedRank:r},p=Se.runKernel(gO,l,f);return{outputNestedSplits:p.slice(0,p.length-1),outputDenseValues:p[p.length-1]}}const KX=pe({raggedGather_:qX});/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YX(t,e,n){const r=Y(t,"starts","raggedRange"),a=Y(e,"limits","raggedRange",r.dtype),o=Y(n,"deltas","raggedRange",r.dtype),u={starts:r,limits:a,deltas:o},l=Se.runKernel(vO,u);return{rtNestedSplits:l[0],rtDenseValues:l[1]}}const XX=pe({raggedRange_:YX});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QX(t,e,n,r,a){const o=Y(t,"shape","raggedTensorToTensor","int32"),u=Y(e,"values","raggedTensorToTensor"),l=Y(n,"defaultValue","raggedTensorToTensor",u.dtype),f=r.map((g,y)=>Y(g,`tensors${y}`,"raggedTensorToTensor","int32")),p={shape:o,values:u,defaultValue:l,rowPartitionTensors:f},c={rowPartitionTypes:a};return Se.runKernel(yO,p,c)}const JX=pe({raggedTensorToTensor_:QX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZX(t,e,n){Vi(t);const r=ze(t);let a=null;if(n==null||n==="float32")a=new Float32Array(r);else if(n==="int32")a=new Int32Array(r);else if(n==="bool")a=new Uint8Array(r);else throw new Error(`Unknown data type ${n}`);for(let o=0;o<r;o++)a[o]=e();return Se.makeTensor(a,t,n)}const eQ=pe({rand_:ZX});var Hw={exports:{}},tQ=Hw.exports,MM;function nQ(){return MM||(MM=1,(function(t){(function(e,n,r){function a(f){var p=this,c=l();p.next=function(){var g=2091639*p.s0+p.c*23283064365386963e-26;return p.s0=p.s1,p.s1=p.s2,p.s2=g-(p.c=g|0)},p.c=1,p.s0=c(" "),p.s1=c(" "),p.s2=c(" "),p.s0-=c(f),p.s0<0&&(p.s0+=1),p.s1-=c(f),p.s1<0&&(p.s1+=1),p.s2-=c(f),p.s2<0&&(p.s2+=1),c=null}function o(f,p){return p.c=f.c,p.s0=f.s0,p.s1=f.s1,p.s2=f.s2,p}function u(f,p){var c=new a(f),g=p&&p.state,y=c.next;return y.int32=function(){return c.next()*4294967296|0},y.double=function(){return y()+(y()*2097152|0)*11102230246251565e-32},y.quick=y,g&&(typeof g=="object"&&o(g,c),y.state=function(){return o(c,{})}),y}function l(){var f=4022871197,p=function(c){c=String(c);for(var g=0;g<c.length;g++){f+=c.charCodeAt(g);var y=.02519603282416938*f;f=y>>>0,y-=f,y*=f,f=y>>>0,y-=f,f+=y*4294967296}return(f>>>0)*23283064365386963e-26};return p}n&&n.exports?n.exports=u:this.alea=u})(tQ,t)})(Hw)),Hw.exports}var Vw={exports:{}},rQ=Vw.exports,$M;function aQ(){return $M||($M=1,(function(t){(function(e,n,r){function a(l){var f=this,p="";f.x=0,f.y=0,f.z=0,f.w=0,f.next=function(){var g=f.x^f.x<<11;return f.x=f.y,f.y=f.z,f.z=f.w,f.w^=f.w>>>19^g^g>>>8},l===(l|0)?f.x=l:p+=l;for(var c=0;c<p.length+64;c++)f.x^=p.charCodeAt(c)|0,f.next()}function o(l,f){return f.x=l.x,f.y=l.y,f.z=l.z,f.w=l.w,f}function u(l,f){var p=new a(l),c=f&&f.state,g=function(){return(p.next()>>>0)/4294967296};return g.double=function(){do var y=p.next()>>>11,S=(p.next()>>>0)/4294967296,E=(y+S)/(1<<21);while(E===0);return E},g.int32=p.next,g.quick=g,c&&(typeof c=="object"&&o(c,p),g.state=function(){return o(p,{})}),g}n&&n.exports?n.exports=u:this.xor128=u})(rQ,t)})(Vw)),Vw.exports}var Ww={exports:{}},oQ=Ww.exports,FM;function sQ(){return FM||(FM=1,(function(t){(function(e,n,r){function a(l){var f=this,p="";f.next=function(){var g=f.x^f.x>>>2;return f.x=f.y,f.y=f.z,f.z=f.w,f.w=f.v,(f.d=f.d+362437|0)+(f.v=f.v^f.v<<4^(g^g<<1))|0},f.x=0,f.y=0,f.z=0,f.w=0,f.v=0,l===(l|0)?f.x=l:p+=l;for(var c=0;c<p.length+64;c++)f.x^=p.charCodeAt(c)|0,c==p.length&&(f.d=f.x<<10^f.x>>>4),f.next()}function o(l,f){return f.x=l.x,f.y=l.y,f.z=l.z,f.w=l.w,f.v=l.v,f.d=l.d,f}function u(l,f){var p=new a(l),c=f&&f.state,g=function(){return(p.next()>>>0)/4294967296};return g.double=function(){do var y=p.next()>>>11,S=(p.next()>>>0)/4294967296,E=(y+S)/(1<<21);while(E===0);return E},g.int32=p.next,g.quick=g,c&&(typeof c=="object"&&o(c,p),g.state=function(){return o(p,{})}),g}n&&n.exports?n.exports=u:this.xorwow=u})(oQ,t)})(Ww)),Ww.exports}var jw={exports:{}},iQ=jw.exports,PM;function uQ(){return PM||(PM=1,(function(t){(function(e,n,r){function a(l){var f=this;f.next=function(){var c=f.x,g=f.i,y,S;return y=c[g],y^=y>>>7,S=y^y<<24,y=c[g+1&7],S^=y^y>>>10,y=c[g+3&7],S^=y^y>>>3,y=c[g+4&7],S^=y^y<<7,y=c[g+7&7],y=y^y<<13,S^=y^y<<9,c[g]=S,f.i=g+1&7,S};function p(c,g){var y,S=[];if(g===(g|0))S[0]=g;else for(g=""+g,y=0;y<g.length;++y)S[y&7]=S[y&7]<<15^g.charCodeAt(y)+S[y+1&7]<<13;for(;S.length<8;)S.push(0);for(y=0;y<8&&S[y]===0;++y);for(y==8?S[7]=-1:S[y],c.x=S,c.i=0,y=256;y>0;--y)c.next()}p(f,l)}function o(l,f){return f.x=l.x.slice(),f.i=l.i,f}function u(l,f){l==null&&(l=+new Date);var p=new a(l),c=f&&f.state,g=function(){return(p.next()>>>0)/4294967296};return g.double=function(){do var y=p.next()>>>11,S=(p.next()>>>0)/4294967296,E=(y+S)/(1<<21);while(E===0);return E},g.int32=p.next,g.quick=g,c&&(c.x&&o(c,p),g.state=function(){return o(p,{})}),g}n&&n.exports?n.exports=u:this.xorshift7=u})(iQ,t)})(jw)),jw.exports}var Gw={exports:{}},lQ=Gw.exports,LM;function cQ(){return LM||(LM=1,(function(t){(function(e,n,r){function a(l){var f=this;f.next=function(){var c=f.w,g=f.X,y=f.i,S,E;return f.w=c=c+1640531527|0,E=g[y+34&127],S=g[y=y+1&127],E^=E<<13,S^=S<<17,E^=E>>>15,S^=S>>>12,E=g[y]=E^S,f.i=y,E+(c^c>>>16)|0};function p(c,g){var y,S,E,k,_,I=[],R=128;for(g===(g|0)?(S=g,g=null):(g=g+"\0",S=0,R=Math.max(R,g.length)),E=0,k=-32;k<R;++k)g&&(S^=g.charCodeAt((k+32)%g.length)),k===0&&(_=S),S^=S<<10,S^=S>>>15,S^=S<<4,S^=S>>>13,k>=0&&(_=_+1640531527|0,y=I[k&127]^=S+_,E=y==0?E+1:0);for(E>=128&&(I[(g&&g.length||0)&127]=-1),E=127,k=512;k>0;--k)S=I[E+34&127],y=I[E=E+1&127],S^=S<<13,y^=y<<17,S^=S>>>15,y^=y>>>12,I[E]=S^y;c.w=_,c.X=I,c.i=E}p(f,l)}function o(l,f){return f.i=l.i,f.w=l.w,f.X=l.X.slice(),f}function u(l,f){l==null&&(l=+new Date);var p=new a(l),c=f&&f.state,g=function(){return(p.next()>>>0)/4294967296};return g.double=function(){do var y=p.next()>>>11,S=(p.next()>>>0)/4294967296,E=(y+S)/(1<<21);while(E===0);return E},g.int32=p.next,g.quick=g,c&&(c.X&&o(c,p),g.state=function(){return o(p,{})}),g}n&&n.exports?n.exports=u:this.xor4096=u})(lQ,t)})(Gw)),Gw.exports}var qw={exports:{}},dQ=qw.exports,BM;function fQ(){return BM||(BM=1,(function(t){(function(e,n,r){function a(l){var f=this,p="";f.next=function(){var g=f.b,y=f.c,S=f.d,E=f.a;return g=g<<25^g>>>7^y,y=y-S|0,S=S<<24^S>>>8^E,E=E-g|0,f.b=g=g<<20^g>>>12^y,f.c=y=y-S|0,f.d=S<<16^y>>>16^E,f.a=E-g|0},f.a=0,f.b=0,f.c=-1640531527,f.d=1367130551,l===Math.floor(l)?(f.a=l/4294967296|0,f.b=l|0):p+=l;for(var c=0;c<p.length+20;c++)f.b^=p.charCodeAt(c)|0,f.next()}function o(l,f){return f.a=l.a,f.b=l.b,f.c=l.c,f.d=l.d,f}function u(l,f){var p=new a(l),c=f&&f.state,g=function(){return(p.next()>>>0)/4294967296};return g.double=function(){do var y=p.next()>>>11,S=(p.next()>>>0)/4294967296,E=(y+S)/(1<<21);while(E===0);return E},g.int32=p.next,g.quick=g,c&&(typeof c=="object"&&o(c,p),g.state=function(){return o(p,{})}),g}n&&n.exports?n.exports=u:this.tychei=u})(dQ,t)})(qw)),qw.exports}var Kw={exports:{}};const Ld=J7(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));var pQ=Kw.exports,zM;function hQ(){return zM||(zM=1,(function(t){(function(e,n,r){var a=256,o=6,u=52,l="random",f=r.pow(a,o),p=r.pow(2,u),c=p*2,g=a-1,y;function S(O,L,U){var j=[];L=L==!0?{entropy:!0}:L||{};var J=I(_(L.entropy?[O,A(n)]:O??R(),3),j),q=new E(j),K=function(){for(var z=q.g(o),te=f,ee=0;z<p;)z=(z+ee)*a,te*=a,ee=q.g(1);for(;z>=c;)z/=2,te/=2,ee>>>=1;return(z+ee)/te};return K.int32=function(){return q.g(4)|0},K.quick=function(){return q.g(4)/4294967296},K.double=K,I(A(q.S),n),(L.pass||U||function(z,te,ee,le){return le&&(le.S&&k(le,q),z.state=function(){return k(q,{})}),ee?(r[l]=z,te):z})(K,J,"global"in L?L.global:this==r,L.state)}function E(O){var L,U=O.length,j=this,J=0,q=j.i=j.j=0,K=j.S=[];for(U||(O=[U++]);J<a;)K[J]=J++;for(J=0;J<a;J++)K[J]=K[q=g&q+O[J%U]+(L=K[J])],K[q]=L;(j.g=function(z){for(var te,ee=0,le=j.i,ce=j.j,ye=j.S;z--;)te=ye[le=g&le+1],ee=ee*a+ye[g&(ye[le]=ye[ce=g&ce+te])+(ye[ce]=te)];return j.i=le,j.j=ce,ee})(a)}function k(O,L){return L.i=O.i,L.j=O.j,L.S=O.S.slice(),L}function _(O,L){var U=[],j=typeof O,J;if(L&&j=="object")for(J in O)try{U.push(_(O[J],L-1))}catch{}return U.length?U:j=="string"?O:O+"\0"}function I(O,L){for(var U=O+"",j,J=0;J<U.length;)L[g&J]=g&(j^=L[g&J]*19)+U.charCodeAt(J++);return A(L)}function R(){try{var O;return y&&(O=y.randomBytes)?O=O(a):(O=new Uint8Array(a),(e.crypto||e.msCrypto).getRandomValues(O)),A(O)}catch{var L=e.navigator,U=L&&L.plugins;return[+new Date,e,U,e.screen,A(n)]}}function A(O){return String.fromCharCode.apply(0,O)}if(I(r.random(),n),t.exports){t.exports=S;try{y=Ld}catch{}}else r["seed"+l]=S})(typeof self<"u"?self:pQ,[],Math)})(Kw)),Kw.exports}var z_,UM;function mQ(){if(UM)return z_;UM=1;var t=nQ(),e=aQ(),n=sQ(),r=uQ(),a=cQ(),o=fQ(),u=hQ();return u.alea=t,u.xor128=e,u.xorwow=n,u.xorshift7=r,u.xor4096=a,u.tychei=o,z_=u,z_}var Yw=mQ();/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class U_{constructor(e,n,r,a,o){this.mean=e,this.stdDev=n,this.dtype=r,this.nextVal=NaN,this.truncated=a,this.truncated&&(this.upper=this.mean+this.stdDev*2,this.lower=this.mean-this.stdDev*2);const u=o||Math.random();this.random=Yw.alea(u.toString())}nextValue(){if(!isNaN(this.nextVal)){const a=this.nextVal;return this.nextVal=NaN,a}let e,n,r=!1;for(;!r;){let a,o,u;do a=2*this.random()-1,o=2*this.random()-1,u=a*a+o*o;while(u>=1||u===0);const l=Math.sqrt(-2*Math.log(u)/u);e=this.mean+this.stdDev*a*l,n=this.mean+this.stdDev*o*l,(!this.truncated||this.isValidTruncated(e))&&(r=!0)}return(!this.truncated||this.isValidTruncated(n))&&(this.nextVal=this.convertValue(n)),this.convertValue(e)}convertValue(e){return this.dtype==null||this.dtype==="float32"?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class gQ{constructor(e,n,r,a){this.alpha=e,this.beta=1/n,this.dtype=r;const o=a||Math.random();this.randu=Yw.alea(o.toString()),this.randn=new U_(0,1,r,!1,this.randu()),e<1?this.d=e+2/3:this.d=e-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let e,n,r,a,o,u;for(;;){do a=this.randn.nextValue(),u=1+this.c*a;while(u<=0);if(u*=u*u,e=a*a,n=1-.331*e*e,r=.5*e+this.d*(1-u+Math.log(u)),o=this.randu(),o<n||Math.log(o)<r)break}return u=1/this.beta*this.d*u,this.alpha<1&&(u*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(u)}convertValue(e){return this.dtype==="float32"?e:Math.round(e)}}class vQ{constructor(e=0,n=1,r,a){if(this.canReturnFloat=()=>this.dtype==null||this.dtype==="float32",this.min=e,this.range=n-e,this.dtype=r,a==null&&(a=Math.random()),typeof a=="number"&&(a=a.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${e} - ${n} <= 1 and dtype is not float`);this.random=Yw.alea(a)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yQ(t,e,n=1,r="float32",a){if(Vi(t),n==null&&(n=1),r==null&&(r="float32"),r!=="float32"&&r!=="int32")throw new Error(`Unsupported data type ${r}`);const o=new gQ(e,n,r,a),u=qn(t,r);for(let l=0;l<u.values.length;l++)u.values[l]=o.nextValue();return u.toTensor()}const bQ=pe({randomGamma_:yQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SQ(t,e=0,n=1,r,a){if(Vi(t),r!=null&&r==="bool")throw new Error(`Unsupported data type ${r}`);const o=new U_(e,n,r,!1,a),u=qn(t,r);for(let l=0;l<u.values.length;l++)u.values[l]=o.nextValue();return u.toTensor()}const HM=pe({randomNormal_:SQ});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wQ(t,e,n){if(e!=null&&e==="bool")throw new Error(`Unsupported data type ${e}`);return HM(t,0,1,e,n)}const EQ=pe({randomStandardNormal_:wQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xQ(t,e=0,n=1,r="float32",a){Vi(t);const o=qn(t,r),u=new vQ(e,n,null,a);for(let l=0;l<o.values.length;l++)o.values[l]=u.nextValue();return o.toTensor()}const H_=pe({randomUniform_:xQ});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CQ(t,e,n,r){return H_(t,e,n,"int32",r)}const kQ=pe({randomUniformInt_:CQ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iy(t,e,n=1,r="float32"){if(n===0)throw new Error("Cannot have a step of zero");const a={start:t,stop:e,step:n,dtype:r};return Se.runKernel(Qk,{},a)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _Q(t){const n={input:Y(t,"input","real")};return Se.runKernel(bO,n)}const uy=pe({real_:_Q});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TQ(t){const n={x:Y(t,"x","reciprocal")};return Se.runKernel(GS,n)}const IQ=pe({reciprocal_:TQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RQ(t){const n={x:Y(t,"x","relu")};return Se.runKernel(qS,n)}const Xw=pe({relu_:RQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NQ(t){const n={x:Y(t,"x","relu6")};return Se.runKernel(XS,n)}const VM=pe({relu6_:NQ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AQ(t,e){const r={x:Y(t,"x","reverse")},a={dims:e};return Se.runKernel(QS,r,a)}const np=pe({reverse_:AQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DQ(t){const e=Y(t,"x","reverse");return Z(e.rank===1,()=>`Error in reverse1D: x must be rank 1 but got rank ${e.rank}.`),np(e,0)}const OQ=pe({reverse1d_:DQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MQ(t,e){const n=Y(t,"x","reverse");return Z(n.rank===2,()=>`Error in reverse2D: x must be rank 2 but got rank ${n.rank}.`),np(n,e)}const $Q=pe({reverse2d_:MQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FQ(t,e){const n=Y(t,"x","reverse");return Z(n.rank===3,()=>`Error in reverse3D: x must be rank 3 but got rank ${n.rank}.`),np(n,e)}const PQ=pe({reverse3d_:FQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LQ(t,e){const n=Y(t,"x","reverse");return Z(n.rank===4,()=>`Error in reverse4D: x must be rank 4 but got rank ${n.rank}.`),np(n,e)}const BQ=pe({reverse4d_:LQ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zQ(t){const n={x:Y(t,"x","round")};return Se.runKernel(JS,n)}const WM=pe({round_:zQ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UQ(t){const n={x:Y(t,"x","rsqrt","float32")};return Se.runKernel(ZS,n)}const HQ=pe({rsqrt_:UQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VQ(t){const n={x:Y(t,"x","selu")};return Se.runKernel(rw,n)}const WQ=pe({selu_:VQ});function jQ(t,e,n,r,a,o=[1,1],u="NHWC"){const l=Y(t,"x","separableConv2d"),f=Y(e,"depthwiseFilter","separableConv2d"),p=Y(n,"pointwiseFilter","separableConv2d");let c=l,g=!1;if(l.rank===3&&(g=!0,c=Ge(l,[1,l.shape[0],l.shape[1],l.shape[2]])),u==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");Z(c.rank===4,()=>`Error in separableConv2d: input must be rank 4, but got rank ${c.rank}.`),Z(f.rank===4,()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${f.rank}.`),Z(p.rank===4,()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${f.rank}.`),Z(p.shape[0]===1,()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${p.shape[0]}.`),Z(p.shape[1]===1,()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${p.shape[1]}.`);const y=f.shape[2],S=f.shape[3];Z(p.shape[2]===y*S,()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${y*S}, but got ${p.shape[2]}.`);const E=$_(c,f,r,a,u,o),_=Dw(E,p,1,"valid",u);return g?Ge(_,[_.shape[1],_.shape[2],_.shape[3]]):_}const GQ=pe({separableConv2d_:jQ});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function qQ(t,e){const n=Y(t,"x","setdiff1d"),r=Y(e,"y","setdiff1d");Z(n.dtype===r.dtype,()=>`x and y should have the same dtype, but got x (${n.dtype}) and y (${r.dtype}).`),Z(n.rank===1,()=>`x should be 1D tensor, but got x (${n.shape}).`),Z(r.rank===1,()=>`y should be 1D tensor, but got y (${r.shape}).`);const a=await n.data(),o=await r.data(),u=new Set(o);let l=0;for(let c=0;c<a.length;c++)u.has(a[c])||l++;const f=new ro([l],n.dtype),p=new ro([l],"int32");for(let c=0,g=0;c<a.length;c++)u.has(a[c])||(f.values[g]=a[c],p.values[g]=c,g++);return[f.toTensor(),p.toTensor()]}const KQ=qQ;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YQ(t){const n={x:Y(t,"x","sign")};return Se.runKernel(sw,n)}const XQ=pe({sign_:YQ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QQ(t){const n={x:Y(t,"x","sin","float32")};return Se.runKernel(aw,n)}const JQ=pe({sin_:QQ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZQ(t){const n={x:Y(t,"x","sinh")};return Se.runKernel(ow,n)}const eJ=pe({sinh_:ZQ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tJ(t,e,n){const r=Y(t,"x","slice1d");return Z(r.rank===1,()=>`slice1d expects a rank-1 tensor, but got a rank-${r.rank} tensor`),Bn(r,[e],[n])}const nJ=pe({slice1d_:tJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rJ(t,e,n){const r=Y(t,"x","slice2d");return Z(r.rank===2,()=>`slice2d expects a rank-2 tensor, but got a rank-${r.rank} tensor`),Bn(r,e,n)}const aJ=pe({slice2d_:rJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oJ(t,e,n){const r=Y(t,"x","slice3d");return Z(r.rank===3,()=>`slice3d expects a rank-3 tensor, but got a rank-${r.rank} tensor`),Bn(r,e,n)}const sJ=pe({slice3d_:oJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iJ(t,e,n){const r=Y(t,"x","slice4d");return Z(r.rank===4,()=>`slice4d expects a rank-4 tensor, but got a rank-${r.rank} tensor`),Bn(r,e,n)}const uJ=pe({slice4d_:iJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lJ(t,e=-1){const n=Y(t,"logits","softmax","float32");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${e}`);const r={logits:n},a={dim:e};return Se.runKernel(dw,r,a)}const cJ=pe({softmax_:lJ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dJ(t){Z(t.dtype==="complex64",()=>`The dtype for tf.spectral.fft() must be complex64 but got ${t.dtype}.`);const e={input:t};return Se.runKernel(dO,e)}const V_=pe({fft_:dJ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fJ(t){Z(t.dtype==="complex64",()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${t.dtype}.`);const e={input:t};return Se.runKernel(fO,e)}const Qw=pe({ifft_:fJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pJ(t){const e=t.shape[t.shape.length-1],n=t.size/e;let r;if(e<=2){const a=Ge(t,[n,e]);r=Qw(a)}else{const a=[n,2*(e-1)],o=Ge(uy(t),[n,e]),u=Ge(Pw(t),[n,e]),l=np(Bn(o,[0,1],[n,e-2]),1),f=dt(np(Bn(u,[0,1],[n,e-2]),1),ur(-1)),p=Oo([o,l],1),c=Oo([u,f],1),g=Ge(Dd(p,c),[a[0],a[1]]);r=Qw(g)}if(r=uy(r),t.rank===3&&t.shape[0]!==0){const a=r,o=t.shape[0];r=Ge(r,[o,r.shape[0]/o,r.shape[1]]),a.dispose()}return r}const jM=pe({irfft_:pJ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hJ(t,e,n=0){const a={x:Y(t,"x","split")},o={numOrSizeSplits:e,axis:n};return Se.runKernel(a_,a,o)}const ly=pe({split_:hJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mJ(t,e){Z(t.dtype==="float32",()=>`The dtype for rfft() must be real value but got ${t.dtype}`);let n=t.shape[t.shape.length-1];const r=t.size/n;let a;if(e!=null&&e<n){const E=t.shape.map(_=>0),k=t.shape.map(_=>_);k[t.shape.length-1]=e,a=Bn(t,E,k),n=e}else if(e!=null&&e>n){const E=t.shape.map(k=>k);E[t.shape.length-1]=e-n,a=Oo([t,lm(E)],t.shape.length-1),n=e}else a=t;const o=ji(a),u=Ge(Dd(a,o),[r,n]),l=V_(u),f=Math.floor(n/2)+1,p=uy(l),c=Pw(l),g=ly(p,[f,n-f],p.shape.length-1),y=ly(c,[f,n-f],c.shape.length-1),S=a.shape.slice();return S[a.shape.length-1]=f,Ge(Dd(g[0],y[0]),S)}const W_=pe({rfft_:mJ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gJ(t,e){let n=Y(t,"a","squaredDifference"),r=Y(e,"b","squaredDifference");[n,r]=xa(n,r),Xr(n.shape,r.shape);const a={a:n,b:r},o={};return Se.runKernel(hw,a,o)}const GM=pe({squaredDifference_:gJ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vJ(t,e){const n=Y(t,"x","squeeze","string_or_numeric");return Ge(n,Dj(n.shape,e).newShape)}const $o=pe({squeeze_:vJ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yJ(t,e=0){const n=Tw(t,"tensors","stack","string_or_numeric");Z(n.length>=1,()=>"Pass at least one tensor to tf.stack"),n.length>0&&Z(e<=n[0].rank,()=>"Axis must be <= rank of the tensor");const r=n,a={axis:e};return Se.runKernel(Xk,r,a)}const Ic=pe({stack_:yJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bJ(t,e=0){const r={x:Y(t,"x","step")},a={alpha:e};return Se.runKernel(Vv,r,a)}const qM=pe({step_:bJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SJ(t,e,n,r,a=0,o=0,u=0,l=0,f=0){const c={x:Y(t,"x","stridedSlice","string_or_numeric")},g={begin:e,end:n,strides:r,beginMask:a,endMask:o,ellipsisMask:u,newAxisMask:l,shrinkAxisMask:f};return Se.runKernel(mw,c,g)}const wJ=pe({stridedSlice_:SJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EJ(t){const n={x:Y(t,"x","tan","float32")};return Se.runKernel(vw,n)}const xJ=pe({tan_:EJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qo(t,e){Yh(t);const n=Ad(t,e);if(n.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Od(t,null,n,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rp(t,e,n){if(Yh(t),e!=null&&e.length!==2)throw new Error("tensor2d() requires shape to have two numbers");const r=Ad(t,n);if(r.length!==2&&r.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Od(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KM(t,e,n){if(Yh(t),e!=null&&e.length!==3)throw new Error("tensor3d() requires shape to have three numbers");const r=Ad(t,n);if(r.length!==3&&r.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Od(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CJ(t,e,n){if(Yh(t),e!=null&&e.length!==4)throw new Error("tensor4d() requires shape to have four numbers");const r=Ad(t,n);if(r.length!==4&&r.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Od(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kJ(t,e,n){if(Yh(t),e!=null&&e.length!==5)throw new Error("tensor5d() requires shape to have five numbers");const r=Ad(t,n);if(r.length!==5&&r.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return Od(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _J(t,e,n){if(Yh(t),e!=null&&e.length!==6)throw new Error("tensor6d() requires shape to have six numbers");const r=Ad(t,n);if(r.length!==6&&r.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return e=e||r,Od(t,e,r,n)}function TJ(t,e,n){const r=e.rank>1?e.shape[e.rank-1]:1,a=e.rank>1?e.rank-1:1,o=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${e.shape}, shape: ${t}, sliceDim: ${r}, and batchDim: ${a}.`;if(n.rank<a)throw new Error(o+` update.rank < ${a}. `);if(t.length<r+(n.rank-a))throw new Error(o+` Output shape length < ${r+(n.rank-a)}`);if(n.rank!==a+t.length-r)throw new Error(o+` update.rank != ${a+t.length-r}`);for(let u=0;u<a;++u)if(n.shape[u]!==e.shape[u])throw new Error(o+` updates.shape[${u}] (${n.shape[u]}) != indices.shape[${u}] (${e.shape[u]}).`);for(let u=0;u<n.rank-a;++u)if(n.shape[u+a]!==t[u+r])throw new Error(o+` updates.shape[${u+a}] (${n.shape[u+a]}) != shape[${u+a}] (${t[u+a]})`)}function YM(t,e,n){if(e.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${e.rank}.`);if(t.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.dtype!=="int32")throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${e.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(n.length===0){if(e.size===0)throw new Error(`Indices specified for empty output. indices shape: ${e.shape}`);if(t.size===0)throw new Error(`Updates specified for empty output. updates shape: ${t.shape}`)}TJ(n,e,t)}function cm(t,e,n){const r=e.shape.length,a=r>1?e.shape[r-1]:1,o=n.length;let u=1;for(let g=a;g<o;++g)u*=n[g];const l=a<1?1:a,f=ze(e.shape)/l,p=[...Bt(n.slice(0,a)),1],c=ze(n);return{sliceRank:a,numUpdates:f,sliceSize:u,strides:p,outputSize:c}}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IJ(t,e,n){const r=Y(t,"tensor","tensorScatterupdate"),a=Y(e,"indices","tensorScatterupdate","int32"),o=Y(n,"updates","tensorScatterupdate");if(YM(o,a,r.shape),r.dtype!==o.dtype)throw new Error(`tensor and updates must have the same dtype, instead they are ${r.dtype} and ${o.dtype}.`);const u={tensor:r,indices:a,updates:o},l={};return Se.runKernel(tw,u,l)}const RJ=pe({tensorScatterUpdate_:IJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NJ(t,e=1,n=!0){const r=Y(t,"x","topk");if(r.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");const a=r.shape[r.shape.length-1];if(e<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${e}`);if(e>a)throw new Error(`'k' passed to topk() must be <= the last dimension (${a}) but got ${e}`);const o={x:r},u={k:e,sorted:n},[l,f]=Se.runKernel(bw,o,u);return{values:l,indices:f}}const AJ=pe({topk_:NJ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DJ(t,e=0,n=1,r,a){if(Vi(t),r!=null&&r==="bool")throw new Error("Unsupported data type $ { dtype }");const o=new U_(e,n,r,!0,a),u=qn(t,r);for(let l=0;l<u.values.length;l++)u.values[l]=o.nextValue();return u.toTensor()}const OJ=pe({truncatedNormal_:DJ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MJ(t,e=0){const n=Y(t,"x","unique","string_or_numeric");Z(n.rank>0,()=>"The input tensor must be at least 1D");const r={x:n},a={axis:e},[o,u]=Se.runKernel(f_,r,a);return{values:o,indices:u}}const $J=pe({unique_:MJ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FJ(t,e,n){const r=Y(t,"x","unsortedSegmentSum"),a=Y(e,"segmentIds","unsortedSegmentSum","int32");Z(Pv(n),()=>"numSegments must be of dtype int");const o={x:r,segmentIds:a},u={numSegments:n};return Se.runKernel(wO,o,u)}const PJ=pe({unsortedSegmentSum_:FJ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LJ(t,e=0){const n=Y(t,"x","unstack","string_or_numeric");Z(e>=-n.shape.length&&e<n.shape.length,()=>`Axis = ${e} is not in [-${n.shape.length}, ${n.shape.length})`);const r={value:n},a={axis:e};return Se.runKernel(p_,r,a)}const ap=pe({unstack_:LJ});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BJ(t,e){return B_(t,e,"right")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zJ(t,e=!0,n,r){return Se.makeVariable(t,e,n,r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XM(t,e){const n=[];for(let o=0;o<e.length;o++)e[o]&&n.push(o);const r=qn(t,"int32"),a=qn([n.length,t.length],"int32");for(let o=0;o<n.length;o++){const u=r.indexToLoc(n[o]),l=o*t.length;a.values.set(u,l)}return a.toTensor()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function UJ(t){const e=Y(t,"condition","whereAsync","bool"),n=await e.data(),r=XM(e.shape,n);return t!==e&&e.dispose(),r}const QM=UJ;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function HJ(t,e,n){const r=Y(t,"tensor","boolMask"),a=Y(e,"mask","boolMask","bool"),o=n??0,u=a.rank,l=r.shape;Z(u>0,()=>"mask cannot be scalar"),yi(l.slice(o,o+u),a.shape,"mask's shape must match the first K dimensions of tensor's shape,");let f=1;for(let k=o;k<o+u;k++)f*=l[k];const p=l.slice(0,o).concat([f],l.slice(o+u)),c=Ge(r,p),g=Ge(a,[-1]),y=await QM(g),S=$o(y,[1]),E=wM(c,S,o);return t!==r&&r.dispose(),e!==a&&a.dispose(),S.dispose(),c.dispose(),g.dispose(),y.dispose(),E}const VJ=HJ;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WJ(t,e,n){const r=Y(t,"x","transpose");if(e==null&&(e=r.shape.map((u,l)=>l).reverse()),Z(r.rank===e.length,()=>`Error in transpose: rank of input ${r.rank} must match length of perm ${e}.`),e.forEach(u=>{Z(u>=0&&u<r.rank,()=>`All entries in 'perm' must be between 0 and ${r.rank-1} but got ${e}`)}),r.rank<=1)return r.clone();const a={x:r},o={perm:e};return r.dtype==="complex64"?Kn(()=>{let u=uy(r),l=Pw(r);return u=Se.runKernel(Qh,{x:u},o),l=Se.runKernel(Qh,{x:l},o),n&&(l=Nl(l)),Dd(u,l)}):Se.runKernel(Qh,a,o)}const j_=pe({transpose_:WJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jJ(t,e,n,r,a=!0){const o=Y(t,"v","movingAverage"),u=Y(e,"x","movingAverage"),l=Y(n,"decay","movingAverage");mG(o,u),Z(du(o.shape,u.shape),()=>"Shape mismatch in v and x");const f=ur(1),p=zn(f,l);let c=dt(zn(u,o),p);if(a){Z(r!=null,()=>"When using zeroDebias: true, step is required.");const g=Y(r,"step","movingAverage");c=Yn(c,zn(f,ry(l,g)))}return nn(o,c)}const GJ=pe({movingAverage_:jJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qJ(t,e,n){Vi(n);const r=Y(t,"indices","scatterND","int32"),a=Y(e,"updates","scatterND");YM(a,r,n);const o={indices:r,updates:a},u={shape:n};return Se.runKernel(ew,o,u)}const KJ=pe({scatterND_:qJ});function YJ(t,e,n,r){if(t.dtype!=="int32")throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${t.shape}.`);const a=t.rank>0?t.shape[0]:1,o=t.rank>1?t.shape[1]:1;if(n.length!==o)throw new Error(`outputShape has incorrect number of elements:, ${n.length}, should be: ${o}.`);const u=e.size;if(!(e.rank===0||e.rank===1&&u===a))throw new Error(`sparseValues has incorrect shape ${e.shape}, should be [] or [${a}]`);if(e.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XJ(t,e,n,r=0){Vi(n);const a=Y(t,"sparseIndices","sparseToDense","int32"),o=Y(e,"sparseValues","sparseToDense","string_or_numeric"),u=Y(r,"defaultValue","sparseToDense",o.dtype);YJ(a,o,n,u);const l={sparseIndices:a,sparseValues:o,defaultValue:u},f={outputShape:n};return Se.runKernel(pw,l,f)}const QJ=pe({sparseToDense_:XJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JJ(t,e){const n=Y(e,"indices","gatherND","int32"),a={params:Y(t,"x","gatherND","string_or_numeric"),indices:n};return Se.runKernel(cS,a)}const ZJ=pe({gatherND_:JJ});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eZ(t,e){if(e==null)return t.shape.slice();if(du(t.shape,e))return e;if(t.shape.length===e.length){const n=[];for(let r=0;r<t.shape.length;r++)e[r]==null&&t.shape[r]!=null?n.push(t.shape[r]):n.push(e[r]);return n}return e}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tZ(t,e,n,r){const a=Y(t,"x","dropout");if(Z(a.dtype==="float32",()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${a.dtype} tensor instead.`),Z(e>=0&&e<1,()=>`rate must be a float in the range [0, 1), but got ${e}.`),e===0)return t instanceof Ya?a.clone():a;const o=eZ(a,n),u=1-e,l=Yn(SM(nn(H_(o,0,1,"float32",r),u)),u);return dt(a,l)}const nZ=pe({dropout_:tZ});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JM(t){return Math.floor(Math.pow(2,Math.ceil(Math.log(t)/Math.log(2))))}function G_(t,e,n){const r=1-t%2,a=new Float32Array(t);for(let o=0;o<t;++o){const u=2*Math.PI*o/(t+r-1);a[o]=e-n*Math.cos(u)}return Qo(a,"float32")}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function rZ(t,e,n=1){const r=Y(t,"predictions","inTopK"),a=Y(e,"targets","inTopK");Z(r.rank>1,()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${r.rank}`),Z(r.rank-1===a.rank,()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${r.rank} and targets rank ${a.rank}`),yi(r.shape.slice(0,r.shape.length-1),a.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const o=r.shape[r.shape.length-1];Z(n>0&&n<=o,()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${o}), but got ${n}`);const u=await r.data(),l=await a.data(),[f,p]=[u.length/o,o],c=ms("bool",f);for(let g=0;g<f;g++){const y=g*p,S=u.subarray(y,y+p),E=[];for(let k=0;k<S.length;k++)E.push({value:S[k],index:k});E.sort((k,_)=>_.value-k.value),c[g]=0;for(let k=0;k<n;k++)if(E[k].index===l[g]){c[g]=1;break}}return t!==r&&r.dispose(),e!==a&&a.dispose(),Wu(c,a.shape,"bool")}const aZ=rZ;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oZ(t,e,n,r,a,o="NHWC",u){let l=t;t.rank===3&&(l=Ge(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let f=e;f.rank===3&&(f=Ge(e,[1,e.shape[0],e.shape[1],e.shape[2]])),Z(l.rank===4,()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${l.shape}.`),Z(f.rank===4,()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${f.shape}.`),Z(n.length===4,()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`);const p=o==="NHWC"?l.shape[3]:l.shape[1],c=o==="NHWC"?f.shape[3]:f.shape[1];Z(p===n[2],()=>`Error in conv2dDerFilter: depth of input ${p}) must match input depth in filter (${n[2]}.`),Z(c===n[3],()=>`Error in conv2dDerFilter: depth of dy (${c}) must match output depth for filter (${n[3]}).`),qu("conv2dDerFilter",a,u);const g={x:l,dy:f},y={strides:r,pad:a,dataFormat:o,dimRoundingMode:u,filterShape:n};return Se.runKernel(iO,g,y)}const sZ=pe({conv2DBackpropFilter_:oZ});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function q_(t,e,n){if(n==null||n==="linear")return t;if(n==="relu")return dt(t,qM(e));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function K_(t,e){let n=e;const r=qK(t.shape,e.shape);return r.length>0&&(n=ra(n,r)),Ge(n,t.shape)}function Y_(t,e,n,r){if(e==="linear")return t;if(e==="relu")return Xw(t);if(e==="elu")return gM(t);if(e==="relu6")return VM(t);if(e==="prelu")return OM(t,n);if(e==="leakyrelu")return xM(t,r);if(e==="sigmoid")return ep(t);throw new Error(`Unknown fused activation ${e}.`)}const X_=(t,e)=>!(t>0)||e==="linear";/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iZ({x:t,filter:e,strides:n,pad:r,dataFormat:a="NHWC",dilations:o=[1,1],dimRoundingMode:u,bias:l,activation:f="linear",preluActivationWeights:p,leakyreluAlpha:c}){if(f=f||"linear",X_(Se.state.gradientDepth,f)===!1){Z(a==="NHWC",()=>`Error in fused conv2d: got dataFormat of ${a} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`);let U=Dw(t,e,n,r,a,o,u);return l!=null&&(U=nn(U,l)),Y_(U,f,p,c)}const g=Y(t,"x","conv2d","float32"),y=Y(e,"filter","conv2d","float32");let S=g,E=!1;g.rank===3&&(E=!0,S=Ge(g,[1,g.shape[0],g.shape[1],g.shape[2]])),Z(S.rank===4,()=>`Error in fused conv2d: input must be rank 4, but got rank ${S.rank}.`),Z(y.rank===4,()=>`Error in fused conv2d: filter must be rank 4, but got rank ${y.rank}.`),qu("fused conv2d",r,u);const k=a==="NHWC"?S.shape[3]:S.shape[1];Z(y.shape[2]===k,()=>`Error in conv2d: depth of input (${k}) must match input depth for filter ${y.shape[2]}.`),Z(hu(n,o),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`);const _=Ws(S.shape,y.shape,n,o,r,u);let I;l!=null&&(I=Y(l,"bias","fused conv2d"),[I]=xa(I,g),a==="NHWC"?Xr(_.outShape,I.shape):(Z(I.shape.length<=1,()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${I.shape.length}.`),Z(I.shape.length===0||I.shape[0]===_.outChannels||I.shape[0]===1,()=>`Error in fused conv2d: bias shape (${I.shape}) is not compatible with the number of output channels (${_.outChannels})`)));let R;if(p!=null){const U=p.shape;if(Z(U.length<=1||U.length===3,()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${U.length}.`),U.length===1)Z(U[0]===1||U[0]===_.outChannels,()=>`Error in fused conv2d: PReLU activation weights (${U}) is not compatible with the number of output channels (${_.outChannels}).`);else if(U.length===3)try{Xr(U,_.outShape)}catch{const J=`Error in fused conv2d: PReLU activation weights (${U}) is not compatible with the output shape of the conv2d (${_.outShape}).`;throw Error(J)}R=Y(p,"prelu weights","fused conv2d")}const A=(U,j)=>{Z(a==="NHWC",()=>`Error in gradient of fused conv2D: got dataFormat of ${a} but only NHWC is currently supported.`);const[J,q,K,z]=j,te=q_(U,K,f);Z(Nw(o),()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${o}'`);const ee=hM(q.shape,te,J,n,r),le=sZ(q,te,J.shape,n,r),ce=[ee,le];if(z!=null){const ye=K_(z,te);ce.push(ye)}return ce},O={x:S,filter:y,bias:I,preluActivationWeights:R},L={strides:n,pad:r,dataFormat:a,dilations:o,dimRoundingMode:u,activation:f,leakyreluAlpha:c};return l==null?Tc((j,J,q)=>{let K=Se.runKernel(jv,O,L);return q([J,j,K]),E&&(K=Ge(K,[K.shape[1],K.shape[2],K.shape[3]])),{value:K,gradFunc:A}})(S,y):Tc((j,J,q,K)=>{let z=Se.runKernel(jv,O,L);return K([J,j,z,q]),E&&(z=Ge(z,[z.shape[1],z.shape[2],z.shape[3]])),{value:z,gradFunc:A}})(S,y,I)}const uZ=pe({fusedConv2d_:iZ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lZ(t,e,n,r,a,o=[1,1],u){let l=t;t.rank===3&&(l=Ge(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let f=e;f.rank===3&&(f=Ge(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const p={x:l,dy:f},c={strides:r,pad:a,dimRoundingMode:u,dilations:o,filterShape:n};return Se.runKernel(uO,p,c)}const cZ=pe({depthwiseConv2dNativeBackpropFilter_:lZ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dZ(t,e,n,r,a,o=[1,1],u){let l=e,f=!1;e.rank===3&&(f=!0,l=Ge(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const p={dy:l,filter:n},c={strides:r,pad:a,dimRoundingMode:u,dilations:o,inputShape:t},g=Se.runKernel(lO,p,c);return f?Ge(g,[g.shape[1],g.shape[2],g.shape[3]]):g}const fZ=pe({depthwiseConv2dNativeBackpropInput_:dZ});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pZ({x:t,filter:e,strides:n,pad:r,dataFormat:a="NHWC",dilations:o=[1,1],dimRoundingMode:u,bias:l,activation:f="linear",preluActivationWeights:p,leakyreluAlpha:c}){if(X_(Se.state.gradientDepth,f)===!1){let L=$_(t,e,n,r,a,o,u);return l!=null&&(L=nn(L,l)),Y_(L,f,p,c)}const g=Y(t,"x","depthwiseConv2d","float32"),y=Y(e,"filter","depthwiseConv2d","float32");let S=g,E=!1;g.rank===3&&(E=!0,S=Ge(g,[1,g.shape[0],g.shape[1],g.shape[2]])),Z(S.rank===4,()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${S.rank}.`),Z(y.rank===4,()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${y.rank}.`),Z(S.shape[3]===y.shape[2],()=>`Error in fused depthwiseConv2d: number of input channels (${S.shape[3]}) must match the inChannels dimension in filter ${y.shape[2]}.`),o==null&&(o=[1,1]),Z(hu(n,o),()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`),qu("fused depthwiseConv2d",r,u);const k=Ws(S.shape,y.shape,n,o,r,u,!0);let _;l!=null&&(_=Y(l,"bias","fused conv2d"),[_]=xa(_,g),Xr(k.outShape,_.shape));let I;p!=null&&(I=Y(p,"prelu weights","fused depthwiseConv2d"));const R=(L,U)=>{Z(Nw(o),()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${o}'`);const[j,J,q,K]=U,z=q_(L,q,f),te=fZ(J.shape,z,j,n,r,o,u),ee=cZ(J,z,j.shape,n,r,o,u);if(K!=null){const le=K_(_,z);return[te,ee,le]}return[te,ee]},A={x:S,filter:y,bias:_,preluActivationWeights:I},O={strides:n,pad:r,dataFormat:a,dilations:o,dimRoundingMode:u,activation:f,leakyreluAlpha:c};return l==null?Tc((U,j,J)=>{let q=Se.runKernel(Gv,A,O);return J([j,U,q]),E&&(q=Ge(q,[q.shape[1],q.shape[2],q.shape[3]])),{value:q,gradFunc:R}})(S,y):Tc((U,j,J,q)=>{let K=Se.runKernel(Gv,A,O);return q([j,U,K,J]),E&&(K=Ge(K,[K.shape[1],K.shape[2],K.shape[3]])),{value:K,gradFunc:R}})(S,y,_)}const hZ=pe({fusedDepthwiseConv2d_:pZ});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mZ({a:t,b:e,transposeA:n=!1,transposeB:r=!1,bias:a,activation:o="linear",preluActivationWeights:u,leakyreluAlpha:l=.2}){if(X_(Se.state.gradientDepth,o)===!1){let z=Fr(t,e,n,r);return a!=null&&(z=nn(z,a)),Y_(z,o,u,l)}let f=Y(t,"a","fused matMul"),p=Y(e,"b","fused matMul");[f,p]=xa(f,p);const c=n?f.shape[f.rank-2]:f.shape[f.rank-1],g=r?p.shape[p.rank-1]:p.shape[p.rank-2],y=n?f.shape[f.rank-1]:f.shape[f.rank-2],S=r?p.shape[p.rank-2]:p.shape[p.rank-1],E=f.shape.slice(0,-2),k=p.shape.slice(0,-2),_=ze(E),I=ze(k);Z(c===g,()=>`Error in fused matMul: inner shapes (${c}) and (${g}) of Tensors with shapes ${f.shape} and ${p.shape} and transposeA=${n} and transposeB=${r} must match.`);const A=Xr(f.shape.slice(0,-2),p.shape.slice(0,-2)).concat([y,S]),O=n?Ge(f,[_,c,y]):Ge(f,[_,y,c]),L=r?Ge(p,[I,S,g]):Ge(p,[I,g,S]);let U;a!=null&&(U=Y(a,"bias","fused matMul"),[U]=xa(U,f),Xr(A,U.shape));let j;u!=null&&(j=Y(u,"prelu weights","fused matMul"));const J=(z,te)=>{const[ee,le,ce,ye]=te,ve=q_(Ge(z,ce.shape),ce,o);let oe,he;if(!n&&!r?(oe=Fr(ve,le,!1,!0),he=Fr(ee,ve,!0,!1)):!n&&r?(oe=Fr(ve,le,!1,!1),he=Fr(ve,ee,!0,!1)):n&&!r?(oe=Fr(le,ve,!1,!0),he=Fr(ee,ve,!1,!1)):(oe=Fr(le,ve,!0,!0),he=Fr(ve,ee,!0,!0)),a!=null){const ge=K_(ye,ve);return[oe,he,ge]}else return[oe,he]},q={a:O,b:L,bias:U,preluActivationWeights:j},K={transposeA:n,transposeB:r,activation:o,leakyreluAlpha:l};return a==null?Tc((te,ee,le)=>{const ce=Se.runKernel(Wv,q,K);return le([te,ee,ce]),{value:Ge(ce,A),gradFunc:J}})(O,L):Tc((te,ee,le,ce)=>{const ye=Se.runKernel(Wv,q,K);return ce([te,ee,ye,le]),{value:Ge(ye,A),gradFunc:J}})(O,L,U)}const gZ=pe({fusedMatMul_:mZ});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vZ=Object.freeze(Object.defineProperty({__proto__:null,conv2d:uZ,depthwiseConv2d:hZ,matMul:gZ},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yZ(t){return G_(t,.54,.46)}const bZ=pe({hammingWindow_:yZ});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SZ(t){return G_(t,.5,.5)}const ZM=pe({hannWindow_:SZ});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wZ(t,e,n,r=!1,a=0){let o=0;const u=[];for(;o+e<=t.size;)u.push(Bn(t,o,e)),o+=n;if(r)for(;o<t.size;){const l=o+e-t.size,f=Oo([Bn(t,o,e-l),ny([l],a)]);u.push(f),o+=n}return u.length===0?rp([],[0,e]):Ge(Oo(u),[u.length,e])}const e$=pe({frame_:wZ});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EZ(t,e,n,r,a=ZM){r==null&&(r=JM(e));const o=e$(t,e,n),u=dt(o,a(e));return W_(u,r)}const xZ=pe({stft_:EZ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CZ(t,e,n,r,a="bilinear",o=0){const u=Y(t,"image","cropAndResize"),l=Y(e,"boxes","cropAndResize","float32"),f=Y(n,"boxInd","cropAndResize","int32"),p=l.shape[0];Z(u.rank===4,()=>`Error in cropAndResize: image must be rank 4,but got rank ${u.rank}.`),Z(l.rank===2&&l.shape[1]===4,()=>`Error in cropAndResize: boxes must be have size [${p},4] but had shape ${l.shape}.`),Z(f.rank===1&&f.shape[0]===p,()=>`Error in cropAndResize: boxInd must be have size [${p}] but had shape ${l.shape}.`),Z(r.length===2,()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${r.length}.`),Z(r[0]>=1&&r[1]>=1,()=>`cropSize must be atleast [1,1], but was ${r}`),Z(a==="bilinear"||a==="nearest",()=>`method must be bilinear or nearest, but was ${a}`);const c={image:u,boxes:l,boxInd:f},g={method:a,extrapolationValue:o,cropSize:r};return Se.runKernel(K1,c,g)}const kZ=pe({cropAndResize_:CZ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _Z(t){const e=Y(t,"image","flipLeftRight","float32");Z(e.rank===4,()=>`Error in flipLeftRight: image must be rank 4,but got rank ${e.rank}.`);const n={image:e};return Se.runKernel(sS,n,{})}const TZ=pe({flipLeftRight_:_Z});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IZ(t){const e=Y(t,"image","grayscaleToRGB"),n=e.rank-1,r=e.shape[n];Z(e.rank>=2,()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${e.rank}.`),Z(r===1,()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${r}.`);const a=new Array(e.rank);return a.fill(1,0,n),a[n]=3,ay(e,a)}const RZ=pe({grayscaleToRGB_:IZ});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NZ(t){const e=Y(t,"image","RGBToGrayscale"),n=e.rank-1,r=e.shape[n];Z(e.rank>=2,()=>`Error in RGBToGrayscale: images must be at least rank 2, but got rank ${e.rank}.`),Z(r===3,()=>`Error in RGBToGrayscale: last dimension of an RGB image should be size 3, but got size ${r}.`);const a=e.dtype,o=ya(e,"float32"),u=Qo([.2989,.587,.114]);let l;switch(e.rank){case 2:l=im("ij,j->i",o,u);break;case 3:l=im("ijk,k->ij",o,u);break;case 4:l=im("ijkl,l->ijk",o,u);break;case 5:l=im("ijklm,m->ijkl",o,u);break;case 6:l=im("ijklmn,n->ijklm",o,u);break;default:throw new Error("Not a valid tensor rank.")}return l=Rl(l,-1),ya(l,a)}const AZ=pe({rgbToGrayscale_:NZ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DZ(t,e,n=0,r=.5){const a=Y(t,"image","rotateWithOffset","float32");Z(a.rank===4,()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${a.rank}.`);const o={image:a},u={radians:e,fillValue:n,center:r};return Se.runKernel(ww,o,u)}const OZ=pe({rotateWithOffset_:DZ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dm(t,e,n,r,a,o){r==null&&(r=.5),a==null&&(a=Number.NEGATIVE_INFINITY),o==null&&(o=0);const u=t.shape[0];return n=Math.min(n,u),Z(0<=r&&r<=1,()=>`iouThreshold must be in [0, 1], but was '${r}'`),Z(t.rank===2,()=>`boxes must be a 2D tensor, but was of rank '${t.rank}'`),Z(t.shape[1]===4,()=>`boxes must have 4 columns, but 2nd dimension was ${t.shape[1]}`),Z(e.rank===1,()=>"scores must be a 1D tensor"),Z(e.shape[0]===u,()=>`scores has incompatible shape with boxes. Expected ${u}, but was ${e.shape[0]}`),Z(0<=o&&o<=1,()=>`softNmsSigma must be in [0, 1], but was '${o}'`),{maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:o}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MZ(t,e,n,r=.5,a=Number.NEGATIVE_INFINITY){const o=Y(t,"boxes","nonMaxSuppression","float32"),u=Y(e,"scores","nonMaxSuppression","float32"),l=dm(o,u,n,r,a);n=l.maxOutputSize,r=l.iouThreshold,a=l.scoreThreshold;const f={maxOutputSize:n,iouThreshold:r,scoreThreshold:a};return Se.runKernel(LS,{boxes:o,scores:u},f)}const $Z=pe({nonMaxSuppression_:MZ});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FZ(t,e,n){const r=PZ(t,e,n),a=r<0?-(r+1):r;t.splice(a,0,e)}function PZ(t,e,n){return BZ(t,e,n||LZ)}function LZ(t,e){return t>e?1:t<e?-1:0}function BZ(t,e,n){let r=0,a=t.length,o=0,u=!1;for(;r<a;){o=r+(a-r>>>1);const l=n(e,t[o]);l>0?r=o+1:(a=o,u=!l)}return u?r:-r-1}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function t$(t,e,n,r,a){return Q_(t,e,n,r,a,0)}function n$(t,e,n,r,a,o){return Q_(t,e,n,r,a,0,!1,o,!0)}function r$(t,e,n,r,a,o){return Q_(t,e,n,r,a,o,!0)}function Q_(t,e,n,r,a,o,u=!1,l=!1,f=!1){const p=[];for(let _=0;_<e.length;_++)e[_]>a&&p.push({score:e[_],boxIndex:_,suppressBeginIndex:0});p.sort(a$);const c=o>0?-.5/o:0,g=[],y=[];for(;g.length<n&&p.length>0;){const _=p.pop(),{score:I,boxIndex:R,suppressBeginIndex:A}=_;if(I<a)break;let O=!1;for(let L=g.length-1;L>=A;--L){const U=zZ(t,R,g[L]);if(U>=r){O=!0;break}if(_.score=_.score*UZ(r,c,U),_.score<=a)break}_.suppressBeginIndex=g.length,O||(_.score===I?(g.push(R),y.push(_.score)):_.score>a&&FZ(p,_,a$))}const S=g.length,E=n-S;l&&E>0&&(g.push(...new Array(E).fill(0)),y.push(...new Array(E).fill(0)));const k={selectedIndices:g};return u&&(k.selectedScores=y),f&&(k.validOutputs=S),k}function zZ(t,e,n){const r=t.subarray(e*4,e*4+4),a=t.subarray(n*4,n*4+4),o=Math.min(r[0],r[2]),u=Math.min(r[1],r[3]),l=Math.max(r[0],r[2]),f=Math.max(r[1],r[3]),p=Math.min(a[0],a[2]),c=Math.min(a[1],a[3]),g=Math.max(a[0],a[2]),y=Math.max(a[1],a[3]),S=(l-o)*(f-u),E=(g-p)*(y-c);if(S<=0||E<=0)return 0;const k=Math.max(o,p),_=Math.max(u,c),I=Math.min(l,g),R=Math.min(f,y),A=Math.max(I-k,0)*Math.max(R-_,0);return A/(S+E-A)}function UZ(t,e,n){const r=Math.exp(e*n*n);return n<=t?r:0}function a$(t,e){return t.score-e.score||t.score===e.score&&e.boxIndex-t.boxIndex}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function HZ(t,e,n,r=.5,a=Number.NEGATIVE_INFINITY){const o=Y(t,"boxes","nonMaxSuppressionAsync"),u=Y(e,"scores","nonMaxSuppressionAsync"),l=dm(o,u,n,r,a);n=l.maxOutputSize,r=l.iouThreshold,a=l.scoreThreshold;const f=await Promise.all([o.data(),u.data()]),p=f[0],c=f[1],{selectedIndices:g}=t$(p,c,n,r,a);return o!==t&&o.dispose(),u!==e&&u.dispose(),Qo(g,"int32")}const VZ=HZ;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WZ(t,e,n,r=.5,a=Number.NEGATIVE_INFINITY,o=0){const u=Y(t,"boxes","nonMaxSuppression"),l=Y(e,"scores","nonMaxSuppression"),f=dm(u,l,n,r,a,o);n=f.maxOutputSize,r=f.iouThreshold,a=f.scoreThreshold,o=f.softNmsSigma;const p={boxes:u,scores:l},c={maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:o},g=Se.runKernel(zS,p,c);return{selectedIndices:g[0],selectedScores:g[1]}}const jZ=pe({nonMaxSuppressionWithScore_:WZ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function GZ(t,e,n,r=.5,a=Number.NEGATIVE_INFINITY,o=0){const u=Y(t,"boxes","nonMaxSuppressionAsync"),l=Y(e,"scores","nonMaxSuppressionAsync"),f=dm(u,l,n,r,a,o);n=f.maxOutputSize,r=f.iouThreshold,a=f.scoreThreshold,o=f.softNmsSigma;const p=await Promise.all([u.data(),l.data()]),c=p[0],g=p[1],{selectedIndices:y,selectedScores:S}=r$(c,g,n,r,a,o);return u!==t&&u.dispose(),l!==e&&l.dispose(),{selectedIndices:Qo(y,"int32"),selectedScores:Qo(S)}}const qZ=GZ;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KZ(t,e,n,r=.5,a=Number.NEGATIVE_INFINITY,o=!1){const u=Y(t,"boxes","nonMaxSuppression"),l=Y(e,"scores","nonMaxSuppression"),f=dm(u,l,n,r,a,null),p=f.maxOutputSize,c=f.iouThreshold,g=f.scoreThreshold,y={boxes:u,scores:l},S={maxOutputSize:p,iouThreshold:c,scoreThreshold:g,padToMaxOutputSize:o},E=Se.runKernel(BS,y,S);return{selectedIndices:E[0],validOutputs:E[1]}}const YZ=pe({nonMaxSuppressionPadded_:KZ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function XZ(t,e,n,r=.5,a=Number.NEGATIVE_INFINITY,o=!1){const u=Y(t,"boxes","nonMaxSuppressionAsync"),l=Y(e,"scores","nonMaxSuppressionAsync"),f=dm(u,l,n,r,a,null),p=f.maxOutputSize,c=f.iouThreshold,g=f.scoreThreshold,[y,S]=await Promise.all([u.data(),l.data()]),{selectedIndices:E,validOutputs:k}=n$(y,S,p,c,g,o);return u!==t&&u.dispose(),l!==e&&l.dispose(),{selectedIndices:Qo(E,"int32"),validOutputs:ur(k,"int32")}}const QZ=XZ;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JZ(t,e,n=!1,r=!1){const a=Y(t,"images","resizeBilinear");Z(a.rank===3||a.rank===4,()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${a.rank}.`),Z(e.length===2,()=>`Error in resizeBilinear: new shape must 2D, but got shape ${e}.`),Z(r===!1||n===!1,()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false.");let o=a,u=!1;a.rank===3&&(u=!0,o=Ge(a,[1,a.shape[0],a.shape[1],a.shape[2]]));const l={images:o},f={alignCorners:n,halfPixelCenters:r,size:e},p=Se.runKernel(YS,l,f);return u?Ge(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const ZZ=pe({resizeBilinear_:JZ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eee(t,e,n=!1,r=!1){const a=Y(t,"images","resizeNearestNeighbor");Z(a.rank===3||a.rank===4,()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${a.rank}.`),Z(e.length===2,()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${e}.`),Z(a.dtype==="float32"||a.dtype==="int32",()=>"`images` must have `int32` or `float32` as dtype"),Z(r===!1||n===!1,()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false.");let o=a,u=!1;a.rank===3&&(u=!0,o=Ge(a,[1,a.shape[0],a.shape[1],a.shape[2]]));const l={images:o},f={alignCorners:n,halfPixelCenters:r,size:e},p=Se.runKernel(KS,l,f);return u?Ge(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const tee=pe({resizeNearestNeighbor_:eee});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nee(t,e="binary",n=!1,r=.5){const a=Y(t,"image","threshold"),o=.2989,u=.587,l=.114,f=a.shape[0]*a.shape[1];let p=dt(Qo([r]),255),c,g,y,S;if(Z(a.rank===3,()=>`Error in threshold: image must be rank 3,but got rank ${a.rank}.`),Z(a.shape[2]===3||a.shape[2]===1,()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${a.shape[2]}.`),Z(a.dtype==="int32"||a.dtype==="float32",()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${a.dtype}.`),Z(e==="otsu"||e==="binary",()=>`Method must be binary or otsu, but was ${e}`),a.shape[2]===3){[c,g,y]=ly(a,[1,1,1],-1);const _=dt(c,o),I=dt(g,u),R=dt(y,l);S=nn(nn(_,I),R)}else S=t;if(e==="otsu"){const _=fM(ya(WM(S),"int32"),Wu([]),256);p=ree(_,f)}const E=n?L_(S,p):Fw(S,p);return ya(dt(E,255),"int32")}function ree(t,e){let n=Qo([-1]),r=Qo([0]),a=Qo([0]),o,u,l,f,p,c;for(let g=0;g<t.size-1;g++){o=Bn(t,0,g+1),u=Bn(t,g+1),p=Yn(ra(o),e),c=Yn(ra(u),e);const y=ra(dt(o,iy(0,o.size)));l=Yn(y,ra(o));const S=ny(u.shape,o.size),E=nn(iy(0,u.size),S),k=dt(u,E);f=Yn(ra(k),ra(u));const _=zn(l,f),I=zn(l,f),R=dt(p,c);a=dt(dt(R,_),I);const A=Fw(a,r);r=Pd(A,a,r),n=Pd(A,Qo([g]),n)}return n}const aee=pe({threshold_:nee});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oee(t,e,n="nearest",r="constant",a=0,o){const u=Y(t,"image","transform","float32"),l=Y(e,"transforms","transform","float32");Z(u.rank===4,()=>`Error in transform: image must be rank 4,but got rank ${u.rank}.`),Z(l.rank===2&&(l.shape[0]===u.shape[0]||l.shape[0]===1)&&l.shape[1]===8,()=>"Error in transform: Input transform should be batch x 8 or 1 x 8"),Z(o==null||o.length===2,()=>`Error in transform: outputShape must be [height, width] or null, but got ${o}.`);const f={image:u,transforms:l},p={interpolation:n,fillMode:r,fillValue:a,outputShape:o};return Se.runKernel(Sw,f,p)}const see=pe({transform_:oee});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iee(t,e,n){const r=Y(t,"a","bandPart");Z(r.rank>=2,()=>`bandPart(): Rank must be at least 2, got ${r.rank}.`);const a=r.shape,[o,u]=r.shape.slice(-2);let l,f;typeof e=="number"?(Z(e%1===0,()=>`bandPart(): numLower must be an integer, got ${e}.`),Z(e<=o,()=>`bandPart(): numLower (${e}) must not be greater than the number of rows (${o}).`),l=Y(e<0?o:e,"numLower","bandPart")):(Z(e.dtype==="int32",()=>"bandPart(): numLower's dtype must be an int32."),l=Pd(P_(e,0),o,Uw(e,o))),typeof n=="number"?(Z(n%1===0,()=>`bandPart(): numUpper must be an integer, got ${n}.`),Z(n<=u,()=>`bandPart(): numUpper (${n}) must not be greater than the number of columns (${u}).`),f=Y(n<0?u:n,"numUpper","bandPart")):(Z(n.dtype==="int32",()=>"bandPart(): numUpper's dtype must be an int32."),f=Pd(P_(n,0),u,Uw(n,u)));const p=Ge(iy(0,o,1,"int32"),[-1,1]),c=iy(0,u,1,"int32"),g=zn(p,c),y=Lw(L_(g,l),EM(g,Nl(f))),S=lm([o,u],r.dtype);return Ge(Ic(ap(Ge(r,[-1,o,u])).map(E=>Pd(y,E,S))),a)}const uee=pe({bandPart_:iee});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lee(t){let e;if(Array.isArray(t)){e=!1,Z(t!=null&&t.length>0,()=>"Gram-Schmidt process: input must not be null, undefined, or empty");const a=t[0].shape[0];for(let o=1;o<t.length;++o)Z(t[o].shape[0]===a,()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${t[o].shape[0]} vs. ${a})`)}else e=!0,t=ly(t,t.shape[0],0).map(a=>$o(a,[0]));Z(t.length<=t[0].shape[0],()=>`Gram-Schmidt: Number of vectors (${t.length}) exceeds number of dimensions (${t[0].shape[0]}).`);const n=[],r=t;for(let a=0;a<t.length;++a)n.push(Se.tidy(()=>{let o=r[a];if(a>0)for(let u=0;u<a;++u){const l=dt(ra(dt(n[u],o)),n[u]);o=zn(o,l)}return Yn(o,$w(o,"euclidean"))}));return e?Ic(n,0):n}const cee=pe({gramSchmidt_:lee});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dee(t,e=!1){if(Z(t.rank>=2,()=>`qr() requires input tensor to have a rank >= 2, but got rank ${t.rank}`),t.rank===2)return o$(t,e);{const n=t.shape.slice(0,t.shape.length-2).reduce((f,p)=>f*p),r=ap(Ge(t,[n,t.shape[t.shape.length-2],t.shape[t.shape.length-1]]),0),a=[],o=[];r.forEach(f=>{const[p,c]=o$(f,e);a.push(p),o.push(c)});const u=Ge(Ic(a,0),t.shape),l=Ge(Ic(o,0),t.shape);return[u,l]}}function o$(t,e=!1){return Se.tidy(()=>{Z(t.shape.length===2,()=>`qr2d() requires a 2D Tensor, but got a ${t.shape.length}D Tensor.`);const n=t.shape[0],r=t.shape[1];let a=bM(n),o=$d(t);const u=rp([[1]],[1,1]);let l=$d(u);const f=n>=r?r:n;for(let p=0;p<f;++p){const c=o,g=l,y=a;[l,o,a]=Se.tidy(()=>{const S=Bn(o,[p,p],[n-p,1]),E=$w(S),k=Bn(o,[p,p],[1,1]),_=Pd(Fw(k,0),rp([[-1]]),rp([[1]])),I=zn(k,dt(_,E)),R=Yn(S,I);R.shape[0]===1?l=$d(u):l=Oo([u,Bn(R,[1,0],[R.shape[0]-1,R.shape[1]])],0);const A=Nl(Yn(Fr(_,I),E)),O=Bn(o,[p,0],[n-p,r]),L=dt(A,l),U=j_(l);if(p===0)o=zn(O,Fr(L,Fr(U,O)));else{const q=zn(O,Fr(L,Fr(U,O)));o=Oo([Bn(o,[0,0],[p,r]),q],0)}const j=j_(L),J=Bn(a,[0,p],[n,a.shape[1]-p]);if(p===0)a=zn(J,Fr(Fr(J,l),j));else{const q=zn(J,Fr(Fr(J,l),j));a=Oo([Bn(a,[0,0],[n,p]),q],1)}return[l,o,a]}),ao([c,g,y])}return!e&&n>r&&(a=Bn(a,[0,0],[n,r]),o=Bn(o,[0,0],[r,r])),[a,o]})}const fee=pe({qr_:dee});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var js;(function(t){t[t.NONE=0]="NONE",t[t.MEAN=1]="MEAN",t[t.SUM=2]="SUM",t[t.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(js||(js={}));function pee(t,e,n=js.SUM_BY_NONZERO_WEIGHTS){const r=Y(t,"losses","computeWeightedLoss");let a=null;e!=null&&(a=Y(e,"weights","computeWeightedLoss"));const o=a==null?r:dt(r,a);if(n===js.NONE)return o;if(n===js.SUM)return ra(o);if(n===js.MEAN){if(a==null)return zw(o);{const u=r.size/a.size,l=Yn(ra(o),ra(a));return u>1?Yn(l,ur(u)):l}}if(n===js.SUM_BY_NONZERO_WEIGHTS){if(a==null)return Yn(ra(o),ur(r.size));{const u=dt(a,tp(r.shape)),l=ya(ra(AM(u,ur(0))),"float32");return Yn(ra(o),l)}}throw Error(`Unknown reduction: ${n}`)}const Rc=pe({computeWeightedLoss_:pee});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hee(t,e,n,r=js.SUM_BY_NONZERO_WEIGHTS){const a=Y(t,"labels","absoluteDifference"),o=Y(e,"predictions","absoluteDifference");let u=null;n!=null&&(u=Y(n,"weights","absoluteDifference")),yi(a.shape,o.shape,"Error in absoluteDifference: ");const l=Wi(zn(a,o));return Rc(l,u,r)}const mee=pe({absoluteDifference_:hee});function gee(t,e,n,r,a=js.SUM_BY_NONZERO_WEIGHTS){const o=Y(t,"labels","cosineDistance"),u=Y(e,"predictions","cosineDistance");let l=null;r!=null&&(l=Y(r,"weights","cosineDistance")),yi(o.shape,u.shape,"Error in cosineDistance: ");const f=ur(1),p=zn(f,ra(dt(o,u),n,!0));return Rc(p,l,a)}const vee=pe({cosineDistance_:gee});function yee(t,e,n,r=js.SUM_BY_NONZERO_WEIGHTS){let a=Y(t,"labels","hingeLoss");const o=Y(e,"predictions","hingeLoss");let u=null;n!=null&&(u=Y(n,"weights","hingeLoss")),yi(a.shape,o.shape,"Error in hingeLoss: ");const l=ur(1);a=zn(dt(ur(2),a),l);const f=Xw(zn(l,dt(a,o)));return Rc(f,u,r)}const bee=pe({hingeLoss_:yee});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function See(t,e,n,r=1,a=js.SUM_BY_NONZERO_WEIGHTS){const o=Y(t,"labels","huberLoss"),u=Y(e,"predictions","huberLoss");let l=null;n!=null&&(l=Y(n,"weights","huberLoss")),yi(o.shape,u.shape,"Error in huberLoss: ");const f=ur(r),p=Wi(zn(u,o)),c=Uw(p,f),g=zn(p,c),y=nn(dt(ur(.5),Ku(c)),dt(f,g));return Rc(y,l,a)}const wee=pe({huberLoss_:See});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Eee(t,e,n,r=1e-7,a=js.SUM_BY_NONZERO_WEIGHTS){const o=Y(t,"labels","logLoss"),u=Y(e,"predictions","logLoss");let l=null;n!=null&&(l=Y(n,"weights","logLoss")),yi(o.shape,u.shape,"Error in logLoss: ");const f=ur(1),p=ur(r),c=Nl(dt(o,oy(nn(u,p)))),g=dt(zn(f,o),oy(nn(zn(f,u),p))),y=zn(c,g);return Rc(y,l,a)}const xee=pe({logLoss_:Eee});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cee(t,e,n,r=js.SUM_BY_NONZERO_WEIGHTS){const a=Y(t,"labels","meanSquaredError"),o=Y(e,"predictions","meanSquaredError");let u=null;n!=null&&(u=Y(n,"weights","meanSquaredError")),yi(a.shape,o.shape,"Error in meanSquaredError: ");const l=GM(a,o);return Rc(l,u,r)}const kee=pe({meanSquaredError_:Cee});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _ee(t,e){const n=Y(t,"labels","sigmoidCrossEntropyWithLogits"),r=Y(e,"logits","sigmoidCrossEntropyWithLogits");yi(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");const a=Xw(r),o=dt(r,n),u=CM(_c(Nl(Wi(r))));return nn(zn(a,o),u)}function Tee(t,e,n,r=0,a=js.SUM_BY_NONZERO_WEIGHTS){let o=Y(t,"multiClassLabels","sigmoidCrossEntropy");const u=Y(e,"logits","sigmoidCrossEntropy");let l=null;if(n!=null&&(l=Y(n,"weights","sigmoidCrossEntropy")),yi(o.shape,u.shape,"Error in sigmoidCrossEntropy: "),r>0){const p=ur(r),c=ur(1),g=ur(.5);o=nn(dt(o,zn(c,p)),dt(g,p))}const f=_ee(o,u);return Rc(f,l,a)}const Iee=pe({sigmoidCrossEntropy_:Tee});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ree(t,e,n=-1){if(n===-1&&(n=e.rank-1),n!==e.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${e.rank} and dim was ${n}`);return Tc((a,o,u)=>{const f=_M(o,[n],!0),p=zn(ya(o,"float32"),f);u([a,p]);const c=Nl(dt(p,a));return{value:ra(c,[n]),gradFunc:(S,E)=>{const[k,_]=E,I=Mo(S.shape,[n]);return[dt(Ge(S,I),zn(ya(k,"float32"),_c(_))),dt(Ge(S,I),zn(_c(_),ya(k,"float32")))]}}})(t,e)}function Nee(t,e,n,r=0,a=js.SUM_BY_NONZERO_WEIGHTS){let o=Y(t,"onehotLabels","softmaxCrossEntropy");const u=Y(e,"logits","softmaxCrossEntropy");let l=null;if(n!=null&&(l=Y(n,"weights","softmaxCrossEntropy")),yi(o.shape,u.shape,"Error in softmaxCrossEntropy: "),r>0){const p=ur(r),c=ur(1),g=ur(o.shape[1]);o=nn(dt(o,zn(c,p)),Yn(p,g))}const f=Ree(o,u);return Rc(f,l,a)}const Aee=pe({softmaxCrossEntropy_:Nee});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dee(t,e,n,r){const a=Y(t,"indices","sparseFillEmptyRows","int32"),o=Y(e,"values","sparseFillEmptyRows"),u=Y(n,"denseShape","sparseFillEmptyRows","int32"),l=Y(r,"defaultValue","sparseFillEmptyRows",o.dtype);if(a.rank!==2)throw new Error(`Indices should be Tensor2D but received shape
        ${a.shape}`);if(o.rank!==1)throw new Error(`Values should be Tensor1D but received shape ${o.shape}`);if(u.rank!==1)throw new Error(`Dense shape should be Tensor1D but received shape ${u.shape}`);if(l.rank!==0)throw new Error(`Default value should be a scalar but received shape ${l.shape}`);const f={indices:a,values:o,denseShape:u,defaultValue:l},p=Se.runKernel(o_,f);return{outputIndices:p[0],outputValues:p[1],emptyRowIndicator:p[2],reverseIndexMap:p[3]}}const Oee=pe({sparseFillEmptyRows_:Dee});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mee(t,e,n){const r=Y(t,"inputIndices","sparseReshape","int32"),a=Y(e,"inputShape","sparseReshape","int32"),o=Y(n,"newShape","sparseReshape","int32");if(r.rank!==2)throw new Error(`Input indices should be Tensor2D but received shape
        ${r.shape}`);if(a.rank!==1)throw new Error(`Input shape should be Tensor1D but received shape ${a.shape}`);if(o.rank!==1)throw new Error(`New shape should be Tensor1D but received shape ${o.shape}`);const u={inputIndices:r,inputShape:a,newShape:o},l=Se.runKernel(fw,u);return{outputIndices:l[0],outputShape:l[1]}}const $ee=pe({sparseReshape_:Mee});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fee(t,e,n){const r=Y(t,"data","sparseSegmentMean"),a=Y(e,"indices","sparseSegmentMean","int32"),o=Y(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(a.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
          ${a.shape}`);if(o.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
          ${o.shape}`);const u={data:r,indices:a,segmentIds:o};return Se.runKernel(s_,u)}const Pee=pe({sparseSegmentMean_:Fee});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lee(t,e,n){const r=Y(t,"data","sparseSegmentSum"),a=Y(e,"indices","sparseSegmentSum","int32"),o=Y(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(a.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
         ${a.shape}`);if(o.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
         ${o.shape}`);const u={data:r,indices:a,segmentIds:o};return Se.runKernel(i_,u)}const Bee=pe({sparseSegmentSum_:Lee});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zee(t,e,n,r,a,o,u,l){const f=Y(t,"data","stringNGrams","string");if(f.dtype!=="string")throw new Error("Data must be of datatype string");if(f.shape.length!==1)throw new Error(`Data must be a vector, saw: ${f.shape}`);const p=Y(e,"dataSplits","stringNGrams");if(p.dtype!=="int32")throw new Error("Data splits must be of datatype int32");const c={separator:n,nGramWidths:r,leftPad:a,rightPad:o,padWidth:u,preserveShortSequences:l},g={data:f,dataSplits:p},y=Se.runKernel(l_,g,c);return{nGrams:y[0],nGramsSplits:y[1]}}const Uee=pe({stringNGrams_:zee});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hee(t,e,n=!0){const r=Y(t,"input","stringSplit","string"),a=Y(e,"delimiter","stringSplit","string");if(r.rank!==1)throw new Error(`Input should be Tensor1D but received shape ${r.shape}`);if(a.rank!==0)throw new Error(`Delimiter should be a scalar but received shape ${a.shape}`);const o={skipEmpty:n},u={input:r,delimiter:a},l=Se.runKernel(c_,u,o);return{indices:l[0],values:l[1],shape:l[2]}}const Vee=pe({stringSplit_:Hee});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wee(t,e){const n=Y(t,"input","stringToHashBucketFast","string"),r={numBuckets:e};if(e<=0)throw new Error("Number of buckets must be at least 1");const a={input:n};return Se.runKernel(d_,a,r)}const jee=pe({stringToHashBucketFast_:Wee});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gee(t,e,n,r=!0){const a=Y(t,"input","staticRegexReplace","string"),o={pattern:e,rewrite:n,replaceGlobal:r};return Se.runKernel(u_,{x:a},o)}const qee=pe({staticRegexReplace_:Gee});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kee={fft:V_,ifft:Qw,rfft:W_,irfft:jM},Yee={hammingWindow:bZ,hannWindow:ZM,frame:e$,stft:xZ},Jw={flipLeftRight:TZ,grayscaleToRGB:RZ,resizeNearestNeighbor:tee,resizeBilinear:ZZ,rgbToGrayscale:AZ,rotateWithOffset:OZ,cropAndResize:kZ,nonMaxSuppression:$Z,nonMaxSuppressionAsync:VZ,nonMaxSuppressionWithScore:jZ,nonMaxSuppressionWithScoreAsync:qZ,nonMaxSuppressionPadded:YZ,nonMaxSuppressionPaddedAsync:QZ,threshold:aee,transform:see},Xee={bandPart:uee,gramSchmidt:cee,qr:fee},Qee={absoluteDifference:mee,computeWeightedLoss:Rc,cosineDistance:vee,hingeLoss:bee,huberLoss:wee,logLoss:xee,meanSquaredError:kee,sigmoidCrossEntropy:Iee,softmaxCrossEntropy:Aee},Jee={sparseFillEmptyRows:Oee,sparseReshape:$ee,sparseSegmentMean:Pee,sparseSegmentSum:Bee},Zee={stringNGrams:Uee,stringSplit:Vee,stringToHashBucketFast:jee,staticRegexReplace:qee};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ete=new Map,tte=new Map;class nte{getClassName(){return this.constructor.className}static fromConfig(e,n){return new e(n)}}class op{constructor(){this.classNameMap={}}static getMap(){return op.instance==null&&(op.instance=new op),op.instance}static register(e){op.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function rte(t,e,n){Z(t.className!=null,()=>"Class being registered does not have the static className property defined."),Z(typeof t.className=="string",()=>"className is required to be a string, but got type "+typeof t.className),Z(t.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),typeof e>"u"&&(e="Custom"),typeof n>"u"&&(n=t.className);const r=n,a=e+">"+r;return op.register(t),ete.set(a,t),tte.set(t,a),t}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class sp extends nte{minimize(e,n=!1,r){const{value:a,grads:o}=this.computeGradients(e,r);if(r!=null){const u=r.map(l=>({name:l.name,tensor:o[l.name]}));this.applyGradients(u)}else this.applyGradients(o);return ao(o),n?a:(a.dispose(),null)}get iterations(){return this.iterations_==null&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,n){return HY(e,n)}dispose(){this.iterations_!=null&&ao(this.iterations_)}async saveIterations(){return this.iterations_==null&&(this.iterations_=0),{name:"iter",tensor:ur(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(sp,Symbol.hasInstance,{value:t=>t.minimize!=null&&t.computeGradients!=null&&t.applyGradients!=null});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ate extends sp{static get className(){return"Adadelta"}constructor(e,n,r=null){super(),this.learningRate=e,this.rho=n,this.epsilon=r,this.accumulatedGrads=[],this.accumulatedUpdates=[],r==null&&(this.epsilon=Se.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,a)=>{const o=Se.registeredVariables[r],u=!1;this.accumulatedGrads[a]==null&&(this.accumulatedGrads[a]={originalName:`${r}/accum_grad`,variable:Kn(()=>ji(o).variable(u))}),this.accumulatedUpdates[a]==null&&(this.accumulatedUpdates[a]={originalName:`${r}/accum_var`,variable:Kn(()=>ji(o).variable(u))});const l=Array.isArray(e)?e[a].tensor:e[r];if(l==null)return;const f=this.accumulatedGrads[a].variable,p=this.accumulatedUpdates[a].variable;Kn(()=>{const c=nn(dt(f,this.rho),dt(Ku(l),1-this.rho)),g=dt(Yn(kc(nn(p,this.epsilon)),kc(nn(f,this.epsilon))),l),y=nn(dt(p,this.rho),dt(Ku(g),1-this.rho));f.assign(c),p.assign(y);const S=nn(dt(g,-this.learningRate),o);o.assign(S)})}),this.incrementIterations()}dispose(){this.accumulatedUpdates!=null&&(ao(this.accumulatedGrads.map(e=>e.variable)),ao(this.accumulatedUpdates.map(e=>e.variable)))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=e.length/2,r=!1;this.accumulatedGrads=e.slice(0,n).map(a=>({originalName:a.name,variable:a.tensor.variable(r)})),this.accumulatedUpdates=e.slice(n,n*2).map(a=>({originalName:a.name,variable:a.tensor.variable(r)}))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.rho,n.epsilon)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ote extends sp{static get className(){return"Adagrad"}constructor(e,n=.1){super(),this.learningRate=e,this.initialAccumulatorValue=n,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,a)=>{const o=Se.registeredVariables[r];this.accumulatedGrads[a]==null&&(this.accumulatedGrads[a]={originalName:`${r}/accumulator`,variable:Kn(()=>ny(o.shape,this.initialAccumulatorValue).variable(!1))});const u=Array.isArray(e)?e[a].tensor:e[r];if(u==null)return;const l=this.accumulatedGrads[a].variable;Kn(()=>{const f=nn(l,Ku(u));l.assign(f);const p=nn(dt(Yn(u,kc(nn(f,Se.backend.epsilon()))),-this.learningRate),o);o.assign(p)})}),this.incrementIterations()}dispose(){this.accumulatedGrads!=null&&ao(this.accumulatedGrads.map(e=>e.variable))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=!1;this.accumulatedGrads=e.map(r=>({originalName:r.name,variable:r.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,n){return new e(n.learningRate,n.initialAccumulatorValue)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ste extends sp{static get className(){return"Adam"}constructor(e,n,r,a=null){super(),this.learningRate=e,this.beta1=n,this.beta2=r,this.epsilon=a,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],Kn(()=>{this.accBeta1=ur(n).variable(),this.accBeta2=ur(r).variable()}),a==null&&(this.epsilon=Se.backend.epsilon())}applyGradients(e){const n=Array.isArray(e)?e.map(r=>r.name):Object.keys(e);Kn(()=>{const r=zn(1,this.accBeta1),a=zn(1,this.accBeta2);n.forEach((o,u)=>{const l=Se.registeredVariables[o],f=!1;this.accumulatedFirstMoment[u]==null&&(this.accumulatedFirstMoment[u]={originalName:`${o}/m`,variable:Kn(()=>ji(l).variable(f))}),this.accumulatedSecondMoment[u]==null&&(this.accumulatedSecondMoment[u]={originalName:`${o}/v`,variable:Kn(()=>ji(l).variable(f))});const p=Array.isArray(e)?e[u].tensor:e[o];if(p==null)return;const c=this.accumulatedFirstMoment[u].variable,g=this.accumulatedSecondMoment[u].variable,y=nn(dt(c,this.beta1),dt(p,1-this.beta1)),S=nn(dt(g,this.beta2),dt(Ku(p),1-this.beta2)),E=Yn(y,r),k=Yn(S,a);c.assign(y),g.assign(S);const _=nn(dt(Yn(E,nn(kc(k),this.epsilon)),-this.learningRate),l);l.assign(_)}),this.accBeta1.assign(dt(this.accBeta1,this.beta1)),this.accBeta2.assign(dt(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&ao(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedSecondMoment!=null&&ao(this.accumulatedSecondMoment.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e),Kn(()=>{this.accBeta1.assign(ry(this.beta1,this.iterations_+1)),this.accBeta2.assign(ry(this.beta2,this.iterations_+1))});const n=e.length/2,r=!1;this.accumulatedFirstMoment=e.slice(0,n).map(a=>({originalName:a.name,variable:a.tensor.variable(r)})),this.accumulatedSecondMoment=e.slice(n,n*2).map(a=>({originalName:a.name,variable:a.tensor.variable(r)}))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ite extends sp{static get className(){return"Adamax"}constructor(e,n,r,a=null,o=0){super(),this.learningRate=e,this.beta1=n,this.beta2=r,this.epsilon=a,this.decay=o,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],Kn(()=>{this.iteration=ur(0).variable(),this.accBeta1=ur(n).variable()}),a==null&&(this.epsilon=Se.backend.epsilon())}applyGradients(e){const n=Array.isArray(e)?e.map(r=>r.name):Object.keys(e);Kn(()=>{const r=zn(1,this.accBeta1),a=Yn(-this.learningRate,nn(dt(this.iteration,this.decay),1));n.forEach((o,u)=>{const l=Se.registeredVariables[o],f=!1;this.accumulatedFirstMoment[u]==null&&(this.accumulatedFirstMoment[u]={originalName:`${o}/m`,variable:ji(l).variable(f)}),this.accumulatedWeightedInfNorm[u]==null&&(this.accumulatedWeightedInfNorm[u]={originalName:`${o}/v`,variable:ji(l).variable(f)});const p=Array.isArray(e)?e[u].tensor:e[o];if(p==null)return;const c=this.accumulatedFirstMoment[u].variable,g=this.accumulatedWeightedInfNorm[u].variable,y=nn(dt(c,this.beta1),dt(p,1-this.beta1)),S=dt(g,this.beta2),E=Wi(p),k=NM(S,E);c.assign(y),g.assign(k);const _=nn(dt(Yn(a,r),Yn(y,nn(k,this.epsilon))),l);l.assign(_)}),this.iteration.assign(nn(this.iteration,1)),this.accBeta1.assign(dt(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&ao(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedWeightedInfNorm!=null&&ao(this.accumulatedWeightedInfNorm.map(e=>e.variable))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon,n.decay)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class s$ extends sp{static get className(){return"SGD"}constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,a)=>{const o=Array.isArray(e)?e[a].tensor:e[r];if(o==null)return;const u=Se.registeredVariables[r];Kn(()=>{const l=nn(dt(this.c,o),u);u.assign(l)})}),this.incrementIterations()}setLearningRate(e){this.learningRate=e,this.c!=null&&this.c.dispose(),this.c=Il(ur(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(e=await this.extractIterations(e),e.length!==0)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,n){return new e(n.learningRate)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ute extends s${static get className(){return"Momentum"}constructor(e,n,r=!1){super(e),this.learningRate=e,this.momentum=n,this.useNesterov=r,this.accumulations=[],this.m=ur(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,a)=>{const o=Se.registeredVariables[r];this.accumulations[a]==null&&(this.accumulations[a]={originalName:`${r}/momentum`,variable:Kn(()=>ji(o).variable(!1))});const u=this.accumulations[a].variable,l=Array.isArray(e)?e[a].tensor:e[r];l!=null&&Kn(()=>{let f;const p=nn(dt(this.m,u),l);this.useNesterov?f=nn(dt(this.c,nn(l,dt(p,this.m))),o):f=nn(dt(this.c,p),o),u.assign(p),o.assign(f)})}),this.incrementIterations()}dispose(){this.m.dispose(),this.accumulations!=null&&ao(this.accumulations.map(e=>e.variable))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=!1;this.accumulations=e.map(r=>({originalName:r.name,variable:r.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,n){return new e(n.learningRate,n.momentum,n.useNesterov)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class lte extends sp{static get className(){return"RMSProp"}constructor(e,n=.9,r=0,a=null,o=!1){if(super(),this.learningRate=e,this.decay=n,this.momentum=r,this.epsilon=a,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=o,a==null&&(this.epsilon=Se.backend.epsilon()),e==null)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,a)=>{const o=Se.registeredVariables[r],u=!1;this.accumulatedMeanSquares[a]==null&&(this.accumulatedMeanSquares[a]={originalName:`${r}/rms`,variable:Kn(()=>ji(o).variable(u))}),this.accumulatedMoments[a]==null&&(this.accumulatedMoments[a]={originalName:`${r}/momentum`,variable:Kn(()=>ji(o).variable(u))}),this.accumulatedMeanGrads[a]==null&&this.centered&&(this.accumulatedMeanGrads[a]={originalName:`${r}/mg`,variable:Kn(()=>ji(o).variable(u))});const l=Array.isArray(e)?e[a].tensor:e[r];if(l==null)return;const f=this.accumulatedMeanSquares[a].variable,p=this.accumulatedMoments[a].variable;Kn(()=>{const c=nn(dt(f,this.decay),dt(Ku(l),1-this.decay));if(this.centered){const g=this.accumulatedMeanGrads[a].variable,y=nn(dt(g,this.decay),dt(l,1-this.decay)),S=Yn(dt(l,this.learningRate),kc(zn(c,nn(Ku(y),this.epsilon)))),E=nn(dt(p,this.momentum),S);f.assign(c),g.assign(y),p.assign(E);const k=zn(o,E);o.assign(k)}else{const g=nn(dt(f,this.decay),dt(Ku(l),1-this.decay)),y=nn(dt(p,this.momentum),Yn(dt(l,this.learningRate),kc(nn(g,this.epsilon))));f.assign(g),p.assign(y);const S=zn(o,y);o.assign(S)}})}),this.incrementIterations()}dispose(){this.accumulatedMeanSquares!=null&&ao(this.accumulatedMeanSquares.map(e=>e.variable)),this.accumulatedMeanGrads!=null&&this.centered&&ao(this.accumulatedMeanGrads.map(e=>e.variable)),this.accumulatedMoments!=null&&ao(this.accumulatedMoments.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=this.centered?e.length/3:e.length/2,r=!1;this.accumulatedMeanSquares=e.slice(0,n).map(a=>({originalName:a.name,variable:a.tensor.variable(r)})),this.accumulatedMoments=e.slice(n,n*2).map(a=>({originalName:a.name,variable:a.tensor.variable(r)})),this.centered&&(this.accumulatedMeanGrads=e.slice(n*2,n*3).map(a=>({originalName:a.name,variable:a.tensor.variable(r)})))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,n){return new e(n.learningRate,n.decay,n.momentum,n.epsilon,n.centered)}}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cte=[ate,ote,ste,ite,ute,lte,s$];function dte(){for(const t of cte)rte(t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fte="model",pte=".json",hte=".weights.bin";function i$(t){return new Promise(e=>setTimeout(e)).then(t)}class ip{constructor(e){if(!Ln().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(ip.URL_SCHEME)&&(e=e.slice(ip.URL_SCHEME.length)),(e==null||e.length===0)&&(e=fte),this.modelJsonFileName=e+pte,this.weightDataFileName=e+hte}async save(e){if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");const n=ju.join(e.weightData),r=window.URL.createObjectURL(new Blob([n],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const a=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],o=YO(e,a),u=window.URL.createObjectURL(new Blob([JSON.stringify(o)],{type:"application/json"})),l=this.modelJsonAnchor==null?document.createElement("a"):this.modelJsonAnchor;if(l.download=this.modelJsonFileName,l.href=u,await i$(()=>l.dispatchEvent(new MouseEvent("click"))),e.weightData!=null){const f=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor;f.download=this.weightDataFileName,f.href=r,await i$(()=>f.dispatchEvent(new MouseEvent("click")))}return{modelArtifactsInfo:Jv(e)}}}}ip.URL_SCHEME="downloads://";class mte{constructor(e){if(e==null||e.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${e}`);this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise((e,n)=>{const r=new FileReader;r.onload=a=>{const o=JSON.parse(a.target.result),u=o.modelTopology;if(u==null){n(new Error(`modelTopology field is missing from file ${this.jsonFile.name}`));return}if(o.weightsManifest==null){n(new Error(`weightManifest field is missing from file ${this.jsonFile.name}`));return}if(this.weightsFiles.length===0){e({modelTopology:u});return}const f=T_(o,p=>this.loadWeights(p));e(f)},r.onerror=a=>n(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),r.readAsText(this.jsonFile)})}loadWeights(e){const n=[],r=[];for(const u of e)n.push(...u.weights),r.push(...u.paths);const a=this.checkManifestAndWeightFiles(e),o=r.map(u=>this.loadWeightsFile(u,a[u]));return Promise.all(o).then(u=>[n,u])}loadWeightsFile(e,n){return new Promise((r,a)=>{const o=new FileReader;o.onload=u=>{const l=u.target.result;r(l)},o.onerror=u=>a(`Failed to weights data from file of path '${e}'.`),o.readAsArrayBuffer(n)})}checkManifestAndWeightFiles(e){const n=[],r=this.weightsFiles.map(o=>KO(o.name)),a={};for(const o of e)o.paths.forEach(u=>{const l=KO(u);if(n.indexOf(l)!==-1)throw new Error(`Duplicate file basename found in weights manifest: '${l}'`);if(n.push(l),r.indexOf(l)===-1)throw new Error(`Weight file with basename '${l}' is not provided.`);a[u]=this.weightsFiles[r.indexOf(l)]});if(n.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${n.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return a}}const gte=t=>Ln().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(ip.URL_SCHEME)?vte(t.slice(ip.URL_SCHEME.length)):null;va.registerSaveRouter(gte);function vte(t="model"){return new ip(t)}function yte(t){return new mte(t)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function u$(t,e,n,r){u(t),n=n??0,r=r??1,l(n,r);let a=0;const o=f=>(f.then(p=>{const c=n+ ++a/t.length*(r-n);return e(c),p}),f);function u(f){Z(f!=null&&Array.isArray(f)&&f.length>0,()=>"promises must be a none empty array")}function l(f,p){Z(f>=0&&f<=1,()=>`Progress fraction must be in range [0, 1], but got startFraction ${f}`),Z(p>=0&&p<=1,()=>`Progress fraction must be in range [0, 1], but got endFraction ${p}`),Z(p>=f,()=>`startFraction must be no more than endFraction, but got startFraction ${f} and endFraction ${p}`)}return Promise.all(t.map(o))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function l$(t,e){e==null&&(e={});const n=e.fetchFunc==null?Ln().platform.fetch:e.fetchFunc,r=t.map(g=>n(g,e.requestInit,{isBinary:!0})),l=(e.onProgress==null?await Promise.all(r):await u$(r,e.onProgress,0,.5)).map(g=>g.arrayBuffer());return e.onProgress==null?await Promise.all(l):await u$(l,e.onProgress,.5,1)}async function bte(t,e="",n,r){return c$(u=>l$(u,{requestInit:r}))(t,e,n)}function c$(t){return async(e,n="",r)=>{const a=e.map(()=>!1),o={},u=r!=null?r.map(()=>!1):[],l=[];if(e.forEach((S,E)=>{let k=0;S.weights.forEach(_=>{const I="quantization"in _?_.quantization.dtype:_.dtype,R=k_[I]*ze(_.shape),A=()=>{a[E]=!0,o[E]==null&&(o[E]=[]),o[E].push({manifestEntry:_,groupOffset:k,sizeBytes:R})};r!=null?r.forEach((O,L)=>{O===_.name&&(A(),u[L]=!0)}):A(),l.push(_.name),k+=R})}),!u.every(S=>S)){const S=r.filter((E,k)=>!u[k]);throw new Error(`Could not find weights in manifest with names: ${S.join(", ")}. 
Manifest JSON has weights with names: ${l.join(", ")}.`)}const f=a.reduce((S,E,k)=>(E&&S.push(k),S),[]),p=[];f.forEach(S=>{e[S].paths.forEach(E=>{const k=n+(n.endsWith("/")?"":"/")+E;p.push(k)})});const c=await t(p),g={};let y=0;return f.forEach(S=>{const E=e[S].paths.length,k=new ju(c.slice(y,y+E));o[S].forEach(I=>{const R=k.slice(I.groupOffset,I.groupOffset+I.sizeBytes),A=GO(R,[I.manifestEntry]);for(const O in A)g[O]=A[O]}),y+=E}),g}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ste="application/octet-stream",wte="application/json";class J_{constructor(e,n){if(this.DEFAULT_METHOD="POST",n==null&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.onProgress=n.onProgress,this.weightUrlConverter=n.weightUrlConverter,n.fetchFunc!=null?(Z(typeof n.fetchFunc=="function",()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=n.fetchFunc):this.fetch=Ln().platform.fetch,Z(e!=null&&e.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(e)&&Z(e.length===2,()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`),this.path=e,n.requestInit!=null&&n.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{}}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);n.body=new FormData;const r=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],a=YO(e,r);if(n.body.append("model.json",new Blob([JSON.stringify(a)],{type:wte}),"model.json"),e.weightData!=null){const u=ju.join(e.weightData);n.body.append("model.weights.bin",new Blob([u],{type:Ste}),"model.weights.bin")}const o=await this.fetch(this.path,n);if(o.ok)return{modelArtifactsInfo:Jv(e),responses:[o]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${o.status}.`)}async load(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let n;try{n=await e.json()}catch{let u=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?u+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":u+=" Please make sure the server is serving valid JSON for this request.",new Error(u)}const r=n.modelTopology,a=n.weightsManifest;if(r==null&&a==null)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return T_(n,o=>this.loadWeights(o))}async loadWeights(e){const n=Array.isArray(this.path)?this.path[1]:this.path,[r,a]=Ete(n),o=this.weightPathPrefix||r,u=QO(e),l=[],f=[];for(const c of e)for(const g of c.paths)this.weightUrlConverter!=null?f.push(this.weightUrlConverter(g)):l.push(o+g+a);this.weightUrlConverter&&l.push(...await Promise.all(f));const p=await l$(l,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress});return[u,p]}}J_.URL_SCHEME_REGEX=/^https?:\/\//;function Ete(t){const e=t.lastIndexOf("/"),n=t.lastIndexOf("?"),r=t.substring(0,e),a=n>e?t.substring(n):"";return[r+"/",a]}function Z_(t){return t.match(J_.URL_SCHEME_REGEX)!=null}const d$=(t,e)=>{if(typeof fetch>"u"&&(e==null||e.fetchFunc==null))return null;{let n=!0;if(Array.isArray(t)?n=t.every(r=>Z_(r)):n=Z_(t),n)return eT(t,e)}return null};va.registerSaveRouter(d$),va.registerLoadRouter(d$);function eT(t,e){return new J_(t,e)}function xte(t,e){return eT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class tT{constructor(e){this.modelArtifacts=e}load(){return this.modelArtifacts}}class f${constructor(e){this.saveHandler=e}save(e){return this.saveHandler(e)}}class Cte{constructor(e){e.load&&(this.load=()=>Promise.resolve(e.load())),e.save&&(this.save=n=>Promise.resolve(e.save(n)))}}function kte(t,e,n,r){const a=arguments;return new Cte(p$(...a))}function p$(t,e,n,r){return arguments.length===1?t.modelTopology!=null||t.weightSpecs!=null?new tT(t):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new tT({modelTopology:t})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new tT({modelTopology:t,weightSpecs:e,weightData:n,trainingConfig:r}))}function _te(t){return new f$(t)}function Tte(t){return new f$(t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const h$=Object.freeze(Object.defineProperty({__proto__:null,CompositeArrayBuffer:ju,browserFiles:yte,browserHTTPRequest:xte,concatenateArrayBuffers:_G,copyModel:KG,decodeWeights:GO,encodeWeights:EG,fromMemory:kte,fromMemorySync:p$,getLoadHandlers:MG,getModelArtifactsForJSON:T_,getModelArtifactsForJSONSync:XO,getModelArtifactsInfoForJSON:Jv,getSaveHandlers:OG,getWeightSpecs:QO,http:eT,isHTTPScheme:Z_,listModels:GG,loadWeights:bte,moveModel:YG,registerLoadRouter:DG,registerSaveRouter:AG,removeModel:qG,weightsLoaderFactory:c$,withSaveHandler:_te,withSaveHandlerSync:Tte},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let up;function Ite(t,e=3){if(e>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(t==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,r=!1,a=!1,o=!1,u=!1,l=!1;if(t.data instanceof Uint8Array)n=!0;else if(typeof ImageData<"u"&&t instanceof ImageData)r=!0;else if(typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement)a=!0;else if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement)o=!0;else if(t.getContext!=null)u=!0;else if(typeof ImageBitmap<"u"&&t instanceof ImageBitmap)l=!0;else throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${t.constructor.name}`);if(m_(EO,Se.backendName)!=null){const E={pixels:t},k={numChannels:e};return Se.runKernel(EO,E,k)}const[p,c]=a?[t.videoWidth,t.videoHeight]:[t.width,t.height];let g;if(u)g=t.getContext("2d").getImageData(0,0,p,c).data;else if(r||n)g=t.data;else if(o||a||l){if(up==null)if(typeof document>"u")if(typeof OffscreenCanvas<"u"&&typeof OffscreenCanvasRenderingContext2D<"u")up=new OffscreenCanvas(1,1).getContext("2d");else throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");else up=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});up.canvas.width=p,up.canvas.height=c,up.drawImage(t,0,0,p,c),g=up.getImageData(0,0,p,c).data}let y;if(e===4)y=new Int32Array(g);else{const E=p*c;y=new Int32Array(E*e);for(let k=0;k<E;k++)for(let _=0;_<e;++_)y[k*e+_]=g[k*4+_]}return KM(y,[c,p,e],"int32")}function Rte(t){if(t.rank!==2&&t.rank!==3)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${t.rank}.`);const e=t.rank===2?1:t.shape[2];if(e>4||e===2)throw new Error(`toPixels only supports depth of size 1, 3 or 4 but got ${e}`);if(t.dtype!=="float32"&&t.dtype!=="int32")throw new Error(`Unsupported type for toPixels: ${t.dtype}. Please use float32 or int32 tensors.`)}async function Nte(t,e){let n=Y(t,"img","toPixels");if(!(t instanceof Ya)){const p=n;n=ya(p,"int32"),p.dispose()}Rte(n);const[r,a]=n.shape.slice(0,2),o=n.rank===2?1:n.shape[2],u=await n.data(),l=n.dtype==="float32"?255:1,f=new Uint8ClampedArray(a*r*4);for(let p=0;p<r*a;++p){const c=[0,0,0,255];for(let y=0;y<o;y++){const S=u[p*o+y];if(n.dtype==="float32"){if(S<0||S>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${S}.`)}else if(n.dtype==="int32"&&(S<0||S>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${S}.`);o===1?(c[0]=S*l,c[1]=S*l,c[2]=S*l):c[y]=S*l}const g=p*4;f[g+0]=Math.round(c[0]),f[g+1]=Math.round(c[1]),f[g+2]=Math.round(c[2]),f[g+3]=Math.round(c[3])}return n!==t&&n.dispose(),f}const Ate=pe({fromPixels_:Ite});function m$(t,e){const n=t.shape.length,r=e.shape.length;if(n<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${n}.`);if(r<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${r}.`);if(e.dtype!=="int32")throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.shape[r-1]>n)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${e.shape[r-1]} vs. ${n}`);if(ze(t.shape)===0)throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${t.shape}.`);const a=e.shape,o=a[a.length-1];let u=1;for(let g=0;g<a.length-1;++g)u*=a[g];const l=t.shape,f=a.slice();f.pop();let p=1;for(let g=o;g<n;++g)p*=l[g],f.push(l[g]);const c=[...Bt(t.shape).map(g=>g/p),1].slice(0,o);return[f,u,p,c]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nT=-2,Dte=-1;function Ote(t,e,n){const r=t.shape.length;Z(r===e.length,()=>`Error in slice${r}D: Length of begin ${e} must match the rank of the array (${r}).`),Z(r===n.length,()=>`Error in slice${r}D: Length of size ${n} must match the rank of the array (${r}).`);for(let a=0;a<r;++a)Z(e[a]+n[a]<=t.shape[a],()=>`Error in slice${r}D: begin[${a}] + size[${a}] (${e[a]+n[a]}) would overflow input.shape[${a}] (${t.shape[a]})`)}function g$(t,e,n){const r=[];for(let a=0;a<t.length;a++)r[a]=Math.ceil((e[a]-t[a])/n[a]);return r}function v$(t,e,n){let r=n.length;for(let a=0;a<n.length;a++)if(n[a]>1){r=a;break}for(let a=r+1;a<n.length;a++)if(e[a]>0||n[a]!==t[a])return!1;return!0}function y$(t,e){let n=t.length>0?t[t.length-1]:1;for(let r=0;r<t.length-1;r++)n+=t[r]*e[r];return n}function b$(t,e,n){let r;const a=t.shape.length;typeof e=="number"?r=[e,...new Array(a-1).fill(0)]:e.length<a?r=e.concat(new Array(a-e.length).fill(0)):r=e.slice(),r.forEach(u=>{Z(u!==-1,()=>"slice() does not support negative begin indexing.")});let o;return n==null?o=new Array(a).fill(-1):typeof n=="number"?o=[n,...new Array(a-1).fill(-1)]:n.length<a?o=n.concat(new Array(a-n.length).fill(-1)):o=n,o=o.map((u,l)=>u>=0?u:(Z(u===-1,()=>`Negative size values should be exactly -1 but got ${u} for the slice() size at index ${l}.`),t.shape[l]-r[l])),[r,o]}function S$(t,e,n,r,a,o,u,l,f){let p;if(r==null?(p=new Array(e.length),p.fill(1)):p=r,u!=null&&(u&u-1)!==0)throw new Error("Multiple ellipses in slice is not allowed.");let c=!1;const g={dims:p.length,numAddAxisAfterEllipsis:0,begin:e.slice(),end:n.slice(),strides:p.slice(),beginMask:a,endMask:o,ellipsisMask:u,newAxisMask:l,shrinkAxisMask:f};for(let A=0;A<g.dims;A++)c&&(1<<A&l)!==0&&g.numAddAxisAfterEllipsis++,1<<A&u&&(c=!0);c||(g.ellipsisMask|=1<<g.dims,g.dims++);const y={dims:t.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};Mte(g,y);let S=!0,E=!0,k=!0;const _=[],I=[];for(let A=0;A<t.length;++A){if(y.strides[A]===0)throw Error(`strides[${A}] must be non-zero`);const O=!!(y.shrinkAxisMask&1<<A),L=t[A];if(L===-1){_.push(O?1:-1);continue}const U=[y.beginMask&1<<A,y.endMask&1<<A],j=[y.strides[A]>0?0:-1,y.strides[A]>0?L:L-1];if(O&&y.strides[A]<=0)throw Error("only stride 1 allowed on non-range indexing.");k=k&&y.strides[A]===1;const J=!!(y.beginMask&1<<A&&y.endMask&1<<A);if(y.beginValid&&y.endValid){if(O){const te=y.begin[A]<0?L+y.begin[A]:y.begin[A];if(y.begin[A]=te,y.end[A]=y.begin[A]+1,te<0||te>=L)throw Error(`slice index ${y.begin[A]} of dimension ${A} out of bounds.`)}else y.begin[A]=w$(y.begin[A],0,y.strides[A],L,U,j),y.end[A]=w$(y.end[A],1,y.strides[A],L,U,j);const z=y.strides[A]===1&&y.begin[A]===0&&y.end[A]===L;S=S&&z,E=E&&(A===0&&y.strides[A]===1||z)}else S=S&&y.strides[A]===1&&J,E=E&&(A===0&&y.strides[A]===1||J);let q,K=!1;if(y.beginValid&&y.endValid?(q=y.end[A]-y.begin[A],K=!0):O?(q=1,K=!0):J&&L>=0&&(y.strides[A]<0?q=-L:q=L,K=!0),K){let z;q===0||q<0!=y.strides[A]<0?z=0:z=Math.trunc(q/y.strides[A])+(q%y.strides[A]!==0?1:0),_.push(z)}else _.push(-1)}for(let A=0;A<y.finalShapeGatherIndices.length;++A){const O=y.finalShapeGatherIndices[A];O>=0?I.push(_[O]):O===nT&&I.push(1)}return{finalShapeSparse:I.filter((A,O)=>y.finalShapeGatherIndices[O]!==nT),finalShape:I,isIdentity:S,sliceDim0:E,isSimpleSlice:k,begin:y.begin,end:y.end,strides:y.strides}}function Mte(t,e){e.beginMask=0,e.endMask=0,e.shrinkAxisMask=0;let n=0;e.beginValid=t.begin!=null,e.endValid=t.end!=null,e.begin=new Array(e.dims),e.end=new Array(e.dims),e.strides=new Array(e.dims),e.finalShapeGatherIndices=[],e.finalShapeGatherIndicesSparse=[],e.inputShapeGatherIndicesSparse=new Array(e.dims);for(let r=0;r<t.dims;r++)if(1<<r&t.ellipsisMask){const a=Math.min(e.dims-(t.dims-r)+1+t.numAddAxisAfterEllipsis,e.dims);for(;n<a;n++)e.begin[n]=0,e.end[n]=0,e.strides[n]=1,e.beginMask|=1<<n,e.endMask|=1<<n,e.finalShapeGatherIndices.push(n),e.finalShapeGatherIndicesSparse.push(-1),e.inputShapeGatherIndicesSparse[n]=r}else if(1<<r&t.newAxisMask)e.finalShapeGatherIndices.push(nT),e.finalShapeGatherIndicesSparse.push(-1);else{if(n===e.begin.length)throw Error(`Index out of range using input dim ${n}; input has only ${e.dims} dims, ${e.begin.length}.`);t.begin!=null&&(e.begin[n]=t.begin[r]),t.end!=null&&(e.end[n]=t.end[r]),e.strides[n]=t.strides[r],t.beginMask&1<<r&&(e.beginMask|=1<<n),t.endMask&1<<r&&(e.endMask|=1<<n),t.shrinkAxisMask&1<<r?(e.finalShapeGatherIndices.push(Dte),e.finalShapeGatherIndicesSparse.push(-1),e.shrinkAxisMask|=1<<n):(e.finalShapeGatherIndices.push(n),e.finalShapeGatherIndicesSparse.push(r)),e.inputShapeGatherIndicesSparse[n]=r,n++}}function w$(t,e,n,r,a,o){if(a[e])return n>0?o[e]:o[e+1&1];{const u=t<0?r+t:t;return u<o[0]?o[0]:u>o[1]?o[1]:u}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function E$(t,e){const n=t[0].length;t.forEach((a,o)=>{Z(a.length===n,()=>`Error in concat${n}D: rank of tensors[${o}] must be the same as the rank of the rest (${n})`)}),Z(e>=0&&e<n,()=>`Error in concat${n}D: axis must be between 0 and ${n-1}.`);const r=t[0];t.forEach((a,o)=>{for(let u=0;u<n;u++)Z(u===e||a[u]===r[u],()=>`Error in concat${n}D: Shape of tensors[${o}] (${a}) does not match the shape of the rest (${r}) along the non-concatenated axis ${o}.`)})}function fm(t,e){const n=t[0].slice();for(let r=1;r<t.length;r++)n[e]+=t[r][e];return n}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Al;(function(t){t[t.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",t[t.VALUE_ROWIDS=1]="VALUE_ROWIDS",t[t.ROW_LENGTHS=2]="ROW_LENGTHS",t[t.ROW_SPLITS=3]="ROW_SPLITS",t[t.ROW_LIMITS=4]="ROW_LIMITS",t[t.ROW_STARTS=5]="ROW_STARTS"})(Al||(Al={}));function $te(t,e,n){let r=new Array;if(n==null&&e==null)return r;if(e==null)for(;r.length<t+n.length;)r.push(-1);else r=e.slice();if(n==null)return r;if(t+n.length!==r.length)throw new Error(`rt input.shape and shape=${e} are incompatible: rt input.rank = ${t+n.length}, but shape.rank = ${r.length}`);for(let a=1;a<n.length;++a){const o=n[a],u=r[r.length-n.length+a],l=r[u];if(o>=0)if(l>=0){if(l!==o)throw new Error(`rt input.shape and shape=${e} are incompatible: rt input.shape[${a+t}] = ${o} but shape[${a+t}] = ${l}`)}else r[u]=o}return r}function Fte(t){const e={FIRST_DIM_SIZE:Al.FIRST_DIM_SIZE,VALUE_ROWIDS:Al.VALUE_ROWIDS,ROW_LENGTHS:Al.ROW_LENGTHS,ROW_SPLITS:Al.ROW_SPLITS,ROW_LIMITS:Al.ROW_LIMITS,ROW_STARTS:Al.ROW_STARTS},n=[];for(const r of t)if(r in e)n.push(e[r]);else break;return n}function Pte(t){return t.length===0?0:t[0]===Al.FIRST_DIM_SIZE?t.length-1:t.length}function Lte(t,e){if(t==null||e==null)return;const n=t.length,r=e.length;if(n>=r)throw new Error(`defaultValue.shape=${t} and ragged tensor flatValues.shape=${e}, are incompatible: defaultValue.rank = ${n} must be less than ragged tensor input flatValues.rank = ${r})`);for(let a=0;a<Math.min(n,r-1);++a){const o=t[a],u=e[a+1];if(o>=0&&u>=0&&o!==1&&o!==u)throw new Error(`defaultValue.shape=${t}, and ragged tensor input flatValues.shape=${e} are incompatible: defaultValue.shape[${a-t.length}] = ${o} but ragged tensor input.flatValues.shape[${a-t.length}] = ${u}`)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function x$(t,e,n){const r=n*(typeof t=="number"?t:t[0]),a=e*(typeof t=="number"?t:t[1]);return[r,a]}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zw(t,e,n,r=!0){let a=[];if(r)a=a.concat(e.slice(0)),a.push(t[0]/n),a=a.concat(t.slice(1));else{a=a.concat(t[0]);const o=e.length;for(let u=0;u<o;++u)a=a.concat([t[u+1]/e[u],e[u]]);a=a.concat(t.slice(o+1))}return a}function e2(t,e,n=!0){const r=[];if(n){r.push(e);for(let a=e+1;a<t;++a)a<=2*e?(r.push(a),r.push(a-(e+1))):r.push(a)}else{const a=[],o=[];for(let u=1;u<t;++u)u>=e*2+1||u%2===1?o.push(u):a.push(u);r.push(...a),r.push(0),r.push(...o)}return r}function t2(t,e,n,r=!0){const a=[];r?a.push(t[0]/n):a.push(t[0]*n);for(let o=1;o<t.length;++o)o<=e.length?r?a.push(e[o-1]*t[o]):a.push(t[o]/e[o-1]):a.push(t[o]);return a}function C$(t,e){const n=[0];for(let r=0;r<e;++r)n.push(t[r][0]);return n}function k$(t,e,n){const r=t.slice(0,1);for(let a=0;a<n;++a)r.push(t[a+1]-e[a][0]-e[a][1]);return r}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Bte=1.7580993408473768,zte=1.0507009873554805;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ute=.3275911,Hte=.254829592,Vte=-.284496736,Wte=1.421413741,jte=-1.453152027,Gte=1.061405429;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pm(t,e){if(t.length!==e.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${t.length}, imag: ${e.length}.`);const n=new Float32Array(t.length*2);for(let r=0;r<n.length;r+=2)n[r]=t[r/2],n[r+1]=e[r/2];return n}function qte(t){const e=new Float32Array(t.length/2),n=new Float32Array(t.length/2);for(let r=0;r<t.length;r+=2)e[r/2]=t[r],n[r/2]=t[r+1];return{real:e,imag:n}}function Kte(t){const e=Math.ceil(t.length/4),n=new Float32Array(e),r=new Float32Array(e);for(let a=0;a<t.length;a+=4)n[Math.floor(a/4)]=t[a],r[Math.floor(a/4)]=t[a+1];return{real:n,imag:r}}function Yte(t){const e=Math.floor(t.length/4),n=new Float32Array(e),r=new Float32Array(e);for(let a=2;a<t.length;a+=4)n[Math.floor(a/4)]=t[a],r[Math.floor(a/4)]=t[a+1];return{real:n,imag:r}}function _$(t,e){const n=t[e*2],r=t[e*2+1];return{real:n,imag:r}}function Xte(t,e,n,r){t[r*2]=e,t[r*2+1]=n}function Qte(t,e){const n=new Float32Array(t/2),r=new Float32Array(t/2);for(let a=0;a<Math.ceil(t/2);a++){const o=(e?2:-2)*Math.PI*(a/t);n[a]=Math.cos(o),r[a]=Math.sin(o)}return{real:n,imag:r}}function Jte(t,e,n){const r=(n?2:-2)*Math.PI*(t/e),a=Math.cos(r),o=Math.sin(r);return{real:a,imag:o}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rT="->",Zte=/->/g,T$=",",I$="...";function ene(t,e){t=t.replace(/\s/g,"");const n=(t.length-t.replace(Zte,"").length)/rT.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error(`Equation must contain exactly one arrow ("${rT}").`);const[r,a]=t.split(rT);Z(r.indexOf(I$)===-1,()=>`The ellipsis notation ("${I$}") is not supported yet.`);const o=r.split(T$),u=o.length;if(e!==u)throw new Error(`Expected ${u} input tensors, received ${e}`);if(u>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const l=[];for(let y=0;y<a.length;++y){const S=a[y];if(!o.some(E=>E.indexOf(S)!==-1))throw new Error(`Output subscripts contain the label ${S} not present in the input subscripts.`);l.indexOf(S)===-1&&l.push(S)}for(let y=0;y<r.length;++y){const S=r[y];l.indexOf(S)===-1&&S!==T$&&l.push(S)}const f=new Array(o.length);for(let y=0;y<u;++y){if(new Set(o[y].split("")).size!==o[y].length)throw new Error(`Found duplicate axes in input component ${o[y]}. Support for duplicate axes in input is not implemented yet.`);f[y]=[];for(let S=0;S<o[y].length;++S)f[y].push(l.indexOf(o[y][S]))}const p=l.length,c=a.length,g=[];for(let y=c;y<p;++y)g.push(y);return{allDims:l,summedDims:g,idDims:f}}function tne(t,e){let n=new Array(t);n.fill(-1);for(let a=0;a<e.length;++a)n[e[a]]=a;const r=[];for(let a=0;a<t;++a)n[a]===-1&&r.push(a);return n=n.filter(a=>a!==-1),{permutationIndices:n,expandDims:r}}function nne(t,e,n){const r=new Array(t);for(let a=0;a<n.length;++a){const o=n[a].shape;for(let u=0;u<e[a].length;++u)r[e[a][u]]===void 0?r[e[a][u]]=o[u]:Z(r[e[a][u]]===o[u],()=>`Expected dimension ${r[e[a][u]]} at axis ${u} of input shaped ${JSON.stringify(o)}, but got dimension ${o[u]}`)}}function rne(t,e){const n=t,r=[];let a=0;t.length===0&&n.push(-1),a=t.length+1;for(let u=0;u<a;++u)r.push([]);const o=[];for(let u=0;u<n.length;++u){const l=n[u],f=one(e,l);for(const p of f)o.indexOf(p)===-1&&(r[u].push(p),o.push(p))}return{path:n,steps:r}}function ane(t){return t.every((e,n)=>e===n)}function one(t,e){const n=[];for(let r=0;r<t.length;++r)(t[r].length===0||t[r].indexOf(e)!==-1||e===-1)&&n.push(r);return n}function R$(t,e,n=0){let r=[];if(typeof e=="number")Z(t.shape[n]%e===0,()=>"Number of splits must evenly divide the axis."),r=new Array(e).fill(t.shape[n]/e);else{const a=e.reduce((u,l)=>(l===-1&&(u+=1),u),0);Z(a<=1,()=>"There should be only one negative value in split array.");const o=e.indexOf(-1);if(o!==-1){const u=e.reduce((l,f)=>f>0?l+f:l);e[o]=t.shape[n]-u}Z(t.shape[n]===e.reduce((u,l)=>u+l),()=>"The sum of sizes must match the size of the axis dimension."),r=e}return r}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function N$(t){return`Received SparseTensor with denseShape[0] = 0 but
  indices.shape[0] = ${t}`}function A$(t,e){return`indices(${t}, 0) is invalid: ${e} < 0`}function D$(t,e,n){return`indices(${t}, 0) is invalid: ${e} >= ${n}`}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function O$(t,e){return`only one output dimension may be -1, not both ${t} and ${e}`}function M$(t,e){return`size ${t} must be non-negative, not ${e}`}function $$(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function F$(t,e){const n=ze(t),r=ze(e);return`Input to reshape is a SparseTensor with ${n}
  dense values, but the requested shape requires a multiple of ${r}. inputShape=${t} outputShape= ${e}`}function P$(t,e){const n=ze(t),r=ze(e);return`Input to reshape is a tensor with ${n} dense values, but the requested shape has ${r}. inputShape=${t} outputShape=${e}`}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function n2(){return"segment ids must be >= 0"}function L$(){return"segment ids are not increasing"}function B$(t,e){return`Segment id ${t} out of range [0, ${e}), possibly because segmentIds input is not sorted.`}function z$(t,e,n){return`Bad: indices[${t}] == ${e} out of range [0, ${n})`}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function U$(t,e,n,r){const a=e.shape.length,o=t.shape.length;if(r!==0&&(r<-a||r>a))throw new Error(`Expect batchDims in the range of [-${a}, ${a}], but got ${r}`);if(r<0&&(r+=a),r>o)throw new Error(`batchDims (${r}) must be less than rank(x) (
    ${o}).`);if(n<r)throw new Error(`batchDims (${r}) must be less than or equal to axis (${n}).`);for(let g=0;g<r;++g)if(t.shape[g]!==e.shape[g])throw new Error(`x.shape[${g}]: ${t.shape[g]} should be equal to indices.shape[${g}]: ${e.shape[g]}.`);const u=t.shape[n],l=[];let f=1,p=1,c=1;for(let g=0;g<r;++g)l.push(t.shape[g]),f*=t.shape[g];for(let g=r;g<n;g++)l.push(t.shape[g]),p*=t.shape[g];for(let g=r;g<a;g++)l.push(e.shape[g]);for(let g=n+1;g<o;g++)l.push(t.shape[g]),c*=t.shape[g];return{batchSize:f,sliceSize:c,outerSize:p,dimSize:u,outputShape:l}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cy(t){try{return t.map(e=>qv(e))}catch(e){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${e}`)}}function H$(t){return t.map(e=>Yf(e))}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */dte();var aT={},V$;function sne(){return V$||(V$=1,(function(){var t;function e(x){var M=0;return function(){return M<x.length?{done:!1,value:x[M++]}:{done:!0}}}var n=typeof Object.defineProperties=="function"?Object.defineProperty:function(x,M,B){return x==Array.prototype||x==Object.prototype||(x[M]=B.value),x};function r(x){x=[typeof globalThis=="object"&&globalThis,x,typeof window=="object"&&window,typeof self=="object"&&self,typeof _d=="object"&&_d];for(var M=0;M<x.length;++M){var B=x[M];if(B&&B.Math==Math)return B}throw Error("Cannot find global object")}var a=r(this);function o(x,M){if(M)e:{var B=a;x=x.split(".");for(var W=0;W<x.length-1;W++){var re=x[W];if(!(re in B))break e;B=B[re]}x=x[x.length-1],W=B[x],M=M(W),M!=W&&M!=null&&n(B,x,{configurable:!0,writable:!0,value:M})}}o("Symbol",function(x){function M(me){if(this instanceof M)throw new TypeError("Symbol is not a constructor");return new B(W+(me||"")+"_"+re++,me)}function B(me,ie){this.g=me,n(this,"description",{configurable:!0,writable:!0,value:ie})}if(x)return x;B.prototype.toString=function(){return this.g};var W="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",re=0;return M}),o("Symbol.iterator",function(x){if(x)return x;x=Symbol("Symbol.iterator");for(var M="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),B=0;B<M.length;B++){var W=a[M[B]];typeof W=="function"&&typeof W.prototype[x]!="function"&&n(W.prototype,x,{configurable:!0,writable:!0,value:function(){return u(e(this))}})}return x});function u(x){return x={next:x},x[Symbol.iterator]=function(){return this},x}function l(x){var M=typeof Symbol<"u"&&Symbol.iterator&&x[Symbol.iterator];return M?M.call(x):{next:e(x)}}function f(x){if(!(x instanceof Array)){x=l(x);for(var M,B=[];!(M=x.next()).done;)B.push(M.value);x=B}return x}var p=typeof Object.create=="function"?Object.create:function(x){function M(){}return M.prototype=x,new M},c;if(typeof Object.setPrototypeOf=="function")c=Object.setPrototypeOf;else{var g;e:{var y={a:!0},S={};try{S.__proto__=y,g=S.a;break e}catch{}g=!1}c=g?function(x,M){if(x.__proto__=M,x.__proto__!==M)throw new TypeError(x+" is not extensible");return x}:null}var E=c;function k(x,M){if(x.prototype=p(M.prototype),x.prototype.constructor=x,E)E(x,M);else for(var B in M)if(B!="prototype")if(Object.defineProperties){var W=Object.getOwnPropertyDescriptor(M,B);W&&Object.defineProperty(x,B,W)}else x[B]=M[B];x.na=M.prototype}function _(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.u=this.o=0,this.j=null}function I(x){if(x.l)throw new TypeError("Generator is already running");x.l=!0}_.prototype.s=function(x){this.h=x};function R(x,M){x.j={da:M,ea:!0},x.g=x.o||x.u}_.prototype.return=function(x){this.j={return:x},this.g=this.u};function A(x,M,B){return x.g=B,{value:M}}function O(x){this.g=new _,this.h=x}function L(x,M){I(x.g);var B=x.g.i;return B?U(x,"return"in B?B.return:function(W){return{value:W,done:!0}},M,x.g.return):(x.g.return(M),j(x))}function U(x,M,B,W){try{var re=M.call(x.g.i,B);if(!(re instanceof Object))throw new TypeError("Iterator result "+re+" is not an object");if(!re.done)return x.g.l=!1,re;var me=re.value}catch(ie){return x.g.i=null,R(x.g,ie),j(x)}return x.g.i=null,W.call(x.g,me),j(x)}function j(x){for(;x.g.g;)try{var M=x.h(x.g);if(M)return x.g.l=!1,{value:M.value,done:!1}}catch(B){x.g.h=void 0,R(x.g,B)}if(x.g.l=!1,x.g.j){if(M=x.g.j,x.g.j=null,M.ea)throw M.da;return{value:M.return,done:!0}}return{value:void 0,done:!0}}function J(x){this.next=function(M){return I(x.g),x.g.i?M=U(x,x.g.i.next,M,x.g.s):(x.g.s(M),M=j(x)),M},this.throw=function(M){return I(x.g),x.g.i?M=U(x,x.g.i.throw,M,x.g.s):(R(x.g,M),M=j(x)),M},this.return=function(M){return L(x,M)},this[Symbol.iterator]=function(){return this}}function q(x){function M(W){return x.next(W)}function B(W){return x.throw(W)}return new Promise(function(W,re){function me(ie){ie.done?W(ie.value):Promise.resolve(ie.value).then(M,B).then(me,re)}me(x.next())})}function K(x){return q(new J(new O(x)))}o("Promise",function(x){function M(ie){this.h=0,this.i=void 0,this.g=[],this.s=!1;var Te=this.j();try{ie(Te.resolve,Te.reject)}catch(De){Te.reject(De)}}function B(){this.g=null}function W(ie){return ie instanceof M?ie:new M(function(Te){Te(ie)})}if(x)return x;B.prototype.h=function(ie){if(this.g==null){this.g=[];var Te=this;this.i(function(){Te.l()})}this.g.push(ie)};var re=a.setTimeout;B.prototype.i=function(ie){re(ie,0)},B.prototype.l=function(){for(;this.g&&this.g.length;){var ie=this.g;this.g=[];for(var Te=0;Te<ie.length;++Te){var De=ie[Te];ie[Te]=null;try{De()}catch(Ue){this.j(Ue)}}}this.g=null},B.prototype.j=function(ie){this.i(function(){throw ie})},M.prototype.j=function(){function ie(Ue){return function(it){De||(De=!0,Ue.call(Te,it))}}var Te=this,De=!1;return{resolve:ie(this.D),reject:ie(this.l)}},M.prototype.D=function(ie){if(ie===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(ie instanceof M)this.H(ie);else{e:switch(typeof ie){case"object":var Te=ie!=null;break e;case"function":Te=!0;break e;default:Te=!1}Te?this.A(ie):this.o(ie)}},M.prototype.A=function(ie){var Te=void 0;try{Te=ie.then}catch(De){this.l(De);return}typeof Te=="function"?this.I(Te,ie):this.o(ie)},M.prototype.l=function(ie){this.u(2,ie)},M.prototype.o=function(ie){this.u(1,ie)},M.prototype.u=function(ie,Te){if(this.h!=0)throw Error("Cannot settle("+ie+", "+Te+"): Promise already settled in state"+this.h);this.h=ie,this.i=Te,this.h===2&&this.G(),this.B()},M.prototype.G=function(){var ie=this;re(function(){if(ie.C()){var Te=a.console;typeof Te<"u"&&Te.error(ie.i)}},1)},M.prototype.C=function(){if(this.s)return!1;var ie=a.CustomEvent,Te=a.Event,De=a.dispatchEvent;return typeof De>"u"?!0:(typeof ie=="function"?ie=new ie("unhandledrejection",{cancelable:!0}):typeof Te=="function"?ie=new Te("unhandledrejection",{cancelable:!0}):(ie=a.document.createEvent("CustomEvent"),ie.initCustomEvent("unhandledrejection",!1,!0,ie)),ie.promise=this,ie.reason=this.i,De(ie))},M.prototype.B=function(){if(this.g!=null){for(var ie=0;ie<this.g.length;++ie)me.h(this.g[ie]);this.g=null}};var me=new B;return M.prototype.H=function(ie){var Te=this.j();ie.M(Te.resolve,Te.reject)},M.prototype.I=function(ie,Te){var De=this.j();try{ie.call(Te,De.resolve,De.reject)}catch(Ue){De.reject(Ue)}},M.prototype.then=function(ie,Te){function De(Qt,Mt){return typeof Qt=="function"?function(un){try{Ue(Qt(un))}catch(Hn){it(Hn)}}:Mt}var Ue,it,xt=new M(function(Qt,Mt){Ue=Qt,it=Mt});return this.M(De(ie,Ue),De(Te,it)),xt},M.prototype.catch=function(ie){return this.then(void 0,ie)},M.prototype.M=function(ie,Te){function De(){switch(Ue.h){case 1:ie(Ue.i);break;case 2:Te(Ue.i);break;default:throw Error("Unexpected state: "+Ue.h)}}var Ue=this;this.g==null?me.h(De):this.g.push(De),this.s=!0},M.resolve=W,M.reject=function(ie){return new M(function(Te,De){De(ie)})},M.race=function(ie){return new M(function(Te,De){for(var Ue=l(ie),it=Ue.next();!it.done;it=Ue.next())W(it.value).M(Te,De)})},M.all=function(ie){var Te=l(ie),De=Te.next();return De.done?W([]):new M(function(Ue,it){function xt(un){return function(Hn){Qt[un]=Hn,Mt--,Mt==0&&Ue(Qt)}}var Qt=[],Mt=0;do Qt.push(void 0),Mt++,W(De.value).M(xt(Qt.length-1),it),De=Te.next();while(!De.done)})},M});function z(x,M){x instanceof String&&(x+="");var B=0,W=!1,re={next:function(){if(!W&&B<x.length){var me=B++;return{value:M(me,x[me]),done:!1}}return W=!0,{done:!0,value:void 0}}};return re[Symbol.iterator]=function(){return re},re}var te=typeof Object.assign=="function"?Object.assign:function(x,M){for(var B=1;B<arguments.length;B++){var W=arguments[B];if(W)for(var re in W)Object.prototype.hasOwnProperty.call(W,re)&&(x[re]=W[re])}return x};o("Object.assign",function(x){return x||te}),o("Object.is",function(x){return x||function(M,B){return M===B?M!==0||1/M===1/B:M!==M&&B!==B}}),o("Array.prototype.includes",function(x){return x||function(M,B){var W=this;W instanceof String&&(W=String(W));var re=W.length;for(B=B||0,0>B&&(B=Math.max(B+re,0));B<re;B++){var me=W[B];if(me===M||Object.is(me,M))return!0}return!1}}),o("String.prototype.includes",function(x){return x||function(M,B){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(M instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(M,B||0)!==-1}}),o("Array.prototype.keys",function(x){return x||function(){return z(this,function(M){return M})}});var ee=this||self;function le(x,M){x=x.split(".");var B=ee;x[0]in B||typeof B.execScript>"u"||B.execScript("var "+x[0]);for(var W;x.length&&(W=x.shift());)x.length||M===void 0?B[W]&&B[W]!==Object.prototype[W]?B=B[W]:B=B[W]={}:B[W]=M}function ce(){throw Error("Invalid UTF8")}function ye(x,M){return M=String.fromCharCode.apply(null,M),x==null?M:x+M}var ve,oe=typeof TextDecoder<"u",he,ge=typeof TextEncoder<"u",Q={},ue=null;function ke(x){var M;M===void 0&&(M=0),Ve(),M=Q[M];for(var B=Array(Math.floor(x.length/3)),W=M[64]||"",re=0,me=0;re<x.length-2;re+=3){var ie=x[re],Te=x[re+1],De=x[re+2],Ue=M[ie>>2];ie=M[(ie&3)<<4|Te>>4],Te=M[(Te&15)<<2|De>>6],De=M[De&63],B[me++]=Ue+ie+Te+De}switch(Ue=0,De=W,x.length-re){case 2:Ue=x[re+1],De=M[(Ue&15)<<2]||W;case 1:x=x[re],B[me]=M[x>>2]+M[(x&3)<<4|Ue>>4]+De+W}return B.join("")}function Ce(x){var M=x.length,B=3*M/4;B%3?B=Math.floor(B):"=.".indexOf(x[M-1])!=-1&&(B="=.".indexOf(x[M-2])!=-1?B-2:B-1);var W=new Uint8Array(B),re=0;return Me(x,function(me){W[re++]=me}),re!==B?W.subarray(0,re):W}function Me(x,M){function B(De){for(;W<x.length;){var Ue=x.charAt(W++),it=ue[Ue];if(it!=null)return it;if(!/^[\s\xa0]*$/.test(Ue))throw Error("Unknown base64 encoding at char: "+Ue)}return De}Ve();for(var W=0;;){var re=B(-1),me=B(0),ie=B(64),Te=B(64);if(Te===64&&re===-1)break;M(re<<2|me>>4),ie!=64&&(M(me<<4&240|ie>>2),Te!=64&&M(ie<<6&192|Te))}}function Ve(){if(!ue){ue={};for(var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),M=["+/=","+/","-_=","-_.","-_"],B=0;5>B;B++){var W=x.concat(M[B].split(""));Q[B]=W;for(var re=0;re<W.length;re++){var me=W[re];ue[me]===void 0&&(ue[me]=re)}}}}var Ke=typeof Uint8Array=="function";function He(x){return Ke&&x!=null&&x instanceof Uint8Array}var Xe;function ct(x){if(this.L=x,x!==null&&x.length===0)throw Error("ByteString should be constructed with non-empty values")}var St=typeof Uint8Array.prototype.slice=="function",Rt=0,Dt=0;function jt(x,M){if(x.constructor===Uint8Array)return x;if(x.constructor===ArrayBuffer)return new Uint8Array(x);if(x.constructor===Array)return new Uint8Array(x);if(x.constructor===String)return Ce(x);if(x.constructor===ct)return!M&&(M=x.L)&&M.constructor===Uint8Array?M:(M=x.L,M=M==null||He(M)?M:typeof M=="string"?Ce(M):null,(x=x.L=M)?new Uint8Array(x):Xe||(Xe=new Uint8Array(0)));if(x instanceof Uint8Array)return new Uint8Array(x.buffer,x.byteOffset,x.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}function zt(x,M){return Error("Invalid wire type: "+x+" (at position "+M+")")}function vt(){return Error("Failed to read varint, encoding is invalid.")}function on(x,M){M=M===void 0?{}:M,M=M.v===void 0?!1:M.v,this.h=null,this.g=this.i=this.j=0,this.v=M,x&&dn(this,x)}function dn(x,M){x.h=jt(M,x.v),x.j=0,x.i=x.h.length,x.g=x.j}on.prototype.reset=function(){this.g=this.j};function mn(x){if(x.g>x.i)throw Error("Tried to read past the end of the data "+x.g+" > "+x.i)}function Jt(x){var M=x.h,B=M[x.g],W=B&127;if(128>B)return x.g+=1,mn(x),W;if(B=M[x.g+1],W|=(B&127)<<7,128>B)return x.g+=2,mn(x),W;if(B=M[x.g+2],W|=(B&127)<<14,128>B)return x.g+=3,mn(x),W;if(B=M[x.g+3],W|=(B&127)<<21,128>B)return x.g+=4,mn(x),W;if(B=M[x.g+4],x.g+=5,W|=(B&15)<<28,128>B)return mn(x),W;if(128<=M[x.g++]&&128<=M[x.g++]&&128<=M[x.g++]&&128<=M[x.g++]&&128<=M[x.g++])throw vt();return mn(x),W}var Rn=[];function bn(){this.g=[]}bn.prototype.length=function(){return this.g.length},bn.prototype.end=function(){var x=this.g;return this.g=[],x};function Dn(x,M){for(;127<M;)x.g.push(M&127|128),M>>>=7;x.g.push(M)}function Vn(x){var M={},B=M.W===void 0?!1:M.W;this.l={v:M.v===void 0?!1:M.v},this.W=B,M=this.l,Rn.length?(B=Rn.pop(),M&&(B.v=M.v),x&&dn(B,x),x=B):x=new on(x,M),this.g=x,this.j=this.g.g,this.h=this.i=-1}Vn.prototype.reset=function(){this.g.reset(),this.j=this.g.g,this.h=this.i=-1};function gn(x){var M=x.g;if(M.g==M.i)return!1;x.j=x.g.g;var B=Jt(x.g)>>>0;if(M=B>>>3,B&=7,!(0<=B&&5>=B))throw zt(B,x.j);if(1>M)throw Error("Invalid field number: "+M+" (at position "+x.j+")");return x.i=M,x.h=B,!0}function Un(x){switch(x.h){case 0:if(x.h!=0)Un(x);else e:{x=x.g;for(var M=x.g,B=M+10;M<B;)if((x.h[M++]&128)===0){x.g=M,mn(x);break e}throw vt()}break;case 1:x=x.g,x.g+=8,mn(x);break;case 2:x.h!=2?Un(x):(M=Jt(x.g)>>>0,x=x.g,x.g+=M,mn(x));break;case 5:x=x.g,x.g+=4,mn(x);break;case 3:M=x.i;do{if(!gn(x))throw Error("Unmatched start-group tag: stream EOF");if(x.h==4){if(x.i!=M)throw Error("Unmatched end-group tag");break}Un(x)}while(!0);break;default:throw zt(x.h,x.j)}}var Nn=[];function pr(){this.i=[],this.h=0,this.g=new bn}function Lr(x,M){M.length!==0&&(x.i.push(M),x.h+=M.length)}function st(x,M){if(M=M.ba){Lr(x,x.g.end());for(var B=0;B<M.length;B++)Lr(x,M[B])}}var gt=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol(void 0):void 0;function ln(x,M){Object.isFrozen(x)||(gt?x[gt]|=M:x.N!==void 0?x.N|=M:Object.defineProperties(x,{N:{value:M,configurable:!0,writable:!0,enumerable:!1}}))}function Cn(x){var M;return gt?M=x[gt]:M=x.N,M??0}function Mn(x){return ln(x,1),x}function vn(x){return Array.isArray(x)?!!(Cn(x)&2):!1}function sr(x){if(!Array.isArray(x))throw Error("cannot mark non-array as immutable");ln(x,2)}function Hr(x){return x!==null&&typeof x=="object"&&!Array.isArray(x)&&x.constructor===Object}var Xn=Object.freeze(Mn([]));function Qn(x){if(vn(x.m))throw Error("Cannot mutate an immutable Message")}var $n=typeof Symbol<"u"&&typeof Symbol.hasInstance<"u";function ia(x){return{value:x,configurable:!1,writable:!1,enumerable:!1}}function lr(x,M,B){return M===-1?null:M>=x.i?x.g?x.g[M]:void 0:B!==void 0&&B&&x.g&&(B=x.g[M],B!=null)?B:x.m[M+x.h]}function Fn(x,M,B,W){W=W===void 0?!1:W,Qn(x),M<x.i&&!W?x.m[M+x.h]=B:(x.g||(x.g=x.m[x.i+x.h]={}))[M]=B}function $a(x,M,B,W){B=B===void 0?!0:B,W=W===void 0?!1:W;var re=lr(x,M,W);return re==null&&(re=Xn),vn(x.m)?B&&(sr(re),Object.freeze(re)):(re===Xn||vn(re))&&(re=Mn(re.slice()),Fn(x,M,re,W)),re}function ua(x,M,B){return x=lr(x,M),x=x==null?x:+x,x??(B===void 0?0:B)}function Le(x,M,B,W){x.j||(x.j={});var re=vn(x.m),me=x.j[B];if(!me){W=$a(x,B,!0,W===void 0?!1:W),me=[],re=re||vn(W);for(var ie=0;ie<W.length;ie++)me[ie]=new M(W[ie]),re&&sr(me[ie].m);re&&(sr(me),Object.freeze(me)),x.j[B]=me}return me}function et(x,M,B,W,re){var me=me===void 0?!1:me;return Qn(x),me=Le(x,B,M,me),B=W||new B,x=$a(x,M),re!=null?(me.splice(re,0,B),x.splice(re,0,B.m)):(me.push(B),x.push(B.m)),B}function Ot(x,M){return x=lr(x,M),x??0}function lt(x,M){return x=lr(x,M),x??""}function kn(x){switch(typeof x){case"number":return isFinite(x)?x:String(x);case"object":if(x&&!Array.isArray(x)){if(He(x))return ke(x);if(x instanceof ct){var M=x.L;return M=M==null||typeof M=="string"?M:Ke&&M instanceof Uint8Array?ke(M):null,(x.L=M)||""}}}return x}function Tn(x){var M=er;return M=M===void 0?Vr:M,Kt(x,M)}function Ht(x,M){if(x!=null){if(Array.isArray(x))x=Kt(x,M);else if(Hr(x)){var B={},W;for(W in x)B[W]=Ht(x[W],M);x=B}else x=M(x);return x}}function Kt(x,M){for(var B=x.slice(),W=0;W<B.length;W++)B[W]=Ht(B[W],M);return Array.isArray(x)&&Cn(x)&1&&Mn(B),B}function er(x){return x&&typeof x=="object"&&x.toJSON?x.toJSON():(x=kn(x),Array.isArray(x)?Tn(x):x)}function Vr(x){return He(x)?new Uint8Array(x):x}function Jr(x,M,B){x||(x=fe),fe=null;var W=this.constructor.h;x||(x=W?[W]:[]),this.h=(W?0:-1)-(this.constructor.g||0),this.j=void 0,this.m=x;e:{if(W=this.m.length,x=W-1,W&&(W=this.m[x],Hr(W))){this.i=x-this.h,this.g=W;break e}M!==void 0&&-1<M?(this.i=Math.max(M,x+1-this.h),this.g=void 0):this.i=Number.MAX_VALUE}if(B)for(M=0;M<B.length;M++)if(x=B[M],x<this.i)x+=this.h,(W=this.m[x])?Array.isArray(W)&&Mn(W):this.m[x]=Xn;else{W=this.g||(this.g=this.m[this.i+this.h]={});var re=W[x];re?Array.isArray(re)&&Mn(re):W[x]=Xn}}Jr.prototype.toJSON=function(){return Tn(this.m)},Jr.prototype.toString=function(){return this.m.toString()};var fe;function Ye(){Jr.apply(this,arguments)}if(k(Ye,Jr),$n){var ft={};Object.defineProperties(Ye,(ft[Symbol.hasInstance]=ia(function(){throw Error("Cannot perform instanceof checks for MutableMessage")}),ft))}function ut(x,M,B){if(B){var W={},re;for(re in B){var me=B[re],ie=me.ha;ie||(W.F=me.la||me.fa.P,me.aa?(W.U=Wr(me.aa),ie=(function(Te){return function(De,Ue,it){return Te.F(De,Ue,it,Te.U)}})(W)):me.ca?(W.T=Lo(me.X.g,me.ca),ie=(function(Te){return function(De,Ue,it){return Te.F(De,Ue,it,Te.T)}})(W)):ie=W.F,me.ha=ie),ie(M,x,me.X),W={F:W.F,U:W.U,T:W.T}}}st(M,x)}var Gt=Symbol();function Zt(x,M,B){return x[Gt]||(x[Gt]=function(W,re){return M(W,re,B)})}function In(x){var M=x[Gt];if(!M){var B=Fa(x);M=function(W,re){return Qu(W,re,B)},x[Gt]=M}return M}function wn(x){var M=x.aa;if(M)return In(M);if(M=x.ka)return Zt(x.X.g,M,x.ca)}function Zr(x){var M=wn(x),B=x.X,W=x.fa.O;return M?function(re,me){return W(re,me,B,M)}:function(re,me){return W(re,me,B)}}function wr(x,M,B,W,re,me){x=x();var ie=0;for(x.length&&typeof x[0]!="number"&&(B(M,x[0]),ie++);ie<x.length;){B=x[ie++];for(var Te=ie+1;Te<x.length&&typeof x[Te]!="number";)Te++;var De=x[ie++];switch(Te-=ie,Te){case 0:W(M,B,De);break;case 1:W(M,B,De,x[ie++]);break;case 2:re(M,B,De,x[ie++],x[ie++]);break;case 3:Te=x[ie++];var Ue=x[ie++],it=x[ie++];Array.isArray(it)?re(M,B,De,Te,Ue,it):me(M,B,De,Te,Ue,it);break;case 4:me(M,B,De,x[ie++],x[ie++],x[ie++],x[ie++]);break;default:throw Error("unexpected number of binary field arguments: "+Te)}}return M}var hr=Symbol();function Wr(x){var M=x[hr];if(!M){var B=wi(x);M=function(W,re){return Ei(W,re,B)},x[hr]=M}return M}function Lo(x,M){var B=x[hr];return B||(B=function(W,re){return ut(W,re,M)},x[hr]=B),B}var Bo=Symbol();function fn(x,M){x.push(M)}function En(x,M,B){x.push(M,B.P)}function mo(x,M,B,W,re){var me=Wr(re),ie=B.P;x.push(M,function(Te,De,Ue){return ie(Te,De,Ue,W,me)})}function Xi(x,M,B,W,re,me){var ie=Lo(W,me),Te=B.P;x.push(M,function(De,Ue,it){return Te(De,Ue,it,W,ie)})}function wi(x){var M=x[Bo];return M||wr(x,x[Bo]=[],fn,En,mo,Xi)}var Js=Symbol();function Jo(x,M){x[0]=M}function Cs(x,M,B,W){var re=B.O;x[M]=W?function(me,ie,Te){return re(me,ie,Te,W)}:re}function so(x,M,B,W,re,me){var ie=B.O,Te=In(re);x[M]=function(De,Ue,it){return ie(De,Ue,it,W,Te,me)}}function Xu(x,M,B,W,re,me,ie){var Te=B.O,De=Zt(W,re,me);x[M]=function(Ue,it,xt){return Te(Ue,it,xt,W,De,ie)}}function Fa(x){var M=x[Js];return M||wr(x,x[Js]={},Jo,Cs,so,Xu)}function Qu(x,M,B){for(;gn(M)&&M.h!=4;){var W=M.i,re=B[W];if(!re){var me=B[0];me&&(me=me[W])&&(re=B[W]=Zr(me))}if((!re||!re(M,x,W))&&(re=M,W=x,me=re.j,Un(re),!re.W)){var ie=re.g.h;re=re.g.g,re=me===re?Xe||(Xe=new Uint8Array(0)):St?ie.slice(me,re):new Uint8Array(ie.subarray(me,re)),(me=W.ba)?me.push(re):W.ba=[re]}}return x}function Qi(x,M,B){if(Nn.length){var W=Nn.pop();x&&(dn(W.g,x),W.i=-1,W.h=-1),x=W}else x=new Vn(x);try{return Qu(new M,x,Fa(B))}finally{M=x.g,M.h=null,M.j=0,M.i=0,M.g=0,M.v=!1,x.i=-1,x.h=-1,100>Nn.length&&Nn.push(x)}}function Ei(x,M,B){for(var W=B.length,re=W%2==1,me=re?1:0;me<W;me+=2)(0,B[me+1])(M,x,B[me]);ut(x,M,re?B[0]:void 0)}function ks(x,M){var B=new pr;Ei(x,B,wi(M)),Lr(B,B.g.end()),x=new Uint8Array(B.h),M=B.i;for(var W=M.length,re=0,me=0;me<W;me++){var ie=M[me];x.set(ie,re),re+=ie.length}return B.i=[x],x}function ka(x,M){return{O:x,P:M}}var jr=ka(function(x,M,B){if(x.h!==5)return!1;x=x.g;var W=x.h[x.g],re=x.h[x.g+1],me=x.h[x.g+2],ie=x.h[x.g+3];return x.g+=4,mn(x),re=(W<<0|re<<8|me<<16|ie<<24)>>>0,x=2*(re>>31)+1,W=re>>>23&255,re&=8388607,Fn(M,B,W==255?re?NaN:1/0*x:W==0?x*Math.pow(2,-149)*re:x*Math.pow(2,W-150)*(re+Math.pow(2,23))),!0},function(x,M,B){if(M=lr(M,B),M!=null){Dn(x.g,8*B+5),x=x.g;var W=M;W=(B=0>W?1:0)?-W:W,W===0?0<1/W?Rt=Dt=0:(Dt=0,Rt=2147483648):isNaN(W)?(Dt=0,Rt=2147483647):34028234663852886e22<W?(Dt=0,Rt=(B<<31|2139095040)>>>0):11754943508222875e-54>W?(W=Math.round(W/Math.pow(2,-149)),Dt=0,Rt=(B<<31|W)>>>0):(M=Math.floor(Math.log(W)/Math.LN2),W*=Math.pow(2,-M),W=Math.round(8388608*W),16777216<=W&&++M,Dt=0,Rt=(B<<31|M+127<<23|W&8388607)>>>0),B=Rt,x.g.push(B>>>0&255),x.g.push(B>>>8&255),x.g.push(B>>>16&255),x.g.push(B>>>24&255)}}),zo=ka(function(x,M,B){if(x.h!==0)return!1;for(var W=x.g,re=128,me=0,ie=x=0;4>ie&&128<=re;ie++)re=W.h[W.g++],mn(W),me|=(re&127)<<7*ie;if(128<=re&&(re=W.h[W.g++],mn(W),me|=(re&127)<<28,x|=(re&127)>>4),128<=re)for(ie=0;5>ie&&128<=re;ie++)re=W.h[W.g++],mn(W),x|=(re&127)<<7*ie+3;if(128>re)W=me>>>0,re=x>>>0,(x=re&2147483648)&&(W=~W+1>>>0,re=~re>>>0,W==0&&(re=re+1>>>0)),W=4294967296*re+(W>>>0);else throw vt();return Fn(M,B,x?-W:W),!0},function(x,M,B){if(M=lr(M,B),M!=null&&M!=null){Dn(x.g,8*B),x=x.g;var W=M;for(B=0>W,W=Math.abs(W),M=W>>>0,W=Math.floor((W-M)/4294967296),W>>>=0,B&&(W=~W>>>0,M=(~M>>>0)+1,4294967295<M&&(M=0,W++,4294967295<W&&(W=0))),Rt=M,Dt=W,B=Rt,M=Dt;0<M||127<B;)x.g.push(B&127|128),B=(B>>>7|M<<25)>>>0,M>>>=7;x.g.push(B)}}),bu=ka(function(x,M,B){return x.h!==0?!1:(Fn(M,B,Jt(x.g)),!0)},function(x,M,B){if(M=lr(M,B),M!=null&&M!=null)if(Dn(x.g,8*B),x=x.g,B=M,0<=B)Dn(x,B);else{for(M=0;9>M;M++)x.g.push(B&127|128),B>>=7;x.g.push(1)}}),xi=ka(function(x,M,B){if(x.h!==2)return!1;var W=Jt(x.g)>>>0;x=x.g;var re=x.g;x.g+=W,mn(x),x=x.h;var me;if(oe)(me=ve)||(me=ve=new TextDecoder("utf-8",{fatal:!0})),me=me.decode(x.subarray(re,re+W));else{W=re+W;for(var ie=[],Te=null,De,Ue,it;re<W;)De=x[re++],128>De?ie.push(De):224>De?re>=W?ce():(Ue=x[re++],194>De||(Ue&192)!==128?(re--,ce()):ie.push((De&31)<<6|Ue&63)):240>De?re>=W-1?ce():(Ue=x[re++],(Ue&192)!==128||De===224&&160>Ue||De===237&&160<=Ue||((me=x[re++])&192)!==128?(re--,ce()):ie.push((De&15)<<12|(Ue&63)<<6|me&63)):244>=De?re>=W-2?ce():(Ue=x[re++],(Ue&192)!==128||(De<<28)+(Ue-144)>>30!==0||((me=x[re++])&192)!==128||((it=x[re++])&192)!==128?(re--,ce()):(De=(De&7)<<18|(Ue&63)<<12|(me&63)<<6|it&63,De-=65536,ie.push((De>>10&1023)+55296,(De&1023)+56320))):ce(),8192<=ie.length&&(Te=ye(Te,ie),ie.length=0);me=ye(Te,ie)}return Fn(M,B,me),!0},function(x,M,B){if(M=lr(M,B),M!=null){var W=!1;if(W=W===void 0?!1:W,ge){if(W&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(M))throw Error("Found an unpaired surrogate");M=(he||(he=new TextEncoder)).encode(M)}else{for(var re=0,me=new Uint8Array(3*M.length),ie=0;ie<M.length;ie++){var Te=M.charCodeAt(ie);if(128>Te)me[re++]=Te;else{if(2048>Te)me[re++]=Te>>6|192;else{if(55296<=Te&&57343>=Te){if(56319>=Te&&ie<M.length){var De=M.charCodeAt(++ie);if(56320<=De&&57343>=De){Te=1024*(Te-55296)+De-56320+65536,me[re++]=Te>>18|240,me[re++]=Te>>12&63|128,me[re++]=Te>>6&63|128,me[re++]=Te&63|128;continue}else ie--}if(W)throw Error("Found an unpaired surrogate");Te=65533}me[re++]=Te>>12|224,me[re++]=Te>>6&63|128}me[re++]=Te&63|128}}M=me.subarray(0,re)}Dn(x.g,8*B+2),Dn(x.g,M.length),Lr(x,x.g.end()),Lr(x,M)}}),Zs=ka(function(x,M,B,W,re){if(x.h!==2)return!1;M=et(M,B,W),B=x.g.i,W=Jt(x.g)>>>0;var me=x.g.g+W,ie=me-B;if(0>=ie&&(x.g.i=me,re(M,x),ie=me-x.g.g),ie)throw Error("Message parsing ended unexpectedly. Expected to read "+(W+" bytes, instead read "+(W-ie)+" bytes, either the data ended unexpectedly or the message misreported its own length"));return x.g.g=me,x.g.i=B,!0},function(x,M,B,W,re){if(M=Le(M,W,B),M!=null)for(W=0;W<M.length;W++){var me=x;Dn(me.g,8*B+2);var ie=me.g.end();Lr(me,ie),ie.push(me.h),me=ie,re(M[W],x),ie=x;var Te=me.pop();for(Te=ie.h+ie.g.length()-Te;127<Te;)me.push(Te&127|128),Te>>>=7,ie.h++;me.push(Te),ie.h++}});function _a(){Ye.apply(this,arguments)}if(k(_a,Ye),$n){var Ci={};Object.defineProperties(_a,(Ci[Symbol.hasInstance]=ia(Object[Symbol.hasInstance]),Ci))}function Pa(x){_a.call(this,x)}k(Pa,_a);function Ju(){return[1,bu,2,jr,3,xi,4,xi]}function Uo(x){_a.call(this,x,-1,ki)}k(Uo,_a),Uo.prototype.addClassification=function(x,M){return et(this,1,Pa,x,M),this};function Wn(){return[1,Zs,Pa,Ju]}var ki=[1];function On(x){_a.call(this,x)}k(On,_a);function Ji(){return[1,jr,2,jr,3,jr,4,jr,5,jr]}function go(x){_a.call(this,x,-1,ei)}k(go,_a);function en(){return[1,Zs,On,Ji]}var ei=[1];function Gr(x){_a.call(this,x)}k(Gr,_a);function Ho(){return[1,jr,2,jr,3,jr,4,jr,5,jr,6,zo]}var la=[[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]],io=[[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]],_r=[[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]],ae=[[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]],_e=[[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]],Qe=[[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]],Tt=[].concat(f(la),f(io),f(_r),f(ae),f(_e),f(Qe));function Vt(x,M,B){if(B=x.createShader(B===0?x.VERTEX_SHADER:x.FRAGMENT_SHADER),x.shaderSource(B,M),x.compileShader(B),!x.getShaderParameter(B,x.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+x.getShaderInfoLog(B));return B}function rn(x){return Le(x,Pa,1).map(function(M){return{index:Ot(M,1),ga:ua(M,2),label:lr(M,3)!=null?lt(M,3):void 0,displayName:lr(M,4)!=null?lt(M,4):void 0}})}function ht(x){return{x:ua(x,1),y:ua(x,2),z:ua(x,3),visibility:lr(x,4)!=null?ua(x,4):void 0}}function Nt(x,M){this.h=x,this.g=M,this.l=0}function Jn(x,M,B){return ca(x,M),typeof x.g.canvas.transferToImageBitmap=="function"?Promise.resolve(x.g.canvas.transferToImageBitmap()):B?Promise.resolve(x.g.canvas):typeof createImageBitmap=="function"?createImageBitmap(x.g.canvas):(x.i===void 0&&(x.i=document.createElement("canvas")),new Promise(function(W){x.i.height=x.g.canvas.height,x.i.width=x.g.canvas.width,x.i.getContext("2d",{}).drawImage(x.g.canvas,0,0,x.g.canvas.width,x.g.canvas.height),W(x.i)}))}function ca(x,M){var B=x.g;if(x.o===void 0){var W=Vt(B,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),re=Vt(B,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),me=B.createProgram();if(B.attachShader(me,W),B.attachShader(me,re),B.linkProgram(me),!B.getProgramParameter(me,B.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+B.getProgramInfoLog(me));W=x.o=me,B.useProgram(W),re=B.getUniformLocation(W,"sampler0"),x.j={K:B.getAttribLocation(W,"aVertex"),J:B.getAttribLocation(W,"aTex"),ma:re},x.u=B.createBuffer(),B.bindBuffer(B.ARRAY_BUFFER,x.u),B.enableVertexAttribArray(x.j.K),B.vertexAttribPointer(x.j.K,2,B.FLOAT,!1,0,0),B.bufferData(B.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),B.STATIC_DRAW),B.bindBuffer(B.ARRAY_BUFFER,null),x.s=B.createBuffer(),B.bindBuffer(B.ARRAY_BUFFER,x.s),B.enableVertexAttribArray(x.j.J),B.vertexAttribPointer(x.j.J,2,B.FLOAT,!1,0,0),B.bufferData(B.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),B.STATIC_DRAW),B.bindBuffer(B.ARRAY_BUFFER,null),B.uniform1i(re,0)}W=x.j,B.useProgram(x.o),B.canvas.width=M.width,B.canvas.height=M.height,B.viewport(0,0,M.width,M.height),B.activeTexture(B.TEXTURE0),x.h.bindTexture2d(M.glName),B.enableVertexAttribArray(W.K),B.bindBuffer(B.ARRAY_BUFFER,x.u),B.vertexAttribPointer(W.K,2,B.FLOAT,!1,0,0),B.enableVertexAttribArray(W.J),B.bindBuffer(B.ARRAY_BUFFER,x.s),B.vertexAttribPointer(W.J,2,B.FLOAT,!1,0,0),B.bindFramebuffer(B.DRAW_FRAMEBUFFER?B.DRAW_FRAMEBUFFER:B.FRAMEBUFFER,null),B.clearColor(0,0,0,0),B.clear(B.COLOR_BUFFER_BIT),B.colorMask(!0,!0,!0,!0),B.drawArrays(B.TRIANGLE_FAN,0,4),B.disableVertexAttribArray(W.K),B.disableVertexAttribArray(W.J),B.bindBuffer(B.ARRAY_BUFFER,null),x.h.bindTexture2d(0)}function Zo(x){this.g=x}var vo=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function yo(x,M){return M+x}function es(x,M){window[x]=M}function Nr(x){var M=document.createElement("script");return M.setAttribute("src",x),M.setAttribute("crossorigin","anonymous"),new Promise(function(B){M.addEventListener("load",function(){B()},!1),M.addEventListener("error",function(){B()},!1),document.body.appendChild(M)})}function ts(){return K(function(x){switch(x.g){case 1:return x.o=2,A(x,WebAssembly.instantiate(vo),4);case 4:x.g=3,x.o=0;break;case 2:return x.o=0,x.j=null,x.return(!1);case 3:return x.return(!0)}})}function ti(x){if(this.g=x,this.listeners={},this.j={},this.H={},this.o={},this.u={},this.I=this.s=this.Z=!0,this.D=Promise.resolve(),this.Y="",this.C={},this.locateFile=x&&x.locateFile||yo,typeof window=="object")var M=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")M=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.$=M,x.options){M=l(Object.keys(x.options));for(var B=M.next();!B.done;B=M.next()){B=B.value;var W=x.options[B].default;W!==void 0&&(this.j[B]=typeof W=="function"?W():W)}}}t=ti.prototype,t.close=function(){return this.i&&this.i.delete(),Promise.resolve()};function Su(x){var M,B,W,re,me,ie,Te,De,Ue,it,xt;return K(function(Qt){switch(Qt.g){case 1:return x.Z?(M=x.g.files===void 0?[]:typeof x.g.files=="function"?x.g.files(x.j):x.g.files,A(Qt,ts(),2)):Qt.return();case 2:if(B=Qt.h,typeof window=="object")return es("createMediapipeSolutionsWasm",{locateFile:x.locateFile}),es("createMediapipeSolutionsPackedAssets",{locateFile:x.locateFile}),ie=M.filter(function(Mt){return Mt.data!==void 0}),Te=M.filter(function(Mt){return Mt.data===void 0}),De=Promise.all(ie.map(function(Mt){var un=Zi(x,Mt.url);if(Mt.path!==void 0){var Hn=Mt.path;un=un.then(function(cr){return x.overrideFile(Hn,cr),Promise.resolve(cr)})}return un})),Ue=Promise.all(Te.map(function(Mt){return Mt.simd===void 0||Mt.simd&&B||!Mt.simd&&!B?Nr(x.locateFile(Mt.url,x.$)):Promise.resolve()})).then(function(){var Mt,un,Hn;return K(function(cr){if(cr.g==1)return Mt=window.createMediapipeSolutionsWasm,un=window.createMediapipeSolutionsPackedAssets,Hn=x,A(cr,Mt(un),2);Hn.h=cr.h,cr.g=0})}),it=(function(){return K(function(Mt){return x.g.graph&&x.g.graph.url?Mt=A(Mt,Zi(x,x.g.graph.url),0):(Mt.g=0,Mt=void 0),Mt})})(),A(Qt,Promise.all([Ue,De,it]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return W=M.filter(function(Mt){return Mt.simd===void 0||Mt.simd&&B||!Mt.simd&&!B}).map(function(Mt){return x.locateFile(Mt.url,x.$)}),importScripts.apply(null,f(W)),re=x,A(Qt,createMediapipeSolutionsWasm(Module),6);case 6:re.h=Qt.h,x.l=new OffscreenCanvas(1,1),x.h.canvas=x.l,me=x.h.GL.createContext(x.l,{antialias:!1,alpha:!1,ja:typeof WebGL2RenderingContext<"u"?2:1}),x.h.GL.makeContextCurrent(me),Qt.g=4;break;case 7:if(x.l=document.createElement("canvas"),xt=x.l.getContext("webgl2",{}),!xt&&(xt=x.l.getContext("webgl",{}),!xt))return alert("Failed to create WebGL canvas context when passing video frame."),Qt.return();x.G=xt,x.h.canvas=x.l,x.h.createContext(x.l,!0,!0,{});case 4:x.i=new x.h.SolutionWasm,x.Z=!1,Qt.g=0}})}function Zu(x){var M,B,W,re,me,ie,Te,De;return K(function(Ue){if(Ue.g==1){if(x.g.graph&&x.g.graph.url&&x.Y===x.g.graph.url)return Ue.return();if(x.s=!0,!x.g.graph||!x.g.graph.url){Ue.g=2;return}return x.Y=x.g.graph.url,A(Ue,Zi(x,x.g.graph.url),3)}for(Ue.g!=2&&(M=Ue.h,x.i.loadGraph(M)),B=l(Object.keys(x.C)),W=B.next();!W.done;W=B.next())re=W.value,x.i.overrideFile(re,x.C[re]);if(x.C={},x.g.listeners)for(me=l(x.g.listeners),ie=me.next();!ie.done;ie=me.next())Te=ie.value,de(x,Te);De=x.j,x.j={},x.setOptions(De),Ue.g=0})}t.reset=function(){var x=this;return K(function(M){x.i&&(x.i.reset(),x.o={},x.u={}),M.g=0})},t.setOptions=function(x,M){var B=this;if(M=M||this.g.options){for(var W=[],re=[],me={},ie=l(Object.keys(x)),Te=ie.next();!Te.done;me={R:me.R,S:me.S},Te=ie.next()){var De=Te.value;De in this.j&&this.j[De]===x[De]||(this.j[De]=x[De],Te=M[De],Te!==void 0&&(Te.onChange&&(me.R=Te.onChange,me.S=x[De],W.push((function(Ue){return function(){var it;return K(function(xt){if(xt.g==1)return A(xt,Ue.R(Ue.S),2);it=xt.h,it===!0&&(B.s=!0),xt.g=0})}})(me))),Te.graphOptionXref&&(De={valueNumber:Te.type===1?x[De]:0,valueBoolean:Te.type===0?x[De]:!1,valueString:Te.type===2?x[De]:""},Te=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),Te.graphOptionXref),De),re.push(Te))))}(W.length!==0||re.length!==0)&&(this.s=!0,this.B=(this.B===void 0?[]:this.B).concat(re),this.A=(this.A===void 0?[]:this.A).concat(W))}};function Hl(x){var M,B,W,re,me,ie,Te;return K(function(De){switch(De.g){case 1:if(!x.s)return De.return();if(!x.A){De.g=2;break}M=l(x.A),B=M.next();case 3:if(B.done){De.g=5;break}return W=B.value,A(De,W(),4);case 4:B=M.next(),De.g=3;break;case 5:x.A=void 0;case 2:if(x.B){for(re=new x.h.GraphOptionChangeRequestList,me=l(x.B),ie=me.next();!ie.done;ie=me.next())Te=ie.value,re.push_back(Te);x.i.changeOptions(re),re.delete(),x.B=void 0}x.s=!1,De.g=0}})}t.initialize=function(){var x=this;return K(function(M){return M.g==1?A(M,Su(x),2):M.g!=3?A(M,Zu(x),3):A(M,Hl(x),0)})};function Zi(x,M){var B,W;return K(function(re){return M in x.H?re.return(x.H[M]):(B=x.locateFile(M,""),W=fetch(B).then(function(me){return me.arrayBuffer()}),x.H[M]=W,re.return(W))})}t.overrideFile=function(x,M){this.i?this.i.overrideFile(x,M):this.C[x]=M},t.clearOverriddenFiles=function(){this.C={},this.i&&this.i.clearOverriddenFiles()},t.send=function(x,M){var B=this,W,re,me,ie,Te,De,Ue,it,xt;return K(function(Qt){switch(Qt.g){case 1:return B.g.inputs?(W=1e3*(M??performance.now()),A(Qt,B.D,2)):Qt.return();case 2:return A(Qt,B.initialize(),3);case 3:for(re=new B.h.PacketDataList,me=l(Object.keys(x)),ie=me.next();!ie.done;ie=me.next())if(Te=ie.value,De=B.g.inputs[Te]){e:{var Mt=x[Te];switch(De.type){case"video":var un=B.o[De.stream];if(un||(un=new Nt(B.h,B.G),B.o[De.stream]=un),un.l===0&&(un.l=un.h.createTexture()),typeof HTMLVideoElement<"u"&&Mt instanceof HTMLVideoElement)var Hn=Mt.videoWidth,cr=Mt.videoHeight;else typeof HTMLImageElement<"u"&&Mt instanceof HTMLImageElement?(Hn=Mt.naturalWidth,cr=Mt.naturalHeight):(Hn=Mt.width,cr=Mt.height);cr={glName:un.l,width:Hn,height:cr},Hn=un.g,Hn.canvas.width=cr.width,Hn.canvas.height=cr.height,Hn.activeTexture(Hn.TEXTURE0),un.h.bindTexture2d(un.l),Hn.texImage2D(Hn.TEXTURE_2D,0,Hn.RGBA,Hn.RGBA,Hn.UNSIGNED_BYTE,Mt),un.h.bindTexture2d(0),un=cr;break e;case"detections":for(un=B.o[De.stream],un||(un=new Zo(B.h),B.o[De.stream]=un),un.data||(un.data=new un.g.DetectionListData),un.data.reset(Mt.length),cr=0;cr<Mt.length;++cr){Hn=Mt[cr];var Tr=un.data,Sa=Tr.setBoundingBox,Vo=cr,bo=Hn.boundingBox,Zn=new Gr;if(Fn(Zn,1,bo.xCenter),Fn(Zn,2,bo.yCenter),Fn(Zn,3,bo.height),Fn(Zn,4,bo.width),Fn(Zn,5,bo.rotation),Fn(Zn,6,bo.rectId),bo=ks(Zn,Ho),Sa.call(Tr,Vo,bo),Hn.landmarks)for(Tr=0;Tr<Hn.landmarks.length;++Tr){Zn=Hn.landmarks[Tr];var da=!!Zn.visibility;Sa=un.data,Vo=Sa.addNormalizedLandmark,bo=cr,Zn=Object.assign(Object.assign({},Zn),{visibility:da?Zn.visibility:0}),da=new On,Fn(da,1,Zn.x),Fn(da,2,Zn.y),Fn(da,3,Zn.z),Zn.visibility&&Fn(da,4,Zn.visibility),Zn=ks(da,Ji),Vo.call(Sa,bo,Zn)}if(Hn.V)for(Tr=0;Tr<Hn.V.length;++Tr)Sa=un.data,Vo=Sa.addClassification,bo=cr,Zn=Hn.V[Tr],da=new Pa,Fn(da,2,Zn.ga),Zn.index&&Fn(da,1,Zn.index),Zn.label&&Fn(da,3,Zn.label),Zn.displayName&&Fn(da,4,Zn.displayName),Zn=ks(da,Ju),Vo.call(Sa,bo,Zn)}un=un.data;break e;default:un={}}}switch(Ue=un,it=De.stream,De.type){case"video":re.pushTexture2d(Object.assign(Object.assign({},Ue),{stream:it,timestamp:W}));break;case"detections":xt=Ue,xt.stream=it,xt.timestamp=W,re.pushDetectionList(xt);break;default:throw Error("Unknown input config type: '"+De.type+"'")}}return B.i.send(re),A(Qt,B.D,4);case 4:re.delete(),Qt.g=0}})};function ni(x,M,B){var W,re,me,ie,Te,De,Ue,it,xt,Qt,Mt,un,Hn,cr;return K(function(Tr){switch(Tr.g){case 1:if(!B)return Tr.return(M);for(W={},re=0,me=l(Object.keys(B)),ie=me.next();!ie.done;ie=me.next())Te=ie.value,De=B[Te],typeof De!="string"&&De.type==="texture"&&M[De.stream]!==void 0&&++re;1<re&&(x.I=!1),Ue=l(Object.keys(B)),ie=Ue.next();case 2:if(ie.done){Tr.g=4;break}if(it=ie.value,xt=B[it],typeof xt=="string")return Hn=W,cr=it,A(Tr,V(x,it,M[xt]),14);if(Qt=M[xt.stream],xt.type==="detection_list"){if(Qt){for(var Sa=Qt.getRectList(),Vo=Qt.getLandmarksList(),bo=Qt.getClassificationsList(),Zn=[],da=0;da<Sa.size();++da){var eu=Qi(Sa.get(da),Gr,Ho);eu={boundingBox:{xCenter:ua(eu,1),yCenter:ua(eu,2),height:ua(eu,3),width:ua(eu,4),rotation:ua(eu,5,0),rectId:Ot(eu,6)},landmarks:Le(Qi(Vo.get(da),go,en),On,1).map(ht),V:rn(Qi(bo.get(da),Uo,Wn))},Zn.push(eu)}Sa=Zn}else Sa=[];W[it]=Sa,Tr.g=7;break}if(xt.type==="proto_list"){if(Qt){for(Sa=Array(Qt.size()),Vo=0;Vo<Qt.size();Vo++)Sa[Vo]=Qt.get(Vo);Qt.delete()}else Sa=[];W[it]=Sa,Tr.g=7;break}if(Qt===void 0){Tr.g=3;break}if(xt.type==="float_list"){W[it]=Qt,Tr.g=7;break}if(xt.type==="proto"){W[it]=Qt,Tr.g=7;break}if(xt.type!=="texture")throw Error("Unknown output config type: '"+xt.type+"'");return Mt=x.u[it],Mt||(Mt=new Nt(x.h,x.G),x.u[it]=Mt),A(Tr,Jn(Mt,Qt,x.I),13);case 13:un=Tr.h,W[it]=un;case 7:xt.transform&&W[it]&&(W[it]=xt.transform(W[it])),Tr.g=3;break;case 14:Hn[cr]=Tr.h;case 3:ie=Ue.next(),Tr.g=2;break;case 4:return Tr.return(W)}})}function V(x,M,B){var W;return K(function(re){return typeof B=="number"||B instanceof Uint8Array||B instanceof x.h.Uint8BlobList?re.return(B):B instanceof x.h.Texture2dDataOut?(W=x.u[M],W||(W=new Nt(x.h,x.G),x.u[M]=W),re.return(Jn(W,B,x.I))):re.return(void 0)})}function de(x,M){for(var B=M.name||"$",W=[].concat(f(M.wants)),re=new x.h.StringList,me=l(M.wants),ie=me.next();!ie.done;ie=me.next())re.push_back(ie.value);me=x.h.PacketListener.implement({onResults:function(Te){for(var De={},Ue=0;Ue<M.wants.length;++Ue)De[W[Ue]]=Te.get(Ue);var it=x.listeners[B];it&&(x.D=ni(x,De,M.outs).then(function(xt){xt=it(xt);for(var Qt=0;Qt<M.wants.length;++Qt){var Mt=De[W[Qt]];typeof Mt=="object"&&Mt.hasOwnProperty&&Mt.hasOwnProperty("delete")&&Mt.delete()}xt&&(x.D=xt)}))}}),x.i.attachMultiListener(re,me),re.delete()}t.onResults=function(x,M){this.listeners[M||"$"]=x},le("Solution",ti),le("OptionType",{BOOL:0,NUMBER:1,ia:2,0:"BOOL",1:"NUMBER",2:"STRING"});function $e(x){var M=this;x=x||{};var B={url:"face_detection_short.binarypb"},W={type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}};this.g=new ti({locateFile:x.locateFile,files:[{data:!0,url:"face_detection_short.binarypb"},{data:!0,url:"face_detection_short_range.tflite"},{simd:!0,url:"face_detection_solution_simd_wasm_bin.js"},{simd:!1,url:"face_detection_solution_wasm_bin.js"}],graph:B,listeners:[{wants:["detections","image_transformed"],outs:{image:"image_transformed",detections:{type:"detection_list",stream:"detections"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:typeof window!="object"||window.navigator===void 0?!1:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},model:{type:0,onChange:function(re){var me,ie,Te,De,Ue,it;return K(function(xt){switch(xt.g){case 1:me=re==="short"?["face_detection_short_range.tflite"]:["face_detection_full_range_sparse.tflite"],ie=l(me),Te=ie.next();case 2:if(Te.done){xt.g=4;break}return De=Te.value,Ue="third_party/mediapipe/modules/face_detection/"+De,A(xt,Zi(M.g,De),5);case 5:it=xt.h,M.g.overrideFile(Ue,it),Te=ie.next(),xt.g=2;break;case 4:return B.url=re==="short"?"face_detection_short.binarypb":"face_detection_full.binarypb",W.graphOptionXref.calculatorName=re==="short"?"facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator":"facedetectionfullrangegpu__facedetectionfullrangecommon__TensorsToDetectionsCalculator",xt.return(!0)}})}},minDetectionConfidence:W}})}t=$e.prototype,t.close=function(){return this.g.close(),Promise.resolve()},t.onResults=function(x){this.g.onResults(x)},t.initialize=function(){var x=this;return K(function(M){return A(M,x.g.initialize(),0)})},t.reset=function(){this.g.reset()},t.send=function(x){var M=this;return K(function(B){return A(B,M.g.send(x),0)})},t.setOptions=function(x){this.g.setOptions(x)},le("FaceDetection",$e),le("FACEDETECTION_LIPS",la),le("FACEDETECTION_LEFT_EYE",io),le("FACEDETECTION_LEFT_EYEBROW",_r),le("FACEDETECTION_RIGHT_EYE",ae),le("FACEDETECTION_RIGHT_EYEBROW",_e),le("FACEDETECTION_FACE_OVAL",Qe),le("FACEDETECTION_CONTOURS",Tt),le("FACEDETECTION_TESSELATION",[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]]),le("VERSION","0.4.1646425229")}).call(aT)),aT}var ine=sne();/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ln().registerFlag("KEEP_INTERMEDIATE_TENSORS",()=>!1,t=>{t&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */var mu;(function(t){t[t.DT_INVALID=0]="DT_INVALID",t[t.DT_FLOAT=1]="DT_FLOAT",t[t.DT_DOUBLE=2]="DT_DOUBLE",t[t.DT_INT32=3]="DT_INT32",t[t.DT_UINT8=4]="DT_UINT8",t[t.DT_INT16=5]="DT_INT16",t[t.DT_INT8=6]="DT_INT8",t[t.DT_STRING=7]="DT_STRING",t[t.DT_COMPLEX64=8]="DT_COMPLEX64",t[t.DT_INT64=9]="DT_INT64",t[t.DT_BOOL=10]="DT_BOOL",t[t.DT_QINT8=11]="DT_QINT8",t[t.DT_QUINT8=12]="DT_QUINT8",t[t.DT_QINT32=13]="DT_QINT32",t[t.DT_BFLOAT16=14]="DT_BFLOAT16",t[t.DT_QINT16=15]="DT_QINT16",t[t.DT_QUINT16=16]="DT_QUINT16",t[t.DT_UINT16=17]="DT_UINT16",t[t.DT_COMPLEX128=18]="DT_COMPLEX128",t[t.DT_HALF=19]="DT_HALF",t[t.DT_RESOURCE=20]="DT_RESOURCE",t[t.DT_VARIANT=21]="DT_VARIANT",t[t.DT_UINT32=22]="DT_UINT32",t[t.DT_UINT64=23]="DT_UINT64",t[t.DT_FLOAT_REF=101]="DT_FLOAT_REF",t[t.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",t[t.DT_INT32_REF=103]="DT_INT32_REF",t[t.DT_UINT8_REF=104]="DT_UINT8_REF",t[t.DT_INT16_REF=105]="DT_INT16_REF",t[t.DT_INT8_REF=106]="DT_INT8_REF",t[t.DT_STRING_REF=107]="DT_STRING_REF",t[t.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",t[t.DT_INT64_REF=109]="DT_INT64_REF",t[t.DT_BOOL_REF=110]="DT_BOOL_REF",t[t.DT_QINT8_REF=111]="DT_QINT8_REF",t[t.DT_QUINT8_REF=112]="DT_QUINT8_REF",t[t.DT_QINT32_REF=113]="DT_QINT32_REF",t[t.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",t[t.DT_QINT16_REF=115]="DT_QINT16_REF",t[t.DT_QUINT16_REF=116]="DT_QUINT16_REF",t[t.DT_UINT16_REF=117]="DT_UINT16_REF",t[t.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",t[t.DT_HALF_REF=119]="DT_HALF_REF",t[t.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",t[t.DT_VARIANT_REF=121]="DT_VARIANT_REF",t[t.DT_UINT32_REF=122]="DT_UINT32_REF",t[t.DT_UINT64_REF=123]="DT_UINT64_REF"})(mu||(mu={}));var W$;(function(t){(function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"})(t.CheckpointFormatVersion||(t.CheckpointFormatVersion={}))})(W$||(W$={}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const une={};function j$(t){return une[t]}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function F(t,e,n,r,a){const o=e.inputParams[t];if(o&&o.inputIndexStart!==void 0){const l=o.inputIndexStart,f=o.inputIndexEnd===0?void 0:o.inputIndexEnd===void 0?l+1:o.inputIndexEnd,p=l<0?e.inputNames.length+l:l;if(o.type==="tensor")return Fo(e.inputNames[p],n,r,a);if(o.type==="tensors"){const y=e.inputs.slice(l,f);return e.inputNames.slice(l,f).filter((E,k)=>{var _;return((_=y[k])===null||_===void 0?void 0:_.op)!=="NoOp"}).map(E=>Fo(E,n,r,a))}const c=Fo(e.inputNames[p],n,r,a),g=c.dataSync();return o.type==="number"?g[0]:fu(c.shape,g)}const u=e.attrParams[t];return u&&u.value}function Fo(t,e,n,r){const[a,o]=bi(t,n);if(r!=null){const l=r.getHashTableHandleByName(a);if(l!=null)return l}const u=n.currentContextIds.find(l=>!!e[r2(a,l)]);return u!==void 0?e[r2(a,u)][o]:void 0}function G$(t,e,n){return e[r2(t,n.currentContextId)]}function Nc(t,e){const[n,r,a]=bi(t,e);return[r2(n,e&&e.currentContextId),r,a]}function r2(t,e){return e?`${t}-${e}`:t}function bi(t,e){if(t==="")return["",0,void 0];const n=e!=null&&e.parseNodeNameCache!=null;if(n){const o=e.parseNodeNameCache.get(t);if(o!=null)return o}const r=t.split(":");let a;if(r.length===1)a=[t,0,void 0];else{const o=r[0],u=r.length===3?r[1]:void 0,l=Number(r[r.length-1]);a=[o,l,u]}return n&&e.parseNodeNameCache.set(t,a),a}function a2(t,e,n){let r=F("pad",t,e,n);if(r==="explicit"){r=F("explicitPaddings",t,e,n);const a=[[0,0],[0,0],[0,0],[0,0]];for(let o=0;o<4;o++)a[o][0]=r[o*2],a[o][1]=r[o*2+1];return a}return r}function Ac(t){return t.kept?t:$d(t)}/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lne=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cne=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsFinite",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsInf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dne=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fne=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pne=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniformInt",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number"},{tfName:"maxval",name:"maxval",type:"number"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hne=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mne=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gne=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vne=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yne=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bne=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BitwiseAnd",category:"logical",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Sne=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"MatrixBandPart",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"numLower",type:"tensor"},{start:1,name:"numUpper",type:"tensor"}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wne=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ene=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xne=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]},{tfOpName:"TensorScatterUpdate",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"values",type:"tensor"}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cne=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kne=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _ne=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"StaticRegexReplace",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"pattern",name:"pattern",type:"string"},{tfName:"rewrite",name:"rewrite",type:"string"},{tfName:"replace_global",name:"replaceGlobal",type:"bool"}]},{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tne=Object.freeze(Object.defineProperty({__proto__:null,json:[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"EnsureShape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}]},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class q${static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[lne,cne,dne,fne,pne,hne,mne,gne,vne,yne,bne,Sne,wne,Ene,xne,Cne,kne,_ne,Tne],n=[].concat(...e.map(r=>r.json));this.opMappers=n.reduce((r,a)=>(r[a.tfOpName]=a,r),{})}transformGraph(e,n={}){const r=e.node,a=[],o=[],u=[],l=r.reduce((k,_)=>(k[_.name]=this.mapNode(_),_.op.startsWith("Placeholder")?a.push(k[_.name]):_.op==="Const"?o.push(k[_.name]):(_.input==null||_.input.length===0)&&u.push(k[_.name]),k),{});let f=[];const p=[];let c={},g={};n!=null&&(c=this.mapSignatureEntries(n.inputs),g=this.mapSignatureEntries(n.outputs));const y=Object.keys(l);y.forEach(k=>{const _=l[k];_.inputNames.forEach((I,R)=>{const[A,,O]=Nc(I),L=l[A];if(L.outputs!=null){const U=L.outputs.indexOf(O);if(U!==-1){const j=`${A}:${U}`;_.inputNames[R]=j}}_.inputs.push(L),L.children.push(_)})}),Object.keys(g).length===0?y.forEach(k=>{const _=l[k];_.children.length===0&&p.push(_)}):Object.keys(g).forEach(k=>{const[_]=Nc(k),I=l[_];I!=null&&(I.signatureKey=g[k],p.push(I))}),Object.keys(c).length>0?Object.keys(c).forEach(k=>{const[_]=Nc(k),I=l[_];I&&(I.signatureKey=c[k],f.push(I))}):f=a;let S={};e.library!=null&&e.library.function!=null&&(S=e.library.function.reduce((k,_)=>(k[_.signature.name]=this.mapFunction(_),k),{}));const E={nodes:l,inputs:f,outputs:p,weights:o,placeholders:a,signature:n,functions:S};return u.length>0&&(E.initNodes=u),E}mapSignatureEntries(e){return Object.keys(e||{}).reduce((n,r)=>(n[e[r].name]=r,n),{})}mapNode(e){const n=j$(e.op)||this.opMappers[e.op]||{};e.attr==null&&(e.attr={});const r={name:e.name,op:e.op,category:n.category,inputNames:(e.input||[]).map(a=>a.startsWith("^")?a.slice(1):a),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:n.outputs};return n.inputs!=null&&(r.inputParams=n.inputs.reduce((a,o)=>(a[o.name]={type:o.type,inputIndexStart:o.start,inputIndexEnd:o.end},a),{})),n.attrs!=null&&(r.attrParams=n.attrs.reduce((a,o)=>{const u=o.type;let l;switch(o.type){case"string":l=oT(e.attr,o.tfName,o.defaultValue),l===void 0&&o.tfDeprecatedName&&(l=oT(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"string[]":l=pT(e.attr,o.tfName,o.defaultValue),l===void 0&&o.tfDeprecatedName&&(l=pT(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"number":l=iT(e.attr,o.tfName,o.defaultValue||0),l===void 0&&o.tfDeprecatedName&&(l=iT(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"number[]":l=fT(e.attr,o.tfName,o.defaultValue),l===void 0&&o.tfDeprecatedName&&(l=fT(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"bool":l=sT(e.attr,o.tfName,o.defaultValue),l===void 0&&o.tfDeprecatedName&&(l=sT(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"bool[]":l=mT(e.attr,o.tfName,o.defaultValue),l===void 0&&o.tfDeprecatedName&&(l=mT(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"shape":l=dT(e.attr,o.tfName,o.defaultValue),l===void 0&&o.tfDeprecatedName&&(l=dT(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"shape[]":l=hT(e.attr,o.tfName,o.defaultValue),l===void 0&&o.tfDeprecatedName&&(l=hT(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"dtype":l=lT(e.attr,o.tfName,o.defaultValue),l===void 0&&o.tfDeprecatedName&&(l=lT(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"dtype[]":l=cT(e.attr,o.tfName,o.defaultValue),l===void 0&&o.tfDeprecatedName&&(l=cT(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"func":l=Y$(e.attr,o.tfName,o.defaultValue),l===void 0&&o.tfDeprecatedName&&(l=Y$(e.attr,o.tfDeprecatedName,o.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${o.type} for op: ${e.op}`)}return a[o.name]={value:l,type:u},a},{})),r}mapFunction(e){const n=e.nodeDef,r=[],a=[];let o={};n!=null&&(o=n.reduce((g,y)=>(g[y.name]=this.mapNode(y),y.op==="Const"&&a.push(g[y.name]),g),{}));const u=[],l=[];e.signature.inputArg.forEach(g=>{const[y]=Nc(g.name),S={name:y,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:uT(g.type),type:"dtype"}},children:[]};S.signatureKey=g.name,u.push(S),o[y]=S}),Object.keys(o).forEach(g=>{const y=o[g];y.inputNames.forEach((S,E)=>{const[k,,_]=Nc(S),I=o[k];if(I.outputs!=null){const R=I.outputs.indexOf(_);if(R!==-1){const A=`${k}:${R}`;y.inputNames[E]=A}}y.inputs.push(I),I.children.push(y)})});const p=e.ret;e.signature.outputArg.forEach(g=>{const[y,S]=Nc(p[g.name]),E=o[y];E!=null&&(E.defaultOutput=S,l.push(E))});const c=this.mapArgsToSignature(e);return{nodes:o,inputs:u,outputs:l,weights:a,placeholders:r,signature:c}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce((n,r)=>(n[r.name]=this.mapArgToTensorInfo(r),n),{}),outputs:e.signature.outputArg.reduce((n,r)=>(n[r.name]=this.mapArgToTensorInfo(r,e.ret),n),{})}}mapArgToTensorInfo(e,n){let r=e.name;return n!=null&&(r=n[r]),{name:r,dtype:e.type}}}function Ine(t){const e=Ln().global;if(typeof e.atob<"u")return e.atob(t);if(typeof Buffer<"u")return new Buffer(t,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}function K$(t,e){const n=Array.isArray(t)?String.fromCharCode.apply(null,t):Ine(t);return e?n:n.toLowerCase()}function oT(t,e,n,r=!1){const a=t[e];return a!=null?K$(a.s,r):n}function sT(t,e,n){const r=t[e];return r?r.b:n}function iT(t,e,n){const r=t[e]||{},a=r.i!=null?r.i:r.f!=null?r.f:n;return typeof a=="number"?a:parseInt(a,10)}function uT(t){switch(typeof t=="string"&&(t=mu[t]),t){case mu.DT_FLOAT:case mu.DT_HALF:return"float32";case mu.DT_INT32:case mu.DT_INT64:case mu.DT_INT8:case mu.DT_UINT8:return"int32";case mu.DT_BOOL:return"bool";case mu.DT_DOUBLE:return"float32";case mu.DT_STRING:return"string";default:return null}}function Y$(t,e,n){const r=t[e];return r&&r.func?r.func.name:n}function lT(t,e,n){const r=t[e];return r&&r.type?uT(r.type):n}function cT(t,e,n){const r=t[e];return r&&r.list&&r.list.type?r.list.type.map(a=>uT(a)):n}function X$(t){if(!t.unknownRank)return t.dim!=null?t.dim.map(e=>typeof e.size=="number"?e.size:parseInt(e.size,10)):[]}function dT(t,e,n){const r=t[e];return r&&r.shape?X$(r.shape):n}function fT(t,e,n){const r=t[e];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map(a=>typeof a=="number"?a:parseInt(a,10)):n}function pT(t,e,n,r=!1){const a=t[e];return a&&a.list&&a.list.s?a.list.s.map(o=>K$(o,r)):n}function hT(t,e,n){const r=t[e];return r&&r.list&&r.list.shape?r.list.shape.map(a=>X$(a)):n}function mT(t,e,n){const r=t[e];return r&&r.list&&r.list.b?r.list.b:n}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Rne{constructor(e,n,r){this.node=e,this.tensorMap=n,this.context=r,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map(a=>this.getInput(a)),e.rawAttrs!=null&&(this.attrs=Object.keys(e.rawAttrs).reduce((a,o)=>(a[o]=this.getAttr(o),a),{}))}getInput(e){return Fo(e,this.tensorMap,this.context)}getAttr(e,n){const r=this.node.rawAttrs[e];if(r.tensor!=null)return Fo(e,this.tensorMap,this.context);if(r.i!=null||r.f!=null)return iT(this.node.rawAttrs,e,n);if(r.s!=null)return oT(this.node.rawAttrs,e,n);if(r.b!=null)return sT(this.node.rawAttrs,e,n);if(r.shape!=null)return dT(this.node.rawAttrs,e,n);if(r.type!=null)return lT(this.node.rawAttrs,e,n);if(r.list!=null){if(r.list.i!=null||r.list.f!=null)return fT(this.node.rawAttrs,e,n);if(r.list.s!=null)return pT(this.node.rawAttrs,e,n);if(r.list.shape!=null)return hT(this.node.rawAttrs,e,n);if(r.list.b!=null)return mT(this.node.rawAttrs,e,n);if(r.list.type!=null)return cT(this.node.rawAttrs,e,n)}return n}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Po=Object.freeze(Object.defineProperty({__proto__:null,OP_SCOPE_SUFFIX:jO,abs:Wi,acos:uq,acosh:cq,add:nn,addN:fq,all:hq,any:gq,argMax:yq,argMin:Sq,asin:Eq,asinh:Cq,atan:_q,atan2:Iq,atanh:Nq,avgPool:cM,avgPool3d:Lq,basicLSTMCell:jq,batchNorm:Aw,batchNorm2d:Xq,batchNorm3d:Jq,batchNorm4d:eK,batchToSpaceND:dM,bincount:fM,bitwiseAnd:rK,booleanMaskAsync:VJ,broadcastArgs:oK,broadcastTo:ty,buffer:qn,cast:ya,ceil:uK,clipByValue:pM,clone:$d,complex:Dd,concat:Oo,concat1d:dK,concat2d:pK,concat3d:mK,concat4d:vK,conv1d:SK,conv2d:Dw,conv2dTranspose:xK,conv3d:kK,conv3dTranspose:RK,cos:AK,cosh:OK,cosineWindow:G_,cumprod:$K,cumsum:PK,denseBincount:BK,depthToSpace:UK,depthwiseConv2d:$_,diag:WK,dilation2d:GK,div:Yn,divNoNan:JK,dot:eY,dropout:nZ,einsum:im,elu:gM,enclosingPowerOfTwo:JM,ensureShape:aY,equal:mM,erf:sY,euclideanNorm:gY,exp:_c,expandDims:Rl,expm1:SY,eye:bM,fft:V_,fill:ny,floor:SM,floorDiv:uM,fused:vZ,gather:wM,gatherND:ZJ,greater:Fw,greaterEqual:EM,ifft:Qw,imag:Pw,image:Jw,inTopKAsync:aZ,irfft:jM,isFinite:RY,isInf:AY,isNaN:OY,leakyRelu:xM,less:P_,lessEqual:L_,linalg:Xee,linspace:PY,localResponseNormalization:BY,log:oy,log1p:CM,logSigmoid:GY,logSoftmax:YY,logSumExp:_M,logicalAnd:Lw,logicalNot:TM,logicalOr:IM,logicalXor:tX,losses:Qee,lowerBound:rX,matMul:Fr,max:um,maxPool:RM,maxPool3d:sX,maxPoolWithArgmax:uX,maximum:NM,mean:zw,meshgrid:dX,min:F_,minimum:Uw,mirrorPad:hX,mod:gX,moments:yX,movingAverage:GJ,mul:dt,multiRNNCell:SX,multinomial:EX,neg:Nl,norm:$w,notEqual:AM,oneHot:kX,ones:tp,onesLike:TX,op:pe,outerProduct:RX,pad:sy,pad1d:DX,pad2d:MX,pad3d:FX,pad4d:LX,pool:VX,pow:ry,prelu:OM,print:oM,prod:GX,raggedGather:KX,raggedRange:XX,raggedTensorToTensor:JX,rand:eQ,randomGamma:bQ,randomNormal:HM,randomStandardNormal:EQ,randomUniform:H_,randomUniformInt:kQ,range:iy,real:uy,reciprocal:IQ,relu:Xw,relu6:VM,reshape:Ge,reverse:np,reverse1d:OQ,reverse2d:$Q,reverse3d:PQ,reverse4d:BQ,rfft:W_,round:WM,rsqrt:HQ,scalar:ur,scatterND:KJ,searchSorted:B_,selu:WQ,separableConv2d:GQ,setdiff1dAsync:KQ,sigmoid:ep,sign:XQ,signal:Yee,sin:JQ,sinh:eJ,slice:Bn,slice1d:nJ,slice2d:aJ,slice3d:sJ,slice4d:uJ,softmax:cJ,softplus:kM,spaceToBatchND:DM,sparse:Jee,sparseToDense:QJ,spectral:Kee,split:ly,sqrt:kc,square:Ku,squaredDifference:GM,squeeze:$o,stack:Ic,step:qM,stridedSlice:wJ,string:Zee,sub:zn,sum:ra,tan:xJ,tanh:M_,tensor:Wu,tensor1d:Qo,tensor2d:rp,tensor3d:KM,tensor4d:CJ,tensor5d:kJ,tensor6d:_J,tensorScatterUpdate:RJ,tile:ay,topk:AJ,transpose:j_,truncatedNormal:OJ,unique:$J,unsortedSegmentSum:PJ,unstack:ap,upperBound:BJ,variable:zJ,where:Pd,whereAsync:QM,zeros:lm,zerosLike:ji},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Nne=(t,e,n,r=Po)=>{switch(t.op){case"BiasAdd":case"AddV2":case"Add":return[r.add(F("a",t,e,n),F("b",t,e,n))];case"AddN":return[r.addN(F("tensors",t,e,n))];case"FloorMod":case"Mod":return[r.mod(F("a",t,e,n),F("b",t,e,n))];case"Mul":return[r.mul(F("a",t,e,n),F("b",t,e,n))];case"RealDiv":case"Div":return[r.div(F("a",t,e,n),F("b",t,e,n))];case"DivNoNan":return[r.divNoNan(F("a",t,e,n),F("b",t,e,n))];case"FloorDiv":return[r.floorDiv(F("a",t,e,n),F("b",t,e,n))];case"Sub":return[r.sub(F("a",t,e,n),F("b",t,e,n))];case"Minimum":return[r.minimum(F("a",t,e,n),F("b",t,e,n))];case"Maximum":return[r.maximum(F("a",t,e,n),F("b",t,e,n))];case"Pow":return[r.pow(F("a",t,e,n),F("b",t,e,n))];case"SquaredDifference":return[r.squaredDifference(F("a",t,e,n),F("b",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ane=(t,e,n,r=Po)=>{switch(t.op){case"Abs":case"ComplexAbs":return[r.abs(F("x",t,e,n))];case"Acos":return[r.acos(F("x",t,e,n))];case"Acosh":return[r.acosh(F("x",t,e,n))];case"Asin":return[r.asin(F("x",t,e,n))];case"Asinh":return[r.asinh(F("x",t,e,n))];case"Atan":return[r.atan(F("x",t,e,n))];case"Atan2":return[r.atan2(F("x",t,e,n),F("y",t,e,n))];case"Atanh":return[r.atanh(F("x",t,e,n))];case"Ceil":return[r.ceil(F("x",t,e,n))];case"Complex":return[r.complex(F("real",t,e,n),F("imag",t,e,n))];case"Cos":return[r.cos(F("x",t,e,n))];case"Cosh":return[r.cosh(F("x",t,e,n))];case"Elu":return[r.elu(F("x",t,e,n))];case"Erf":return[r.erf(F("x",t,e,n))];case"Exp":return[r.exp(F("x",t,e,n))];case"Expm1":return[r.expm1(F("x",t,e,n))];case"Floor":return[r.floor(F("x",t,e,n))];case"Log":return[r.log(F("x",t,e,n))];case"Log1p":return[r.log1p(F("x",t,e,n))];case"Imag":return[r.imag(F("x",t,e,n))];case"Neg":return[r.neg(F("x",t,e,n))];case"Reciprocal":return[r.reciprocal(F("x",t,e,n))];case"Real":return[r.real(F("x",t,e,n))];case"Relu":return[r.relu(F("x",t,e,n))];case"Round":return[r.round(F("x",t,e,n))];case"Selu":return[r.selu(F("x",t,e,n))];case"Sigmoid":return[r.sigmoid(F("x",t,e,n))];case"Sin":return[r.sin(F("x",t,e,n))];case"Sign":return[r.sign(F("x",t,e,n))];case"Sinh":return[r.sinh(F("x",t,e,n))];case"Softplus":return[r.softplus(F("x",t,e,n))];case"Sqrt":return[r.sqrt(F("x",t,e,n))];case"Square":return[r.square(F("x",t,e,n))];case"Tanh":return[r.tanh(F("x",t,e,n))];case"Tan":return[r.tan(F("x",t,e,n))];case"ClipByValue":return[r.clipByValue(F("x",t,e,n),F("clipValueMin",t,e,n),F("clipValueMax",t,e,n))];case"Relu6":return[r.relu6(F("x",t,e,n))];case"Rsqrt":return[r.rsqrt(Fo(t.inputNames[0],e,n))];case"LeakyRelu":return[r.leakyRelu(F("x",t,e,n),F("alpha",t,e,n))];case"Prelu":return[r.prelu(F("x",t,e,n),F("alpha",t,e,n))];case"IsNan":return[r.isNaN(Fo(t.inputNames[0],e,n))];case"IsInf":return[r.isInf(Fo(t.inputNames[0],e,n))];case"IsFinite":return[r.isFinite(Fo(t.inputNames[0],e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gu(t,e,n=""){if(!(typeof t=="number"||typeof e=="number")){Z(t.length===e.length,()=>n+` Shapes ${t} and ${e} must match`);for(let r=0;r<t.length;r++){const a=t[r],o=e[r];Z(a<0||o<0||a===o,()=>n+` Shapes ${t} and ${e} must match`)}}}function Q$(t){return!(typeof t=="number"||t.some(e=>e<0))}function dy(t,e,n){let r=gT(t,n);const a=!Q$(r);if(a&&e.length===0)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${r}`);if(a&&e.forEach(o=>{r=gT(o.shape,r)}),!Q$(r))throw new Error(`Non-fully-defined elementShape: ${r}`);return r}function gT(t,e){if(typeof t=="number")return e;if(typeof e=="number")return t;if(t.length!==e.length)throw new Error(`Incompatible ranks during merge: ${t} vs. ${e}`);const n=[];for(let r=0;r<t.length;++r){const a=t[r],o=e[r];if(a>=0&&o>=0&&a!==o)throw new Error(`Incompatible shape during merge: ${t} vs. ${e}`);n[r]=a>=0?a:o}return n}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Dne{constructor(e,n,r,a,o,u,l){this.name=e,this.dtype=n,this.maxSize=r,this.elementShape=a,this.identicalElementShapes=o,this.dynamicSize=u,this.clearAfterRead=l,this.tensors=[],this.closed_=!1,this.idTensor=ur(0),Il(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach(n=>{(e==null||!e.has(n.tensor.id))&&n.tensor.dispose()}),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||e>=this.size())throw new Error(`Tried to read from index ${e}, but array size is: ${this.size()}`);const n=this.tensors[e];if(n.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${e} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(n.cleared=!0),n.read=!0,n.tensor}readMany(e){return e.map(n=>this.read(n))}write(e,n){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error(`Tried to write to index ${e}, but array is not resizeable and size is: ${this.maxSize}`);const r=this.tensors[e]||{};if(n.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e},
          because the value dtype is ${n.dtype}, but TensorArray dtype is ${this.dtype}.`);if(this.size()===0&&(this.elementShape==null||this.elementShape.length===0)&&(this.elementShape=n.shape),gu(this.elementShape,n.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${e}.`),r.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been read.`);if(r.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been written.`);r.tensor=n,Il(n),r.written=!0,this.tensors[e]=r}writeMany(e,n){if(e.length!==n.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${e.length} is not the same as tensors size: ${n.length}.`);e.forEach((r,a)=>this.write(r,n[a]))}gather(e,n){if(n&&n!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${n}`);if(e)e=e.slice(0,this.size());else{e=[];for(let a=0;a<this.size();a++)e.push(a)}if(e.length===0)return Wu([],[0].concat(this.elementShape));const r=this.readMany(e);return gu(this.elementShape,r[0].shape,"TensorArray shape mismatch: "),Ic(r,0)}concat(e){if(e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${e}`);if(this.size()===0)return Wu([],[0].concat(this.elementShape));const n=[];for(let a=0;a<this.size();a++)n.push(a);const r=this.readMany(n);return gu(this.elementShape,r[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${r[0].shape})`),Oo(r,0)}scatter(e,n){if(n.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${n.dtype}`);if(e.length!==n.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${n.shape[0]}`);const r=Math.max(...e);if(!this.dynamicSize&&r>=this.maxSize)throw new Error(`Max index must be < array size (${r}  vs. ${this.maxSize})`);this.writeMany(e,ap(n,0))}split(e,n){if(n.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${n.dtype}`);let r=0;const a=e.map(f=>(r+=f,r));if(r!==n.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${r}, and tensor's shape is: ${n.shape}`);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${e.length}), and the TensorArray is not marked as dynamically resizeable`);const o=r===0?0:n.size/r,u=[];Kn(()=>{n=Ge(n,[1,r,o]);for(let f=0;f<e.length;++f){const c=[0,f===0?0:a[f-1],0],g=[1,e[f],o];u[f]=Ge(Bn(n,c,g),this.elementShape)}return u});const l=[];for(let f=0;f<e.length;f++)l[f]=f;this.writeMany(l,u)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class lp{get id(){return this.idTensor.id}constructor(e,n,r,a=-1){this.tensors=e,this.elementShape=n,this.elementDtype=r,e?.forEach(o=>{if(r!==o.dtype)throw new Error(`Invalid data types; op elements ${r}, but list elements ${o.dtype}`);gu(n,o.shape,"TensorList shape mismatch: "),Il(o)}),this.idTensor=ur(0),this.maxNumElements=a,Il(this.idTensor)}copy(){return new lp([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach(n=>{(e==null||!e.has(n.id))&&n.dispose()}),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,n,r=-1){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(r!==-1&&this.tensors.length!==r)throw new Error(`Operation expected a list with ${r} elements but got a list with ${this.tensors.length} elements.`);gu(e,this.elementShape,"TensorList shape mismatch: ");const a=dy(this.elementShape,this.tensors,e);return Kn(()=>{const o=this.tensors.map(u=>Ge(u,a));return Ic(o,0)})}popBack(e,n){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(this.size()===0)throw new Error("Trying to pop from an empty list.");const r=dy(this.elementShape,this.tensors,e),a=this.tensors.pop();return a.kept=!1,gu(a.shape,e,"TensorList shape mismatch: "),Ge(a,r)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${this.elementDtype}`);if(gu(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");Il(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${e}`);if(this.maxNumElements!==-1&&e>this.maxNumElements)throw new Error(`TensorListResize input size ${e} is greater maxNumElement ${this.maxNumElements}.`);const n=new lp([],this.elementShape,this.elementDtype,this.maxNumElements);n.tensors.length=e;for(let r=0;r<Math.min(this.tensors.length,e);++r)n.tensors[r]=this.tensors[r];return n}getItem(e,n,r){if(r!==this.elementDtype)throw new Error(`Invalid data types; op elements ${r}, but list elements ${this.elementDtype}`);if(e<0||e>this.tensors.length)throw new Error(`Trying to access element ${e} in a list with ${this.tensors.length} elements.`);if(this.tensors[e]==null)throw new Error(`element at index ${e} is null.`);gu(this.tensors[e].shape,n,"TensorList shape mismatch: ");const a=dy(this.elementShape,this.tensors,n);return Ge(this.tensors[e],a)}setItem(e,n){if(n.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n.dtype}, but list elements ${this.elementDtype}`);if(e<0||this.maxNumElements!==-1&&e>=this.maxNumElements)throw new Error(`Trying to set element ${e} in a list with max ${this.maxNumElements} elements.`);gu(this.elementShape,n.shape,"TensorList shape mismatch: "),Il(n),this.tensors[e]!=null&&(this.tensors[e].kept=!1),this.tensors[e]=n}gather(e,n,r){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);gu(this.elementShape,r,"TensorList shape mismatch: "),e=e.slice(0,this.size());const a=dy(this.elementShape,this.tensors,r);return e.length===0?Wu([],[0].concat(a)):Kn(()=>{const o=e.map(u=>Ge(this.tensors[u],a));return Ic(o,0)})}concat(e,n){if(e&&e!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${e}`);gu(this.elementShape,n,"TensorList shape mismatch: ");const r=dy(this.elementShape,this.tensors,n);return this.size()===0?Wu([],[0].concat(r)):Kn(()=>{const a=this.tensors.map(o=>Ge(o,r));return Oo(a,0)})}}function One(t,e,n){const r=t.dtype;if(t.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${t.shape}`);if(t.dtype!==n)throw new Error(`Invalid data types; op elements ${t.dtype}, but list elements ${n}`);const a=t.shape.slice(1);gu(a,e,"TensorList shape mismatch: ");const o=ap(t);return new lp(o,e,r)}function Mne(t,e,n,r){return new lp([],t,e,r)}function $ne(t,e,n,r){if(e.length!==t.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${t.shape[0]}`);const a=Math.max(...e);if(r!=null&&r!==-1&&a>=r)throw new Error(`Max index must be < array size (${a}  vs. ${r})`);const o=new lp([],n,t.dtype,r),u=ap(t,0);return e.forEach((l,f)=>{o.setItem(l,u[f])}),o}function Fne(t,e,n){let r=0;const a=e.map(c=>(r+=c,r));if(r!==t.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${r}, and tensor's shape is: ${t.shape}`);const o=t.shape.slice(1),u=gT(o,n),l=r===0?0:t.size/r,f=Kn(()=>{const c=[];t=Ge(t,[1,r,l]);for(let g=0;g<e.length;++g){const S=[0,g===0?0:a[g-1],0],E=[1,e[g],l];c[g]=Ge(Bn(t,S,E),u)}return t.dispose(),c}),p=new lp([],n,t.dtype,e.length);for(let c=0;c<f.length;c++)p.setItem(c,f[c]);return p}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Pne=async(t,e,n)=>{switch(t.op){case"If":case"StatelessIf":{const r=F("thenBranch",t,e,n),a=F("elseBranch",t,e,n),o=F("cond",t,e,n),u=F("args",t,e,n);return(await o.data())[0]?n.functionMap[r].executeFunctionAsync(u,n.tensorArrayMap,n.tensorListMap):n.functionMap[a].executeFunctionAsync(u,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{const r=F("body",t,e,n),a=F("cond",t,e,n),o=F("args",t,e,n),u=await n.functionMap[a].executeFunctionAsync(o,n.tensorArrayMap,n.tensorListMap),l=o.map(c=>c.id);let f=await u[0].data();u.forEach(c=>{!c.kept&&l.indexOf(c.id)===-1&&c.dispose()});let p=o;for(;f[0];){const c=p;p=await n.functionMap[r].executeFunctionAsync(p,n.tensorArrayMap,n.tensorListMap);const g=p.map(S=>S.id);c.forEach(S=>{!S.kept&&l.indexOf(S.id)===-1&&g.indexOf(S.id)===-1&&S.dispose()});const y=await n.functionMap[a].executeFunctionAsync(p,n.tensorArrayMap,n.tensorListMap);f=await y[0].data(),y.forEach(S=>{!S.kept&&l.indexOf(S.id)===-1&&g.indexOf(S.id)===-1&&S.dispose()})}return p}case"LoopCond":{const r=F("pred",t,e,n);return[Ac(r)]}case"Switch":{const r=F("pred",t,e,n);let a=F("data",t,e,n);return a.kept||(a=Ac(a)),(await r.data())[0]?[void 0,a]:[a,void 0]}case"Merge":{const r=t.inputNames.find(a=>Fo(a,e,n)!==void 0);if(r){const a=Fo(r,e,n);return[Ac(a)]}return}case"Enter":{const r=F("frameName",t,e,n),a=F("tensor",t,e,n);return n.enterFrame(r),[Ac(a)]}case"Exit":{const r=F("tensor",t,e,n);return n.exitFrame(),[Ac(r)]}case"NextIteration":{const r=F("tensor",t,e,n);return n.nextIteration(),[Ac(r)]}case"TensorArrayV3":{const r=F("size",t,e,n),a=F("dtype",t,e,n),o=F("elementShape",t,e,n),u=F("dynamicSize",t,e,n),l=F("clearAfterRead",t,e,n),f=F("identicalElementShapes",t,e,n),p=F("name",t,e,n),c=new Dne(p,a,r,o,f,u,l);return n.addTensorArray(c),[c.idTensor,ur(1)]}case"TensorArrayWriteV3":{const r=F("tensorArrayId",t,e,n),a=F("index",t,e,n),o=F("tensor",t,e,n),u=n.getTensorArray(r.id);return u.write(a,o),[u.idTensor]}case"TensorArrayReadV3":{const r=F("tensorArrayId",t,e,n),a=F("index",t,e,n);return[n.getTensorArray(r.id).read(a)]}case"TensorArrayGatherV3":{const r=F("tensorArrayId",t,e,n),a=F("indices",t,e,n),o=F("dtype",t,e,n);return[n.getTensorArray(r.id).gather(a,o)]}case"TensorArrayScatterV3":{const r=F("tensorArrayId",t,e,n),a=F("indices",t,e,n),o=F("tensor",t,e,n),u=n.getTensorArray(r.id);return u.scatter(a,o),[u.idTensor]}case"TensorArrayConcatV3":{const r=F("tensorArrayId",t,e,n),a=n.getTensorArray(r.id),o=F("dtype",t,e,n);return[a.concat(o)]}case"TensorArraySplitV3":{const r=F("tensorArrayId",t,e,n),a=F("tensor",t,e,n),o=F("lengths",t,e,n),u=n.getTensorArray(r.id);return u.split(o,a),[u.idTensor]}case"TensorArraySizeV3":{const r=F("tensorArrayId",t,e,n),a=n.getTensorArray(r.id);return[ur(a.size(),"int32")]}case"TensorArrayCloseV3":{const r=F("tensorArrayId",t,e,n),a=n.getTensorArray(r.id);return a.clearAndClose(),[a.idTensor]}case"TensorListSetItem":{const r=F("tensorListId",t,e,n),a=F("index",t,e,n),o=F("tensor",t,e,n),u=n.getTensorList(r.id);return u.setItem(a,o),[u.idTensor]}case"TensorListGetItem":{const r=F("tensorListId",t,e,n),a=F("index",t,e,n),o=F("elementShape",t,e,n),u=F("elementDType",t,e,n);return[n.getTensorList(r.id).getItem(a,o,u)]}case"TensorListScatterV2":case"TensorListScatter":{const r=F("indices",t,e,n),a=F("tensor",t,e,n),o=F("elementShape",t,e,n),u=F("numElements",t,e,n),l=$ne(a,r,o,u);return n.addTensorList(l),[l.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const r=F("elementShape",t,e,n),a=F("elementDType",t,e,n);let o;t.op==="TensorListReserve"?o="numElements":o="maxNumElements";const u=F(o,t,e,n),l=t.op==="TensorListReserve"?-1:u,f=Mne(r,a,u,l);return n.addTensorList(f),[f.idTensor]}case"TensorListGather":{const r=F("tensorListId",t,e,n),a=F("indices",t,e,n),o=F("elementShape",t,e,n),u=F("elementDType",t,e,n);return[n.getTensorList(r.id).gather(a,u,o)]}case"TensorListStack":{const r=F("tensorListId",t,e,n),a=F("elementShape",t,e,n),o=F("elementDType",t,e,n),u=F("numElements",t,e,n);return[n.getTensorList(r.id).stack(a,o,u)]}case"TensorListFromTensor":{const r=F("tensor",t,e,n),a=F("elementShape",t,e,n),o=F("elementDType",t,e,n),u=One(r,a,o);return n.addTensorList(u),[u.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const r=F("tensorListId",t,e,n),a=n.getTensorList(r.id),o=F("dtype",t,e,n),u=F("elementShape",t,e,n);return[a.concat(o,u)]}case"TensorListPushBack":{const r=F("tensorListId",t,e,n),a=F("tensor",t,e,n),o=n.getTensorList(r.id);return o.pushBack(a),[o.idTensor]}case"TensorListPopBack":{const r=F("tensorListId",t,e,n),a=F("elementShape",t,e,n),o=F("elementDType",t,e,n);return[n.getTensorList(r.id).popBack(a,o)]}case"TensorListSplit":{const r=F("tensor",t,e,n),a=F("elementShape",t,e,n),o=F("lengths",t,e,n),u=Fne(r,o,a);return n.addTensorList(u),[u.idTensor]}case"TensorListLength":{const r=F("tensorListId",t,e,n),a=n.getTensorList(r.id);return[ur(a.size(),"int32")]}case"TensorListResize":{const r=F("tensorListId",t,e,n),a=F("size",t,e,n),u=n.getTensorList(r.id).resize(a);return n.addTensorList(u),[u.idTensor]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function J$(t,e,n){const[r,a]=F("fusedOps",t,e,n),o=r==="biasadd",u=!o,l=a==="prelu",f=r==="fusedbatchnorm",p=F("numArgs",t,e,n);if(o){if(l&&p!==2)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!l&&o&&p!==1)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(f)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const c=F("strides",t,e,n),g=a2(t,e,n),y=F("dataFormat",t,e,n).toUpperCase(),S=F("dilations",t,e,n);let[E,k]=F("args",t,e,n);u&&(k=E,E=void 0);const _=F("leakyreluAlpha",t,e,n);return{stride:c,pad:g,dataFormat:y,dilations:S,biasArg:E,preluArg:k,activationFunc:a,leakyreluAlpha:_}}const Lne=(t,e,n,r=Po)=>{switch(t.op){case"Conv1D":{const a=F("stride",t,e,n),o=F("pad",t,e,n),u=F("dataFormat",t,e,n).toUpperCase(),l=F("dilation",t,e,n);return[r.conv1d(F("x",t,e,n),F("filter",t,e,n),a,o,u,l)]}case"Conv2D":{const a=F("strides",t,e,n),o=a2(t,e,n),u=F("dataFormat",t,e,n).toUpperCase(),l=F("dilations",t,e,n);return[r.conv2d(F("x",t,e,n),F("filter",t,e,n),[a[1],a[2]],o,u,[l[1],l[2]])]}case"_FusedConv2D":{const{stride:a,pad:o,dataFormat:u,dilations:l,biasArg:f,preluArg:p,activationFunc:c,leakyreluAlpha:g}=J$(t,e,n);return[r.fused.conv2d({x:F("x",t,e,n),filter:F("filter",t,e,n),strides:[a[1],a[2]],pad:o,dataFormat:u,dilations:[l[1],l[2]],bias:f,activation:c,preluActivationWeights:p,leakyreluAlpha:g})]}case"FusedDepthwiseConv2dNative":{const{stride:a,pad:o,dataFormat:u,dilations:l,biasArg:f,preluArg:p,activationFunc:c,leakyreluAlpha:g}=J$(t,e,n);return[r.fused.depthwiseConv2d({x:F("x",t,e,n),filter:F("filter",t,e,n),strides:[a[1],a[2]],pad:o,dataFormat:u,dilations:[l[1],l[2]],bias:f,activation:c,preluActivationWeights:p,leakyreluAlpha:g})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const a=F("outputShape",t,e,n),o=F("strides",t,e,n),u=a2(t,e,n);return[r.conv2dTranspose(F("x",t,e,n),F("filter",t,e,n),a,[o[1],o[2]],u)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const a=F("strides",t,e,n),o=a2(t,e,n),u=F("dilations",t,e,n),l=F("dataFormat",t,e,n).toUpperCase();return[r.depthwiseConv2d(F("input",t,e,n),F("filter",t,e,n),[a[1],a[2]],o,l,[u[1],u[2]])]}case"Conv3D":{const a=F("strides",t,e,n),o=F("pad",t,e,n),u=F("dataFormat",t,e,n).toUpperCase(),l=F("dilations",t,e,n);return[r.conv3d(F("x",t,e,n),F("filter",t,e,n),[a[1],a[2],a[3]],o,u,[l[1],l[2],l[3]])]}case"AvgPool":{const a=F("strides",t,e,n),o=F("pad",t,e,n),u=F("kernelSize",t,e,n);return[r.avgPool(F("x",t,e,n),[u[1],u[2]],[a[1],a[2]],o)]}case"MaxPool":{const a=F("strides",t,e,n),o=F("pad",t,e,n),u=F("kernelSize",t,e,n);return[r.maxPool(F("x",t,e,n),[u[1],u[2]],[a[1],a[2]],o)]}case"MaxPoolWithArgmax":{const a=F("strides",t,e,n),o=F("pad",t,e,n),u=F("kernelSize",t,e,n),l=F("includeBatchInIndex",t,e,n),{result:f,indexes:p}=r.maxPoolWithArgmax(F("x",t,e,n),[u[1],u[2]],[a[1],a[2]],o,l);return[f,p]}case"AvgPool3D":{const a=F("strides",t,e,n),o=F("pad",t,e,n),u=F("kernelSize",t,e,n);return[r.avgPool3d(F("x",t,e,n),[u[1],u[2],u[3]],[a[1],a[2],a[3]],o)]}case"MaxPool3D":{const a=F("strides",t,e,n),o=F("pad",t,e,n),u=F("kernelSize",t,e,n);return[r.maxPool3d(F("x",t,e,n),[u[1],u[2],u[3]],[a[1],a[2],a[3]],o)]}case"Dilation2D":{const a=F("strides",t,e,n),o=F("pad",t,e,n),u=F("dilations",t,e,n),l=a[1],f=a[2],p=u[1],c=u[2];return[r.dilation2d(F("x",t,e,n),F("filter",t,e,n),[l,f],o,[p,c],"NHWC")]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Bne=(t,e,n,r=Po)=>{switch(t.op){case"Fill":{const a=F("shape",t,e,n),o=F("dtype",t,e,n),u=F("value",t,e,n);return[r.fill(a,u,o)]}case"LinSpace":{const a=F("start",t,e,n),o=F("stop",t,e,n),u=F("num",t,e,n);return[r.linspace(a,o,u)]}case"Multinomial":{const a=F("logits",t,e,n),o=F("numSamples",t,e,n),u=F("seed",t,e,n);return[r.multinomial(a,o,u)]}case"OneHot":{const a=F("indices",t,e,n),o=F("depth",t,e,n),u=F("onValue",t,e,n),l=F("offValue",t,e,n),f=F("dtype",t,e,n);return[r.oneHot(a,o,u,l,f)]}case"Ones":return[r.ones(F("shape",t,e,n),F("dtype",t,e,n))];case"OnesLike":return[r.onesLike(F("x",t,e,n))];case"RandomStandardNormal":return[r.randomStandardNormal(F("shape",t,e,n),F("dtype",t,e,n),F("seed",t,e,n))];case"RandomUniform":return[r.randomUniform(F("shape",t,e,n),F("minval",t,e,n),F("maxval",t,e,n),F("dtype",t,e,n))];case"RandomUniformInt":return[r.randomUniformInt(F("shape",t,e,n),F("minval",t,e,n),F("maxval",t,e,n),F("seed",t,e,n))];case"Range":{const a=F("start",t,e,n),o=F("stop",t,e,n),u=F("step",t,e,n);return[r.range(a,o,u,F("dtype",t,e,n))]}case"TruncatedNormal":{const a=F("shape",t,e,n),o=F("mean",t,e,n),u=F("stdDev",t,e,n),l=F("seed",t,e,n);return[r.truncatedNormal(a,o,u,F("dtype",t,e,n),l)]}case"Zeros":return[r.zeros(F("shape",t,e,n),F("dtype",t,e,n))];case"ZerosLike":return[r.zerosLike(F("x",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vT(t,e,n){const r=F("boxes",t,e,n),a=F("scores",t,e,n),o=F("maxOutputSize",t,e,n),u=F("iouThreshold",t,e,n),l=F("scoreThreshold",t,e,n),f=F("softNmsSigma",t,e,n);return{boxes:r,scores:a,maxOutputSize:o,iouThreshold:u,scoreThreshold:l,softNmsSigma:f}}const zne=async(t,e,n,r,a=Po)=>{switch(t.op){case"NonMaxSuppressionV5":{const{boxes:o,scores:u,maxOutputSize:l,iouThreshold:f,scoreThreshold:p,softNmsSigma:c}=vT(t,e,n),g=await a.image.nonMaxSuppressionWithScoreAsync(o,u,l,f,p,c);return[g.selectedIndices,g.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:o,scores:u,maxOutputSize:l,iouThreshold:f,scoreThreshold:p}=vT(t,e,n),c=F("padToMaxOutputSize",t,e,n),g=await a.image.nonMaxSuppressionPaddedAsync(o,u,l,f,p,c);return[g.selectedIndices,g.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:o,scores:u,maxOutputSize:l,iouThreshold:f,scoreThreshold:p}=vT(t,e,n);return[await a.image.nonMaxSuppressionAsync(o,u,l,f,p)]}case"Where":{const o=a.cast(F("condition",t,e,n),"bool"),u=[await a.whereAsync(o)];return o.dispose(),u}case"ListDiff":return a.setdiff1dAsync(F("x",t,e,n),F("y",t,e,n));default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Une=(t,e,n,r=Po)=>{switch(t.op){case"LowerBound":{const a=F("sortedSequence",t,e,n),o=F("values",t,e,n);return[r.lowerBound(a,o)]}case"TopKV2":{const a=F("x",t,e,n),o=F("k",t,e,n),u=F("sorted",t,e,n),l=r.topk(a,o,u);return[l.values,l.indices]}case"UpperBound":{const a=F("sortedSequence",t,e,n),o=F("values",t,e,n);return[r.upperBound(a,o)]}case"Unique":{const a=F("x",t,e,n),o=r.unique(a);return[o.values,o.indices]}case"UniqueV2":{const a=F("x",t,e,n),o=F("axis",t,e,n),u=r.unique(a,o);return[u.values,u.indices]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hne=(t,e,n,r=Po)=>{switch(t.op){case"Const":return e[t.name];case"PlaceholderWithDefault":const a=F("default",t,e,n);return[Fo(t.name,e,n)||a];case"Placeholder":return[Fo(t.name,e,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":{const c=F("x",t,e,n);return[Ac(c)]}case"IdentityN":return F("x",t,e,n).map(c=>Ac(c));case"Snapshot":const o=F("x",t,e,n);return[Ac(o)];case"Shape":return[r.tensor1d(F("x",t,e,n).shape,"int32")];case"ShapeN":return F("x",t,e,n).map(c=>r.tensor1d(c.shape));case"Size":return[r.scalar(F("x",t,e,n).size,"int32")];case"Rank":return[r.scalar(F("x",t,e,n).rank,"int32")];case"NoOp":return[r.scalar(1)];case"Print":const u=F("x",t,e,n),l=F("data",t,e,n),f=F("message",t,e,n),p=F("summarize",t,e,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(f);for(let c=0;c<l.length;c++)console.log(Array.prototype.slice.call(l[c].dataSync()).slice(0,p));return[u];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Vne{get id(){return this.handle.id}constructor(e,n){this.keyDType=e,this.valueDType=n,this.handle=ur(0),this.tensorMap=new Map,Il(this.handle)}clearAndClose(){this.tensorMap.forEach(e=>e.dispose()),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return ur(this.size(),"int32")}async import(e,n){this.checkKeyAndValueTensor(e,n);const r=await e.data();return this.tensorMap.forEach(a=>a.dispose()),this.tensorMap.clear(),Kn(()=>{const a=ap(n),o=r.length,u=a.length;Z(o===u,()=>`The number of elements doesn't match, keys has ${o} elements, the values has ${u} elements.`);for(let l=0;l<o;l++){const f=r[l],p=a[l];Il(p),this.tensorMap.set(f,p)}return this.handle})}async find(e,n){this.checkKeyAndValueTensor(e,n);const r=await e.data();return Kn(()=>{const a=[];for(let o=0;o<r.length;o++){const u=r[o],l=this.findWithDefault(u,n);a.push(l)}return Ic(a)})}findWithDefault(e,n){const r=this.tensorMap.get(e);return r??n}checkKeyAndValueTensor(e,n){if(e.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${e.dtype}`);if(n.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${n.dtype}`)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Wne=async(t,e,n,r)=>{switch(t.op){case"HashTable":case"HashTableV2":{const a=r.getHashTableHandleByName(t.name);if(a!=null)return[a];{const o=F("keyDType",t,e,n),u=F("valueDType",t,e,n),l=new Vne(o,u);return r.addHashTable(t.name,l),[l.handle]}}case"InitializeTable":case"InitializeTableV2":case"LookupTableImport":case"LookupTableImportV2":{const a=F("tableHandle",t,e,n,r),o=F("keys",t,e,n),u=F("values",t,e,n);return[await r.getHashTableById(a.id).import(o,u)]}case"LookupTableFind":case"LookupTableFindV2":{const a=F("tableHandle",t,e,n,r),o=F("keys",t,e,n),u=F("defaultValue",t,e,n);return[await r.getHashTableById(a.id).find(o,u)]}case"LookupTableSize":case"LookupTableSizeV2":{const a=F("tableHandle",t,e,n,r);return[r.getHashTableById(a.id).tensorSize()]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jne=(t,e,n,r=Po)=>{switch(t.op){case"ResizeBilinear":{const a=F("images",t,e,n),o=F("size",t,e,n),u=F("alignCorners",t,e,n),l=F("halfPixelCenters",t,e,n);return[r.image.resizeBilinear(a,[o[0],o[1]],u,l)]}case"ResizeNearestNeighbor":{const a=F("images",t,e,n),o=F("size",t,e,n),u=F("alignCorners",t,e,n),l=F("halfPixelCenters",t,e,n);return[r.image.resizeNearestNeighbor(a,[o[0],o[1]],u,l)]}case"CropAndResize":{const a=F("image",t,e,n),o=F("boxes",t,e,n),u=F("boxInd",t,e,n),l=F("cropSize",t,e,n),f=F("method",t,e,n),p=F("extrapolationValue",t,e,n);return[r.image.cropAndResize(a,o,u,l,f,p)]}case"ImageProjectiveTransformV3":{const a=F("images",t,e,n),o=F("transforms",t,e,n),u=F("outputShape",t,e,n),l=F("fillValue",t,e,n),f=F("interpolation",t,e,n),p=F("fillMode",t,e,n);return[r.image.transform(a,o,f.toLowerCase(),p.toLowerCase(),l,u)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gne=(t,e,n,r=Po)=>{switch(t.op){case"Equal":return[r.equal(F("a",t,e,n),F("b",t,e,n))];case"NotEqual":return[r.notEqual(F("a",t,e,n),F("b",t,e,n))];case"Greater":return[r.greater(F("a",t,e,n),F("b",t,e,n))];case"GreaterEqual":return[r.greaterEqual(F("a",t,e,n),F("b",t,e,n))];case"Less":return[r.less(F("a",t,e,n),F("b",t,e,n))];case"LessEqual":return[r.lessEqual(F("a",t,e,n),F("b",t,e,n))];case"LogicalAnd":return[r.logicalAnd(F("a",t,e,n),F("b",t,e,n))];case"LogicalNot":return[r.logicalNot(F("a",t,e,n))];case"LogicalOr":return[r.logicalOr(F("a",t,e,n),F("b",t,e,n))];case"Select":case"SelectV2":return[r.where(F("condition",t,e,n),F("a",t,e,n),F("b",t,e,n))];case"BitwiseAnd":return[r.bitwiseAnd(F("a",t,e,n),F("b",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qne=(t,e,n,r=Po)=>{switch(t.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[r.matMul(F("a",t,e,n),F("b",t,e,n),F("transposeA",t,e,n),F("transposeB",t,e,n))];case"Einsum":return[r.einsum(F("equation",t,e,n),...F("tensors",t,e,n))];case"Transpose":return[r.transpose(F("x",t,e,n),F("perm",t,e,n))];case"_FusedMatMul":const[a,o]=F("fusedOps",t,e,n),u=a==="biasadd",l=o==="prelu",f=F("numArgs",t,e,n),p=F("leakyreluAlpha",t,e,n);if(u){if(l&&f!==2)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!l&&f!==1)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[c,g]=F("args",t,e,n);return[r.fused.matMul({a:F("a",t,e,n),b:F("b",t,e,n),transposeA:F("transposeA",t,e,n),transposeB:F("transposeB",t,e,n),bias:c,activation:o,preluActivationWeights:g,leakyreluAlpha:p})];case"MatrixBandPart":return[r.linalg.bandPart(F("a",t,e,n),F("numLower",t,e,n),F("numUpper",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kne=(t,e,n,r=Po)=>{switch(t.op){case"EuclideanNorm":return[r.euclideanNorm(F("x",t,e,n),F("axis",t,e,n),F("keepDims",t,e,n))];case"FusedBatchNorm":case"FusedBatchNormV2":return[r.batchNorm(F("x",t,e,n),F("mean",t,e,n),F("variance",t,e,n),F("offset",t,e,n),F("scale",t,e,n),F("epsilon",t,e,n))];case"FusedBatchNormV3":return[r.batchNorm(F("x",t,e,n),F("mean",t,e,n),F("variance",t,e,n),F("offset",t,e,n),F("scale",t,e,n),F("epsilon",t,e,n))];case"LRN":return[r.localResponseNormalization(F("x",t,e,n),F("radius",t,e,n),F("bias",t,e,n),F("alpha",t,e,n),F("beta",t,e,n))];case"Softmax":return[r.softmax(F("x",t,e,n))];case"LogSoftmax":return[r.logSoftmax(F("x",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Yne=(t,e,n,r=Po)=>{switch(t.op){case"RaggedGather":{const{outputNestedSplits:a,outputDenseValues:o}=r.raggedGather(F("paramsNestedSplits",t,e,n),F("paramsDenseValues",t,e,n),F("indices",t,e,n),F("outputRaggedRank",t,e,n));return a.concat(o)}case"RaggedRange":{const{rtNestedSplits:a,rtDenseValues:o}=r.raggedRange(F("starts",t,e,n),F("limits",t,e,n),F("splits",t,e,n));return[a,o]}case"RaggedTensorToTensor":return[r.raggedTensorToTensor(F("shape",t,e,n),F("values",t,e,n),F("defaultValue",t,e,n),F("rowPartitionTensors",t,e,n),F("rowPartitionTypes",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Xne=(t,e,n,r=Po)=>{switch(t.op){case"Max":{const l=F("axis",t,e,n),f=F("keepDims",t,e,n);return[r.max(F("x",t,e,n),l,f)]}case"Mean":{const l=F("axis",t,e,n),f=F("keepDims",t,e,n);return[r.mean(F("x",t,e,n),l,f)]}case"Min":{const l=F("axis",t,e,n),f=F("keepDims",t,e,n);return[r.min(F("x",t,e,n),l,f)]}case"Sum":{const l=F("axis",t,e,n),f=F("keepDims",t,e,n);return[r.sum(F("x",t,e,n),l,f)]}case"All":{const l=F("axis",t,e,n),f=F("keepDims",t,e,n);return[r.all(F("x",t,e,n),l,f)]}case"Any":{const l=F("axis",t,e,n),f=F("keepDims",t,e,n);return[r.any(F("x",t,e,n),l,f)]}case"ArgMax":{const l=F("axis",t,e,n);return[r.argMax(F("x",t,e,n),l)]}case"ArgMin":{const l=F("axis",t,e,n);return[r.argMin(F("x",t,e,n),l)]}case"Prod":{const l=F("axis",t,e,n),f=F("keepDims",t,e,n);return[r.prod(F("x",t,e,n),l,f)]}case"Cumprod":{const l=F("axis",t,e,n),f=F("exclusive",t,e,n),p=F("reverse",t,e,n);return[r.cumprod(F("x",t,e,n),l,f,p)]}case"Cumsum":{const l=F("axis",t,e,n),f=F("exclusive",t,e,n),p=F("reverse",t,e,n);return[r.cumsum(F("x",t,e,n),l,f,p)]}case"Bincount":const a=F("x",t,e,n),o=F("weights",t,e,n),u=F("size",t,e,n);return[r.bincount(a,o,u)];case"DenseBincount":{const l=F("x",t,e,n),f=F("weights",t,e,n),p=F("size",t,e,n),c=F("binaryOutput",t,e,n);return[r.denseBincount(l,f,p,c)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qne=(t,e,n,r=Po)=>{switch(t.op){case"ConcatV2":case"Concat":{const a=F("n",t,e,n),o=F("axis",t,e,n);let u=F("tensors",t,e,n);return u=u.slice(0,a),[r.concat(u,o)]}case"Gather":{const a=F("x",t,e,n),o=F("indices",t,e,n);return[r.gather(a,r.cast(o,"int32"),0)]}case"GatherV2":{const a=F("axis",t,e,n),o=F("batchDims",t,e,n),u=F("x",t,e,n),l=F("indices",t,e,n);return[r.gather(u,r.cast(l,"int32"),a,o)]}case"Reverse":{const a=F("dims",t,e,n),o=[];for(let l=0;l<a.length;l++)a[l]&&o.push(l);const u=F("x",t,e,n);return[r.reverse(u,o)]}case"ReverseV2":{const a=F("axis",t,e,n),o=F("x",t,e,n);return[r.reverse(o,a)]}case"Slice":{const a=F("begin",t,e,n),o=F("size",t,e,n);return[r.slice(F("x",t,e,n),a,o)]}case"StridedSlice":{const a=F("begin",t,e,n),o=F("end",t,e,n),u=F("strides",t,e,n),l=F("beginMask",t,e,n),f=F("endMask",t,e,n),p=F("ellipsisMask",t,e,n),c=F("newAxisMask",t,e,n),g=F("shrinkAxisMask",t,e,n),y=F("x",t,e,n);return[r.stridedSlice(y,a,o,u,l,f,p,c,g)]}case"Pack":return Kn(()=>{const a=F("axis",t,e,n),o=F("tensors",t,e,n),u=o[0].shape,l=r.squeeze(o[0]).shape,f=o.map(p=>{const c=du(p.shape,u);if(!c&&!du(r.squeeze(p).shape,l))throw new Error("the input tensors shape does not match");return c?p:r.reshape(p,u)});return[r.stack(f,a)]});case"Unpack":{const a=F("axis",t,e,n),o=F("tensor",t,e,n);return r.unstack(o,a)}case"Tile":{const a=F("reps",t,e,n);return[r.tile(F("x",t,e,n),a)]}case"Split":case"SplitV":{const a=F("axis",t,e,n),o=F("numOrSizeSplits",t,e,n),u=F("x",t,e,n);return r.split(u,o,a)}case"ScatterNd":{const a=F("indices",t,e,n),o=F("values",t,e,n),u=F("shape",t,e,n);return[r.scatterND(a,o,u)]}case"GatherNd":{const a=F("x",t,e,n),o=F("indices",t,e,n);return[r.gatherND(a,o)]}case"SparseToDense":{const a=F("sparseIndices",t,e,n),o=F("outputShape",t,e,n),u=F("sparseValues",t,e,n),l=F("defaultValue",t,e,n);return[r.sparseToDense(a,u,o,u.dtype===l.dtype?l:r.cast(l,u.dtype))]}case"TensorScatterUpdate":{const a=F("indices",t,e,n),o=F("values",t,e,n),u=F("tensor",t,e,n);return[r.tensorScatterUpdate(u,a,o)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Jne=(t,e,n,r=Po)=>{switch(t.op){case"SparseFillEmptyRows":{const{outputIndices:a,outputValues:o,emptyRowIndicator:u,reverseIndexMap:l}=r.sparse.sparseFillEmptyRows(F("indices",t,e,n),F("values",t,e,n),F("denseShape",t,e,n),F("defaultValue",t,e,n));return[a,o,u,l]}case"SparseReshape":{const{outputIndices:a,outputShape:o}=r.sparse.sparseReshape(F("inputIndices",t,e,n),F("inputShape",t,e,n),F("newShape",t,e,n));return[a,o]}case"SparseSegmentMean":return[r.sparse.sparseSegmentMean(F("data",t,e,n),F("indices",t,e,n),F("segmentIds",t,e,n))];case"SparseSegmentSum":return[r.sparse.sparseSegmentSum(F("data",t,e,n),F("indices",t,e,n),F("segmentIds",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Zne=(t,e,n,r=Po)=>{switch(t.op){case"FFT":return[r.fft(F("x",t,e,n))];case"IFFT":return[r.ifft(F("x",t,e,n))];case"RFFT":return[r.rfft(F("x",t,e,n))];case"IRFFT":return[r.irfft(F("x",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ere=(t,e,n,r=Po)=>{switch(t.op){case"StaticRegexReplace":return[r.string.staticRegexReplace(F("input",t,e,n),F("pattern",t,e,n),F("rewrite",t,e,n),F("replaceGlobal",t,e,n))];case"StringNGrams":{const{nGrams:a,nGramsSplits:o}=r.string.stringNGrams(F("data",t,e,n),F("dataSplits",t,e,n),F("separator",t,e,n),F("nGramWidths",t,e,n),F("leftPad",t,e,n),F("rightPad",t,e,n),F("padWidth",t,e,n),F("preserveShortSequences",t,e,n));return[a,o]}case"StringSplit":{const{indices:a,values:o,shape:u}=r.string.stringSplit(F("input",t,e,n),F("delimiter",t,e,n),F("skipEmpty",t,e,n));return[a,o,u]}case"StringToHashBucketFast":return[r.string.stringToHashBucketFast(F("input",t,e,n),F("numBuckets",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tre=(t,e,n,r=Po)=>{switch(t.op){case"Cast":return[r.cast(F("x",t,e,n),F("dtype",t,e,n))];case"ExpandDims":{const a=F("axis",t,e,n);return[r.expandDims(F("x",t,e,n),a)]}case"Squeeze":{const a=F("axis",t,e,n);return[r.squeeze(F("x",t,e,n),a)]}case"Reshape":return[r.reshape(F("x",t,e,n),F("shape",t,e,n))];case"EnsureShape":return[r.ensureShape(F("x",t,e,n),F("shape",t,e,n))];case"MirrorPad":return[r.mirrorPad(F("x",t,e,n),F("padding",t,e,n),F("mode",t,e,n))];case"PadV2":case"Pad":return[r.pad(F("x",t,e,n),F("padding",t,e,n),F("constantValue",t,e,n))];case"SpaceToBatchND":{const a=F("blockShape",t,e,n),o=F("paddings",t,e,n);return[r.spaceToBatchND(F("x",t,e,n),a,o)]}case"BatchToSpaceND":{const a=F("blockShape",t,e,n),o=F("crops",t,e,n);return[r.batchToSpaceND(F("x",t,e,n),a,o)]}case"DepthToSpace":{const a=F("blockSize",t,e,n),o=F("dataFormat",t,e,n).toUpperCase();return[r.depthToSpace(F("x",t,e,n),a,o)]}case"BroadcastTo":return[r.broadcastTo(F("x",t,e,n),F("shape",t,e,n))];case"BroadcastArgs":return[r.broadcastArgs(F("s0",t,e,n),F("s1",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Z$(t,e,n,r,a=Kn){const o=((u,l,f)=>{switch(u.category){case"arithmetic":return a(()=>Nne(u,l,f));case"basic_math":return a(()=>Ane(u,l,f));case"control":return Pne(u,l,f);case"convolution":return a(()=>Lne(u,l,f));case"creation":return a(()=>Bne(u,l,f));case"dynamic":return zne(u,l,f);case"evaluation":return a(()=>Une(u,l,f));case"image":return a(()=>jne(u,l,f));case"graph":return a(()=>Hne(u,l,f));case"logical":return a(()=>Gne(u,l,f));case"matrices":return a(()=>qne(u,l,f));case"normalization":return a(()=>Kne(u,l,f));case"ragged":return a(()=>Yne(u,l,f));case"reduction":return a(()=>Xne(u,l,f));case"slice_join":return a(()=>Qne(u,l,f));case"sparse":return a(()=>Jne(u,l,f));case"spectral":return a(()=>Zne(u,l,f));case"string":return a(()=>ere(u,l,f));case"transformation":return a(()=>tre(u,l,f));case"hash_table":return Wne(u,l,f,r);case"custom":const p=j$(u.op);if(p&&p.customExecutor)return p.customExecutor(new Rne(u,l,f));throw TypeError(`Custom op ${u.op} is not registered.`);default:throw TypeError(`Unknown op '${u.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(t,e,n);return Wf(o)?o.then(u=>[].concat(u)):[].concat(o)}class eF{constructor(e={},n={},r={},a={},o){this.weightMap=e,this.tensorArrayMap=n,this.tensorListMap=r,this.functionMap=a,this.parseNodeNameCache=o,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,n){return{id:e,frameName:n,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let n=0;n<this.contexts.length-1;n++){const r=this.contexts.slice(0,this.contexts.length-n);e.push(this.contextIdforContexts(r))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map(n=>n.id===0&&n.iterationId===0?"":`${n.frameName}-${n.iterationId}`).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(this.contexts&&this.contexts.length>1)this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift();else throw new Error("Cannot exit frame, the context is empty")}nextIteration(){if(this.contexts&&this.contexts.length>0){this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}else throw new Error("Cannot increase frame iteration, the context is empty")}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const n in this.tensorArrayMap)this.tensorArrayMap[n].clearAndClose(e);for(const n in this.tensorListMap)this.tensorListMap[n].clearAndClose(e)}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tF(t,e,n,r){const a=new Set,o=[];let u=null,l=null;const f=new Set,p=new Set(Object.keys(t).map(y=>bi(y)[0]));r=r||[];const c=new Set(r.map(y=>bi(y.name)[0])),g=[...e];for(;g.length>0;){const y=g.pop();if((cp(y)||lre(y)||cre(y))&&u==null&&(u=y,l=u.children.map(S=>S.name).filter(S=>a.has(S))),a.add(y.name),n[y.name]==null&&!p.has(y.name)&&!c.has(y.name)){if(y.inputs.length===0){o.push(y.name);continue}y.inputs.forEach(S=>{f.has(S.name)||(f.add(S.name),g.push(S))})}}return{inputs:t,outputs:e,usedNodes:a,missingInputs:o,dynamicNode:u,syncInputs:l}}function nre(t,e){const{usedNodes:n,inputs:r}=e,a=Object.keys(r).map(_=>bi(_)[0]).map(_=>t.nodes[_]),o=t.initNodes||[],u=_=>n.has(typeof _=="string"?_:_.name);function l(_){return[...new Map(_.map(I=>[I.name,I])).values()]}const f=l([...a,...t.weights,...o]).filter(u),p=l([...f,...Object.values(t.nodes)]).filter(u),c=new Map(p.map(_=>[_.name,_])),g={};for(const _ of p){g[_.name]=g[_.name]||0;for(const I of _.children)u(I)||(g[I.name]=Number.POSITIVE_INFINITY),g[I.name]=(g[I.name]||0)+1}const y=Object.entries(g).filter(([,_])=>_===0).map(([_])=>_),S=[...y];for(;y.length>0;){const _=y.pop(),I=c.get(_);for(const R of I.children.filter(u))--g[R.name]===0&&(S.push(R.name),y.push(R.name))}const E=S.map(_=>c.get(_)),k=rre(E,f);return are(k,f),k}function rre(t,e){const n=new Map(t.map(u=>[u.name,u])),r=e.map(u=>u.name),a=new Set(r);for(;r.length>0;){const u=r.pop(),l=n.get(u);for(const f of l.children)!n.has(f.name)||a.has(f.name)||(a.add(f.name),r.push(f.name))}return t.filter(u=>a.has(u.name))}class o2 extends Error{constructor(e){super(`NodesExecutionOrderError: ${e}`)}}function are(t,e){const n=new Map(t.map((l,f)=>[l.name,f])),r=new Set(e.map(l=>l.name)),a=l=>r.has(typeof l=="string"?l:l.name),o=new Set(t.map(l=>l.name)),u=l=>o.has(typeof l=="string"?l:l.name);for(const l of t){for(const f of l.children.filter(u)){if(!n.has(f.name))throw new o2(`Child ${f.name} of node ${l.name} is unreachable.`);if(n.get(l.name)>n.get(f.name))throw new o2(`Node ${l.name} is scheduled to run after its child ${f.name}.`)}if(!a(l))for(const f of l.inputs){if(!n.has(f.name))throw new o2(`Input ${f.name} of node ${l.name} is unreachable.`);if(n.get(f.name)>n.get(l.name))throw new o2(`Node ${l.name} is scheduled to run before its input ${f.name}.`)}}}function ore(t){const e=new Map(t.map((l,f)=>[l.name,f])),n=Number.MAX_SAFE_INTEGER,r=t.map((l,f)=>cp(l)?n:f),a=l=>{const f=r[e.get(l.name)];return f??-1},o=t.map((l,f)=>l.children.map(a).reduce((p,c)=>Math.max(p,c),r[f])),u=new Map;for(let l=0;l<t.length;++l){const f=o[l];if(f===n)continue;const p=t[l],c=t[f];u.has(c.name)||u.set(c.name,[]),u.get(c.name).push(p)}return u}const sre=new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),ire=new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),ure=new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"]);function cp(t){return sre.has(t.op)}function lre(t){return ire.has(t.op)}function cre(t){return ure.has(t.op)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class s2{get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const n=Object.keys(e).map(r=>e[r].map(a=>a.id));this._weightIds=[].concat(...n),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get outputs(){return this._outputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get inputNodes(){return this._inputs.map(e=>e.signatureKey||e.name)}get outputNodes(){return this._outputs.map(e=>{const n=e.signatureKey||e.name;return e.defaultOutput?`${n}:${e.defaultOutput}`:n})}get functions(){return Object.keys(this._functions).reduce((e,n)=>(e[n]=this._functions[n].signature,e),{})}constructor(e,n){this.graph=e,this.parent=n,this.compiledMap=new Map,this.parseNodeNameCache=new Map,this._weightMap={},this.SEPARATOR=",",this._functions={},this._functionExecutorMap={},this.keepIntermediateTensors=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,e.functions!=null&&Object.keys(e.functions).forEach(r=>{this._functionExecutorMap[r]=new s2(e.functions[r],this)})}getCompilationKey(e,n){const r=e.map(o=>o.name).sort(),a=n.map(o=>o.name).sort();return r.join(this.SEPARATOR)+"--"+a.join(this.SEPARATOR)}compile(e,n){const r=tF(e,n,this.weightMap,this._initNodes),{missingInputs:a,dynamicNode:o,syncInputs:u}=r;if(o!=null)throw new Error(`This execution contains the node '${o.name}', which has the dynamic op '${o.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${u}]`);if(a.length>0){const p=n.map(g=>g.name),c=Object.keys(e);throw new Error(`Cannot compute the outputs [${p}] from the provided inputs [${c}]. Missing the following inputs: [${a}]`)}const l=nre(this.graph,r),f=ore(l);return{orderedNodes:l,nodeLiveUntilMap:f}}cloneAndKeepTensor(e){if(e==null)return null;const n=e.clone();return Il(n),n}cloneTensorList(e){return e?e.map(r=>this.cloneAndKeepTensor(r)):null}cloneTensorMap(e){return Object.fromEntries(Object.entries(e).map(([n,r])=>[n,this.cloneTensorList(r)]))}execute(e,n){this.disposeIntermediateTensors(),e=this.mapInputs(e);const r=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),n=this.mapOutputs(n),this.checkOutputs(n);const a=r.map(y=>this.graph.nodes[bi(y)[0]]),o=n.map(y=>bi(y)[0]),u=new Set(o);let l=o.map(y=>this.graph.nodes[y]);l.length===0&&(l=this._outputs);const f=this.getCompilationKey(a,l);let p=this.compiledMap.get(f);p==null&&(p=this.compile(e,l),this.compiledMap.set(f,p));try{this.keepIntermediateTensors=Ln().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(y){this.keepIntermediateTensors=!1,console.warn(y.message)}const c={},g={};return Kn(()=>{const y=new eF(this.weightMap,c,g,this.functionExecutorMap,this.parseNodeNameCache),S=Object.assign({},this.weightMap);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap)),Object.keys(e).forEach(I=>{const[R,A]=bi(I,y),O=[];O[A]=e[I],S[R]=O,this.keepIntermediateTensors&&(this.clonedTensorsMap[R]=this.cloneTensorList(O))});const E=this.getFrozenTensorIds(S),{orderedNodes:k,nodeLiveUntilMap:_}=p;for(const I of k){if(S[I.name])continue;const R=Z$(I,S,y,this._resourceManager);if(Wf(R))throw new Error(`The execution of the op '${I.op}' returned a promise. Please use model.executeAsync() instead.`);S[I.name]=R,this.keepIntermediateTensors&&(this.clonedTensorsMap[I.name]=this.cloneTensorList(R)),this.checkTensorForDisposalWithNodeLiveUntilInfo(I,S,y,E,u,_.get(I.name))}return this.parent==null&&y.dispose(E),n.map(I=>Fo(I,S,y))})}getFrozenTensorIds(e){const n=[].concat.apply([],Object.keys(e).map(r=>e[r]).map(r=>r.map(a=>a.id)));return new Set(n)}checkTensorForDisposal(e,n,r,a,o,u,l){if(!(cp(n)||u.has(e))){for(const f of r[e])f!=null&&(l[f.id]=(l[f.id]||0)+n.children.length);for(const f of n.inputs){if(cp(f))continue;const p=G$(f.name,r,a);if(p!=null)for(const c of p){if(!c||c.kept||o.has(c.id))continue;const g=l[c.id];g===1?(c.dispose(),delete l[c.id]):g!=null&&l[c.id]--}}}}checkTensorForDisposalWithNodeLiveUntilInfo(e,n,r,a,o,u){function l(f){return cp(f)||o.has(f.name)}if(!(cp(e)||u==null))for(const f of u){if(l(f))continue;const p=G$(f.name,n,r);for(const c of p)!c||c.kept||a.has(c.id)||c.dispose()}}async executeAsync(e,n){return this._executeAsync(e,n)}disposeIntermediateTensors(){this.clonedTensorsMap&&(Object.values(this.clonedTensorsMap).forEach(e=>{for(const n of e)n&&!n.isDisposed&&n.dispose()}),this.clonedTensorsMap=null)}getIntermediateTensors(){return this.clonedTensorsMap}async _executeAsync(e,n,r=!1,a={},o={}){this.disposeIntermediateTensors(),r||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),n=this.mapOutputs(n),this.checkOutputs(n));try{this.keepIntermediateTensors=Ln().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(y){this.keepIntermediateTensors=!1,console.warn(y.message)}const u=new eF(this.weightMap,a,o,this.functionExecutorMap,this.parseNodeNameCache);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap));const l=await this.executeWithControlFlow(e,u,n,r),f=n.map(y=>Fo(y,l,u)),p=f.map(y=>y.id),c=Object.keys(e).map(y=>e[y].id),g=new Set([...p,...c,...this.weightIds]);return Object.values(l).forEach(y=>{y.forEach(S=>{S&&!S.isDisposed&&!g.has(S.id)&&S.dispose()})}),this.parent==null&&u.dispose(g),f}async executeFunctionAsync(e,n,r){const a=e.reduce((o,u,l)=>(o[this.inputs[l].name]=u,o),{});return this._executeAsync(a,this.outputNodes,!0,n,r)}async executeWithControlFlow(e,n,r,a){const o=Object.keys(e),u=o.map(O=>this.graph.nodes[bi(O)[0]]),l=r.map(O=>bi(O)[0]),f=new Set(l);let p=l.map(O=>this.graph.nodes[O]);p.length===0&&(p=this._outputs);const{usedNodes:c,missingInputs:g,dynamicNode:y,syncInputs:S}=tF(e,p,this.weightMap,this._initNodes),E=[...u,...this.graph.weights,...this._initNodes||[]].map(O=>({node:O,contexts:n.currentContext})),k=Object.assign({},this.weightMap);Object.keys(e).forEach(O=>{const[L,U]=bi(O),j=[];j[U]=e[O],k[L]=j});const _={},I=this.getFrozenTensorIds(k),R={};for(;E.length>0;){const O=this.processStack(u,E,n,k,R,I,f,_,c);await Promise.all(O)}y==null&&!a&&console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const A=p.filter(O=>!cp(O)&&!Fo(O.name,k,n)).map(O=>O.name);if(A.length>0){let O="";throw y!=null&&(O=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${S}]`),new Error(`Cannot compute the outputs [${A}] from the provided inputs [${o}]. Consider providing the following inputs: [${g}]. ${O}`)}return k}processStack(e,n,r,a,o,u,l,f,p){const c=[];for(;n.length>0;){const g=n.pop();r.currentContext=g.contexts;let y="";if(g.node.op==="Enter"&&F("isConstant",g.node,a,r)&&([y]=Nc(g.node.name,r)),a[g.node.name]==null){const S=Z$(g.node,a,r,this._resourceManager);y||([y]=Nc(g.node.name,r));const E=r.currentContext;Wf(S)?c.push(S.then(k=>(a[y]=k,this.keepIntermediateTensors&&(this.clonedTensorsMap[y]=this.cloneTensorList(k)),r.currentContext=E,this.checkTensorForDisposal(y,g.node,a,r,u,l,f),this.processChildNodes(g.node,n,r,a,o,p),k))):(a[y]=S,this.keepIntermediateTensors&&(this.clonedTensorsMap[y]=this.cloneTensorList(S)),this.checkTensorForDisposal(y,g.node,a,r,u,l,f),this.processChildNodes(g.node,n,r,a,o,p))}else this.processChildNodes(g.node,n,r,a,o,p)}return c}processChildNodes(e,n,r,a,o,u){e.children.forEach(l=>{const[f]=Nc(l.name,r);o[f]||!u.has(l.name)||(l.op==="Merge"?l.inputNames.some(p=>!!Fo(p,a,r))&&(o[f]=!0,n.push({contexts:r.currentContext,node:l})):l.inputNames.every(p=>!!Fo(p,a,r))&&(o[f]=!0,n.push({contexts:r.currentContext,node:l})))})}dispose(){Object.keys(this.weightMap).forEach(e=>this.weightMap[e].forEach(n=>n.dispose()))}checkInputShapeAndType(e){Object.keys(e).forEach(n=>{const r=e[n],[a]=bi(n),o=this.graph.nodes[a];if(o.attrParams.shape&&o.attrParams.shape.value){const u=o.attrParams.shape.value,l=u.length===r.shape.length&&r.shape.every((f,p)=>u[p]===-1||u[p]===f);Z(l,()=>`The shape of dict['${o.name}'] provided in model.execute(dict) must be [${u}], but was [${r.shape}]`)}o.attrParams.dtype&&o.attrParams.dtype.value&&Z(r.dtype===o.attrParams.dtype.value,()=>`The dtype of dict['${o.name}'] provided in model.execute(dict) must be ${o.attrParams.dtype.value}, but was ${r.dtype}`)})}mapInputs(e){var n,r;const a={};for(const o in e){const u=(r=(n=this._signature)===null||n===void 0?void 0:n.inputs)===null||r===void 0?void 0:r[o];u!=null?a[u.name]=e[o]:a[o]=e[o]}return a}checkInputs(e){const n=Object.keys(e).filter(r=>{const[a]=bi(r);return this.graph.nodes[a]==null});if(n.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${n}] that are not part of graph`)}mapOutputs(e){return e.map(n=>{var r,a;const o=(a=(r=this._signature)===null||r===void 0?void 0:r.outputs)===null||a===void 0?void 0:a[n];return o!=null?o.name:n},{})}checkOutputs(e){e.forEach(n=>{const[r]=bi(n);if(!this.graph.nodes[r])throw new Error(`The output '${n}' is not found in the graph`)})}}class dre{constructor(e={},n={}){this.hashTableNameToHandle=e,this.hashTableMap=n}addHashTable(e,n){this.hashTableNameToHandle[e]=n.handle,this.hashTableMap[n.id]=n}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fre="?tfjs-format=file",pre="model.json";class hre{get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}constructor(e,n={},r=h$){this.modelUrl=e,this.loadOptions=n,this.version="n/a",this.io=r,n==null&&(this.loadOptions={}),this.resourceManager=new dre}findIOHandler(){const e=this.modelUrl;if(e.load!=null)this.handler=e;else if(this.loadOptions.requestInit!=null)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{const n=this.io.getLoadHandlers(e,this.loadOptions);if(n.length===0)n.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(n.length>1)throw new Error(`Found more than one (${n.length}) load handlers for URL '${[e]}'`);this.handler=n[0]}}load(){if(this.findIOHandler(),this.handler.load==null)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=this.handler.load();return Wf(e)?e.then(n=>this.loadSync(n)):this.loadSync(e)}loadSync(e){this.artifacts=e;const n=this.artifacts.modelTopology;let r=this.artifacts.signature;if(this.artifacts.userDefinedMetadata!=null){const o=this.artifacts.userDefinedMetadata;o.signature!=null&&(r=o.signature),o.structuredOutputKeys!=null&&(this.structuredOutputKeys=o.structuredOutputKeys)}this.signature=r,this.version=`${n.versions.producer}.${n.versions.minConsumer}`;const a=this.io.decodeWeights(this.artifacts.weightData,this.artifacts.weightSpecs);if(this.executor=new s2(q$.Instance.transformGraph(n,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(a),this.executor.resourceManager=this.resourceManager,e.modelInitializer!=null&&e.modelInitializer.node!=null){const o=q$.Instance.transformGraph(e.modelInitializer);this.initializer=new s2(o),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializerSignature=e.initializerSignature}return!0}async save(e,n){if(typeof e=="string"){const r=this.io.getSaveHandlers(e);if(r.length===0)throw new Error(`Cannot find any save handlers for URL '${e}'`);if(r.length>1)throw new Error(`Found more than one (${r.length}) save handlers for URL '${e}'`);e=r[0]}if(e.save==null)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}addStructuredOutputNames(e){if(this.structuredOutputKeys){const n=e instanceof Ya?[e]:e,r={};return n.forEach((a,o)=>r[this.structuredOutputKeys[o]]=a),r}return e}predict(e,n){const r=this.execute(e,this.outputNodes);return this.addStructuredOutputNames(r)}async predictAsync(e,n){const r=await this.executeAsync(e,this.outputNodes);return this.addStructuredOutputNames(r)}normalizeInputs(e){var n;if(!(e instanceof Ya)&&!Array.isArray(e)){const o=(n=this.signature)===null||n===void 0?void 0:n.inputs;if(o!=null)for(const u in o){const l=o[u];l.resourceId!=null&&(e[u]=this.resourceIdToCapturedInput[l.resourceId])}return e}e=Array.isArray(e)?e:[e];const r=Object.keys(this.resourceIdToCapturedInput).length;if(e.length+r!==this.inputNodes.length)throw new Error(`Input tensor count mismatch, the graph model has ${this.inputNodes.length-r} non-resource placeholders, while there are ${e.length} input tensors provided.`);let a=0;return this.inputNodes.reduce((o,u)=>{var l,f,p;const c=(p=(f=(l=this.signature)===null||l===void 0?void 0:l.inputs)===null||f===void 0?void 0:f[u])===null||p===void 0?void 0:p.resourceId;return c!=null?o[u]=this.resourceIdToCapturedInput[c]:o[u]=e[a++],o},{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}executeInitializerGraph(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.execute({},[]):this.initializer.execute({},Object.keys(this.initializerSignature.outputs))}async executeInitializerGraphAsync(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.executeAsync({},[]):this.initializer.executeAsync({},Object.keys(this.initializerSignature.outputs))}setResourceIdToCapturedInput(e){if(this.resourceIdToCapturedInput={},this.initializerSignature){const n=this.initializerSignature.outputs,r=Object.keys(n);for(let a=0;a<r.length;a++){const o=r[a],u=n[o];this.resourceIdToCapturedInput[u.resourceId]=e[a]}}}execute(e,n){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(this.executeInitializerGraph()),e=this.normalizeInputs(e),n=this.normalizeOutputs(n);const r=this.executor.execute(e,n);return r.length>1?r:r[0]}async executeAsync(e,n){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(await this.executeInitializerGraphAsync()),e=this.normalizeInputs(e),n=this.normalizeOutputs(n);const r=await this.executor.executeAsync(e,n);return r.length>1?r:r[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce((n,r)=>(n[r]=[e[r]],n),{})}dispose(){this.executor.dispose(),this.initializer&&(this.initializer.dispose(),this.resourceIdToCapturedInput&&ao(this.resourceIdToCapturedInput)),this.resourceManager.dispose()}}async function mre(t,e={},n=h$){if(t==null)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");e==null&&(e={}),e.fromTFHub&&typeof t=="string"&&(t=gre(t));const r=new hre(t,e,n);return await r.load(),r}function gre(t){return t.endsWith("/")||(t=t+"/"),`${t}${pre}${fre}`}/**
    * @license
    * Copyright 2023 Google LLC. All Rights Reserved.
    * Licensed under the Apache License, Version 2.0 (the "License");
    * you may not use this file except in compliance with the License.
    * You may obtain a copy of the License at
    *
    * http://www.apache.org/licenses/LICENSE-2.0
    *
    * Unless required by applicable law or agreed to in writing, software
    * distributed under the License is distributed on an "AS IS" BASIS,
    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    * See the License for the specific language governing permissions and
    * limitations under the License.
    * =============================================================================
    */var Bd=function(){return Bd=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},Bd.apply(this,arguments)};function Dc(t,e,n,r){return new(n||(n=Promise))((function(a,o){function u(p){try{f(r.next(p))}catch(c){o(c)}}function l(p){try{f(r.throw(p))}catch(c){o(c)}}function f(p){var c;p.done?a(p.value):(c=p.value,c instanceof n?c:new n((function(g){g(c)}))).then(u,l)}f((r=r.apply(t,[])).next())}))}function Oc(t,e){var n,r,a,o,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(f){return function(p){return(function(c){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return u.label++,{value:c[1],done:!1};case 5:u.label++,r=c[1],c=[0];continue;case 7:c=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!((a=a.length>0&&a[a.length-1])||c[0]!==6&&c[0]!==2)){u=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){u.label=c[1];break}if(c[0]===6&&u.label<a[1]){u.label=a[1],a=c;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(c);break}a[2]&&u.ops.pop(),u.trys.pop();continue}c=e.call(t,u)}catch(g){c=[6,g],r=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}})([f,p])}}}var nF=["rightEye","leftEye","noseTip","mouthCenter","rightEarTragion","leftEarTragion"],yT={modelType:"short",runtime:"mediapipe",maxFaces:1},vre=(function(){function t(e){var n=this;this.width=0,this.height=0,this.selfieMode=!1,this.faceDetectorSolution=new ine.FaceDetection({locateFile:function(r,a){if(e.solutionPath){var o=e.solutionPath.replace(/\/+$/,"");return"".concat(o,"/").concat(r)}return"".concat(a,"/").concat(r)}}),this.faceDetectorSolution.setOptions({selfieMode:this.selfieMode,model:e.modelType}),this.faceDetectorSolution.onResults((function(r){if(n.height=r.image.height,n.width=r.image.width,n.faces=[],r.detections!==null)for(var a=0,o=r.detections;a<o.length;a++){var u=o[a];n.faces.push(n.normalizedToAbsolute(u.landmarks,(l=u.boundingBox,f=void 0,p=void 0,c=void 0,f=l.xCenter-l.width/2,p=f+l.width,c=l.yCenter-l.height/2,{xMin:f,xMax:p,yMin:c,yMax:c+l.height,width:l.width,height:l.height})))}var l,f,p,c}))}return t.prototype.normalizedToAbsolute=function(e,n){var r=this;return{keypoints:e.map((function(a,o){return{x:a.x*r.width,y:a.y*r.height,name:nF[o]}})),box:{xMin:n.xMin*this.width,yMin:n.yMin*this.height,xMax:n.xMax*this.width,yMax:n.yMax*this.height,width:n.width*this.width,height:n.height*this.height}}},t.prototype.estimateFaces=function(e,n){return Dc(this,void 0,void 0,(function(){var r,a;return Oc(this,(function(o){switch(o.label){case 0:return n&&n.flipHorizontal&&n.flipHorizontal!==this.selfieMode&&(this.selfieMode=n.flipHorizontal,this.faceDetectorSolution.setOptions({selfieMode:this.selfieMode})),e instanceof Ya?(a=ImageData.bind,[4,Nte(e)]):[3,2];case 1:return r=new(a.apply(ImageData,[void 0,o.sent(),e.shape[1],e.shape[0]])),[3,3];case 2:r=e,o.label=3;case 3:return e=r,[4,this.faceDetectorSolution.send({image:e})];case 4:return o.sent(),[2,this.faces]}}))}))},t.prototype.dispose=function(){this.faceDetectorSolution.close()},t.prototype.reset=function(){this.faceDetectorSolution.reset(),this.width=0,this.height=0,this.faces=null,this.selfieMode=!1},t.prototype.initialize=function(){return this.faceDetectorSolution.initialize()},t})();function yre(t){return Dc(this,void 0,void 0,(function(){var e,n;return Oc(this,(function(r){switch(r.label){case 0:return e=(function(a){if(a==null)return Bd({},yT);var o=Bd({},a);return o.runtime="mediapipe",o.modelType==null&&(o.modelType=yT.modelType),o.maxFaces==null&&(o.maxFaces=yT.maxFaces),o})(t),[4,(n=new vre(e)).initialize()];case 1:return r.sent(),[2,n]}}))}))}function bre(t,e,n,r){var a=t.width,o=t.height,u=1,l=Math.cos(t.rotation),f=Math.sin(t.rotation),p=t.xCenter,c=t.yCenter,g=1/e,y=1/n,S=new Array(16);return S[0]=a*l*u*g,S[1]=-o*f*g,S[2]=0,S[3]=(-.5*a*l*u+.5*o*f+p)*g,S[4]=a*f*u*y,S[5]=o*l*y,S[6]=0,S[7]=(-.5*o*l-.5*a*f*u+c)*y,S[8]=0,S[9]=0,S[10]=a*g,S[11]=0,S[12]=0,S[13]=0,S[14]=0,S[15]=1,(function(E){if(E.length!==16)throw new Error("Array length must be 16 but got ".concat(E.length));return[[E[0],E[1],E[2],E[3]],[E[4],E[5],E[6],E[7]],[E[8],E[9],E[10],E[11]],[E[12],E[13],E[14],E[15]]]})(S)}function rF(t){return t instanceof Ya?{height:t.shape[0],width:t.shape[1]}:{height:t.height,width:t.width}}function aF(t){return t instanceof Ya?t:Ate(t)}function bT(t,e){Z(t.width!==0,(function(){return"".concat(e," width cannot be 0.")})),Z(t.height!==0,(function(){return"".concat(e," height cannot be 0.")}))}function Sre(t,e){var n=(function(r,a,o,u){var l=a-r,f=u-o,p=f/l;return{scale:p,offset:o-r*p}})(0,255,e[0],e[1]);return Kn((function(){return nn(dt(t,n.scale),n.offset)}))}function wre(t,e,n){var r=e.outputTensorSize,a=e.keepAspectRatio,o=e.borderMode,u=e.outputTensorFloatRange,l=rF(t),f=(function(y,S){return{xCenter:.5*y.width,yCenter:.5*y.height,width:y.width,height:y.height,rotation:0}})(l),p=(function(y,S,E){if(E===void 0&&(E=!1),!E)return{top:0,left:0,right:0,bottom:0};var k=S.height,_=S.width;bT(S,"targetSize"),bT(y,"roi");var I,R,A=k/_,O=y.height/y.width,L=0,U=0;return A>O?(I=y.width,R=y.width*A,U=(1-O/A)/2):(I=y.height/A,R=y.height,L=(1-A/O)/2),y.width=I,y.height=R,{top:U,left:L,right:L,bottom:U}})(f,r,a),c=bre(f,l.width,l.height),g=Kn((function(){var y=aF(t),S=rp((function(_,I,R){return bT(R,"inputResolution"),[1/R.width*_[0][0]*I.width,1/R.height*_[0][1]*I.width,_[0][3]*I.width,1/R.width*_[1][0]*I.height,1/R.height*_[1][1]*I.height,_[1][3]*I.height,0,0]})(c,l,r),[1,8]),E=o==="zero"?"constant":"nearest",k=Jw.transform(Rl(ya(y,"float32")),S,"bilinear",E,0,[r.height,r.width]);return u!=null?Sre(k,u):k}));return{imageTensor:g,padding:p,transformationMatrix:c}}function oF(t){t.reduceBoxesInLowestLayer==null&&(t.reduceBoxesInLowestLayer=!1),t.interpolatedScaleAspectRatio==null&&(t.interpolatedScaleAspectRatio=1),t.fixedAnchorSize==null&&(t.fixedAnchorSize=!1);for(var e=[],n=0;n<t.numLayers;){for(var r=[],a=[],o=[],u=[],l=n;l<t.strides.length&&t.strides[l]===t.strides[n];){var f=sF(t.minScale,t.maxScale,l,t.strides.length);if(l===0&&t.reduceBoxesInLowestLayer)o.push(1),o.push(2),o.push(.5),u.push(.1),u.push(f),u.push(f);else{for(var p=0;p<t.aspectRatios.length;++p)o.push(t.aspectRatios[p]),u.push(f);if(t.interpolatedScaleAspectRatio>0){var c=l===t.strides.length-1?1:sF(t.minScale,t.maxScale,l+1,t.strides.length);u.push(Math.sqrt(f*c)),o.push(t.interpolatedScaleAspectRatio)}}l++}for(var g=0;g<o.length;++g){var y=Math.sqrt(o[g]);r.push(u[g]/y),a.push(u[g]*y)}var S=0,E=0;if(t.featureMapHeight.length>0)S=t.featureMapHeight[n],E=t.featureMapWidth[n];else{var k=t.strides[n];S=Math.ceil(t.inputSizeHeight/k),E=Math.ceil(t.inputSizeWidth/k)}for(var _=0;_<S;++_)for(var I=0;I<E;++I)for(var R=0;R<r.length;++R){var A={xCenter:(I+t.anchorOffsetX)/E,yCenter:(_+t.anchorOffsetY)/S,width:0,height:0};t.fixedAnchorSize?(A.width=1,A.height=1):(A.width=a[R],A.height=r[R]),e.push(A)}n=l}return e}function sF(t,e,n,r){return r===1?.5*(t+e):t+(e-t)*n/(r-1)}function iF(t,e){var n=e[0],r=e[1];return[n*t[0]+r*t[1]+t[3],n*t[4]+r*t[5]+t[7]]}function Ere(t){return Kn((function(){var e=(function(a){return Kn((function(){return[Bn(a,[0,0,0],[1,-1,1]),Bn(a,[0,0,1],[1,-1,-1])]}))})(t),n=e[0],r=e[1];return{boxes:$o(r),logits:$o(n)}}))}function xre(t,e,n,r){return Dc(this,void 0,void 0,(function(){var a,o,u,l,f;return Oc(this,(function(p){switch(p.label){case 0:return t.sort((function(c,g){return Math.max.apply(Math,g.score)-Math.max.apply(Math,c.score)})),a=rp(t.map((function(c){return[c.locationData.relativeBoundingBox.yMin,c.locationData.relativeBoundingBox.xMin,c.locationData.relativeBoundingBox.yMax,c.locationData.relativeBoundingBox.xMax]}))),o=Qo(t.map((function(c){return c.score[0]}))),[4,Jw.nonMaxSuppressionAsync(a,o,e,n)];case 1:return[4,(u=p.sent()).array()];case 2:return l=p.sent(),f=t.filter((function(c,g){return l.indexOf(g)>-1})),ao([a,o,u]),[2,f]}}))}))}function Cre(t,e,n){return Dc(this,void 0,void 0,(function(){var r,a,o,u,l;return Oc(this,(function(f){switch(f.label){case 0:return r=t[0],a=t[1],o=(function(p,c,g){return Kn((function(){var y,S,E,k;g.reverseOutputOrder?(S=$o(Bn(p,[0,g.boxCoordOffset+0],[-1,1])),y=$o(Bn(p,[0,g.boxCoordOffset+1],[-1,1])),k=$o(Bn(p,[0,g.boxCoordOffset+2],[-1,1])),E=$o(Bn(p,[0,g.boxCoordOffset+3],[-1,1]))):(y=$o(Bn(p,[0,g.boxCoordOffset+0],[-1,1])),S=$o(Bn(p,[0,g.boxCoordOffset+1],[-1,1])),E=$o(Bn(p,[0,g.boxCoordOffset+2],[-1,1])),k=$o(Bn(p,[0,g.boxCoordOffset+3],[-1,1]))),S=nn(dt(Yn(S,g.xScale),c.w),c.x),y=nn(dt(Yn(y,g.yScale),c.h),c.y),g.applyExponentialOnBoxSize?(E=dt(_c(Yn(E,g.hScale)),c.h),k=dt(_c(Yn(k,g.wScale)),c.w)):(E=dt(Yn(E,g.hScale),c.h),k=dt(Yn(k,g.wScale),c.h));var _=zn(y,Yn(E,2)),I=zn(S,Yn(k,2)),R=nn(y,Yn(E,2)),A=nn(S,Yn(k,2)),O=Oo([Ge(_,[g.numBoxes,1]),Ge(I,[g.numBoxes,1]),Ge(R,[g.numBoxes,1]),Ge(A,[g.numBoxes,1])],1);if(g.numKeypoints)for(var L=0;L<g.numKeypoints;++L){var U=g.keypointCoordOffset+L*g.numValuesPerKeypoint,j=void 0,J=void 0;g.reverseOutputOrder?(j=$o(Bn(p,[0,U],[-1,1])),J=$o(Bn(p,[0,U+1],[-1,1]))):(J=$o(Bn(p,[0,U],[-1,1])),j=$o(Bn(p,[0,U+1],[-1,1])));var q=nn(dt(Yn(j,g.xScale),c.w),c.x),K=nn(dt(Yn(J,g.yScale),c.h),c.y);O=Oo([O,Ge(q,[g.numBoxes,1]),Ge(K,[g.numBoxes,1])],1)}return O}))})(a,e,n),u=Kn((function(){var p=r;return n.sigmoidScore?(n.scoreClippingThresh!=null&&(p=pM(r,-n.scoreClippingThresh,n.scoreClippingThresh)),p=ep(p)):p})),[4,kre(o,u,n)];case 1:return l=f.sent(),ao([o,u]),[2,l]}}))}))}function kre(t,e,n){return Dc(this,void 0,void 0,(function(){var r,a,o,u,l,f,p,c,g,y,S,E;return Oc(this,(function(k){switch(k.label){case 0:return r=[],[4,t.data()];case 1:return a=k.sent(),[4,e.data()];case 2:for(o=k.sent(),u=0;u<n.numBoxes;++u)if(!(n.minScoreThresh!=null&&o[u]<n.minScoreThresh||(l=u*n.numCoords,f=_re(a[l+0],a[l+1],a[l+2],a[l+3],o[u],n.flipVertically,u),(p=f.locationData.relativeBoundingBox).width<0||p.height<0))){if(n.numKeypoints>0)for((c=f.locationData).relativeKeypoints=[],g=n.numKeypoints*n.numValuesPerKeypoint,y=0;y<g;y+=n.numValuesPerKeypoint)S=l+n.keypointCoordOffset+y,E={x:a[S+0],y:n.flipVertically?1-a[S+1]:a[S+1]},c.relativeKeypoints.push(E);r.push(f)}return[2,r]}}))}))}function _re(t,e,n,r,a,o,u){return{score:[a],ind:u,locationData:{relativeBoundingBox:{xMin:e,yMin:o?1-n:t,xMax:r,yMax:o?1-t:n,width:r-e,height:n-t}}}}var Tre={reduceBoxesInLowestLayer:!1,interpolatedScaleAspectRatio:1,featureMapHeight:[],featureMapWidth:[],numLayers:4,minScale:.1484375,maxScale:.75,inputSizeHeight:128,inputSizeWidth:128,anchorOffsetX:.5,anchorOffsetY:.5,strides:[8,16,16,16],aspectRatios:[1],fixedAnchorSize:!0},Ire={reduceBoxesInLowestLayer:!1,interpolatedScaleAspectRatio:0,featureMapHeight:[],featureMapWidth:[],numLayers:1,minScale:.1484375,maxScale:.75,inputSizeHeight:192,inputSizeWidth:192,anchorOffsetX:.5,anchorOffsetY:.5,strides:[4],aspectRatios:[1],fixedAnchorSize:!0},ST={runtime:"tfjs",modelType:"short",maxFaces:1,detectorModelUrl:"https://tfhub.dev/mediapipe/tfjs-model/face_detection/short/1"},Rre={applyExponentialOnBoxSize:!1,flipVertically:!1,ignoreClasses:[],numClasses:1,numBoxes:896,numCoords:16,boxCoordOffset:0,keypointCoordOffset:4,numKeypoints:6,numValuesPerKeypoint:2,sigmoidScore:!0,scoreClippingThresh:100,reverseOutputOrder:!0,xScale:128,yScale:128,hScale:128,wScale:128,minScoreThresh:.5},Nre={applyExponentialOnBoxSize:!1,flipVertically:!1,ignoreClasses:[],numClasses:1,numBoxes:2304,numCoords:16,boxCoordOffset:0,keypointCoordOffset:4,numKeypoints:6,numValuesPerKeypoint:2,sigmoidScore:!0,scoreClippingThresh:100,reverseOutputOrder:!0,xScale:192,yScale:192,hScale:192,wScale:192,minScoreThresh:.6},Are=.3,Dre={outputTensorSize:{width:128,height:128},keepAspectRatio:!0,outputTensorFloatRange:[-1,1],borderMode:"zero"},Ore={outputTensorSize:{width:192,height:192},keepAspectRatio:!0,outputTensorFloatRange:[-1,1],borderMode:"zero"},i2,Mre=(function(){function t(e,n,r){this.detectorModel=n,this.maxFaces=r,e==="full"?(this.imageToTensorConfig=Ore,this.tensorsToDetectionConfig=Nre,this.anchors=oF(Ire)):(this.imageToTensorConfig=Dre,this.tensorsToDetectionConfig=Rre,this.anchors=oF(Tre));var a=Qo(this.anchors.map((function(f){return f.width}))),o=Qo(this.anchors.map((function(f){return f.height}))),u=Qo(this.anchors.map((function(f){return f.xCenter}))),l=Qo(this.anchors.map((function(f){return f.yCenter})));this.anchorTensor={x:u,y:l,w:a,h:o}}return t.prototype.dispose=function(){this.detectorModel.dispose(),ao([this.anchorTensor.x,this.anchorTensor.y,this.anchorTensor.w,this.anchorTensor.h])},t.prototype.reset=function(){},t.prototype.detectFaces=function(e,n){return n===void 0&&(n=!1),Dc(this,void 0,void 0,(function(){var r,a,o,u,l,f,p,c,g,y,S;return Oc(this,(function(E){switch(E.label){case 0:return e==null?(this.reset(),[2,[]]):(r=Kn((function(){var k=ya(aF(e),"float32");return n&&(k=$o(Jw.flipLeftRight(Rl(k,0)),[0])),k})),a=wre(r,this.imageToTensorConfig),o=a.imageTensor,u=a.transformationMatrix,l=this.detectorModel.execute(o,"Identity:0"),f=Ere(l),p=f.boxes,[4,Cre([c=f.logits,p],this.anchorTensor,this.tensorsToDetectionConfig)]);case 1:return(g=E.sent()).length===0?(ao([r,o,l,c,p]),[2,g]):[4,xre(g,this.maxFaces,Are)];case 2:return y=E.sent(),S=(function(k,_){k===void 0&&(k=[]);var I,R=(I=_,[].concat.apply([],I));return k.forEach((function(A){var O=A.locationData;O.relativeKeypoints.forEach((function(K){var z=iF(R,[K.x,K.y]),te=z[0],ee=z[1];K.x=te,K.y=ee}));var L=O.relativeBoundingBox,U=Number.MAX_VALUE,j=Number.MAX_VALUE,J=Number.MIN_VALUE,q=Number.MIN_VALUE;[[L.xMin,L.yMin],[L.xMin+L.width,L.yMin],[L.xMin+L.width,L.yMin+L.height],[L.xMin,L.yMin+L.height]].forEach((function(K){var z=iF(R,K),te=z[0],ee=z[1];U=Math.min(U,te),J=Math.max(J,te),j=Math.min(j,ee),q=Math.max(q,ee)})),O.relativeBoundingBox={xMin:U,xMax:J,yMin:j,yMax:q,width:J-U,height:q-j}})),k})(y,u),ao([r,o,l,c,p]),[2,S]}}))}))},t.prototype.estimateFaces=function(e,n){return Dc(this,void 0,void 0,(function(){var r,a;return Oc(this,(function(o){return r=rF(e),a=!!n&&n.flipHorizontal,[2,this.detectFaces(e,a).then((function(u){return u.map((function(l){for(var f=l.locationData.relativeKeypoints.map((function(E,k){return Bd(Bd({},E),{x:E.x*r.width,y:E.y*r.height,name:nF[k]})})),p=l.locationData.relativeBoundingBox,c=0,g=["width","xMax","xMin"];c<g.length;c++)p[g[c]]*=r.width;for(var y=0,S=["height","yMax","yMin"];y<S.length;y++)p[S[y]]*=r.height;return{keypoints:f,box:p}}))}))]}))}))},t})();function $re(t){return Dc(this,void 0,void 0,(function(){var e,n,r;return Oc(this,(function(a){switch(a.label){case 0:return e=(function(o){if(o==null)return Bd({},ST);var u=Bd({},o);return u.modelType==null&&(u.modelType=ST.modelType),u.maxFaces==null&&(u.maxFaces=ST.maxFaces),u.detectorModelUrl==null&&(u.modelType==="full"?u.detectorModelUrl="https://tfhub.dev/mediapipe/tfjs-model/face_detection/full/1":u.detectorModelUrl="https://tfhub.dev/mediapipe/tfjs-model/face_detection/short/1"),u})(t),n=typeof e.detectorModelUrl=="string"&&e.detectorModelUrl.indexOf("https://tfhub.dev")>-1,[4,mre(e.detectorModelUrl,{fromTFHub:n})];case 1:return r=a.sent(),[2,new Mre(e.modelType,r,e.maxFaces)]}}))}))}function Fre(t,e){return Dc(this,void 0,void 0,(function(){var n,r;return Oc(this,(function(a){if(t===i2.MediaPipeFaceDetector){if(r=void 0,(n=e)!=null){if(n.runtime==="tfjs")return[2,$re(n)];if(n.runtime==="mediapipe")return[2,yre(n)];r=n.runtime}throw new Error("Expect modelConfig.runtime to be either 'tfjs' "+"or 'mediapipe', but got ".concat(r))}throw new Error("".concat(t," is not a supported model name."))}))}))}(function(t){t.MediaPipeFaceDetector="MediaPipeFaceDetector"})(i2||(i2={}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var fr;(function(t){t[t.float32=0]="float32",t[t.int32=1]="int32",t[t.bool=2]="bool",t[t.string=3]="string",t[t.complex64=4]="complex64"})(fr||(fr={}));var fy;(function(t){t[t.linear=0]="linear",t[t.relu=1]="relu",t[t.relu6=2]="relu6",t[t.prelu=3]="prelu",t[t.leakyrelu=4]="leakyrelu",t[t.sigmoid=5]="sigmoid",t[t.elu=6]="elu"})(fy||(fy={}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let uF;function Pre(t){uF=t.wasm.cwrap(Wv,null,["number","array","number","number","array","number","number","number","number","number","number","number","number"])}function Lre(t){const{inputs:e,backend:n,attrs:r}=t,{a,b:o,bias:u,preluActivationWeights:l}=e;if(a.dtype!=="float32"||o.dtype!=="float32")throw new Error("_FusedMatMul for non non-float32 tensors not yet supported.");const{transposeA:f,transposeB:p,activation:c,leakyreluAlpha:g}=r,y=n.dataIdMap.get(a.dataId).id,S=n.dataIdMap.get(o.dataId).id;let E=0;if(u!=null){const J=n.dataIdMap.get(u.dataId);if(J.shape.length!==1)throw new Error(`_FusedMatMul only supports rank-1 bias but got rank ${J.shape.length}.`);E=J.id}const k=l==null?0:n.dataIdMap.get(l.dataId).id,_=fy[c];if(_==null)throw new Error(`${c} activation not yet supported for FusedConv2D in the wasm backend.`);const I=f?a.shape[2]:a.shape[1],R=p?o.shape[1]:o.shape[2],A=Xr(a.shape.slice(0,-2),o.shape.slice(0,-2)),O=n.makeOutput([...A,I,R],a.dtype),L=n.dataIdMap.get(O.dataId).id,U=new Uint8Array(new Int32Array(a.shape).buffer),j=new Uint8Array(new Int32Array(o.shape).buffer);return uF(y,U,a.shape.length,S,j,o.shape.length,f,p,_,E,k,g||0,L),O}const Bre={kernelName:Wv,backendName:"wasm",setupFunc:Pre,kernelFunc:Lre};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function or(t,e){let n;function r(o){n=o.wasm.cwrap(t,null,["number","number","number"])}function a(o){const{backend:u,inputs:{x:l}}=o,f=u.dataIdMap.get(l.dataId).id,p=u.makeOutput(l.shape,e||l.dtype),c=u.dataIdMap.get(p.dataId).id;return ze(p.shape)===0||n(f,fr[l.dtype],c),p}return{kernelName:t,backendName:"wasm",setupFunc:r,kernelFunc:a}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zre=or(Ak);/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ure=or(C1);/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hre=or(k1);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xa(t,e,n){let r;function a(u){r=u.wasm.cwrap(t,null,["number","array","number","number","array","number","number","number"])}function o(u){const{backend:l,inputs:f}=u,{a:p,b:c}=f,g=l.dataIdMap.get(p.dataId).id,y=l.dataIdMap.get(c.dataId).id,S=n??p.dtype,E=Xr(p.shape,c.shape),k=l.makeOutput(E,S);if(ze(E)===0)return k;const _=new Uint8Array(new Int32Array(p.shape).buffer),I=new Uint8Array(new Int32Array(c.shape).buffer),R=l.dataIdMap.get(k.dataId).id;return r(g,_,p.shape.length,y,I,c.shape.length,fr[p.dtype],R),k}return{kernelName:t,backendName:"wasm",setupFunc:a,kernelFunc:o}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vre=Xa(zv);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let lF;function Wre(t){lF=t.wasm.cwrap(_1,null,["array","number","number","number"])}function jre(t){const{inputs:e,backend:n}=t,r=n.makeOutput(e[0].shape,e[0].dtype);if(ze(r.shape)===0)return r;const a=e.map(l=>n.dataIdMap.get(l.dataId).id),o=new Uint8Array(new Int32Array(a).buffer),u=n.dataIdMap.get(r.dataId).id;return lF(o,a.length,fr[r.dtype],u),r}const Gre={kernelName:_1,backendName:"wasm",setupFunc:Wre,kernelFunc:jre};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function u2(t){const{inputs:{x:e},backend:n}=t;if(e.dtype==="string")return Wu(n.readSync(e.dataId),e.shape,e.dtype);const r=n.makeOutput(e.shape,e.dtype),a=n.typedArrayFromHeap(e);return n.typedArrayFromHeap(r).set(a),r}const qre={kernelName:pS,backendName:"wasm",kernelFunc:u2};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let cF;function Kre(t){cF=t.wasm.cwrap(Qh,null,["number","array","number","number","number","array","number"])}function zd(t){const{inputs:e,backend:n,attrs:r}=t,[a,o]=Xre(e.x.shape,r.perm);let u=!0;for(let E=0;E<o.length;E++)o[E]!==E&&(u=!1);const l=Yre(e.x.shape,r.perm),f={dataId:e.x.dataId,shape:a,dtype:e.x.dtype};if(u){const E=u2({inputs:e,backend:n});return E.shape=l,E}const p=n.makeOutput(l,f.dtype),c=n.dataIdMap.get(f.dataId).id,g=n.dataIdMap.get(p.dataId).id,y=new Uint8Array(new Int32Array(o).buffer),S=new Uint8Array(new Int32Array(f.shape).buffer);return cF(c,S,f.shape.length,fr[f.dtype],g,y,o.length),p}function Yre(t,e){const n=new Array(t.length);for(let r=0;r<n.length;r++)n[r]=t[e[r]];return n}function Xre(t,e){const n=[],r=[];for(let a=0;a<t.length;++a)t[a]!==1&&n.push(t[a]),t[e[a]]!==1&&r.push(e[a]);for(let a=0;a<r.length;++a){let o=-1;for(let u=0;u<r.length;++u)r[u]>=a&&(o===-1||r[o]>r[u])&&(o=u);r[o]=a}return[n,r]}const Qre={kernelName:Qh,backendName:"wasm",kernelFunc:zd,setupFunc:Kre};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ud(t,e,n){const r=t.shape,a=t.shape.length,o=ga(e,r);let u=o;const l=Gi(u,a);let f=null,p=!1;if(l!=null){const c=new Array(a);for(let S=0;S<c.length;S++)c[S]=r[l[S]];u=Ss(u.length,a),f=zd({inputs:{x:t},attrs:{perm:l},backend:n});const g=n.dataIdMap.get(t.dataId).id;n.dataIdMap.get(f.dataId).id!==g&&(p=!0)}return{transposed:f,originalAxes:o,axes:u,inputWasTransposed:p}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let dF;function Jre(t){dF=t.wasm.cwrap(T1,null,["number, number, number"])}function Zre(t){const{backend:e,inputs:n,attrs:r}=t,{axis:a,keepDims:o}=r,{x:u}=n;let f=e.dataIdMap.get(u.dataId).id,p=u;const{transposed:c,axes:g,originalAxes:y,inputWasTransposed:S}=Ud(u,a,e);if(S){const A=e.dataIdMap.get(c.dataId).id;p=c,f=A}const E=p.shape.length;bs("all",g,E);const[k,_]=ys(p.shape,g),I=ze(_),R=e.makeOutput(k,u.dtype);if(ze(p.shape)!==0){const A=e.dataIdMap.get(R.dataId).id;dF(f,I,A)}if(S&&e.disposeData(c.dataId),o){const A=Mo(R.shape,y);R.shape=A}return R}const eae={kernelName:T1,backendName:"wasm",setupFunc:Jre,kernelFunc:Zre};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let fF;function tae(t){fF=t.wasm.cwrap(I1,null,["number, number, number"])}function nae(t){const{backend:e,inputs:n,attrs:r}=t,{axis:a,keepDims:o}=r,{x:u}=n;let f=e.dataIdMap.get(u.dataId).id,p=u;const{transposed:c,axes:g,originalAxes:y,inputWasTransposed:S}=Ud(u,a,e);if(S){const A=e.dataIdMap.get(c.dataId).id;p=c,f=A}const E=p.shape.length;bs("any",g,E);const[k,_]=ys(p.shape,g),I=ze(_),R=e.makeOutput(k,u.dtype);if(ze(p.shape)!==0){const A=e.dataIdMap.get(R.dataId).id;fF(f,I,A)}if(S&&e.disposeData(c.dataId),o){const A=Mo(R.shape,y);R.shape=A}return R}const rae={kernelName:I1,backendName:"wasm",setupFunc:tae,kernelFunc:nae};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pF(t){let e;function n(a){e=a.wasm.cwrap(t,null,["number","number","number","number","number"])}function r(a){const{backend:o,inputs:u,attrs:l}=a,{axis:f}=l,{x:p}=u,c=o.dataIdMap.get(p.dataId).id;let g=c,y=p;const{transposed:S,axes:E,inputWasTransposed:k}=Ud(p,f,o);if(k){const L=o.dataIdMap.get(S.dataId).id;L!==c&&(y=S,g=L)}const _=y.shape.slice(0,-1),I=o.makeOutput(_,"int32"),R=o.dataIdMap.get(I.dataId).id,A=ze(I.shape),O=y.shape[E[0]];return e(g,fr[y.dtype],A,O,R),k&&o.disposeData(S.dataId),I}return{kernelName:t,backendName:"wasm",setupFunc:n,kernelFunc:r}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const aae=pF(Dk);/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oae=pF(Ok);/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sae=or(R1);/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iae=or(N1);/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uae=or(A1);/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lae=Xa(O1);/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cae=or(D1);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let hF;function dae(t){hF=t.wasm.cwrap(M1,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function fae(t){const{inputs:e,attrs:n,backend:r}=t,a=e.x,o=r.dataIdMap.get(a.dataId).id,{filterSize:u,strides:l,pad:f,dimRoundingMode:p}=n,c=Gu(a.shape,u,l,1,f,p),g=c.filterHeight,y=c.filterWidth,S=c.padInfo.top,E=c.padInfo.right,k=c.padInfo.bottom,_=c.padInfo.left,I=c.strideHeight,R=c.strideWidth,A=c.inChannels;if(c.dataFormat!=="channelsLast")throw new Error(`wasm backend does not support dataFormat:'${c.dataFormat}'. Please use 'channelsLast'.`);if(c.dilationWidth!==1||c.dilationHeight!==1)throw new Error(`was backend only supports average pooling with dilation = [1, 1], got [${c.dilationHeight}, ${c.dilationWidth}].`);const O=r.makeOutput(c.outShape,"float32"),L=r.dataIdMap.get(O.dataId).id;return hF(o,a.shape[0],a.shape[1],a.shape[2],g,y,S,E,k,_,I,R,A,L),O}const pae={kernelName:M1,backendName:"wasm",setupFunc:dae,kernelFunc:fae};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let mF;function hae(t){mF=t.wasm.cwrap("AvgPool3D",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function mae(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{filterSize:o,strides:u,pad:l,dimRoundingMode:f,dataFormat:p}=r,c=Fd(a.shape,o,u,1,l,f,p),g=n.makeOutput(c.outShape,a.dtype);return mF(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(g.dataId).id,c.batchSize,c.inChannels,c.inDepth,c.inHeight,c.inWidth,c.outDepth,c.outHeight,c.outWidth,c.strideDepth,c.strideHeight,c.strideWidth,c.dilationDepth,c.dilationHeight,c.dilationWidth,c.effectiveFilterDepth,c.effectiveFilterHeight,c.effectiveFilterWidth,c.padInfo.front,c.padInfo.top,c.padInfo.left),g}const gae={kernelName:Mk,backendName:"wasm",setupFunc:hae,kernelFunc:mae};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let gF;function vae(t){gF=t.wasm.cwrap("AvgPool3DGrad",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function yae(t){const{inputs:e,backend:n,attrs:r}=t,{dy:a,input:o}=e,{filterSize:u,strides:l,pad:f,dimRoundingMode:p}=r,c=Fd(o.shape,u,l,1,f,p),g=n.makeOutput(o.shape,o.dtype);return gF(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(g.dataId).id,c.batchSize,c.inChannels,c.inDepth,c.inHeight,c.inWidth,c.outDepth,c.outHeight,c.outWidth,c.strideDepth,c.strideHeight,c.strideWidth,c.dilationDepth,c.dilationHeight,c.dilationWidth,c.effectiveFilterDepth,c.effectiveFilterHeight,c.effectiveFilterWidth,c.padInfo.front,c.padInfo.top,c.padInfo.left,c.filterDepth,c.filterHeight,c.filterWidth),g}const bae={kernelName:aO,backendName:"wasm",setupFunc:vae,kernelFunc:yae};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let vF;function Sae(t){vF=t.wasm.cwrap("AvgPoolGrad",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function wae(t){const{inputs:e,backend:n,attrs:r}=t,{dy:a,input:o}=e,{filterSize:u,strides:l,pad:f}=r,p=Gu(o.shape,u,l,1,f),c=n.makeOutput(o.shape,o.dtype);return vF(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(c.dataId).id,p.batchSize,p.inChannels,p.inHeight,p.inWidth,p.outHeight,p.outWidth,p.strideHeight,p.strideWidth,p.dilationHeight,p.dilationWidth,p.effectiveFilterHeight,p.effectiveFilterWidth,p.padInfo.top,p.padInfo.left,p.filterHeight,p.filterWidth),c}const Eae={kernelName:rO,backendName:"wasm",setupFunc:Sae,kernelFunc:wae};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gs(t){const{inputs:e,attrs:n}=t,{x:r}=e,{shape:a}=n,o=ze(r.shape),u=Q4(a,o);return Z(o===ze(u),()=>`new shape: ${u}, old shape: ${r.shape}. New shape and old shape must have the same number of elements.`),t.backend.incRef(r.dataId),{dataId:r.dataId,shape:u,dtype:r.dtype}}const xae={kernelName:Jk,backendName:"wasm",kernelFunc:Gs};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let yF;function Cae(t){yF=t.wasm.cwrap($1,null,["number","array","number","number","array","number","number","number","number"])}function kae(t){const{inputs:e,backend:n,attrs:r}=t,{a,b:o}=e,{transposeA:u,transposeB:l}=r;if(a.dtype!=="float32"||o.dtype!=="float32")throw new Error("BatchMatMul for non non-float32 tensors not yet supported.");const f=a.shape.length,p=o.shape.length,c=u?a.shape[f-2]:a.shape[f-1],g=l?o.shape[p-1]:o.shape[p-2],y=u?a.shape[f-1]:a.shape[f-2],S=l?o.shape[p-2]:o.shape[p-1],E=a.shape.slice(0,-2),k=o.shape.slice(0,-2),_=ze(E),I=ze(k),A=Xr(a.shape.slice(0,-2),o.shape.slice(0,-2)).concat([y,S]);Z(c===g,()=>`Error in matMul: inner shapes (${c}) and (${g}) of Tensors with shapes ${a.shape} and ${o.shape} and transposeA=${u} and transposeB=${l} must match.`);const O=u?[_,c,y]:[_,y,c],L=l?[I,S,g]:[I,g,S],U=Gs({inputs:{x:a},backend:n,attrs:{shape:O}}),j=Gs({inputs:{x:o},backend:n,attrs:{shape:L}}),J=n.dataIdMap.get(U.dataId).id,q=n.dataIdMap.get(j.dataId).id,K=u?U.shape[2]:U.shape[1],z=l?j.shape[1]:j.shape[2],te=Math.max(_,I),ee=n.makeOutput([te,K,z],U.dtype),le=n.dataIdMap.get(ee.dataId).id,ce=new Uint8Array(new Int32Array(U.shape).buffer),ye=new Uint8Array(new Int32Array(j.shape).buffer);return yF(J,ce,U.shape.length,q,ye,j.shape.length,u,l,le),n.disposeData(U.dataId),n.disposeData(j.dataId),ee.shape=A,ee}const _ae={kernelName:$1,backendName:"wasm",setupFunc:Cae,kernelFunc:kae};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lt(t,e){Array.isArray(t)||(t=[t]),t.forEach(n=>{n!=null&&Z(n.dtype!=="complex64",()=>`${e} does not support complex64 tensors in the CPU backend.`)})}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tae(t){const e=new Float32Array(t.length);for(let n=0;n<t.length;++n)e[n]=Math.abs(t[n]);return e}const Iae={kernelName:Ak,backendName:"cpu",kernelFunc:t=>{const{x:e}=t.inputs,n=t.backend;Lt(e,"abs");let r=new Float32Array(ze(e.shape));const a=n.data.get(e.dataId).values;return r=Tae(a),n.makeOutput(r,e.shape,e.dtype)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ma(t){return(e,n,r,a,o)=>{const u=Xr(e,n),l=u.length,f=Bt(u),p=ze(u),c=ms(o,p),g=e.length,y=n.length,S=Bt(e),E=Bt(n),k=Ow(e,u),_=Ow(n,u);if(k.length+_.length===0)for(let I=0;I<c.length;++I)c[I]=t(r[I%r.length],a[I%a.length]);else for(let I=0;I<c.length;++I){const R=Xh(I,l,f),A=R.slice(-g);k.forEach(j=>A[j]=0);const O=Tl(A,g,S),L=R.slice(-y);_.forEach(j=>L[j]=0);const U=Tl(L,y,E);c[I]=t(r[O],a[U])}return[c,u]}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Si(t){const{inputs:e,backend:n}=t,{real:r,imag:a}=e,o=n.data.get(r.dataId).values,u=n.data.get(a.dataId).values,l=n.makeTensorInfo(r.shape,"complex64"),f=n.data.get(l.dataId);return f.complexTensorInfos={real:n.makeTensorInfo(r.shape,"float32",o),imag:n.makeTensorInfo(a.shape,"float32",u)},l}const Rae={kernelName:oO,backendName:"cpu",kernelFunc:Si};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function l2(t,e,n="float32"){if(n==="complex64"){const a=l2(t,e,"float32"),o=l2(t,e,"float32");return Si({inputs:{real:a,imag:o},backend:t})}const r=Xo(ze(e),n);return t.makeTensorInfo(e,n,r)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dl(t){const{inputs:e,backend:n}=t,{x:r}=e;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const Nae={kernelName:pS,backendName:"cpu",kernelFunc:Dl};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dp(t){const{inputs:e,backend:n}=t,{input:r}=e,a=n.data.get(r.dataId).complexTensorInfos.real,o=n.data.get(a.dataId).values;return n.makeTensorInfo(a.shape,a.dtype,o)}const Aae={kernelName:bO,backendName:"cpu",kernelFunc:dp};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dae(t,e,n,r){if(r==="int32"){const a=Int32Array.from(t);return[e,"int32",a]}if(r==="bool"){const a=Kf([0],n),[o,u]=Ma((l,f)=>l!==f?1:0)(e,[],t,a,"bool");return[u,"bool",o]}throw new Error(`Error in Cast: failed to cast ${n} to ${r}`)}function Hd(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{dtype:o}=r;if(o==="complex64"){if(a.dtype==="complex64")return Dl({inputs:{x:a},backend:n});const c=l2(n,a.shape,a.dtype),g=Hd({inputs:{x:a},backend:n,attrs:{dtype:"float32"}}),y=Si({inputs:{real:g,imag:c},backend:n});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(g),y}if(a.dtype==="complex64"){const c=dp({inputs:{input:a},backend:n}),g=Hd({inputs:{x:c},backend:n,attrs:{dtype:o}});return n.disposeIntermediateTensorInfo(c),g}if(!$j(a.dtype,o)){const c=Dl({inputs:{x:a},backend:n});return{dataId:c.dataId,shape:c.shape,dtype:o}}const u=n.data.get(a.dataId).values,[l,f,p]=Dae(u,a.shape,a.dtype,o);return n.makeTensorInfo(l,f,p)}const Oae={kernelName:L1,backendName:"cpu",kernelFunc:Hd};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oo(t,e,n,r){return n==null?({inputs:a,backend:o})=>{const{a:u,b:l}=a,f=o;Lt([u,l],t);const p=f.data.get(u.dataId).values,c=f.data.get(l.dataId).values,g=u.dtype==="string"?cy(p):p,y=u.dtype==="string"?cy(c):c,S=r||u.dtype,[E,k]=e(u.shape,l.shape,g,y,S);return f.makeTensorInfo(k,S,E)}:({inputs:a,backend:o})=>{const{a:u,b:l}=a,f=o;if(u.dtype==="complex64"||l.dtype==="complex64"){const p=Hd({inputs:{x:u},backend:f,attrs:{dtype:"complex64"}}),c=f.data.get(p.dataId),g=c.complexTensorInfos.real,y=c.complexTensorInfos.imag,S=f.data.get(g.dataId).values,E=f.data.get(y.dataId).values,k=Hd({inputs:{x:l},backend:f,attrs:{dtype:"complex64"}}),_=f.data.get(k.dataId),I=_.complexTensorInfos.real,R=_.complexTensorInfos.imag,A=f.data.get(I.dataId).values,O=f.data.get(R.dataId).values,[L,U,j]=n(u.shape,l.shape,S,E,A,O),J=f.makeTensorInfo(j,"float32",L),q=f.makeTensorInfo(j,"float32",U),K=Si({inputs:{real:J,imag:q},backend:f});return f.disposeIntermediateTensorInfo(p),f.disposeIntermediateTensorInfo(k),f.disposeIntermediateTensorInfo(J),f.disposeIntermediateTensorInfo(q),K}else{const p=f.data.get(u.dataId).values,c=f.data.get(l.dataId).values,g=r||u.dtype,[y,S]=e(u.shape,l.shape,p,c,g);return f.makeTensorInfo(S,g,y)}}}function wT(t){return(e,n,r,a,o,u)=>{const l=Xr(e,n),f=ze(l),p=l.length,c=Bt(l),g=ms("float32",f),y=ms("float32",f),S=Ow(e,l),E=Ow(n,l),k=pm(r,a),_=pm(o,u),I=e.length,R=Bt(e),A=n.length,O=Bt(n);if(S.length+E.length===0)for(let L=0;L<g.length;L++){const U=L%k.length,j=L%_.length,J=t(k[U*2],k[U*2+1],_[j*2],_[j*2+1]);g[L]=J.real,y[L]=J.imag}else for(let L=0;L<g.length;L++){const U=Xh(L,p,c),j=U.slice(-I);S.forEach(te=>j[te]=0);const J=Tl(j,I,R),q=U.slice(-A);E.forEach(te=>q[te]=0);const K=Tl(q,A,O),z=t(k[J*2],k[J*2+1],_[K*2],_[K*2+1]);g[L]=z.real,y[L]=z.imag}return[g,y,l]}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Mae=Ma(((t,e)=>t+e)),$ae=wT(((t,e,n,r)=>({real:t+n,imag:e+r}))),hm=oo(zv,Mae,$ae),Fae={kernelName:zv,backendName:"cpu",kernelFunc:hm};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bF(t,e,n,r,a){const o=ze(r),u=Xo(a,n);for(let l=0;l<t.length;l++){const f=t[l];if(f<0)throw new Error("Input x must be non-negative!");f>=a||(o>0?u[f]+=e[l]:u[f]+=1)}return u}function Pae(t,e,n,r=!1){const a=t.shape[0],o=t.shape[1],u=qn([a,n],e.dtype);for(let l=0;l<a;l++)for(let f=0;f<o;f++){const p=t.get(l,f);if(p<0)throw new Error("Input x must be non-negative!");p>=n||(r?u.set(1,l,p):e.size>0?u.set(u.get(l,p)+e.get(l,f),l,p):u.set(u.get(l,p)+1,l,p))}return u}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Lae=Ma(((t,e)=>t&e)),Bae=oo(P1,Lae),zae={kernelName:P1,backendName:"cpu",kernelFunc:Bae};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vd(t){return(e,n,r)=>{const a=Ka(n,e.length);for(let o=0;o<e.length;++o)a[o]=t(e[o],r);return a}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ar(t,e,n){const r=Vd(e);return Wd(t,r,n)}function Wd(t,e,n){return({inputs:r,attrs:a,backend:o})=>{const{x:u}=r;Lt(u,t);const l=o,f=l.data.get(u.dataId).values;let p;if(u.dtype==="string"){if(!Array.isArray(f))throw new Error("String tensor's value was not an instance of Array");p=cy(f)}else p=f;const c=n||u.dtype,g=e(p,c,a);return l.makeTensorInfo(u.shape,c,g)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Uae=Vd(t=>Math.ceil(t)),Hae=Wd(B1,Uae),Vae={kernelName:B1,backendName:"cpu",kernelFunc:Hae};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SF(t,e,n,r){const a=Ka(n,ze(e));if(r&&n!=="string"){let o=0;t.forEach(u=>{const l=ze(u.shape);a.set(u.vals,o),o+=l})}else{let o=0;t.forEach(u=>{const l=n==="string"?cy(u.vals):u.vals;let f=0;for(let p=0;p<u.shape[0];++p){const c=p*e[1]+o;for(let g=0;g<u.shape[1];++g)a[c+g]=l[f++]}o+=u.shape[1]})}return a}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Wae=Ma((t,e)=>t===e?1:0),wF=oo(rS,Wae,null,"bool"),jae={kernelName:rS,backendName:"cpu",kernelFunc:wF};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gae=Vd(t=>Math.exp(t)),EF=Wd(aS,Gae,"float32"),qae={kernelName:aS,backendName:"cpu",kernelFunc:EF};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kae=Vd(t=>Math.expm1(t)),Yae=Wd(oS,Kae),Xae={kernelName:oS,backendName:"cpu",kernelFunc:Yae};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qae=Vd(t=>Math.floor(t)),Jae=Wd(iS,Qae),Zae={kernelName:iS,backendName:"cpu",kernelFunc:Jae};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eoe=Ma((t,e)=>Math.floor(t/e)),toe=oo(uS,eoe,null,"int32"),noe={kernelName:uS,backendName:"cpu",kernelFunc:toe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function roe(t,e,n,r,a,o,u,l,f){const p=qn([r,o],n);for(let c=0;c<r;c++){const g=[];let y=0;for(let S=0;S<a;S++){const E=t[c*a+S];y+=E*u[S],g.push(E)}if(y<0||y>=f/o)throw new Error(`Invalid indices: ${g} does not index into ${l}`);for(let S=0;S<o;S++)p.values[c*o+S]=e.get(...e.indexToLoc(y*o+S))}return p}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aoe(t,e,n){const r=qn(n,t.dtype);for(let a=0;a<r.size;++a){const u=r.indexToLoc(a).slice(),l=u[0],f=u[2],p=e.locToIndex([l,f]);u[2]=e.values[p];const c=t.locToIndex(u);0<=c&&c<t.values.length&&(r.values[a]=t.values[c])}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ooe=Ma((t,e)=>t>e?1:0),soe=oo(dS,ooe,null,"bool"),ioe={kernelName:dS,backendName:"cpu",kernelFunc:soe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uoe=Ma((t,e)=>t>=e?1:0),loe=oo(fS,uoe,null,"bool"),coe={kernelName:fS,backendName:"cpu",kernelFunc:loe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const doe=Ma((t,e)=>t<e?1:0),foe=oo(yS,doe,null,"bool"),poe={kernelName:yS,backendName:"cpu",kernelFunc:foe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hoe=Ma((t,e)=>t<=e?1:0),moe=oo(bS,hoe,null,"bool"),goe={kernelName:bS,backendName:"cpu",kernelFunc:moe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function voe(t,e,n){const r=(e-t)/(n-1),a=Xo(n,"float32");a[0]=t;for(let o=1;o<a.length;o++)a[o]=a[o-1]+r;return a}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yoe=Vd(t=>Math.log(t)),boe=Wd(wS,yoe),Soe={kernelName:wS,backendName:"cpu",kernelFunc:boe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function woe(t,e,n,r){const a=ms(r,ze(n));for(let o=0;o<a.length;++o){const u=o*e;let l=t[u];for(let f=0;f<e;++f){const p=t[u+f];(Number.isNaN(p)||p>l)&&(l=p)}a[o]=l}return a}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Eoe=Ma(((t,e)=>Math.max(t,e))),xoe=oo(IS,Eoe),Coe={kernelName:IS,backendName:"cpu",kernelFunc:xoe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const koe=Ma(((t,e)=>Math.min(t,e))),_oe=oo(DS,koe),Toe={kernelName:DS,backendName:"cpu",kernelFunc:_oe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xF=Ma(((t,e)=>t*e)),Ioe=wT(((t,e,n,r)=>({real:t*n-e*r,imag:t*r+e*n}))),c2=oo(FS,xF,Ioe),Roe={kernelName:FS,backendName:"cpu",kernelFunc:c2};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Noe(t,e,n){const r=y_(-1,n);return xF([],e,r,t,n)}function Aoe(t){const{inputs:e,backend:n}=t,{x:r}=e;Lt(r,"neg");const a=n.data.get(r.dataId).values,[o,u]=Noe(a,r.shape,r.dtype);return n.makeTensorInfo(u,r.dtype,o)}const Doe={kernelName:Kk,backendName:"cpu",kernelFunc:Aoe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ooe=Ma(((t,e)=>t!==e?1:0)),Moe=oo(PS,Ooe,null,"bool"),$oe={kernelName:PS,backendName:"cpu",kernelFunc:Moe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CF(t,e,n,r,a){const o=e.length,u=ze(e),l=Bt(e),f=Bt(a),p=ms(n,ze(a));for(let c=0;c<u;++c){const g=Xh(c,o,l),y=new Array(g.length);for(let E=0;E<y.length;E++)y[E]=g[r[E]];const S=Tl(y,o,f);p[S]=t[c]}return p}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qs(t){const{inputs:e,attrs:n,backend:r}=t,{x:a}=e,{perm:o}=n;Lt(a,"transpose");const u=a.shape.length,l=new Array(u);for(let g=0;g<l.length;g++)l[g]=a.shape[o[g]];const f=r.data.get(a.dataId).values,p=CF(f,a.shape,a.dtype,o,l);return{dataId:r.write(p,l,a.dtype),shape:l,dtype:a.dtype}}const Foe={kernelName:Qh,backendName:"cpu",kernelFunc:qs};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Poe(t,e,n,r){const[a,o]=ys(t,r),u=Zh(e,"int32"),l=Xo(ze(a),u),f=ze(o);for(let p=0;p<l.length;++p){const c=p*f;let g=1;for(let y=0;y<f;++y)g*=n[c+y];l[p]=g}return{outVals:l,outShape:a,outDtype:u}}function Loe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{axis:o,keepDims:u}=r;Lt(a,"prod");const l=a.shape.length,f=ga(o,a.shape),p=Gi(f,l);let c=f,g=a;const y=[];p!=null&&(g=qs({inputs:{x:a},backend:n,attrs:{perm:p}}),y.push(g),c=Ss(c.length,l));const S=n.data.get(g.dataId).values,{outVals:E,outShape:k,outDtype:_}=Poe(g.shape,g.dtype,S,c);let I=k;return u&&(I=Mo(k,f)),y.forEach(R=>n.disposeIntermediateTensorInfo(R)),n.makeTensorInfo(I,_,E)}const Boe={kernelName:jS,backendName:"cpu",kernelFunc:Loe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zoe(t,e,n){t.forEach((r,a)=>{if(r<0||r>=n){const o=Xh(a,e.length,Bt(e)).join(",");throw new Error(`indices[${o}] = ${r} is not in [0, ${n})`)}})}function Uoe(t,e){for(let n=0;n<t.length;++n){const r=t[n],a=n===t.length-1?e:t[n+1].length;if(r.length===0)throw new Error("Ragged splits may not be empty");if(r[0]<0)throw new Error("Ragged splits must be non-negative");if(r[r.length-1]>a)throw new Error("Ragged splits must not point past values");for(let o=1;o<r.length;++o)if(r[o-1]>r[o])throw new Error("Ragged splits must be sorted in ascending order")}}function Hoe(t,e,n,r){const a=[];let o=0;const u=e.length-1+n.length,l=new Array(u).fill(null).map(()=>[0]);Uoe(n,r);let f=1;for(let p=0;p<e.length-1;++p){f*=e[p];const c=e[p+1];for(let g=1;g<f+1;++g)l[p].push(g*c)}for(let p=0;p<t.length;++p){let c=t[p],g=t[p]+1;for(let y=0;y<n.length;++y){const S=n[y],E=y+e.length-1;if(E>=0){const k=l[E],_=k[k.length-1]-S[c];for(let I=c;I<g;++I)l[E].push(S[I+1]+_)}c=S[c],g=S[g]}g!==c&&(a.push([c,g]),o+=g-c)}return{outSplits:l,valueSlices:a,numValues:o}}function Voe(t){const e=[];for(let n=0;n<t.length;++n){const r=t[n].length,a=Ka("int32",r);e.push(a),t[n].forEach((o,u)=>a[u]=o)}return e}function kF(t,e){const n=t.slice(0,e);for(;n.length<e;)n.push(1);for(let r=e;r<t.length;r++)n[e-1]*=t[r];return n}function Woe(t,e,n,r,a,o){const u=kF(e,2)[1],l=kF(o,2)[1];let f=0;for(const p of n)for(let c=p[0];c<p[1];++c){for(let g=0;g<r;++g)a[f*l+g]=t[c*u+g];++f}}function joe(t,e,n,r,a){const o=e.slice();o[0]=a;const u=Ka(n,ze(o)),l=t.length,f=l===0?0:l/e[0];return Woe(t,e,r,f,u,o),[u,o]}function Goe(t,e,n,r,a,o,u,l){if(t.length===0)throw new Error("paramsNestedSplits must be non empty");if(e[0].length===0)throw new Error("Split tensors must not be scalars");const f=e[0][0]-1;if(zoe(o,u,f),r.length===0)throw new Error("params.rank must be nonzero");const p=r[0],{outSplits:c,valueSlices:g,numValues:y}=Hoe(o,u,t,p),S=Voe(c),E=joe(n,r,a,g,y);return[S,E[0],E[1]]}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _F=2147483647;function qoe(t,e,n,r,a,o,u){if(e.length>1)throw new Error("starts must be a scalar or vector");if(a.length>1)throw new Error("limits must be a scalar or vector");if(u.length>1)throw new Error("deltas must be a scalar or vector");const l=e.length===0,f=a.length===0,p=u.length===0,c=[];l||c.push(e[0]),f||c.push(a[0]),p||c.push(u[0]);for(let _=1;_<c.length;++_)if(c[_]!==c[_-1])throw new Error("starts, limits, and deltas must have the same shape");const g=c.length===0?1:c[0],y=Ka("int32",g+1);y[0]=0;for(let _=0;_<g;++_){const I=l?t[0]:t[_],R=f?r[0]:r[_],A=p?o[0]:o[_];if(A===0)throw new Error("Requires delta != 0");let O;if(A>0&&R<I||A<0&&R>I)O=0;else if(O=Math.ceil(Math.abs((R-I)/A)),O>_F)throw new Error(`Requires ((limit - start) / delta) <= ${_F}`);y[_+1]=y[_]+O}const S=y[g],E=Ka(n,S);let k=0;for(let _=0;_<g;++_){const I=y[_+1]-y[_];let R=l?t[0]:t[_];const A=p?o[0]:o[_];for(let O=0;O<I;++O)E[k++]=R,R+=A}return[y,E]}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var vu=Al;class d2{constructor(e,n,r,a,o,u,l,f,p,c){this.shape=e,this.shapeShape=n,this.values=r,this.valuesShape=a,this.valuesDType=o,this.defaultValue=u,this.defaultValueShape=l,this.rowPartitionValues=f,this.rowPartitionValuesShapes=p,this.rowPartitionTypes=Fte(c),this.raggedRank=Pte(this.rowPartitionTypes)}getRowPartitionTypeByDimension(e){return this.rowPartitionTypes[0]===vu.FIRST_DIM_SIZE?this.rowPartitionTypes[e+1]:this.rowPartitionTypes[e]}getRowPartitionTensor(e){return this.rowPartitionTypes[0]===vu.FIRST_DIM_SIZE?this.rowPartitionValues[e+1]:this.rowPartitionValues[e]}getMaxWidth(e){const n=this.getRowPartitionTensor(e-1);switch(this.getRowPartitionTypeByDimension(e-1)){case vu.VALUE_ROWIDS:return d2.getMaxWidthValueRowID(n);case vu.ROW_SPLITS:return d2.getMaxWidthRowSplit(n);default:throw new Error(`Cannot handle partition type ${vu[this.getRowPartitionTypeByDimension(e-1)]}`)}}static getMaxWidthRowSplit(e){const n=e.length;if(n===0||n===1)return 0;let r=0;for(let a=0;a<n-1;++a){const o=e[a+1]-e[a];o>r&&(r=o)}return r}static getMaxWidthValueRowID(e){const n=e.length;if(n===0)return 0;let r=0,a=e[0],o=0;for(let u=1;u<n;++u){const l=e[u];l!==a&&(a=l,o=Math.max(u-r,o),r=u)}return Math.max(n-r,o)}tensorShapeFromTensor(e,n,r=!0){if(n.length===0){if(e[0]===-1)return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return IF(e,r)}calculateOutputSize(e){const n=this.valuesShape,r=this.defaultValueShape;Lte(r,n);const a=this.tensorShapeFromTensor(this.shape,this.shapeShape),u=$te(this.raggedRank,a,n);u[0]<0&&(u[0]=e);for(let l=1;l<=this.raggedRank;++l)u[l]<0&&(u[l]=this.getMaxWidth(l));return u}calculateFirstParentOutputIndex(e,n,r){const a=Math.min(e,r),o=[];let u=0;for(let l=0;l<a;++l,u+=n)o.push(u);for(let l=a;l<e;++l)o.push(-1);return Z(o.length===e,()=>"Final length of result must be equal to firstDimension."),o}calculateOutputIndexRowSplit(e,n,r,a){const o=e.length,u=[];for(let l=0;l<o-1;++l){const f=e[l+1]-e[l];let p=Math.min(a,f),c=n[l];c===-1&&(p=0);for(let g=0;g<p;++g)u.push(c),c+=r;for(let g=0;g<f-p;++g)u.push(-1)}if(o>0&&u.length!==e[o-1])throw new Error("Invalid row split size.");return u}calculateOutputIndexValueRowID(e,n,r,a){const o=e.length,u=[];if(o===0)return[];let l=0,f=e[0];if(f>=n.length)throw new Error(`Got currentValueRowId=${f}, which is not less than ${n.length}`);let p=n[f];u.push(p);for(let c=1;c<o;++c){const g=e[c];if(g===f)p>=0&&(++l,l<a?p+=r:p=-1);else{if(l=0,f=g,g>=n.length)throw new Error(`Got nextValueRowId=${g} which is not less than ${n.length}`);p=n[g]}u.push(p)}if(u.length!==e.length)throw new Error("Invalid row ids.");return u}calculateOutputIndex(e,n,r,a){const o=this.getRowPartitionTensor(e),u=this.getRowPartitionTypeByDimension(e);switch(u){case vu.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(o,n,r,a);case vu.ROW_SPLITS:if(o.length-1>n.length)throw new Error(`Row partition size is greater than output size: ${o.length-1} > ${n.length}`);return this.calculateOutputIndexRowSplit(o,n,r,a);default:throw new Error(`Unsupported partition type: ${vu[u]}`)}}getFirstDimensionSize(){const e=this.rowPartitionValues[0];if(this.rowPartitionTypes.length===0)throw new Error("No row_partition_types given.");const n=this.rowPartitionTypes[0];switch(n){case vu.FIRST_DIM_SIZE:return e[0];case vu.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case vu.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error(`Cannot handle type ${vu[n]}`)}}compute(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");const n=this.getFirstDimensionSize(),r=this.calculateOutputSize(n),a=new Array(this.raggedRank+1);a[a.length-1]=1;for(let f=a.length-2;f>=0;--f)a[f]=a[f+1]*r[f+1];const o=IF(r,!1),u=Ka(this.valuesDType,ze(o));if(a[0]*r[0]>0){let f=this.calculateFirstParentOutputIndex(n,a[0],r[0]);for(let p=1;p<=this.raggedRank;++p)f=this.calculateOutputIndex(p-1,f,a[p],r[p]);this.setOutput(this.raggedRank,f,u,o)}return[o,u]}setOutput(e,n,r,a){if(r.length===0)return;const o=this.values,u=r;let l=a.slice();l=l.slice(e+1);const f=ze(l),p=n.length;let c=this.defaultValue;if(c.length!==f&&c.length!==1){const E=this.defaultValueShape;Kn(()=>{const k=Ge(c,E);c=ty(k,l).dataSync()})}let g=0,y=0,S=0;for(let E=0;E<=p;++E){let k=E<p?n[E]:-1;if(k===S){++S;continue}if(y<S){const _=o.subarray(g*f),I=u.subarray(y*f),R=(S-y)*f;TF(I,_,R)}if(E>=p){const _=r.length;k=Math.floor(_/f)}if(k>S)if(this.defaultValue.length===1)u.subarray(S*f,k*f).fill(this.defaultValue[0]),S=k;else for(;k>S;){const _=u.slice(S*f);TF(_,c,f),++S}k<0?(g=E+1,y=S):(g=E,y=S,S=y+1)}}}function TF(t,e,n){for(let r=0;r<n;r++)t[r]=e[r]}function IF(t,e){const n=[];for(let r of t){if(r<0){if(!e)throw new Error(`Dimension ${r} must be >= 0`);if(r<-1)throw new Error(`Dimension ${r} must be >= -1`);r=-1}n.push(r)}return n}function Koe(t,e,n,r,a,o,u,l,f,p){return new d2(t,e,n,r,a,o,u,l,f,p).compute()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RF(t,e,n,r){const a=t===e,o=t<e&&n<0,u=e<t&&n>1;if(a||o||u)return Xo(0,r);const l=Math.abs(Math.ceil((e-t)/n)),f=Xo(l,r);e<t&&n===1&&(n=-1),f[0]=t;for(let p=1;p<f.length;p++)f[p]=f[p-1]+n;return f}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Yoe=Vd(t=>1/Math.sqrt(t)),Xoe=Wd(ZS,Yoe),Qoe={kernelName:ZS,backendName:"cpu",kernelFunc:Xoe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mm(t,e,n,r,a,o,u,l,f,p){const c=[r/a,a],g=t.values,y=e.values;if(r===0)return qn(n,e.dtype);const S=f instanceof ro?f:qn(c,e.dtype);typeof f=="string"||typeof f=="number"?S.values.fill(f):typeof f=="boolean"&&S.values.fill(+f);for(let E=0;E<o;E++){const k=[];let _=0;for(let I=0;I<u;I++){const R=g[E*u+I];k.push(R),_+=R*l[I]}if(_<0||_>=r/a)throw new Error(`Invalid indices: ${k} does not index into ${n}`);for(let I=0;I<a;I++)p?S.values[_*a+I]+=y[E*a+I]:S.values[_*a+I]=e.rank===0?y[0]:y[E*a+I]}return S}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NF=Ar(iw,t=>1/(1+Math.exp(-t))),Joe={kernelName:iw,backendName:"cpu",kernelFunc:NF};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ET(t,e,n,r,a){const o=v$(r,e,n),u=ze(n),l=Bt(r);if(o){const g=y$(e,l);return a==="string"?t.slice(g,g+u):t.subarray(g,g+u)}const f=a==="string"?cy(t):t,p=qn(r,a,f),c=qn(n,a);for(let g=0;g<c.size;++g){const y=c.indexToLoc(g),S=y.map((E,k)=>E+e[k]);c.set(p.get(...S),...y)}return a==="string"?H$(c.values):c.values}function fp(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{begin:o,size:u}=r;Lt(a,"slice");const[l,f]=b$(a,o,u);Ote(a,l,f);const p=n.data.get(a.dataId).values,c=ET(p,l,f,a.shape,a.dtype);return n.makeTensorInfo(f,a.dtype,c)}const Zoe={kernelName:n_,backendName:"cpu",kernelFunc:fp};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ese(t,e,n,r,a,o,u){const l=e[0],f=o[0],p=new Array(f),c=new Array(l),g=e[1];if(f===0){if(l!==0)throw new Error(N$(l));const _=Ka(n,0),I=Ka(a,0);return[_,[0,g],I,p,c]}let y=!0,S=0;const E=new Array(f).fill(0);for(let _=0;_<l;++_){const I=t[_*g];if(I<0)throw new Error(A$(_,I));if(I>=f)throw new Error(D$(_,I,f));++E[I],y=y&&I>=S,S=I}let k=!0;for(let _=0;_<f;++_){const I=E[_]===0;p[_]=I,k=k&&!I,E[_]=Math.max(E[_],1),_>0&&(E[_]+=E[_-1])}if(k&&y){const _=t,I=r;for(let R=0;R<l;++R)c[R]=R;return[_,[l,g],I,p,c]}else{const _=E[f-1],I=Ka(n,_*g),R=Ka(a,_),A=new Array(f).fill(0);for(let O=0;O<l;++O){const L=t[O*g],U=A[L],j=(L===0?0:E[L-1])+U;A[L]++;for(let J=0;J<g;++J)I[j*g+J]=t[O*g+J];R[j]=r[O],c[O]=j}for(let O=0;O<f;++O)if(A[O]===0){const U=O===0?0:E[O-1];I[U*g+0]=O;for(let j=1;j<g;++j)I[U*g+j]=0;R[U]=u}return[I,[_,g],R,p,c]}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tse(t,e,n,r,a){const o=ze(r),u=e[0],l=a.length,f=[];let p=1,c=-1;for(let _=0;_<l;++_){const I=a[_];if(I===-1){if(c!==-1)throw new Error(O$(c,_));c=_,f.push(1)}else{if(I<0)throw new Error(M$(_,I));p*=I,f.push(I)}}if(c!==-1){if(p<=0)throw new Error($$());const _=Math.trunc(o/p);if(p*_!==o)throw new Error(F$(r,f));f[c]=_}if(ze(f)!==o)throw new Error(P$(r,f));const y=r.length,S=[];if(y>0){S[y-1]=1;for(let _=y-2;_>=0;--_)S[_]=S[_+1]*r[_+1]}const E=[];if(l>0){E[l-1]=1;for(let _=l-2;_>=0;--_)E[_]=E[_+1]*f[_+1]}const k=Ka(n,u*l);for(let _=0;_<u;++_){let I=0;for(let R=0;R<y;++R)I+=t[_*y+R]*S[R];for(let R=0;R<l;++R)k[_*l+R]=Math.trunc(I/E[R]),I%=E[R]}return[k,[u,l],f]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AF(t,e,n,r,a,o=!1,u=0){const l=r.length,f=[e[0],t.length/e[0]],p=f[1],g=l>0?a[l-1]+1:0;if(g<0)throw new Error(n2());const y=e.slice();y[0]=g;const S=y.reduce((A,O)=>A*O,1),E=Ka(n,S);if(l===0)return g>0&&E.fill(u),[E,y];if(g<=0)throw new Error(n2());let k=0,_=1,I=0,R=a[k];for(;;){let A=0;if(_<l){if(A=a[_],R===A){++_;continue}if(R>=A)throw new Error(L$())}if(R<0||R>=g)throw new Error(B$(R,g));R>I&&E.fill(u,I*p,R*p);for(let O=k;O<_;++O){const L=r[O];if(L<0||L>=f[0])throw new Error(z$(O,r[O],f[0]));for(let U=0;U<p;U++)E[R*p+U]+=t[L*p+U]}if(o)for(let O=0;O<p;O++)E[R*p+O]/=_-k;if(k=_,++_,I=R+1,R=A,_>l)break}return I<g&&E.fill(u,I*p,g*p),[E,y]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nse=Ar(lw,t=>Math.sqrt(t)),rse={kernelName:lw,backendName:"cpu",kernelFunc:nse};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ase=Ma(((t,e)=>{const n=t-e;return n*n})),ose=oo(hw,ase),sse={kernelName:hw,backendName:"cpu",kernelFunc:ose};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ise=Vd((t,e)=>{const{pattern:n,replaceGlobal:r,rewrite:a}=e;return t.replace(new RegExp(n,r?"g":""),a)}),use=Wd(u_,ise),lse={kernelName:u_,backendName:"cpu",kernelFunc:use};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cse(t,e,n,r){const a=qn(t,e.dtype);for(let o=0;o<a.size;o++){const u=a.indexToLoc(o),l=new Array(u.length);for(let f=0;f<l.length;f++)l[f]=u[f]*n[f]+r[f];a.set(e.get(...l),...u)}return a}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class dse{constructor(e,n,r,a,o,u){this.separator=Yf(e),this.nGramWidths=n,this.leftPad=Yf(r),this.rightPad=Yf(a),this.padWidth=o,this.preserveShort=u}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,n){const r=this.getPadWidth(n);return Math.max(0,e+2*r-n+1)}createNGrams(e,n,r,a,o,u){for(let l=0;l<o;++l){const f=this.getPadWidth(u),p=Math.max(0,f-l),c=Math.max(0,f-(o-(l+1))),g=u-(p+c),y=n+(p>0?0:l-f);let S=0;S+=p*this.leftPad.length;for(let R=0;R<g;++R)S+=e[y+R].length;S+=c*this.rightPad.length;const E=p+c+g-1;S+=E*this.separator.length,r[a+l]=new Uint8Array(S);const k=r[a+l];let _=0;const I=R=>R.forEach(A=>k[_++]=A);for(let R=0;R<p;++R)I(this.leftPad),I(this.separator);for(let R=0;R<g-1;++R)I(e[y+R]),I(this.separator);if(g>0){I(e[y+g-1]);for(let R=0;R<c;++R)I(this.separator),I(this.rightPad)}else{for(let R=0;R<c-1;++R)I(this.rightPad),I(this.separator);I(this.rightPad)}}}compute(e,n){const r=e.length,a=n.length;if(a>0){let f=n[0];if(f!==0)throw new Error(`First split value must be 0, got ${f}`);for(let p=1;p<a;++p){let c=n[p]>=f;if(c=c&&n[p]<=r,!c)throw new Error(`Invalid split value ${n[p]}, must be in [${f}, ${r}]`);f=n[p]}if(f!==r)throw new Error(`Last split value must be data size. Expected ${r}, got ${f}`)}const o=a-1,u=Ka("int32",a);if(r===0||a===0){const f=new Array(r);for(let p=0;p<=o;++p)u[p]=0;return[f,u]}u[0]=0;for(let f=1;f<=o;++f){const p=n[f]-n[f-1];let c=0;this.nGramWidths.forEach(g=>{c+=this.getNumNGrams(p,g)}),this.preserveShort&&p>0&&c===0&&(c=1),u[f]=u[f-1]+c}const l=new Array(u[o]);for(let f=0;f<o;++f){const p=n[f];let c=u[f];if(this.nGramWidths.forEach(g=>{const y=n[f+1]-n[f],S=this.getNumNGrams(y,g);this.createNGrams(e,p,l,c,S,g),c+=S}),this.preserveShort&&c===u[f]){const g=n[f+1]-n[f];if(g===0)continue;const y=g+2*this.padWidth;this.createNGrams(e,p,l,c,1,y)}}return[l,u]}}function DF(t,e,n,r,a,o,u,l){return new dse(n,r,a,o,u,l).compute(t,e)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fse(t,e,n,r){if(!t.length)return;if(e.length===0){for(let o=0;o<t.length;++o)r.push(t.subarray(o,o+1));return}if(e.length===1){const o=e[0];let u=t.indexOf(o);for(;u!==-1;){const l=t.subarray(0,u);(!n||l.length!==0)&&r.push(l),t=t.subarray(u+1),u=t.indexOf(o)}(!n||t.length!==0)&&r.push(t);return}let a=0;for(let o=0;o<t.length+1;o++)if(o===t.length||e.indexOf(t[o])!==-1){const u=t.subarray(a,o);(!n||u.length!==0)&&r.push(u),a=o+1}}function OF(t,e,n){const r=t.length,a=[];let o=0,u=0;const l=new Array(r);for(let y=0;y<r;++y){const S=a.length;fse(t[y],e,n,a);const E=a.length-S;l[y]=E,o+=E,u=Math.max(u,E)}const f=Ka("int32",o*2),p=new Array(o),c=[r,u];let g=0;for(let y=0;y<r;++y)for(let S=0;S<l[y];++S)f[g*2]=y,f[g*2+1]=S,p[g]=a[g],++g;return[f,p,c]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MF(t,e){const n=Ka("int32",t.length);for(let r=0;r<t.length;++r)n[r]=tG(t[r]).modulo(e).getLowBitsUnsigned();return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pse=Ma(((t,e)=>t-e)),hse=wT(((t,e,n,r)=>({real:t-n,imag:e-r}))),xT=oo(gw,pse,hse),mse={kernelName:gw,backendName:"cpu",kernelFunc:xT};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gse(t,e){const n=new Array(t.rank);for(let a=0;a<n.length;a++)n[a]=t.shape[a]*e[a];const r=qn(n,t.dtype);for(let a=0;a<r.values.length;++a){const o=r.indexToLoc(a),u=new Array(t.rank);for(let f=0;f<u.length;f++)u[f]=o[f]%t.shape[f];const l=t.locToIndex(u);r.values[a]=t.values[l]}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const py=(t,e)=>{const n=e.value-t.value;return n===0?t.index-e.index:n};function $F(t,e,n=0,r=t.length-1){for(;r>n;){if(r-n>600){const l=r-n+1,f=e-n+1,p=Math.log(l),c=.5*Math.exp(2*p/3),g=.5*Math.sqrt(p*c*(l-c)/l)*Math.sign(f-l/2),y=Math.max(n,Math.floor(e-f*c/l+g)),S=Math.min(r,Math.floor(e+(l-f)*c/l+g));$F(t,e,y,S)}const a=t[e];let o=n,u=r;for(Fv(t,n,e),py(t[r],a)>0&&Fv(t,n,r);o<u;){for(Fv(t,o,u),o++,u--;py(t[o],a)<0;)o=o+1;for(;py(t[u],a)>0;)u=u-1}py(t[n],a)===0?Fv(t,n,u):(u=u+1,Fv(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}}function vse(t,e,n,r,a){const o=e[e.length-1],[u,l]=[t.length/o,o],f=ms(n,u*r),p=ms("int32",u*r);for(let g=0;g<u;g++){const y=g*l,S=t.subarray(y,y+l);let E=new Array(S.length);S.forEach((R,A)=>E[A]={value:R,index:A}),r<E.length&&($F(E,r),E=E.slice(0,r)),a&&E.sort(py);const k=g*r,_=f.subarray(k,k+r),I=p.subarray(k,k+r);for(let R=0;R<r;R++)_[R]=E[R].value,I[R]=E[R].index}const c=e.slice();return c[c.length-1]=r,[qn(c,n,f),qn(c,"int32",p)]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FF(t,e,n,r){const a=ga(e,n)[0],o=[1,n[0],1];for(let E=0;E<a;E++)o[0]*=n[E];o[1]=n[a];for(let E=a+1;E<n.length;E++)o[2]*=n[E];const u=new Map,l=new Int32Array(n[a]),f=new ro(o,r,t),p=[],c=o[0]===1&&o[2]===1;for(let E=0;E<n[a];E++){let k;if(c)k=t[E].toString();else{const I=[];for(let R=0;R<o[0];R++)for(let A=0;A<o[2];A++)I.push(f.get(R,E,A));k=I.join(",")}const _=u.get(k);if(_!=null)l[E]=_;else{const I=u.size;u.set(k,I),l[E]=I,p.push(E)}}const g=o.slice();g[1]=u.size;const y=new ro(g,r);p.forEach((E,k)=>{for(let _=0;_<o[0];_++)for(let I=0;I<o[2];I++)y.set(f.get(_,E,I),_,k,I)});const S=n.slice();return S[a]=g[1],{outputValues:y.values,outputShape:S,indices:l}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pp(t){const{inputs:{x:e},attrs:{begin:n,size:r},backend:a}=t,[o,u]=b$(e,n,r),l=v$(e.shape,o,u),f=a.readSync(e.dataId),p=a.makeOutput(u,e.dtype),c=Bt(e.shape),g=a.dataIdMap.get(p.dataId);if(l){const E=y$(o,c);return e.dtype==="string"?g.stringBytes=f.slice(E,E+ze(u)):a.typedArrayFromHeap(p).set(f.subarray(E,E+ze(u))),p}if(e.dtype==="string"){const E=ET(f,o,u,e.shape,e.dtype);return g.stringBytes=E,p}const y=a.typedArrayFromHeap(p),S=e.shape.length;if(S===2)yse(f,c[0],y,o,u);else if(S===3)bse(f,c[0],c[1],y,o,u);else if(S===4)Sse(f,c[0],c[1],c[2],y,o,u);else{const E=ET(f,o,u,e.shape,e.dtype);y.set(E)}return p}function yse(t,e,n,r,a){let o=0;const u=r[0],l=r[1],f=u+a[0];for(let p=u;p<f;p++){const c=p*e+l;n.set(t.subarray(c,c+a[1]),o),o+=a[1]}}function bse(t,e,n,r,a,o){let u=0;const l=a[0],f=a[1],p=a[2],c=l+o[0],g=f+o[1];for(let y=l;y<c;y++)for(let S=f;S<g;S++){const E=y*e+S*n+p;r.set(t.subarray(E,E+o[2]),u),u+=o[2]}}function Sse(t,e,n,r,a,o,u){let l=0;const f=o[0],p=o[1],c=o[2],g=f+u[0],y=p+u[1],S=c+u[2],E=o[3];for(let k=f;k<g;k++)for(let _=p;_<y;_++)for(let I=c;I<S;I++){const R=k*e+_*n+I*r+E;a.set(t.subarray(R,R+u[3]),l),l+=u[3]}}const wse={kernelName:n_,backendName:"wasm",kernelFunc:pp};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ese(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{blockShape:o,crops:u}=r,l=o.reduce((I,R)=>I*R),f=Zw(a.shape,o,l),p=e2(f.length,o.length),c=t2(a.shape,o,l),g=C$(u,o.length),y=k$(c,u,o.length),S=Gs({inputs:{x:a},backend:n,attrs:{shape:f}}),E=zd({inputs:{x:S},backend:n,attrs:{perm:p}}),k=Gs({inputs:{x:E},backend:n,attrs:{shape:c}}),_=pp({inputs:{x:k},backend:n,attrs:{begin:g,size:y}});return n.disposeData(S.dataId),n.disposeData(E.dataId),n.disposeData(k.dataId),_}const xse={kernelName:$k,backendName:"wasm",kernelFunc:Ese};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let PF;function Cse(t){PF=t.wasm.cwrap(F1,null,["number","number","boolean","number","number","number"])}function kse(t){const{backend:e,inputs:n,attrs:r}=t,{x:a,weights:o}=n,{size:u}=r,l=o.shape.reduce((g,y)=>g*y,1)!==0,f=a.shape.length===1?[u]:[a.shape[0],u],p=e.makeOutput(f,o.dtype);function c(g){return e.dataIdMap.get(g.dataId).id}return PF(c(a),u,l,c(o),fr[o.dtype],c(p)),p}const _se={kernelName:F1,backendName:"wasm",setupFunc:Cse,kernelFunc:kse};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tse=Xa(P1);/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ise(t){const{inputs:e,backend:n}=t,{s0:r,s1:a}=e,o=n.typedArrayFromHeap(r),u=n.typedArrayFromHeap(a),l=Xr(Array.from(o),Array.from(u));return n.makeOutput([l.length],"int32",void 0,new Int32Array(l))}const Rse={kernelName:Fk,backendName:"wasm",kernelFunc:Ise};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jd(t){const{inputs:{x:e},attrs:{dtype:n},backend:r}=t,a=r.makeOutput(e.shape,n),o=r.typedArrayFromHeap(e);return r.typedArrayFromHeap(a).set(o),a}const Nse={kernelName:L1,backendName:"wasm",kernelFunc:jd};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ase=or(B1);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let LF;function Dse(t){LF=t.wasm.cwrap(Uv,null,["number","number","number","number"])}function Ose(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{clipValueMin:o,clipValueMax:u}=r,l=n.dataIdMap.get(a.dataId).id,f=n.makeOutput(a.shape,a.dtype),p=n.dataIdMap.get(f.dataId).id;return LF(l,o,u,p),f}const Mse={kernelName:Uv,backendName:"wasm",setupFunc:Dse,kernelFunc:Ose};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BF(t){const{inputs:e,backend:n}=t,r=ga(t.attrs.axis,e[0].shape)[0],a=e.map(S=>S.shape);E$(a,r);let o=fm(e.map(S=>S.shape),r);const u=e.filter(S=>ze(S.shape)>0);if(u.length===1)return u2({inputs:{x:u[0]},backend:n});const l=n.makeOutput(o,e[0].dtype);if(ze(o)===0)return l;if(u[0].dtype==="string"){const S=u.map(A=>{const L=[-1,ze(A.shape.slice(r))];return Gs({inputs:{x:A},backend:n,attrs:{shape:L}})}),E=S.map(A=>({vals:n.readSync(A.dataId),shape:A.shape}));o=fm(S.map(A=>A.shape),1);const k=S[0].shape[0]===1,_=SF(E,o,e[0].dtype,k),I=fm(u.map(A=>A.shape),r);l.shape=I;const R=n.dataIdMap.get(l.dataId);return R.stringBytes=H$(_),S.forEach(A=>n.disposeData(A.dataId)),l}const f=ze(u[0].shape.slice(0,r));let p=0;const c=u.map(S=>{const E=ze(S.shape.slice(r));return p+=E,E}),g=u.map(S=>n.typedArrayFromHeap(S)),y=n.typedArrayFromHeap(l);for(let S=0;S<f;S++){let E=S*p;for(let k=0;k<g.length;k++){const _=c[k],I=S*_,R=g[k].subarray(I,I+_);y.set(R,E),E+=_}}return l}const $se={kernelName:Pk,backendName:"wasm",kernelFunc:BF};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let zF;function Fse(t){zF=t.wasm.cwrap(z1,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function Pse(t){const{inputs:e,attrs:n,backend:r}=t,{x:a,filter:o}=e,u=r.dataIdMap.get(a.dataId).id,l=r.dataIdMap.get(o.dataId).id,{strides:f,dilations:p,pad:c,dimRoundingMode:g,dataFormat:y}=n,S=sm(y),E=Ws(a.shape,o.shape,f,p,c,g,!1,S),k=E.filterHeight,_=E.filterWidth,I=E.padInfo.top,R=E.padInfo.right,A=E.padInfo.bottom,O=E.padInfo.left,L=E.dilationHeight,U=E.dilationWidth,j=E.strideHeight,J=E.strideWidth,q=E.inChannels,K=E.outChannels,z=E.padInfo.type==="SAME"?1:0;if(E.dataFormat!=="channelsLast")throw new Error(`wasm backend Conv2D does not support dataFormat:'${E.dataFormat}'. Please use 'channelsLast'.`);const te=r.makeOutput(E.outShape,"float32"),ee=r.dataIdMap.get(te.dataId).id;return zF(u,a.shape[0],a.shape[1],a.shape[2],l,k,_,I,R,A,O,z,L,U,j,J,q,K,ee),te}const Lse={kernelName:z1,backendName:"wasm",setupFunc:Fse,kernelFunc:Pse};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let UF;function Bse(t){UF=t.wasm.cwrap(U1,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function zse(t){const{backend:e,inputs:n,attrs:r}=t,{dy:a,filter:o}=n,{strides:u,pad:l,dataFormat:f,dimRoundingMode:p,inputShape:c}=r,g=1,y=sm(f),S=Ws(c,o.shape,u,g,l,p,!1,y),{batchSize:E,filterHeight:k,filterWidth:_,inChannels:I,inHeight:R,inWidth:A,outChannels:O,outHeight:L,outWidth:U,strideHeight:j,strideWidth:J}=S,q=k-1-S.padInfo.top,K=_-1-S.padInfo.left,z=S.dataFormat==="channelsLast",te=Bt(S.inShape),ee=Bt(a.shape),[le,ce,ye]=Bt(o.shape),ve=te[0],oe=z?te[1]:te[2],he=z?te[2]:1,ge=z?1:te[1],Q=ee[0],ue=z?ee[1]:ee[2],ke=z?ee[2]:1,Ce=z?1:ee[1],Me=e.makeOutput(S.inShape,"float32"),Ve=e.dataIdMap.get(Me.dataId).id,Ke=e.dataIdMap.get(a.dataId).id,He=e.dataIdMap.get(o.dataId).id;return UF(Ke,He,E,k,_,R,A,I,L,U,O,j,J,q,K,le,ce,ye,ve,oe,he,ge,Q,ue,ke,Ce,Ve),Me}const Use={kernelName:U1,backendName:"wasm",setupFunc:Bse,kernelFunc:zse};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let HF;function Hse(t){HF=t.wasm.cwrap(H1,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function Vse(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,filter:o}=e,{strides:u,pad:l,dilations:f}=r;if(a.dtype!=="float32")throw new Error(`Tensor x must have dtype float32, got ${a.dtype}`);if(o.dtype!=="float32")throw new Error(`Tensor filter must have dtype float32, got ${o.dtype}`);const p=Zf(a.shape,o.shape,u,f,l),c=n.makeOutput(p.outShape,a.dtype);return HF(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(c.dataId).id,p.batchSize,p.inDepth,p.inHeight,p.inWidth,p.inChannels,p.outDepth,p.outHeight,p.outWidth,p.outChannels,p.strideDepth,p.strideHeight,p.strideWidth,p.dilationDepth,p.dilationHeight,p.dilationWidth,p.filterDepth,p.filterHeight,p.filterWidth,p.padInfo.front,p.padInfo.top,p.padInfo.left),c}const Wse={kernelName:H1,backendName:"wasm",setupFunc:Hse,kernelFunc:Vse};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let VF;function jse(t){VF=t.wasm.cwrap(Lk,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function Gse(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,dy:o}=e,{strides:u,pad:l,filterShape:f}=r;if(a.dtype!=="float32")throw new Error(`Tensor dy must have dtype float32, got ${a.dtype}`);if(o.dtype!=="float32")throw new Error(`Tensor filter must have dtype float32, got ${o.dtype}`);const p=Zf(a.shape,f,u,1,l),c=n.makeOutput(p.filterShape,o.dtype);return VF(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(c.dataId).id,p.batchSize,p.inDepth,p.inHeight,p.inWidth,p.inChannels,p.outDepth,p.outHeight,p.outWidth,p.outChannels,p.strideDepth,p.strideHeight,p.strideWidth,p.dilationDepth,p.dilationHeight,p.dilationWidth,p.filterDepth,p.filterHeight,p.filterWidth,p.padInfo.front,p.padInfo.top,p.padInfo.left),c}const qse={kernelName:Lk,backendName:"wasm",setupFunc:jse,kernelFunc:Gse};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let WF;function Kse(t){WF=t.wasm.cwrap(V1,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function Yse(t){const{inputs:e,backend:n,attrs:r}=t,{dy:a,filter:o}=e,{pad:u,strides:l,inputShape:f}=r;if(a.dtype!=="float32")throw new Error(`Tensor dy must have dtype float32, got ${a.dtype}`);if(o.dtype!=="float32")throw new Error(`Tensor filter must have dtype float32, got ${o.dtype}`);const p=Zf(f,o.shape,l,1,u),c=n.makeOutput(p.inShape,a.dtype);return WF(n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(c.dataId).id,p.batchSize,p.inDepth,p.inHeight,p.inWidth,p.inChannels,p.outDepth,p.outHeight,p.outWidth,p.outChannels,p.strideDepth,p.strideHeight,p.strideWidth,p.dilationDepth,p.dilationHeight,p.dilationWidth,p.filterDepth,p.filterHeight,p.filterWidth,p.padInfo.front,p.padInfo.top,p.padInfo.left),c}const Xse={kernelName:V1,backendName:"wasm",setupFunc:Kse,kernelFunc:Yse};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qse=or(W1);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Jse=or(j1);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var CT;(function(t){t[t.bilinear=0]="bilinear",t[t.nearest=1]="nearest"})(CT||(CT={}));let jF;function Zse(t){jF=t.wasm.cwrap(K1,null,["number","number","number","number","array","number","number","number","number","number"])}function eie(t){const{backend:e,inputs:n,attrs:r}=t,{method:a,extrapolationValue:o,cropSize:u}=r,{image:l,boxes:f,boxInd:p}=n,c=f.shape[0],[g,y]=u,S=[c,g,y,l.shape[3]];let E=e.dataIdMap.get(l.dataId),k;l.dtype!=="float32"&&(k=jd({backend:e,inputs:{x:l},attrs:{dtype:"float32"}}),E=e.dataIdMap.get(k.dataId));const _=E.id,I=e.dataIdMap.get(f.dataId).id,R=e.dataIdMap.get(p.dataId).id,A=e.makeOutput(S,"float32"),O=e.dataIdMap.get(A.dataId).id,L=new Uint8Array(new Int32Array(l.shape).buffer);return jF(_,I,R,c,L,g,y,CT[a],o,O),k!=null&&e.disposeData(k.dataId),A}const tie={kernelName:K1,backendName:"wasm",setupFunc:Zse,kernelFunc:eie};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let GF;function nie(t){GF=t.wasm.cwrap(G1,null,["number","number","number","number","number","number"])}function rie(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{axis:o,exclusive:u,reverse:l}=r,f=a.shape.length;Z(a.dtype==="float32"||a.dtype==="int32",()=>`cumprod does not support ${a.dtype} tensors in the WASM backend`);const p=Gi([o],f);let c=a;p!==null&&(c=zd({inputs:{x:a},attrs:{perm:p},backend:n}));const g=Ss(1,f)[0];bs("cumprod",[g],f);const y=n.makeOutput(c.shape,c.dtype),S=c.shape[g],E=n.dataIdMap.get(c.dataId).id,k=n.dataIdMap.get(y.dataId).id;GF(E,u?1:0,l?1:0,S,k,fr[a.dtype]);let _=y;if(p!==null){const I=Mw(p);_=zd({inputs:{x:y},attrs:{perm:I},backend:n}),n.disposeData(c.dataId),n.disposeData(y.dataId)}return _}const aie={kernelName:G1,backendName:"wasm",setupFunc:nie,kernelFunc:rie};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let qF;function oie(t){qF=t.wasm.cwrap(q1,null,["number","number","number","number","number","number"])}function sie(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{axis:o,exclusive:u,reverse:l}=r,f=a.shape.length;Z(a.dtype==="float32"||a.dtype==="int32",()=>`cumsum does not support ${a.dtype} tensors in the WASM backend`);const p=Gi([o],f);let c=a;p!==null&&(c=zd({inputs:{x:a},attrs:{perm:p},backend:n}));const g=Ss(1,f)[0];bs("cumsum",[g],f);const y=n.makeOutput(c.shape,c.dtype),S=c.shape[g],E=n.dataIdMap.get(c.dataId).id,k=n.dataIdMap.get(y.dataId).id;qF(E,u?1:0,l?1:0,S,k,fr[a.dtype]);let _=y;if(p!==null){const I=Mw(p);_=zd({inputs:{x:y},attrs:{perm:I},backend:n}),n.disposeData(c.dataId),n.disposeData(y.dataId)}return _}const iie={kernelName:q1,backendName:"wasm",setupFunc:oie,kernelFunc:sie};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let KF;function uie(t){KF=t.wasm.cwrap("DenseBincount",null,["number","array","number","number","boolean","number","number","boolean","number"])}function lie(t){const{backend:e,inputs:n,attrs:r}=t,{x:a,weights:o}=n,{size:u,binaryOutput:l}=r,f=o.shape.reduce((y,S)=>y*S,1)!==0,p=a.shape.length===1?[u]:[a.shape[0],u],c=e.makeOutput(p,o.dtype);function g(y){return e.dataIdMap.get(y.dataId).id}return KF(g(a),new Uint8Array(new Int32Array(a.shape).buffer),a.shape.length,u,f,g(o),fr[o.dtype],l,g(c)),c}const cie={kernelName:Bk,backendName:"wasm",setupFunc:uie,kernelFunc:lie};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let YF;function die(t){YF=t.wasm.cwrap(Y1,null,["number","number","number","array","number","array","array","number","number"])}function fie(t){const{backend:e,inputs:n,attrs:r}=t,{x:a}=n,{blockSize:o,dataFormat:u}=r,l=a.shape[0],f=u==="NHWC"?a.shape[1]:a.shape[2],p=u==="NHWC"?a.shape[2]:a.shape[3],c=u==="NHWC"?a.shape[3]:a.shape[1],g=f*o,y=p*o,S=c/(o*o),E=u==="NHWC"?[l,g,y,S]:[l,S,g,y],k=e.makeOutput(E,"float32"),I=e.dataIdMap.get(a.dataId).id,R=new Uint8Array(new Int32Array(Bt(a.shape)).buffer),A=new Uint8Array(new Int32Array(E).buffer),O=new Uint8Array(new Int32Array(Bt(E)).buffer),L=e.dataIdMap.get(k.dataId).id;return YF(I,o,u==="NHWC"?1:0,R,a.shape.length-1,A,O,E.length,L),k}const pie={kernelName:Y1,backendName:"wasm",setupFunc:die,kernelFunc:fie};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let XF;function hie(t){XF=t.wasm.cwrap(X1,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function mie(t){const{inputs:e,attrs:n,backend:r}=t,{x:a,filter:o}=e,u=r.dataIdMap.get(a.dataId).id,l=r.dataIdMap.get(o.dataId).id,{strides:f,dilations:p,pad:c,dimRoundingMode:g}=n,y=p??[1,1],S=Ws(a.shape,o.shape,f,y,c,g,!0),E=S.filterHeight,k=S.filterWidth,_=S.padInfo.top,I=S.padInfo.right,R=S.padInfo.bottom,A=S.padInfo.left,O=S.dilationHeight,L=S.dilationWidth,U=S.strideHeight,j=S.strideWidth,J=S.inChannels,q=S.outChannels,K=S.padInfo.type==="SAME"?1:0;if(S.dataFormat!=="channelsLast")throw new Error(`wasm backend DepthwiseConv2dNative does not support dataFormat:'${S.dataFormat}'. Please use 'channelsLast'.`);const z=r.makeOutput(S.outShape,"float32"),te=r.dataIdMap.get(z.dataId).id;return XF(u,a.shape[0],a.shape[1],a.shape[2],l,E,k,_,I,R,A,K,O,L,U,j,J,q,te),z}const gie={kernelName:X1,backendName:"wasm",setupFunc:hie,kernelFunc:mie};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let QF;function vie(t){QF=t.wasm.cwrap("Diag",null,["number","number","number","number"])}function yie(t){const{inputs:e,backend:n}=t,{x:r}=e,a=ze(r.shape),o=n.makeOutput([...r.shape,...r.shape],r.dtype);return QF(n.dataIdMap.get(r.dataId).id,fr[r.dtype],a,n.dataIdMap.get(o.dataId).id),o}const bie={kernelName:zk,backendName:"wasm",setupFunc:vie,kernelFunc:yie};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let JF;function Sie(t){JF=t.wasm.cwrap(Q1,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function wie(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,filter:o}=e,{strides:u,pad:l,dilations:f}=r;if(a.dtype!==o.dtype)throw new Error(`Dilation2D error: x must have the same dtype as filter. Got ${a.dtype} and ${o.dtype}`);const p=rm(a.shape,o.shape,u,l,"NHWC",f),c=n.makeOutput(p.outShape,a.dtype);return JF(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(c.dataId).id,fr[a.dtype],p.batchSize,p.inChannels,p.inHeight,p.inWidth,p.outHeight,p.outWidth,p.strideHeight,p.strideWidth,p.dilationHeight,p.dilationWidth,p.filterHeight,p.filterWidth,p.padInfo.top,p.padInfo.left),c}const Eie={kernelName:Q1,backendName:"wasm",setupFunc:Sie,kernelFunc:wie};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let ZF;function xie(t){ZF=t.wasm.cwrap(Z1,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function Cie(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,filter:o,dy:u}=e,{strides:l,pad:f,dilations:p}=r;if(a.dtype!==o.dtype||a.dtype!==u.dtype)throw new Error(`Dilation2DBackpropFilter error: x must have the same dtype as filter and dy. Got ${a.dtype}, ${o.dtype}, and ${u.dtype}`);const c=rm(a.shape,o.shape,l,f,"NHWC",p),g=n.makeOutput(o.shape,o.dtype);return ZF(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(u.dataId).id,n.dataIdMap.get(g.dataId).id,fr[a.dtype],c.batchSize,c.inChannels,c.inHeight,c.inWidth,c.outHeight,c.outWidth,c.strideHeight,c.strideWidth,c.dilationHeight,c.dilationWidth,c.filterHeight,c.filterWidth,c.padInfo.top,c.padInfo.left),g}const kie={kernelName:Z1,backendName:"wasm",setupFunc:xie,kernelFunc:Cie};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let e6;function _ie(t){e6=t.wasm.cwrap(J1,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function Tie(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,filter:o,dy:u}=e,{strides:l,pad:f,dilations:p}=r;if(a.dtype!==o.dtype||a.dtype!==u.dtype)throw new Error(`Dilation2DBackpropInput error: x must have the same dtype as filter and dy. Got ${a.dtype}, ${o.dtype}, and ${u.dtype}`);const c=rm(a.shape,o.shape,l,f,"NHWC",p),g=n.makeOutput(a.shape,a.dtype);return e6(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(u.dataId).id,n.dataIdMap.get(g.dataId).id,fr[a.dtype],c.batchSize,c.inChannels,c.inHeight,c.inWidth,c.outHeight,c.outWidth,c.strideHeight,c.strideWidth,c.dilationHeight,c.dilationWidth,c.filterHeight,c.filterWidth,c.padInfo.top,c.padInfo.left),g}const Iie={kernelName:J1,backendName:"wasm",setupFunc:_ie,kernelFunc:Tie};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Rie=or(tS);/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let t6;function Nie(t){t6=t.wasm.cwrap(Uk,null,["number","number","number"])}function Aie(t){const{inputs:e,backend:n}=t,{dy:r,y:a}=e,o=n.makeOutput(a.shape,"float32"),u=l=>n.dataIdMap.get(l.dataId).id;return t6(u(a),u(r),u(o)),o}const Die={kernelName:Uk,backendName:"wasm",setupFunc:Nie,kernelFunc:Aie};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Oie=Xa(rS,!1,"bool");/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Mie=or(nS);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $ie=or(aS,"float32");/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kT(t){const{inputs:e,attrs:n,backend:r}=t,{input:a}=e,{dim:o}=n,u=a.shape.length,l=a.shape.slice();let f=o;return o<0&&(Z(-(u+1)<=o,()=>`Axis must be in the interval [${-(u+1)}, ${u}]`),f=u+o+1),l.splice(f,0,1),Gs({inputs:{x:a},backend:r,attrs:{shape:l}})}const Fie={kernelName:Hk,backendName:"wasm",kernelFunc:kT};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Pie=or(oS,"float32");/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function n6(t){const{attrs:{shape:e,value:n,dtype:r},backend:a}=t,o=a.makeOutput(e,r);return a.typedArrayFromHeap(o).fill(n),o}const Lie={kernelName:Vk,backendName:"wasm",kernelFunc:n6};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let r6;function Bie(t){r6=t.wasm.cwrap(sS,null,["number","number","number","number","number","number"])}function zie(t){const{inputs:e,backend:n}=t,{image:r}=e,a=n.makeOutput(r.shape,r.dtype),o=n.dataIdMap.get(r.dataId).id,u=n.dataIdMap.get(a.dataId).id,[l,f,p,c]=r.shape;return r6(o,l,f,p,c,u),a}const Uie={kernelName:sS,backendName:"wasm",kernelFunc:zie,setupFunc:Bie};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hie=or(iS);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vie=Xa(uS);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let a6;function Wie(t){a6=t.wasm.cwrap(lS,null,["number","number","number","number","number","number","number"])}function jie(t){const{backend:e,inputs:n,attrs:r}=t,{varianceEpsilon:a}=r,{x:o,mean:u,variance:l,offset:f,scale:p}=n,c=e.dataIdMap.get(o.dataId).id,g=e.dataIdMap.get(u.dataId).id,y=e.dataIdMap.get(l.dataId).id,S=f!=null?e.dataIdMap.get(f.dataId).id:0,E=p!=null?e.dataIdMap.get(p.dataId).id:0,k=e.makeOutput(o.shape,o.dtype);if(ze(o.shape)===0)return k;const _=e.dataIdMap.get(k.dataId).id;return a6(c,g,y,S,E,a,_),k}const Gie={kernelName:lS,backendName:"wasm",setupFunc:Wie,kernelFunc:jie};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let o6;function qie(t){o6=t.wasm.cwrap(jv,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function Kie(t){const{inputs:e,attrs:n,backend:r}=t,{x:a,filter:o,bias:u,preluActivationWeights:l}=e,{strides:f,pad:p,dilations:c,dataFormat:g,dimRoundingMode:y,activation:S,leakyreluAlpha:E}=n,k=Ws(a.shape,o.shape,f,c,p,y),_=fy[S];if(_==null)throw new Error(`${S} activation not yet supported for FusedConv2D in the wasm backend.`);const I=r.dataIdMap.get(a.dataId).id,R=r.dataIdMap.get(o.dataId).id,A=k.outChannels;let O=0;if(u!=null){const ke=r.dataIdMap.get(u.dataId);if(ke.shape.length!==1)throw new Error(`FusedConv2D only supports rank-1 bias but got rank ${ke.shape.length}.`);if(ke.shape[0]!==A)throw new Error(`FusedConv2D bias shape (${ke.shape}) does not match the number of output channels (${A})`);O=ke.id}const L=k.filterHeight,U=k.filterWidth,j=k.padInfo.top,J=k.padInfo.right,q=k.padInfo.bottom,K=k.padInfo.left,z=k.dilationHeight,te=k.dilationWidth,ee=k.strideHeight,le=k.strideWidth,ce=k.inChannels,ye=k.padInfo.type==="SAME"?1:0,ve=k.batchSize,oe=k.inHeight,he=k.inWidth;if(g!=="NHWC")throw new Error(`wasm backend FusedConv2D does not support dataFormat:'${g}'. Please use 'NHWC'.`);const ge=r.makeOutput(k.outShape,"float32"),Q=r.dataIdMap.get(ge.dataId).id,ue=l==null?0:r.dataIdMap.get(l.dataId).id;return o6(I,ve,oe,he,R,L,U,O,j,J,q,K,ye,z,te,ee,le,ce,A,_,ue,E||0,Q),ge}const Yie={kernelName:jv,backendName:"wasm",setupFunc:qie,kernelFunc:Kie};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let s6;function Xie(t){s6=t.wasm.cwrap(Gv,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function Qie(t){const{inputs:e,attrs:n,backend:r}=t,{x:a,filter:o,bias:u,preluActivationWeights:l}=e,{strides:f,pad:p,dilations:c,dataFormat:g,dimRoundingMode:y,activation:S,leakyreluAlpha:E}=n,k=Ws(a.shape,o.shape,f,c,p,y,!0),_=fy[S];if(_==null)throw new Error(`${S} activation not yet supported for FusedDepthwiseConv2D in the wasm backend.`);const I=r.dataIdMap.get(a.dataId).id,R=r.dataIdMap.get(o.dataId).id,A=k.outChannels;let O=0;if(u!=null){const ke=r.dataIdMap.get(u.dataId);if(ke.shape.length!==1)throw new Error(`FusedDepthwiseConv2D only supports rank-1 bias but got rank ${ke.shape.length}.`);if(ke.shape[0]!==A)throw new Error(`FusedDepthwiseConv2D bias shape (${ke.shape}) does not match the number of output channels (${A})`);O=ke.id}const L=k.filterHeight,U=k.filterWidth,j=k.padInfo.top,J=k.padInfo.right,q=k.padInfo.bottom,K=k.padInfo.left,z=k.dilationHeight,te=k.dilationWidth,ee=k.strideHeight,le=k.strideWidth,ce=k.inChannels,ye=k.padInfo.type==="SAME"?1:0,ve=k.batchSize,oe=k.inHeight,he=k.inWidth;if(g!=="NHWC")throw new Error(`wasm backend FusedDepthwiseConv2D does not support dataFormat:'${g}'. Please use 'NHWC'.`);const ge=r.makeOutput(k.outShape,"float32"),Q=r.dataIdMap.get(ge.dataId).id,ue=l==null?0:r.dataIdMap.get(l.dataId).id;return s6(I,ve,oe,he,R,L,U,O,j,J,q,K,ye,z,te,ee,le,ce,A,_,ue,E||0,Q),ge}const Jie={kernelName:Gv,backendName:"wasm",setupFunc:Xie,kernelFunc:Qie};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let i6;function Zie(t){i6=t.wasm.cwrap(cS,null,["number","number","number","number","number","number","array","number"])}function eue(t){const{backend:e,inputs:n}=t,{params:r,indices:a}=n,[o,u,l,f]=m$(r,a),p=e.makeOutput(o,r.dtype);if(u===0)return p;const c=a.shape,g=c[c.length-1],S=e.dataIdMap.get(r.dataId).id,k=e.dataIdMap.get(a.dataId).id,_=new Uint8Array(new Int32Array(f).buffer),I=e.dataIdMap.get(p.dataId).id;return i6(S,fr[r.dtype],k,u,g,l,_,I),p}const tue={kernelName:cS,backendName:"wasm",setupFunc:Zie,kernelFunc:eue};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let u6;function nue(t){u6=t.wasm.cwrap("Gather",null,["number","number","array","number","number","number","array","number"])}function rue(t){const{backend:e,inputs:n,attrs:r}=t,{x:a,indices:o}=n,{axis:u,batchDims:l}=r,f=ga(u,a.shape)[0],p=e.readSync(o.dataId),c=a.shape[f];for(let q=0;q<p.length;++q){const K=p[q];Z(K<=c-1&&K>=0,()=>`GatherV2: the index value ${K} is not in [0, ${c-1}]`)}const g=U$(a,o,f,l),y=Gs({inputs:{x:a},attrs:{shape:[g.batchSize,g.outerSize,g.dimSize,g.sliceSize]},backend:e}),S=ze(o.shape),E=Gs({inputs:{x:o},attrs:{shape:[g.batchSize,S/g.batchSize]},backend:e}),k=[g.batchSize,g.outerSize,S/g.batchSize,g.sliceSize],_=e.makeOutput(k,a.dtype);if(ze(a.shape)===0)return _;const I=y.shape.length-1,A=e.dataIdMap.get(y.dataId).id,L=e.dataIdMap.get(E.dataId).id,U=e.dataIdMap.get(_.dataId).id,j=new Uint8Array(new Int32Array(Bt(y.shape)).buffer),J=new Uint8Array(new Int32Array(Bt(k)).buffer);return u6(A,fr[a.dtype],j,I,L,g.batchSize,J,U),e.disposeData(y.dataId),e.disposeData(E.dataId),_.shape=g.outputShape,_}const aue={kernelName:Wk,backendName:"wasm",setupFunc:nue,kernelFunc:rue};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oue=Xa(dS,!1,"bool");/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sue=Xa(fS,!1,"bool");/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iue=or(hS,"bool");/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uue=or(mS,"bool");/**
 * @license
 * Copyright 2022 The TensorFlow Authors. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lue=or(gS,"bool");/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let l6;function cue(t){l6=t.wasm.cwrap(vS,null,["number","number","number","number"])}function due(t){const{inputs:{x:e},attrs:{alpha:n},backend:r}=t,a=r.dataIdMap.get(e.dataId).id,o=r.makeOutput(e.shape,"float32");if(ze(e.shape)!==0){const u=r.dataIdMap.get(o.dataId).id;l6(a,fr[e.dtype],n,u)}return o}const fue={kernelName:vS,backendName:"wasm",setupFunc:cue,kernelFunc:due};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pue=Xa(yS,!1,"bool");/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hue=Xa(bS,!1,"bool");/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let c6;function mue(t){c6=t.wasm.cwrap(SS,null,["number","number","number","number"])}function gue(t){const{attrs:e,backend:n}=t,{start:r,stop:a,num:o}=e,u=Math.floor(o),l=n.makeOutput([u],"float32");return c6(n.dataIdMap.get(l.dataId).id,r,a,u),l}const vue={kernelName:SS,backendName:"wasm",setupFunc:mue,kernelFunc:gue};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yue=or(wS);/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bue=or(ES);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Sue=Xa(xS,!1,"bool");/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wue=or(CS);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Eue=Xa(kS,!1,"bool");/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xue=Xa(qj,!1,"bool");/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let d6;function Cue(t){d6=t.wasm.cwrap(_S,null,["number","number","number","number","number","number","number"])}function kue(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{depthRadius:o,bias:u,alpha:l,beta:f}=r;if(a.dtype!=="float32")throw new Error("LRN error: x must have dtype float32");const p=n.makeOutput(a.shape,a.dtype);return d6(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(p.dataId).id,a.shape[3],o,u,l,f),p}const _ue={kernelName:_S,backendName:"wasm",setupFunc:Cue,kernelFunc:kue};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let f6;function Tue(t){f6=t.wasm.cwrap(jk,null,["number","number","number","number","number","number","number","number","number"])}function Iue(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,y:o,dy:u}=e,{depthRadius:l,bias:f,alpha:p,beta:c}=r;if(a.dtype!=="float32"||o.dtype!=="float32"||u.dtype!=="float32")throw new Error("LRNGrad error: x, y, and dy must have dtype float32");const g=n.makeOutput(a.shape,a.dtype);return f6(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(u.dataId).id,n.dataIdMap.get(g.dataId).id,u.shape[3],l,f,p,c),g}const Rue={kernelName:jk,backendName:"wasm",setupFunc:Tue,kernelFunc:Iue};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let p6;function Nue(t){p6=t.wasm.cwrap(TS,null,["number","number","number","number"])}function Aue(t){const{backend:e,inputs:n,attrs:r}=t,{reductionIndices:a,keepDims:o}=r,{x:u}=n;let f=e.dataIdMap.get(u.dataId).id,p=u;const{transposed:c,axes:g,originalAxes:y,inputWasTransposed:S}=Ud(u,a,e);if(S){const A=e.dataIdMap.get(c.dataId).id;p=c,f=A}const E=p.shape.length;bs("max",g,E);const[k,_]=ys(p.shape,g),I=ze(_),R=e.makeOutput(k,u.dtype);if(ze(p.shape)!==0){const A=e.dataIdMap.get(R.dataId).id;p6(f,fr[u.dtype],I,A)}if(S&&e.disposeData(c.dataId),o){const A=Mo(R.shape,y);R.shape=A}return R}const Due={kernelName:TS,backendName:"wasm",setupFunc:Nue,kernelFunc:Aue};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Oue=Xa(IS);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let h6;function Mue(t){h6=t.wasm.cwrap(RS,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function $ue(t){const{inputs:e,attrs:n,backend:r}=t,a=e.x,o=r.dataIdMap.get(a.dataId).id;Z(a.dtype==="float32",()=>`Error in MaxPool: only float32 input is supported. Got ${a.dtype}.`);const{filterSize:u,strides:l,pad:f,dimRoundingMode:p}=n,c=Gu(a.shape,u,l,1,f,p),g=c.filterHeight,y=c.filterWidth,S=c.padInfo.top,E=c.padInfo.right,k=c.padInfo.bottom,_=c.padInfo.left,I=c.dilationHeight,R=c.dilationWidth,A=c.strideHeight,O=c.strideWidth,L=c.inChannels,U=c.outChannels;if(c.dataFormat!=="channelsLast")throw new Error(`wasm backend does not support dataFormat:'${c.dataFormat}'. Please use 'channelsLast'.`);const j=r.makeOutput(c.outShape,"float32"),J=r.dataIdMap.get(j.dataId).id;return h6(o,a.shape[0],a.shape[1],a.shape[2],g,y,S,E,k,_,I,R,A,O,L,U,J),j}const Fue={kernelName:RS,backendName:"wasm",setupFunc:Mue,kernelFunc:$ue};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let m6;function Pue(t){m6=t.wasm.cwrap("MaxPool3D",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function Lue(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{filterSize:o,strides:u,pad:l,dimRoundingMode:f,dataFormat:p}=r,c=Fd(a.shape,o,u,1,l,f,p),g=n.makeOutput(c.outShape,a.dtype);return m6(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(g.dataId).id,c.batchSize,c.inChannels,c.inDepth,c.inHeight,c.inWidth,c.outDepth,c.outHeight,c.outWidth,c.strideDepth,c.strideHeight,c.strideWidth,c.dilationDepth,c.dilationHeight,c.dilationWidth,c.effectiveFilterDepth,c.effectiveFilterHeight,c.effectiveFilterWidth,c.padInfo.front,c.padInfo.top,c.padInfo.left),g}const Bue={kernelName:Gk,backendName:"wasm",setupFunc:Pue,kernelFunc:Lue};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let g6;function zue(t){g6=t.wasm.cwrap("MaxPool3DGrad",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function Uue(t){const{inputs:e,backend:n,attrs:r}=t,{dy:a,input:o}=e,{filterSize:u,strides:l,pad:f,dimRoundingMode:p}=r,c=Fd(o.shape,u,l,1,f,p),g=n.makeOutput(o.shape,o.dtype);return g6(n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(g.dataId).id,c.batchSize,c.inChannels,c.inDepth,c.inHeight,c.inWidth,c.outDepth,c.outHeight,c.outWidth,c.strideDepth,c.strideHeight,c.strideWidth,c.dilationDepth,c.dilationHeight,c.dilationWidth,c.effectiveFilterDepth,c.effectiveFilterHeight,c.effectiveFilterWidth,c.padInfo.front,c.padInfo.top,c.padInfo.left),g}const Hue={kernelName:mO,backendName:"wasm",setupFunc:zue,kernelFunc:Uue};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let v6;function Vue(t){v6=t.wasm.cwrap("MaxPoolGrad",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function Wue(t){const{inputs:e,backend:n,attrs:r}=t,{dy:a,input:o}=e,{filterSize:u,strides:l,pad:f,dimRoundingMode:p}=r,c=Gu(o.shape,u,l,1,f,p),g=n.makeOutput(o.shape,o.dtype);return v6(n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(g.dataId).id,c.batchSize,c.inChannels,c.inHeight,c.inWidth,c.outHeight,c.outWidth,c.strideHeight,c.strideWidth,c.dilationHeight,c.dilationWidth,c.effectiveFilterHeight,c.effectiveFilterWidth,c.padInfo.top,c.padInfo.left),g}const jue={kernelName:hO,backendName:"wasm",setupFunc:Vue,kernelFunc:Wue};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let y6;function Gue(t){y6=t.wasm.cwrap("MaxPoolWithArgmax",null,["number","number","number","number","boolean","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function que(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{filterSize:o,strides:u,pad:l,includeBatchInIndex:f}=r;Z(a.shape.length===4,()=>`Error in maxPool: input must be rank 4 but got rank ${a.shape.length}.`);const p=[1,1];Z(hu(u,p),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${u} and dilations '${p}'`);const c=Gu(a.shape,o,u,[1,1],l),g=n.makeOutput(c.outShape,a.dtype),y=n.makeOutput(c.outShape,"int32");return y6(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(g.dataId).id,n.dataIdMap.get(y.dataId).id,fr[a.dtype],f,c.batchSize,c.inChannels,c.inHeight,c.inWidth,c.outHeight,c.outWidth,c.strideHeight,c.strideWidth,c.dilationHeight,c.dilationWidth,c.effectiveFilterHeight,c.effectiveFilterWidth,c.padInfo.top,c.padInfo.left),[g,y]}const Kue={kernelName:qk,backendName:"wasm",setupFunc:Gue,kernelFunc:que};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let b6;function Yue(t){b6=t.wasm.cwrap(NS,null,["number, number, number"])}function Xue(t){const{backend:e,inputs:n,attrs:r}=t,{axis:a,keepDims:o}=r,{x:u}=n,l=e.dataIdMap.get(u.dataId).id;let f=l,p=u;const{transposed:c,axes:g,originalAxes:y,inputWasTransposed:S}=Ud(u,a,e);let E=g;if(S){const O=e.dataIdMap.get(c.dataId).id;O!==l&&(p=c,f=O,E=Ss(E.length,p.shape.length))}bs("mean",E,p.shape.length);const[k,_]=ys(p.shape,E),I=ze(_);let R=p;p.dtype!=="float32"&&(R=jd({backend:e,inputs:{x:p},attrs:{dtype:"float32"}}),f=e.dataIdMap.get(R.dataId).id);const A=e.makeOutput(k,"float32");if(ze(p.shape)!==0){const O=e.dataIdMap.get(A.dataId).id;b6(f,I,O)}if(S&&e.disposeData(c.dataId),o){const O=Mo(A.shape,y);A.shape=O}return p.dtype!=="float32"&&e.disposeData(R.dataId),A}const Que={kernelName:NS,backendName:"wasm",setupFunc:Yue,kernelFunc:Xue};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let S6;function Jue(t){S6=t.wasm.cwrap(AS,null,["number","number","number","number"])}function Zue(t){const{backend:e,inputs:n,attrs:r}=t,{axis:a,keepDims:o}=r,{x:u}=n,l=e.dataIdMap.get(u.dataId).id;let f=l,p=u;const{transposed:c,axes:g,originalAxes:y,inputWasTransposed:S}=Ud(u,a,e);if(S){const A=e.dataIdMap.get(c.dataId).id;A!==l&&(p=c,f=A)}const E=p.shape.length;bs("min",g,E);const[k,_]=ys(p.shape,g),I=ze(_),R=e.makeOutput(k,p.dtype);if(ze(p.shape)!==0){const A=e.dataIdMap.get(R.dataId).id;S6(f,fr[u.dtype],I,A)}if(S&&e.disposeData(c.dataId),o){const A=Mo(R.shape,y);R.shape=A}return R}const ele={kernelName:AS,backendName:"wasm",setupFunc:Jue,kernelFunc:Zue};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tle=Xa(DS);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var _T;(function(t){t[t.reflect=0]="reflect",t[t.symmetric=1]="symmetric"})(_T||(_T={}));let w6;function nle(t){w6=t.wasm.cwrap(OS,null,["number","array","number","number","array","array","number","number"])}function rle(t){const{inputs:{x:e},backend:n,attrs:{paddings:r,mode:a}}=t,o=r.map((E,k)=>E[0]+e.shape[k]+E[1]),u=n.dataIdMap.get(e.dataId).id,l=n.makeOutput(o,e.dtype),f=n.dataIdMap.get(l.dataId).id,p=new Uint8Array(new Int32Array(e.shape).buffer),c=r.map(E=>E[0]),g=r.map(E=>E[1]),y=new Uint8Array(new Int32Array(c).buffer),S=new Uint8Array(new Int32Array(g).buffer);return w6(u,p,e.shape.length,fr[e.dtype],y,S,_T[a],f),l}const ale={kernelName:OS,backendName:"wasm",kernelFunc:rle,setupFunc:nle};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let E6;function ole(t){E6=t.wasm.cwrap(dw,null,["number","number","number","number"])}function x6(t){const{backend:e,inputs:{logits:n},attrs:{dim:r}}=t,a=e.dataIdMap.get(n.dataId).id,o=e.makeOutput(n.shape,n.dtype),u=e.dataIdMap.get(o.dataId).id,l=n.shape[r],f=ze(n.shape)/l;return ze(o.shape)===0||E6(a,u,l,f),o}const sle={kernelName:dw,backendName:"wasm",setupFunc:ole,kernelFunc:x6};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let C6;function ile(t){C6=t.wasm.cwrap($S,null,["number","number","number","number","number","number"])}function ule(t){const{inputs:e,backend:n,attrs:r}=t,{logits:a}=e,{numSamples:o,seed:u,normalized:l}=r;if(a.dtype!=="float32")throw new Error(`Tensor logits must have dtype float32, got ${a.dtype}`);const f=l?a:x6({inputs:{logits:a},backend:n,attrs:{dim:a.shape.length-1}}),[p,c]=f.shape,g=n.makeOutput([p,o],"int32");return C6(n.dataIdMap.get(f.dataId).id,p,c,o,u,n.dataIdMap.get(g.dataId).id),l||n.disposeData(f.dataId),g}const lle={kernelName:$S,backendName:"wasm",setupFunc:ile,kernelFunc:ule};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cle=Xa(MS);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dle=Xa(FS);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fle=or(Kk);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TT(t,e){const n=new Int32Array(t.wasm.HEAPU8.buffer,e,4),r=n[0],a=n[1],o=n[2],u=n[3];return t.wasm._free(e),{pSelectedIndices:r,selectedSize:a,pSelectedScores:o,pValidOutputs:u}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let k6;function ple(t){k6=t.wasm.cwrap(LS,"number",["number","number","number","number","number"])}function hle(t){const{backend:e,inputs:n,attrs:r}=t,{iouThreshold:a,maxOutputSize:o,scoreThreshold:u}=r,{boxes:l,scores:f}=n,p=e.dataIdMap.get(l.dataId).id,c=e.dataIdMap.get(f.dataId).id,g=k6(p,c,o,a,u),{pSelectedIndices:y,selectedSize:S,pSelectedScores:E,pValidOutputs:k}=TT(e,g);return e.wasm._free(E),e.wasm._free(k),e.makeOutput([S],"int32",y)}const mle={kernelName:LS,backendName:"wasm",setupFunc:ple,kernelFunc:hle};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let _6;function gle(t){_6=t.wasm.cwrap(BS,"number",["number","number","number","number","number","bool"])}function vle(t){const{backend:e,inputs:n,attrs:r}=t,{iouThreshold:a,maxOutputSize:o,scoreThreshold:u,padToMaxOutputSize:l}=r,{boxes:f,scores:p}=n,c=e.dataIdMap.get(f.dataId).id,g=e.dataIdMap.get(p.dataId).id,y=_6(c,g,o,a,u,l),{pSelectedIndices:S,selectedSize:E,pSelectedScores:k,pValidOutputs:_}=TT(e,y);e.wasm._free(k);const I=e.makeOutput([E],"int32",S),R=e.makeOutput([],"int32",_);return[I,R]}const yle={kernelName:BS,backendName:"wasm",setupFunc:gle,kernelFunc:vle};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let T6;function ble(t){T6=t.wasm.cwrap(zS,"number",["number","number","number","number","number","number"])}function Sle(t){const{backend:e,inputs:n,attrs:r}=t,{iouThreshold:a,maxOutputSize:o,scoreThreshold:u,softNmsSigma:l}=r,{boxes:f,scores:p}=n,c=e.dataIdMap.get(f.dataId).id,g=e.dataIdMap.get(p.dataId).id,y=T6(c,g,o,a,u,l),{pSelectedIndices:S,selectedSize:E,pSelectedScores:k,pValidOutputs:_}=TT(e,y);e.wasm._free(_);const I=e.makeOutput([E],"int32",S),R=e.makeOutput([E],"float32",k);return[I,R]}const wle={kernelName:zS,backendName:"wasm",setupFunc:ble,kernelFunc:Sle};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ele=Xa(PS,!1,"bool");/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let I6;function xle(t){I6=t.wasm.cwrap(US,null,["number","number","number","number","number"])}function Cle(t){const{inputs:e,backend:n,attrs:r}=t,{indices:a}=e,{dtype:o,depth:u,onValue:l,offValue:f}=r,p=n.makeOutput([...a.shape,u],o),c=n.dataIdMap.get(p.dataId).id,y=n.dataIdMap.get(a.dataId).id;return I6(y,u,l,f,c),p}const kle={kernelName:US,backendName:"wasm",setupFunc:xle,kernelFunc:Cle};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _le(t){const{inputs:{x:e},backend:n}=t,r=n.makeOutput(e.shape,e.dtype);return n.typedArrayFromHeap(r).fill(1),r}const Tle={kernelName:Yk,backendName:"wasm",kernelFunc:_le};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ile(t){const{inputs:e,backend:n,attrs:r}=t,{axis:a}=r;if(e.length===1)return kT({inputs:{input:e[0]},backend:n,attrs:{dim:a}});const o=e[0].shape,u=e[0].dtype;e.forEach(c=>{yi(o,c.shape,"All tensors passed to stack must have matching shapes"),Z(u===c.dtype,()=>"All tensors passed to stack must have matching dtypes")});const l=[],f=e.map(c=>{const g=kT({inputs:{input:c},backend:n,attrs:{dim:a}});return l.push(g),g}),p=BF({inputs:f,backend:n,attrs:{axis:a}});return l.forEach(c=>n.disposeData(c.dataId)),p}const Rle={kernelName:Xk,backendName:"wasm",kernelFunc:Ile};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let R6;function Nle(t){R6=t.wasm.cwrap(HS,null,["number","array","number","number","array","array","number","number"])}function Ale(t){const{inputs:{x:e},backend:n,attrs:{paddings:r,constantValue:a}}=t,o=r.map((k,_)=>k[0]+e.shape[_]+k[1]);if(ze(e.shape)===0)return n6({backend:n,attrs:{shape:o,value:a,dtype:e.dtype}});const u=n.dataIdMap.get(e.dataId).id,l=n.makeOutput(o,e.dtype),p=n.dataIdMap.get(l.dataId).id,c=new Uint8Array(new Int32Array(e.shape).buffer),g=r.map(k=>k[0]),y=r.map(k=>k[1]),S=new Uint8Array(new Int32Array(g).buffer),E=new Uint8Array(new Int32Array(y).buffer);return R6(u,c,e.shape.length,fr[e.dtype],S,E,a,p),l}const N6={kernelName:HS,backendName:"wasm",kernelFunc:Ale,setupFunc:Nle};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Dle=Xa(VS);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let A6;function Ole(t){A6=t.wasm.cwrap(WS,null,["number","number","number"])}function Mle(t){const{inputs:e,backend:n}=t,{x:r,alpha:a}=e,o=n.dataIdMap.get(r.dataId).id,u=n.dataIdMap.get(a.dataId).id;let l=o;const f=r;let p=f;f.dtype!=="float32"&&(p=jd({backend:n,inputs:{x:r},attrs:{dtype:"float32"}}),l=n.dataIdMap.get(p.dataId).id);const c=n.makeOutput(r.shape,"float32"),g=n.dataIdMap.get(c.dataId).id;return A6(l,u,g),f.dtype!=="float32"&&n.disposeData(p.dataId),c}const $le={kernelName:WS,backendName:"wasm",setupFunc:Ole,kernelFunc:Mle};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let D6;function Fle(t){D6=t.wasm.cwrap(jS,null,["number","number","number","number"])}function Ple(t){const{backend:e,inputs:n,attrs:r}=t,{axis:a,keepDims:o}=r,{x:u}=n,l=e.dataIdMap.get(u.dataId).id;let f=l,p=u;const{transposed:c,axes:g,originalAxes:y,inputWasTransposed:S}=Ud(u,a,e);let E=g;if(S){const A=e.dataIdMap.get(c.dataId).id;A!==l&&(p=c,f=A,E=Ss(E.length,p.shape.length))}bs("prod",E,p.shape.length);const[k,_]=ys(p.shape,E),I=ze(_),R=e.makeOutput(k,p.dtype);if(ze(p.shape)!==0){const A=e.dataIdMap.get(R.dataId).id;D6(f,I,fr[R.dtype],A)}if(S&&e.disposeData(c.dataId),o){const A=Mo(R.shape,y);R.shape=A}return R}const Lle={kernelName:jS,backendName:"wasm",setupFunc:Fle,kernelFunc:Ple};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ble={kernelName:Qk,backendName:"wasm",kernelFunc:t=>{const{backend:e,attrs:n}=t,{start:r,stop:a,step:o,dtype:u}=n,l=RF(r,a,o,u),f=e.makeOutput([l.length],u);return e.typedArrayFromHeap(f).set(l),f}};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zle=Xa(eS);/**
 * @license
 * Copyright 2022 The TensorFlow Authors. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ule=or(GS);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hle=or(qS);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vle=or(XS);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let O6;function Wle(t){O6=t.wasm.cwrap(YS,null,["number","number","number","number","number","number","number","number","number","number"])}function jle(t){const{backend:e,inputs:n,attrs:r}=t,{images:a}=n,{alignCorners:o,halfPixelCenters:u,size:l}=r,[f,p]=l,[c,g,y,S]=a.shape,E=[c,f,p,S];let k=e.dataIdMap.get(a.dataId),_;k.dtype!=="float32"&&(_=jd({backend:e,inputs:{x:a},attrs:{dtype:"float32"}}),k=e.dataIdMap.get(_.dataId));const I=k.id,R=e.makeOutput(E,"float32");if(ze(a.shape)===0)return R;const A=e.dataIdMap.get(R.dataId).id;return O6(I,c,g,y,S,f,p,o?1:0,u?1:0,A),_!=null&&e.disposeData(_.dataId),R}const Gle={kernelName:YS,backendName:"wasm",setupFunc:Wle,kernelFunc:jle};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let M6;function qle(t){M6=t.wasm.cwrap(e_,null,["number","number","number","array","array","boolean"])}function Kle(t){const{inputs:e,backend:n,attrs:r}=t,{images:a,dy:o}=e,{alignCorners:u}=r,l=n.makeOutput(a.shape,"float32");let f=n.dataIdMap.get(a.dataId),p;return f.dtype!=="float32"&&(p=jd({backend:n,inputs:{x:a},attrs:{dtype:"float32"}}),f=n.dataIdMap.get(p.dataId)),M6(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(l.dataId).id,new Uint8Array(new Int32Array(a.shape).buffer),new Uint8Array(new Int32Array(o.shape).buffer),u),p!=null&&n.disposeData(p.dataId),l}const Yle={kernelName:e_,backendName:"wasm",setupFunc:qle,kernelFunc:Kle};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let $6;function Xle(t){$6=t.wasm.cwrap(KS,null,["number","number","number","number","number","number","number","number","number","number"])}function Qle(t){const{backend:e,inputs:n,attrs:r}=t,{images:a}=n,{alignCorners:o,halfPixelCenters:u,size:l}=r,[f,p]=l,[c,g,y,S]=a.shape,E=[c,f,p,S],k=e.makeOutput(E,"float32");if(ze(a.shape)===0)return k;let _=e.dataIdMap.get(a.dataId),I;_.dtype!=="float32"&&(I=jd({backend:e,inputs:{x:a},attrs:{dtype:"float32"}}),_=e.dataIdMap.get(I.dataId));const R=_.id,A=e.dataIdMap.get(k.dataId).id;return $6(R,c,g,y,S,f,p,o?1:0,u?1:0,A),I!=null&&e.disposeData(I.dataId),k}const Jle={kernelName:KS,backendName:"wasm",setupFunc:Xle,kernelFunc:Qle};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let F6;function Zle(t){F6=t.wasm.cwrap(Zk,null,["number","number","number","array","array","boolean"])}function ece(t){const{inputs:e,backend:n,attrs:r}=t,{images:a,dy:o}=e,{alignCorners:u}=r,l=n.makeOutput(a.shape,"float32");let f=n.dataIdMap.get(a.dataId),p;return f.dtype!=="float32"&&(p=jd({backend:n,inputs:{x:a},attrs:{dtype:"float32"}}),f=n.dataIdMap.get(p.dataId)),F6(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(l.dataId).id,new Uint8Array(new Int32Array(a.shape).buffer),new Uint8Array(new Int32Array(o.shape).buffer),u),p!=null&&n.disposeData(p.dataId),l}const tce={kernelName:Zk,backendName:"wasm",setupFunc:Zle,kernelFunc:ece};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let P6;function nce(t){P6=t.wasm.cwrap(QS,null,["number","array","number","array","number","number"])}function rce(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{dims:o}=r,u=ga(o,a.shape);if(a.shape.length===0)return u2({inputs:{x:a},backend:n});const l=n.makeOutput(a.shape,a.dtype),f=n.dataIdMap.get(a.dataId).id,p=n.dataIdMap.get(l.dataId).id,c=new Uint8Array(new Int32Array(u).buffer),g=new Uint8Array(new Int32Array(a.shape).buffer);P6(f,c,u.length,g,a.shape.length,p);const y=Gs({inputs:{x:l},attrs:{shape:a.shape},backend:n});return n.disposeData(l.dataId),y}const ace={kernelName:QS,backendName:"wasm",kernelFunc:rce,setupFunc:nce};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let L6;function oce(t){L6=t.wasm.cwrap(ww,null,["number","number","number","number","number","number","number","number","array","number","number"])}function sce(t){const{inputs:e,backend:n,attrs:r}=t,{image:a}=e,{radians:o,fillValue:u,center:l}=r,f=n.makeOutput(a.shape,a.dtype),p=n.dataIdMap.get(a.dataId).id,c=n.dataIdMap.get(f.dataId).id,[g,y,S,E]=a.shape,[k,_]=x$(l,y,S),I=u===0,R=255,A=typeof u=="number"?[u,u,u,I?0:R]:[...u,R],O=new Uint8Array(new Int32Array(A).buffer);return L6(p,g,y,S,E,o,k,_,O,A.length,c),f}const ice={kernelName:ww,backendName:"wasm",kernelFunc:sce,setupFunc:oce};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uce=or(JS);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lce=or(ZS);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let B6;function cce(t){B6=t.wasm.cwrap(ew,null,["number","number","number","number","number","number","array","number","number"])}function dce(t){const{backend:e,inputs:n,attrs:r}=t,{indices:a,updates:o}=n,{shape:u}=r,l=e.makeOutput(u,o.dtype);if(ze(u)===0)return l;const{sliceRank:f,numUpdates:p,sliceSize:c,strides:g,outputSize:y}=cm(o,a,u),E=e.dataIdMap.get(a.dataId).id,_=e.dataIdMap.get(o.dataId).id,I=new Uint8Array(new Int32Array(g).buffer),R=e.dataIdMap.get(l.dataId).id;return B6(E,_,fr[o.dtype],f,p,c,I,y,R),l}const fce={kernelName:ew,backendName:"wasm",setupFunc:cce,kernelFunc:dce};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let z6;function pce(t){z6=t.wasm.cwrap(nw,null,["number","number","number","number","number","number","bool","number"])}function hce(t){const{inputs:e,backend:n,attrs:r}=t,{sortedSequence:a,values:o}=e,{side:u}=r;if(a.dtype!==o.dtype)throw new Error(`SearchSorted error: sorted_sequence must have the same dtype as values. Got ${a.dtype} and ${o.dtype}`);const l=n.makeOutput(o.shape,"int32");function f(p){return n.dataIdMap.get(p.dataId).id}return z6(f(a),f(o),a.shape[0],a.shape[1],o.shape[1],fr[a.dtype],u==="left",f(l)),l}const mce={kernelName:nw,backendName:"wasm",setupFunc:pce,kernelFunc:hce};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let U6;function gce(t){U6=t.wasm.cwrap("SelectV2",null,["number","number","number","number","number"])}function vce(t){const{inputs:e,backend:n}=t,{condition:r,t:a,e:o}=e,u=n.dataIdMap.get(r.dataId).id,l=n.dataIdMap.get(a.dataId).id,f=n.dataIdMap.get(o.dataId).id,p=n.makeOutput(a.shape,a.dtype),c=n.dataIdMap.get(p.dataId).id,g=r.shape.length,y=a.shape.length,S=g===0||g>1||y===1?1:ze(a.shape.slice(1));return U6(u,l,f,S,c),p}const yce={kernelName:t_,backendName:"wasm",kernelFunc:vce,setupFunc:gce};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bce=or(rw);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let H6;function Sce(t){H6=t.wasm.cwrap(iw,null,["number","number"])}function wce(t){const{backend:e,inputs:{x:n}}=t,r=e.dataIdMap.get(n.dataId).id,a=e.makeOutput(n.shape,n.dtype),o=e.dataIdMap.get(a.dataId).id;return ze(a.shape)===0||H6(r,o),a}const Ece={kernelName:"Sigmoid",backendName:"wasm",setupFunc:Sce,kernelFunc:wce};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xce=or(sw);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cce=or(aw);/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kce=or(ow);/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _ce=or(uw);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tce(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{blockShape:o,paddings:u}=r,l=ze(o),f=[[0,0]];f.push(...u);for(let U=1+o.length;U<a.shape.length;++U)f.push([0,0]);const p=N6.kernelFunc({inputs:{x:a},backend:n,attrs:{paddings:f,constantValue:0}}),c=Zw(p.shape,o,l,!1),g=e2(c.length,o.length,!1),y=t2(p.shape,o,l,!1),k=Gs({inputs:{x:p},backend:n,attrs:{shape:c}}),R=zd({inputs:{x:k},backend:n,attrs:{perm:g}}),L=Gs({inputs:{x:R},backend:n,attrs:{shape:y}});return n.disposeData(p.dataId),n.disposeData(k.dataId),n.disposeData(R.dataId),L}const Ice={kernelName:r_,backendName:"wasm",kernelFunc:Tce};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let V6;function Rce(t){V6=t.wasm.cwrap("SparseFillEmptyRows","number",["number","number","number","number","number","number","number","number","number","number","number","number"])}function Nce(t){const{backend:e,inputs:n}=t,{indices:r,values:a,denseShape:o,defaultValue:u}=n,l=r.shape[0],f=r.shape[1],p=e.readSync(o.dataId)[0],c=[l+p,f],g=e.dataIdMap.get(r.dataId).id,y=e.dataIdMap.get(a.dataId).id,S=e.dataIdMap.get(u.dataId).id,E=e.makeOutput(c,r.dtype),k=e.dataIdMap.get(E.dataId).id,_=e.makeOutput(c.slice(0,1),a.dtype),I=e.dataIdMap.get(_.dataId).id,R=e.makeOutput([p],"bool"),A=e.dataIdMap.get(R.dataId).id,O=e.makeOutput([l],r.dtype),L=e.dataIdMap.get(O.dataId).id,U=e.makeOutput([4],"int32"),j=e.dataIdMap.get(U.dataId).id,J=V6(g,y,fr[a.dtype],l,p,f,S,k,I,A,L,j),q=e.readSync(U.dataId);let K;switch(q[0]){case 1:{K=N$(q[1]);break}case 2:{K=A$(q[1],q[2]);break}case 3:K=D$(q[1],q[2],q[3]);break;default:K=""}if(e.disposeData(U.dataId),K)throw e.disposeData(E.dataId),e.disposeData(_.dataId),e.disposeData(R.dataId),e.disposeData(O.dataId),new Error(K);let z=E,te=_;return J!==c[0]&&(z=pp({inputs:{x:E},attrs:{begin:0,size:[J,f]},backend:e}),te=pp({inputs:{x:_},attrs:{begin:0,size:J},backend:e}),e.disposeData(E.dataId),e.disposeData(_.dataId)),[z,te,R,O]}const Ace={kernelName:o_,backendName:"wasm",setupFunc:Rce,kernelFunc:Nce};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let W6;function Dce(t){W6=t.wasm.cwrap(fw,null,["number","number","number","number","number","number","number"])}function Oce(t){const{backend:e,inputs:n}=t,{inputIndices:r,inputShape:a,newShape:o}=n;if(r.shape.length!==2)throw new Error(`Input indices should be a matrix but received shape
        ${r.shape}`);if(a.shape.length!==1)throw new Error(`Input shape should be a vector but received shape
        ${a.shape}`);if(o.shape.length!==1)throw new Error(`Target shape should be a vector but received shape ${o.shape}`);const u=e.dataIdMap.get(r.dataId).id,l=e.dataIdMap.get(a.dataId).id,f=e.dataIdMap.get(o.dataId).id,p=r.shape[0],c=ze(o.shape),g=e.makeOutput([p,c],r.dtype),y=e.dataIdMap.get(g.dataId).id,S=e.makeOutput([c],o.dtype),E=e.dataIdMap.get(S.dataId).id,k=e.makeOutput([3],"int32"),_=e.dataIdMap.get(k.dataId).id;W6(u,l,f,p,y,E,_);const I=e.readSync(k.dataId);let R;switch(I[0]){case 0:{R=O$(I[1],I[2]);break}case 1:{R=M$(I[1],I[2]);break}case 2:R=$$();break;case 3:{const A=Array.from(e.readSync(a.dataId)),O=Array.from(e.readSync(S.dataId));R=F$(A,O);break}case 4:{const A=Array.from(e.readSync(a.dataId)),O=Array.from(e.readSync(S.dataId));R=P$(A,O);break}default:R=""}if(e.disposeData(k.dataId),R)throw e.disposeData(g.dataId),e.disposeData(S.dataId),new Error(R);return[g,S]}const Mce={kernelName:fw,backendName:"wasm",setupFunc:Dce,kernelFunc:Oce};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let j6;function G6(t){j6=t.wasm.cwrap("SparseSegmentReduction",null,["number","number","number","number","number","number","number","number","number"])}function q6(t,e){const{backend:n,inputs:r}=t,{data:a,indices:o,segmentIds:u}=r,l=o.shape[0],f=n.readSync(u.dataId,l-1,l)[0],c=l>0?f+1:0;if(c<0)throw new Error(n2());const g=a.shape.slice();g[0]=c;const y=n.dataIdMap.get(a.dataId).id,S=n.dataIdMap.get(o.dataId).id,E=n.dataIdMap.get(u.dataId).id,k=n.makeOutput(g,a.dtype),_=n.dataIdMap.get(k.dataId).id,I=n.makeOutput([4],"int32"),R=n.dataIdMap.get(I.dataId).id;j6(y,fr[a.dtype],a.shape[0],S,E,_,R,e,0);const A=n.readSync(I.dataId);let O;switch(A[0]){case 0:{O=n2();break}case 1:{O=L$();break}case 2:O=B$(A[1],A[2]);break;case 3:O=z$(A[1],A[2],A[3]);break;default:O=""}if(n.disposeData(I.dataId),O)throw n.disposeData(k.dataId),new Error(O);return k}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $ce(t){return q6(t,!0)}const Fce={kernelName:s_,backendName:"wasm",setupFunc:G6,kernelFunc:$ce};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pce(t){return q6(t,!1)}const Lce={kernelName:i_,backendName:"wasm",setupFunc:G6,kernelFunc:Pce};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let K6;function Bce(t){K6=t.wasm.cwrap(pw,null,["number","number","number","number","number","number","number","number","array","number","number"])}function zce(t){const{backend:e,inputs:n,attrs:r}=t,{sparseIndices:a,sparseValues:o,defaultValue:u}=n,{outputShape:l}=r,f=e.makeOutput(l,u.dtype);if(ze(l)===0)return f;const{sliceRank:p,numUpdates:c,sliceSize:g,strides:y,outputSize:S}=cm(o,a,l),E=e.dataIdMap.get(a.dataId).id,k=e.dataIdMap.get(o.dataId).id,_=e.dataIdMap.get(u.dataId).id,I=new Uint8Array(new Int32Array(y).buffer),R=e.dataIdMap.get(f.dataId).id;return K6(E,k,o.shape.length,_,fr[u.dtype],p,c,g,I,S,R),f}const Uce={kernelName:pw,backendName:"wasm",setupFunc:Bce,kernelFunc:zce};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hce(t){const{inputs:e,attrs:n,backend:r}=t,{x:a}=e,{numOrSizeSplits:o,axis:u}=n,l=ga(u,a.shape)[0],f=R$(a,o,l),p=new Array(a.shape.length).fill(0),c=a.shape.slice();return f.map(g=>{const y=[...c];y[l]=g;const S=pp({inputs:{x:a},attrs:{begin:p,size:y},backend:r});return p[l]+=g,S})}const Vce={kernelName:a_,backendName:"wasm",kernelFunc:Hce};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Wce=or(lw);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jce=or(SO);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gce=Xa(hw);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Y6;function qce(t){Y6=t.wasm.cwrap(Vv,null,["number","number","number","number"])}function Kce(t){const{backend:e,inputs:n,attrs:r}=t,{alpha:a}=r,{x:o}=n,u=e.dataIdMap.get(o.dataId).id,l=e.makeOutput(o.shape,o.dtype),f=e.dataIdMap.get(l.dataId).id;return Y6(u,a,fr[o.dtype],f),l}const Yce={kernelName:Vv,backendName:"wasm",setupFunc:qce,kernelFunc:Kce};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let X6;function Xce(t){X6=t.wasm.cwrap(mw,null,["number","array","number","array","array","array","array","array","number","number"])}function Qce(t){const{backend:e,inputs:n,attrs:r}=t,{x:a}=n,{begin:o,end:u,strides:l,beginMask:f,endMask:p,ellipsisMask:c,newAxisMask:g,shrinkAxisMask:y}=r,{finalShapeSparse:S,finalShape:E,isIdentity:k,sliceDim0:_,isSimpleSlice:I,begin:R,end:A,strides:O}=S$(a.shape,o,u,l,f,p,c,g,y);let L;if(k)L=Gs({inputs:{x:a},backend:e,attrs:{shape:E}});else if(_||I){Z(a.shape.length>=1,()=>`Input must have rank at least 1, got: ${a.shape.length}`);const U=g$(R,A,O),j=pp({inputs:{x:a},backend:e,attrs:{begin:R,size:U}});L=Gs({inputs:{x:j},backend:e,attrs:{shape:E}}),e.disposeData(j.dataId)}else{const U=e.makeOutput(S,"float32"),j=e.dataIdMap.get(a.dataId).id,J=new Uint8Array(new Int32Array(Bt(a.shape)).buffer),q=new Uint8Array(new Int32Array(R).buffer),K=new Uint8Array(new Int32Array(A).buffer),z=new Uint8Array(new Int32Array(O).buffer),te=new Uint8Array(new Int32Array(S).buffer),ee=new Uint8Array(new Int32Array(Bt(S)).buffer),le=e.dataIdMap.get(U.dataId).id;X6(j,J,a.shape.length,q,K,z,te,ee,S.length,le),L=Gs({inputs:{x:U},backend:e,attrs:{shape:E}}),e.disposeData(U.dataId)}return L}const Jce={kernelName:mw,backendName:"wasm",setupFunc:Xce,kernelFunc:Qce};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zce(t){const{backend:e,inputs:n,attrs:r}=t,{data:a,dataSplits:o}=n,{separator:u,nGramWidths:l,leftPad:f,rightPad:p,padWidth:c,preserveShortSequences:g}=r,y=e.readSync(a.dataId),S=e.readSync(o.dataId),[E,k]=DF(y,S,u,l,f,p,c,g),_=e.makeOutput([E.length],"string"),I=e.dataIdMap.get(_.dataId);I.stringBytes=E;const R=e.makeOutput(o.shape,"int32");return e.typedArrayFromHeap(R).set(k),[_,R]}const ede={kernelName:l_,backendName:"wasm",kernelFunc:Zce};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tde(t){const{backend:e,inputs:n,attrs:r}=t,{input:a,delimiter:o}=n,{skipEmpty:u}=r,l=e.readSync(a.dataId),f=e.readSync(o.dataId),[p,c,g]=OF(l,f[0],u),y=c.length,S=e.makeOutput([y,2],"int32");e.typedArrayFromHeap(S).set(p);const k=e.makeOutput([y],"string"),_=e.dataIdMap.get(k.dataId);_.stringBytes=c;const I=e.makeOutput([2],"int32");return e.typedArrayFromHeap(I).set(g),[S,k,I]}const nde={kernelName:c_,backendName:"wasm",kernelFunc:tde};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rde(t){const{backend:e,inputs:n,attrs:r}=t,{input:a}=n,{numBuckets:o}=r,u=e.readSync(a.dataId),l=MF(u,o),f=e.makeOutput(a.shape,"int32");return e.typedArrayFromHeap(f).set(l),f}const ade={kernelName:d_,backendName:"wasm",kernelFunc:rde};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ode=Xa(gw);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Q6;function sde(t){Q6=t.wasm.cwrap(cw,null,["number","number","number","number"])}function ide(t){const{backend:e,inputs:n,attrs:r}=t,{axis:a,keepDims:o}=r,{x:u}=n,l=e.dataIdMap.get(u.dataId).id;let f=l,p=u;const{transposed:c,axes:g,originalAxes:y,inputWasTransposed:S}=Ud(u,a,e);let E=g;if(S){const A=e.dataIdMap.get(c.dataId).id;A!==l&&(p=c,f=A,E=Ss(E.length,p.shape.length))}bs("sum",E,p.shape.length);const[k,_]=ys(p.shape,E),I=ze(_),R=e.makeOutput(k,p.dtype);if(ze(p.shape)!==0){const A=e.dataIdMap.get(R.dataId).id;Q6(f,I,fr[R.dtype],A)}if(S&&e.disposeData(c.dataId),o){const A=Mo(R.shape,y);R.shape=A}return R}const ude={kernelName:cw,backendName:"wasm",setupFunc:sde,kernelFunc:ide};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lde=or(vw);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cde=or(yw);/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let J6;function dde(t){J6=t.wasm.cwrap(tw,null,["number","number","number","number","number","number","array","number","number","number"])}function fde(t){const{backend:e,inputs:n,attrs:r}=t,{tensor:a,indices:o,updates:u}=n,l=e.makeOutput(a.shape,a.dtype);if(ze(a.shape)===0)return l;const{sliceRank:f,numUpdates:p,sliceSize:c,strides:g,outputSize:y}=cm(u,o,a.shape),E=e.dataIdMap.get(o.dataId).id,_=e.dataIdMap.get(u.dataId).id,R=e.dataIdMap.get(a.dataId).id,A=new Uint8Array(new Int32Array(g).buffer),O=e.dataIdMap.get(l.dataId).id;return J6(E,_,fr[u.dtype],f,p,c,A,y,O,R),l}const pde={kernelName:tw,backendName:"wasm",setupFunc:dde,kernelFunc:fde};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Z6;function hde(t){Z6=t.wasm.cwrap(Hv,null,["number","array","number","array","number","number"])}function mde(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,o=n.dataIdMap.get(a.dataId).id,{reps:u}=r,l=new Array(a.shape.length);for(let y=0;y<l.length;y++)l[y]=a.shape[y]*u[y];const f=new Uint8Array(new Int32Array(a.shape).buffer),p=new Uint8Array(new Int32Array(l).buffer),c=n.makeOutput(l,a.dtype),g=n.dataIdMap.get(c.dataId).id;return Z6(o,f,a.shape.length,p,l.length,fr[c.dtype],g),c}const gde={kernelName:Hv,backendName:"wasm",setupFunc:hde,kernelFunc:mde};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let eP;function vde(t){eP=t.wasm.cwrap(bw,null,["number","array","number","number","number","bool","number","number"])}const yde={kernelName:bw,backendName:"wasm",setupFunc:vde,kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:r}=t,{k:a,sorted:o}=n,u=e.dataIdMap.get(r.dataId).id,l=new Uint8Array(new Int32Array(r.shape).buffer),f=r.shape.slice();f[f.length-1]=a;const p=e.makeOutput(f,r.dtype),c=e.dataIdMap.get(p.dataId).id,g=e.makeOutput(f,"int32"),y=e.dataIdMap.get(g.dataId).id;return eP(u,l,r.shape.length,fr[r.dtype],a,o,c,y),[p,g]}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let tP;function bde(t){tP=t.wasm.cwrap(Sw,null,["number","number","bool","number","number","number","number","number","number","array","number","array","number","number","number","number","number"])}function Sde(t){const{backend:e,inputs:n,attrs:r}=t,{image:a,transforms:o}=n,{interpolation:u,fillMode:l,fillValue:f,outputShape:p}=r,[c,g,y,S]=a.shape,[E,k]=p??[g,y],_=[c,E,k,S],I=new Uint8Array(new Int32Array(Bt(a.shape)).buffer),R=new Uint8Array(new Int32Array(Bt(_)).buffer),A=e.makeOutput(_,a.dtype),O=e.dataIdMap.get(A.dataId).id,U=e.dataIdMap.get(a.dataId).id,J=e.dataIdMap.get(o.dataId).id,q=u==="nearest"?1:2;let K;switch(l){case"constant":K=1;break;case"reflect":K=2;break;case"wrap":K=3;break;case"nearest":K=4;break;default:K=1;break}return tP(U,J,o.shape[0]>1,c,E,k,S,y,g,I,a.shape.length-1,R,_.length-1,q,K,f,O),A}const wde={kernelName:Sw,backendName:"wasm",setupFunc:bde,kernelFunc:Sde};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ede(t){const{inputs:e,attrs:n,backend:r}=t,{axis:a}=n,{x:o}=e,{outputValues:u,outputShape:l,indices:f}=FF(r.readSync(o.dataId),a,o.shape,o.dtype);return[r.makeOutput(l,o.dtype,void 0,u),r.makeOutput([f.length],"int32",void 0,f)]}const xde={kernelName:f_,backendName:"wasm",kernelFunc:Ede};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cde(t){const{inputs:e,backend:n,attrs:r}=t,{value:a}=e;let{axis:o}=r;o<0&&(o+=a.shape.length);const u=a.shape[o],l=a.shape.length,f=new Array(l-1);let p=0;for(let S=0;S<l;S++)S!==o&&(f[p++]=a.shape[S]);const c=new Array(u),g=new Array(l).fill(0),y=a.shape.slice();y[o]=1;for(let S=0;S<c.length;S++)g[o]=S,c[S]=pp({inputs:{x:a},attrs:{begin:g,size:y},backend:n});return c.map(({dataId:S,dtype:E})=>({dataId:S,dtype:E,shape:f}))}const kde={kernelName:p_,backendName:"wasm",kernelFunc:Cde};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _de(t){const{inputs:{x:e},backend:n}=t,r=n.makeOutput(e.shape,e.dtype);return n.typedArrayFromHeap(r).fill(0),r}const Tde={kernelName:h_,backendName:"wasm",kernelFunc:_de};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ide=[Bre,zre,Ure,Hre,Vre,Gre,eae,rae,aae,oae,sae,iae,uae,lae,cae,pae,Eae,gae,bae,_ae,xse,_se,Tse,Rse,Nse,Ase,Mse,$se,Lse,Use,Wse,qse,Xse,Qse,Jse,tie,aie,iie,cie,pie,gie,bie,Eie,kie,Iie,Rie,Die,Oie,Mie,$ie,Fie,Pie,Lie,Uie,Hie,Vie,Gie,Yie,Jie,tue,aue,oue,sue,qre,iue,uue,lue,fue,pue,hue,vue,bue,yue,Sue,wue,Eue,xue,_ue,Rue,Due,Oue,Fue,Bue,Hue,jue,Kue,Que,ele,tle,ale,lle,cle,dle,fle,mle,yle,wle,Ele,kle,Tle,Rle,N6,Dle,$le,Lle,Ble,zle,Ule,Hle,Vle,xae,Gle,Yle,Jle,tce,ace,ice,uce,lce,fce,mce,yce,bce,Ece,xce,Cce,kce,wse,sle,_ce,Ice,Ace,Mce,Fce,Lce,Uce,Vce,Wce,jce,Gce,Yce,Jce,ede,nde,ade,ode,ude,lde,cde,pde,gde,yde,wde,Qre,xde,kde,Tde];for(const t of Ide)kO(t);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const IT=Ln();IT.registerFlag("WASM_HAS_SIMD_SUPPORT",async()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]))}catch{return!1}}),IT.registerFlag("WASM_HAS_MULTITHREAD_SUPPORT",async()=>{if(IT.get("IS_NODE"))return!1;try{return new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch{return!1}});var RT={exports:{}},nP;function Rde(){return nP||(nP=1,(function(t,e){var n=(()=>{var r=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(r=r||__filename),(function(a){a=a||{};function o(){return oe.buffer!=He&&jt(oe.buffer),Xe}function u(){return oe.buffer!=He&&jt(oe.buffer),ct}function l(){return oe.buffer!=He&&jt(oe.buffer),St}function f(){return oe.buffer!=He&&jt(oe.buffer),Rt}function p(){return oe.buffer!=He&&jt(oe.buffer),Dt}var c=typeof a<"u"?a:{},g,y;c.ready=new Promise(function(ae,_e){g=ae,y=_e});var S;typeof process<"u"&&process.listeners&&(S={uncaughtException:process.listeners("uncaughtException"),unhandledRejection:process.listeners("unhandledRejection")});var E=Object.assign({},c),k=(ae,_e)=>{throw _e},_=typeof window=="object",I=typeof importScripts=="function",R=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",A=c.ENVIRONMENT_IS_PTHREAD||!1,O="";function L(ae){return c.locateFile?c.locateFile(ae,O):O+ae}var U,j,J;function q(ae){if(ae instanceof $n)return;ce("exiting due to exception: "+ae)}if(R){var K=Ld,z=Ld;I?O=z.dirname(O)+"/":O=__dirname+"/",U=(_e,Qe)=>(_e=Mn(_e)?new URL(_e):z.normalize(_e),K.readFileSync(_e,Qe?void 0:"utf8")),J=_e=>{var Qe=U(_e,!0);return Qe.buffer||(Qe=new Uint8Array(Qe)),Qe},j=(_e,Qe,Tt)=>{_e=Mn(_e)?new URL(_e):z.normalize(_e),K.readFile(_e,function(Vt,rn){Vt?Tt(Vt):Qe(rn.buffer)})},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("uncaughtException",function(_e){if(!(_e instanceof $n))throw _e}),process.on("unhandledRejection",function(_e){throw _e}),k=(_e,Qe)=>{if(Jt())throw process.exitCode=_e,Qe;q(Qe),process.exit(_e)},c.inspect=function(){return"[Emscripten Module object]"};let ae;try{ae=Ld}catch(_e){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),_e}_d.Worker=ae.Worker}else(_||I)&&(I?O=self.location.href:typeof document<"u"&&document.currentScript&&(O=document.currentScript.src),typeof r<"u"&&r&&(O=r),O.indexOf("blob:")!==0?O=O.substr(0,O.replace(/[?#].*/,"").lastIndexOf("/")+1):O="",R||(U=ae=>{var _e=new XMLHttpRequest;return _e.open("GET",ae,!1),_e.send(null),_e.responseText},I&&(J=ae=>{var _e=new XMLHttpRequest;return _e.open("GET",ae,!1),_e.responseType="arraybuffer",_e.send(null),new Uint8Array(_e.response)}),j=(ae,_e,Qe)=>{var Tt=new XMLHttpRequest;Tt.open("GET",ae,!0),Tt.responseType="arraybuffer",Tt.onload=()=>{if(Tt.status==200||Tt.status==0&&Tt.response){_e(Tt.response);return}Qe()},Tt.onerror=Qe,Tt.send(null)}));R&&typeof performance>"u"&&(_d.performance=Ld.performance);var te=console.log.bind(console),ee=console.warn.bind(console);R&&(te=ae=>K.writeSync(1,ae+`
`),ee=ae=>K.writeSync(2,ae+`
`));var le=c.print||te,ce=c.printErr||ee;Object.assign(c,E),E=null,c.arguments&&c.arguments,c.thisProgram&&c.thisProgram,c.quit&&(k=c.quit);var ye;c.wasmBinary&&(ye=c.wasmBinary);var ve=c.noExitRuntime||!0;typeof WebAssembly!="object"&&gt("no native wasm support detected");var oe,he,ge=!1,Q;function ue(ae,_e){ae||gt(_e)}var ke=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Ce(ae,_e,Qe){_e>>>=0;for(var Tt=_e+Qe,Vt=_e;ae[Vt]&&!(Vt>=Tt);)++Vt;if(Vt-_e>16&&ae.buffer&&ke)return ke.decode(ae.buffer instanceof SharedArrayBuffer?ae.slice(_e,Vt):ae.subarray(_e,Vt));for(var rn="";_e<Vt;){var ht=ae[_e++];if(!(ht&128)){rn+=String.fromCharCode(ht);continue}var Nt=ae[_e++]&63;if((ht&224)==192){rn+=String.fromCharCode((ht&31)<<6|Nt);continue}var Jn=ae[_e++]&63;if((ht&240)==224?ht=(ht&15)<<12|Nt<<6|Jn:ht=(ht&7)<<18|Nt<<12|Jn<<6|ae[_e++]&63,ht<65536)rn+=String.fromCharCode(ht);else{var ca=ht-65536;rn+=String.fromCharCode(55296|ca>>10,56320|ca&1023)}}return rn}function Me(ae,_e){return ae>>>=0,ae?Ce(u(),ae,_e):""}function Ve(ae,_e,Qe,Tt){if(Qe>>>=0,!(Tt>0))return 0;for(var Vt=Qe,rn=Qe+Tt-1,ht=0;ht<ae.length;++ht){var Nt=ae.charCodeAt(ht);if(Nt>=55296&&Nt<=57343){var Jn=ae.charCodeAt(++ht);Nt=65536+((Nt&1023)<<10)|Jn&1023}if(Nt<=127){if(Qe>=rn)break;_e[Qe++>>>0]=Nt}else if(Nt<=2047){if(Qe+1>=rn)break;_e[Qe++>>>0]=192|Nt>>6,_e[Qe++>>>0]=128|Nt&63}else if(Nt<=65535){if(Qe+2>=rn)break;_e[Qe++>>>0]=224|Nt>>12,_e[Qe++>>>0]=128|Nt>>6&63,_e[Qe++>>>0]=128|Nt&63}else{if(Qe+3>=rn)break;_e[Qe++>>>0]=240|Nt>>18,_e[Qe++>>>0]=128|Nt>>12&63,_e[Qe++>>>0]=128|Nt>>6&63,_e[Qe++>>>0]=128|Nt&63}}return _e[Qe>>>0]=0,Qe-Vt}function Ke(ae,_e,Qe){return Ve(ae,u(),_e,Qe)}var He,Xe,ct,St,Rt,Dt;A&&(He=c.buffer);function jt(ae){He=ae,c.HEAP8=Xe=new Int8Array(ae),c.HEAP16=new Int16Array(ae),c.HEAP32=St=new Int32Array(ae),c.HEAPU8=ct=new Uint8Array(ae),c.HEAPU16=new Uint16Array(ae),c.HEAPU32=Rt=new Uint32Array(ae),c.HEAPF32=new Float32Array(ae),c.HEAPF64=Dt=new Float64Array(ae)}var zt=c.INITIAL_MEMORY||16777216;if(A)oe=c.wasmMemory,He=c.buffer;else if(c.wasmMemory)oe=c.wasmMemory;else if(oe=new WebAssembly.Memory({initial:zt/65536,maximum:65536,shared:!0}),!(oe.buffer instanceof SharedArrayBuffer))throw ce("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),R&&ce("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");oe&&(He=oe.buffer),zt=He.byteLength,jt(He);var vt,on=[],dn=[],mn=[];function Jt(){return ve}function Rn(){if(c.preRun)for(typeof c.preRun=="function"&&(c.preRun=[c.preRun]);c.preRun.length;)Vn(c.preRun.shift());kn(on)}function bn(){A||kn(dn)}function Dn(){if(!A){if(c.postRun)for(typeof c.postRun=="function"&&(c.postRun=[c.postRun]);c.postRun.length;)Un(c.postRun.shift());kn(mn)}}function Vn(ae){on.unshift(ae)}function gn(ae){dn.unshift(ae)}function Un(ae){mn.unshift(ae)}var Nn=0,pr=null;function Lr(ae){Nn++,c.monitorRunDependencies&&c.monitorRunDependencies(Nn)}function st(ae){if(Nn--,c.monitorRunDependencies&&c.monitorRunDependencies(Nn),Nn==0&&pr){var _e=pr;pr=null,_e()}}function gt(ae){c.onAbort&&c.onAbort(ae),ae="Aborted("+ae+")",ce(ae),ge=!0,Q=1,ae+=". Build with -sASSERTIONS for more info.";var _e=new WebAssembly.RuntimeError(ae);throw y(_e),_e}var ln="data:application/octet-stream;base64,";function Cn(ae){return ae.startsWith(ln)}function Mn(ae){return ae.startsWith("file://")}var vn;vn="tfjs-backend-wasm-threaded-simd.wasm",Cn(vn)||(vn=L(vn));function sr(ae){try{if(ae==vn&&ye)return new Uint8Array(ye);if(J)return J(ae);throw"both async and sync fetching of the wasm failed"}catch(_e){gt(_e)}}function Hr(){if(!ye&&(_||I)){if(typeof fetch=="function"&&!Mn(vn))return fetch(vn,{credentials:"same-origin"}).then(function(ae){if(!ae.ok)throw"failed to load wasm binary file at '"+vn+"'";return ae.arrayBuffer()}).catch(function(){return sr(vn)});if(j)return new Promise(function(ae,_e){j(vn,function(Qe){ae(new Uint8Array(Qe))},_e)})}return Promise.resolve().then(function(){return sr(vn)})}function Xn(){var ae={env:Ci,wasi_snapshot_preview1:Ci};function _e(ht,Nt){var Jn=ht.exports;if(c.asm=Jn,Jr(c.asm._emscripten_tls_init),vt=c.asm.__indirect_function_table,gn(c.asm.__wasm_call_ctors),he=Nt,!A){var ca=lt.unusedWorkers.length;lt.unusedWorkers.forEach(function(Zo){lt.loadWasmModuleToWorker(Zo,function(){--ca||st()})})}}A||Lr();function Qe(ht){_e(ht.instance,ht.module)}function Tt(ht){return Hr().then(function(Nt){return WebAssembly.instantiate(Nt,ae)}).then(function(Nt){return Nt}).then(ht,function(Nt){ce("failed to asynchronously prepare wasm: "+Nt),gt(Nt)})}function Vt(){return!ye&&typeof WebAssembly.instantiateStreaming=="function"&&!Cn(vn)&&!Mn(vn)&&!R&&typeof fetch=="function"?fetch(vn,{credentials:"same-origin"}).then(function(ht){var Nt=WebAssembly.instantiateStreaming(ht,ae);return Nt.then(Qe,function(Jn){return ce("wasm streaming compile failed: "+Jn),ce("falling back to ArrayBuffer instantiation"),Tt(Qe)})}):Tt(Qe)}if(c.instantiateWasm)try{var rn=c.instantiateWasm(ae,_e);return rn}catch(ht){ce("Module.instantiateWasm callback failed with error: "+ht),y(ht)}return Vt().catch(y),{}}var Qn={};function $n(ae){this.name="ExitStatus",this.message="Program terminated with exit("+ae+")",this.status=ae}function ia(ae){var _e=lt.pthreads[ae];delete lt.pthreads[ae],_e.terminate(),ki(ae),lt.runningWorkers.splice(lt.runningWorkers.indexOf(_e),1),_e.pthread_ptr=0}function lr(ae){var _e=lt.pthreads[ae];_e.postMessage({cmd:"cancel"})}function Fn(ae){var _e=lt.pthreads[ae];ue(_e),lt.returnWorkerToPool(_e)}function $a(ae){var _e=lt.getNewWorker();if(!_e)return 6;lt.runningWorkers.push(_e),lt.pthreads[ae.pthread_ptr]=_e,_e.pthread_ptr=ae.pthread_ptr;var Qe={cmd:"run",start_routine:ae.startRoutine,arg:ae.arg,pthread_ptr:ae.pthread_ptr};return _e.runPthread=()=>{R&&_e.ref(),_e.postMessage(Qe,ae.transferList),delete _e.runPthread},_e.loaded&&_e.runPthread(),0}function ua(ae){if(A)return Jo(1,1,ae);Q=ae,Jt()||(lt.terminateAllThreads(),c.onExit&&c.onExit(ae),ge=!0),k(ae,new $n(ae))}function Le(ae,_e){if(Q=ae,!_e&&A)throw Ht(ae),"unwind";ua(ae)}var et=Le;function Ot(ae){if(ae instanceof $n||ae=="unwind")return Q;k(1,ae)}var lt={unusedWorkers:[],runningWorkers:[],tlsInitFunctions:[],pthreads:{},init:function(){A?lt.initWorker():lt.initMainThread()},initMainThread:function(){for(var ae=8;ae--;)lt.allocateUnusedWorker()},initWorker:function(){ve=!1},setExitStatus:function(ae){Q=ae},terminateAllThreads:function(){for(var ae of Object.values(lt.pthreads))lt.returnWorkerToPool(ae);for(var ae of lt.unusedWorkers)ae.terminate();lt.unusedWorkers=[]},returnWorkerToPool:function(ae){var _e=ae.pthread_ptr;delete lt.pthreads[_e],lt.unusedWorkers.push(ae),lt.runningWorkers.splice(lt.runningWorkers.indexOf(ae),1),ae.pthread_ptr=0,R&&ae.unref(),ki(_e)},receiveObjectTransfer:function(ae){},threadInitTLS:function(){lt.tlsInitFunctions.forEach(ae=>ae())},loadWasmModuleToWorker:function(ae,_e){ae.onmessage=rn=>{var ht=rn.data,Nt=ht.cmd;if(ae.pthread_ptr&&(lt.currentProxiedOperationCallerThread=ae.pthread_ptr),ht.targetThread&&ht.targetThread!=Pa()){var Jn=lt.pthreads[ht.targetThread];Jn?Jn.postMessage(ht,ht.transferList):ce('Internal error! Worker sent a message "'+Nt+'" to target pthread '+ht.targetThread+", but that thread no longer exists!"),lt.currentProxiedOperationCallerThread=void 0;return}Nt==="processProxyingQueue"?wn(ht.queue):Nt==="spawnThread"?$a(ht):Nt==="cleanupThread"?Fn(ht.thread):Nt==="killThread"?ia(ht.thread):Nt==="cancelThread"?lr(ht.thread):Nt==="loaded"?(ae.loaded=!0,R&&ae.unref(),_e&&_e(ae),ae.runPthread&&ae.runPthread()):Nt==="print"?le("Thread "+ht.threadId+": "+ht.text):Nt==="printErr"?ce("Thread "+ht.threadId+": "+ht.text):Nt==="alert"?alert("Thread "+ht.threadId+": "+ht.text):ht.target==="setimmediate"?ae.postMessage(ht):Nt==="callHandler"?c[ht.handler](...ht.args):Nt&&ce("worker sent an unknown command "+Nt),lt.currentProxiedOperationCallerThread=void 0},ae.onerror=rn=>{var ht="worker sent an error!";throw ce(ht+" "+rn.filename+":"+rn.lineno+": "+rn.message),rn},R&&(ae.on("message",function(rn){ae.onmessage({data:rn})}),ae.on("error",function(rn){ae.onerror(rn)}),ae.on("detachedExit",function(){}));var Qe=[],Tt=["onExit","onAbort","print","printErr"];for(var Vt of Tt)c.hasOwnProperty(Vt)&&Qe.push(Vt);ae.postMessage({cmd:"load",handlers:Qe,urlOrBlob:c.mainScriptUrlOrBlob||r,wasmMemory:oe,wasmModule:he})},allocateUnusedWorker:function(){var ae,_e=L("tfjs-backend-wasm-threaded-simd.worker.js");ae=new Worker(_e),lt.unusedWorkers.push(ae)},getNewWorker:function(){return lt.unusedWorkers.length==0&&(lt.allocateUnusedWorker(),lt.loadWasmModuleToWorker(lt.unusedWorkers[0])),lt.unusedWorkers.pop()}};c.PThread=lt;function kn(ae){for(;ae.length>0;)ae.shift()(c)}function Tn(){var ae=Pa(),_e=l()[ae+52>>>2],Qe=l()[ae+56>>>2],Tt=_e-Qe;Ji(_e,Tt),en(_e)}c.establishStackSpace=Tn;function Ht(ae){if(A)return Jo(2,0,ae);try{et(ae)}catch(_e){Ot(_e)}}var Kt=[];function er(ae){var _e=Kt[ae];return _e||(ae>=Kt.length&&(Kt.length=ae+1),Kt[ae]=_e=vt.get(ae)),_e}function Vr(ae,_e){var Qe=er(ae)(_e);Jt()?lt.setExitStatus(Qe):On(Qe)}c.invokeEntryPoint=Vr;function Jr(ae){lt.tlsInitFunctions.push(ae)}function fe(ae){Ju(ae,!I,1,!_),lt.threadInitTLS()}function Ye(ae){A?postMessage({cmd:"cleanupThread",thread:ae}):Fn(ae)}function ft(ae,_e,Qe,Tt){return A?Jo(3,1,ae,_e,Qe,Tt):ut(ae,_e,Qe,Tt)}function ut(ae,_e,Qe,Tt){if(typeof SharedArrayBuffer>"u")return ce("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var Vt=[],rn=0;if(A&&(Vt.length===0||rn))return ft(ae,_e,Qe,Tt);var ht={startRoutine:Qe,pthread_ptr:ae,arg:Tt,transferList:Vt};return A?(ht.cmd="spawnThread",postMessage(ht,Vt),0):$a(ht)}function Gt(){return 65536}var Zt=!0;function In(){return Zt}function wn(ae){Atomics.store(l(),ae>>2,1),Pa()&&Wn(ae),Atomics.compareExchange(l(),ae>>2,1,0)}c.executeNotifiedProxyingQueue=wn;function Zr(ae,_e,Qe,Tt){if(ae==_e)setTimeout(()=>wn(Tt));else if(A)postMessage({targetThread:ae,cmd:"processProxyingQueue",queue:Tt});else{var Vt=lt.pthreads[ae];if(!Vt)return;Vt.postMessage({cmd:"processProxyingQueue",queue:Tt})}return 1}function wr(ae,_e,Qe){return-1}function hr(){gt("")}function Wr(ae){Wr.shown||(Wr.shown={}),Wr.shown[ae]||(Wr.shown[ae]=1,R&&(ae="warning: "+ae),ce(ae))}function Lo(){R||I||Wr("Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread")}function Bo(){return Date.now()}function fn(){return 4294901760}function En(){return fn()}var mo;R?mo=()=>{var ae=process.hrtime();return ae[0]*1e3+ae[1]/1e6}:mo=()=>performance.timeOrigin+performance.now();function Xi(ae,_e,Qe){u().copyWithin(ae>>>0,_e>>>0,_e+Qe>>>0)}function wi(){return R?Ld.cpus().length:navigator.hardwareConcurrency}function Js(ae){var _e=go(),Qe=ae();return en(_e),Qe}function Jo(ae,_e){var Qe=arguments.length-2,Tt=arguments;return Js(()=>{for(var Vt=Qe,rn=ei(Vt*8),ht=rn>>3,Nt=0;Nt<Qe;Nt++){var Jn=Tt[2+Nt];p()[ht+Nt>>>0]=Jn}return Uo(ae,Vt,rn,_e)})}var Cs=[];function so(ae,_e,Qe){Cs.length=_e;for(var Tt=Qe>>3,Vt=0;Vt<_e;Vt++)Cs[Vt]=p()[Tt+Vt>>>0];var rn=ae<0,ht=rn?Qn[-ae-1]:_a[ae];return ht.apply(null,Cs)}function Xu(ae){try{return oe.grow(ae-He.byteLength+65535>>>16),jt(oe.buffer),1}catch{}}function Fa(ae){var _e=u().length;if(ae=ae>>>0,ae<=_e)return!1;var Qe=fn();if(ae>Qe)return!1;let Tt=(Jn,ca)=>Jn+(ca-Jn%ca)%ca;for(var Vt=1;Vt<=4;Vt*=2){var rn=_e*(1+.2/Vt);rn=Math.min(rn,ae+100663296);var ht=Math.min(Qe,Tt(Math.max(ae,rn),65536)),Nt=Xu(ht);if(Nt)return!0}return!1}function Qu(){throw"unwind"}function Qi(ae){return A?Jo(4,1,ae):52}function Ei(ae,_e,Qe,Tt,Vt){return A?Jo(5,1,ae,_e,Qe,Tt,Vt):70}var ks=[null,[],[]];function ka(ae,_e){var Qe=ks[ae];_e===0||_e===10?((ae===1?le:ce)(Ce(Qe,0)),Qe.length=0):Qe.push(_e)}function jr(ae,_e,Qe,Tt){if(A)return Jo(6,1,ae,_e,Qe,Tt);for(var Vt=0,rn=0;rn<Qe;rn++){var ht=f()[_e>>>2],Nt=f()[_e+4>>>2];_e+=8;for(var Jn=0;Jn<Nt;Jn++)ka(ae,u()[ht+Jn>>>0]);Vt+=Nt}return f()[Tt>>>2]=Vt,0}function zo(ae){var _e=c["_"+ae];return _e}function bu(ae,_e){o().set(ae,_e>>>0)}function xi(ae,_e,Qe,Tt,Vt){var rn={string:Nr=>{var ts=0;if(Nr!=null&&Nr!==0){var ti=(Nr.length<<2)+1;ts=ei(ti),Ke(Nr,ts,ti)}return ts},array:Nr=>{var ts=ei(Nr.length);return bu(Nr,ts),ts}};function ht(Nr){return _e==="string"?Me(Nr):_e==="boolean"?!!Nr:Nr}var Nt=zo(ae),Jn=[],ca=0;if(Tt)for(var Zo=0;Zo<Tt.length;Zo++){var vo=rn[Qe[Zo]];vo?(ca===0&&(ca=go()),Jn[Zo]=vo(Tt[Zo])):Jn[Zo]=Tt[Zo]}var yo=Nt.apply(null,Jn);function es(Nr){return ca!==0&&en(ca),ht(Nr)}return yo=es(yo),yo}function Zs(ae,_e,Qe,Tt){Qe=Qe||[];var Vt=Qe.every(ht=>ht==="number"||ht==="boolean"),rn=_e!=="string";return rn&&Vt&&!Tt?zo(ae):function(){return xi(ae,_e,Qe,arguments)}}lt.init();var _a=[null,ua,Ht,ft,Qi,Ei,jr],Ci={__emscripten_init_main_thread_js:fe,__emscripten_thread_cleanup:Ye,__pthread_create_js:ut,_emscripten_default_pthread_stack_size:Gt,_emscripten_get_now_is_monotonic:In,_emscripten_notify_task_queue:Zr,_emscripten_set_offscreencanvas_size:wr,abort:hr,emscripten_check_blocking_allowed:Lo,emscripten_date_now:Bo,emscripten_get_heap_max:En,emscripten_get_now:mo,emscripten_memcpy_big:Xi,emscripten_num_logical_cores:wi,emscripten_receive_on_main_thread_js:so,emscripten_resize_heap:Fa,emscripten_unwind_to_js_event_loop:Qu,exit:et,fd_close:Qi,fd_seek:Ei,fd_write:jr,memory:oe||c.wasmMemory};Xn(),c.___wasm_call_ctors=function(){return(c.___wasm_call_ctors=c.asm.__wasm_call_ctors).apply(null,arguments)},c._init=function(){return(c._init=c.asm.init).apply(null,arguments)},c._init_with_threads_count=function(){return(c._init_with_threads_count=c.asm.init_with_threads_count).apply(null,arguments)},c._get_threads_count=function(){return(c._get_threads_count=c.asm.get_threads_count).apply(null,arguments)},c._register_tensor=function(){return(c._register_tensor=c.asm.register_tensor).apply(null,arguments)},c._dispose_data=function(){return(c._dispose_data=c.asm.dispose_data).apply(null,arguments)},c._dispose=function(){return(c._dispose=c.asm.dispose).apply(null,arguments)},c._Abs=function(){return(c._Abs=c.asm.Abs).apply(null,arguments)},c._Acos=function(){return(c._Acos=c.asm.Acos).apply(null,arguments)},c._Acosh=function(){return(c._Acosh=c.asm.Acosh).apply(null,arguments)},c._Add=function(){return(c._Add=c.asm.Add).apply(null,arguments)},c._AddN=function(){return(c._AddN=c.asm.AddN).apply(null,arguments)},c._All=function(){return(c._All=c.asm.All).apply(null,arguments)},c._Any=function(){return(c._Any=c.asm.Any).apply(null,arguments)},c._ArgMax=function(){return(c._ArgMax=c.asm.ArgMax).apply(null,arguments)},c._ArgMin=function(){return(c._ArgMin=c.asm.ArgMin).apply(null,arguments)},c._Asin=function(){return(c._Asin=c.asm.Asin).apply(null,arguments)},c._Asinh=function(){return(c._Asinh=c.asm.Asinh).apply(null,arguments)},c._Atan=function(){return(c._Atan=c.asm.Atan).apply(null,arguments)},c._Atan2=function(){return(c._Atan2=c.asm.Atan2).apply(null,arguments)},c._Atanh=function(){return(c._Atanh=c.asm.Atanh).apply(null,arguments)},c._AvgPool=function(){return(c._AvgPool=c.asm.AvgPool).apply(null,arguments)},c._AvgPool3D=function(){return(c._AvgPool3D=c.asm.AvgPool3D).apply(null,arguments)},c._AvgPool3DGrad=function(){return(c._AvgPool3DGrad=c.asm.AvgPool3DGrad).apply(null,arguments)},c._AvgPoolGrad=function(){return(c._AvgPoolGrad=c.asm.AvgPoolGrad).apply(null,arguments)},c._BatchMatMul=function(){return(c._BatchMatMul=c.asm.BatchMatMul).apply(null,arguments)},c._Bincount=function(){return(c._Bincount=c.asm.Bincount).apply(null,arguments)},c._BitwiseAnd=function(){return(c._BitwiseAnd=c.asm.BitwiseAnd).apply(null,arguments)},c._Ceil=function(){return(c._Ceil=c.asm.Ceil).apply(null,arguments)},c._ClipByValue=function(){return(c._ClipByValue=c.asm.ClipByValue).apply(null,arguments)},c._Conv2D=function(){return(c._Conv2D=c.asm.Conv2D).apply(null,arguments)},c._Conv2DBackpropInput=function(){return(c._Conv2DBackpropInput=c.asm.Conv2DBackpropInput).apply(null,arguments)},c._Conv3D=function(){return(c._Conv3D=c.asm.Conv3D).apply(null,arguments)},c._Conv3DBackpropFilterV2=function(){return(c._Conv3DBackpropFilterV2=c.asm.Conv3DBackpropFilterV2).apply(null,arguments)},c._Conv3DBackpropInputV2=function(){return(c._Conv3DBackpropInputV2=c.asm.Conv3DBackpropInputV2).apply(null,arguments)},c._Cos=function(){return(c._Cos=c.asm.Cos).apply(null,arguments)},c._Cosh=function(){return(c._Cosh=c.asm.Cosh).apply(null,arguments)},c._CropAndResize=function(){return(c._CropAndResize=c.asm.CropAndResize).apply(null,arguments)},c._Cumprod=function(){return(c._Cumprod=c.asm.Cumprod).apply(null,arguments)},c._Cumsum=function(){return(c._Cumsum=c.asm.Cumsum).apply(null,arguments)},c._DenseBincount=function(){return(c._DenseBincount=c.asm.DenseBincount).apply(null,arguments)},c._DepthToSpace=function(){return(c._DepthToSpace=c.asm.DepthToSpace).apply(null,arguments)},c._DepthwiseConv2dNative=function(){return(c._DepthwiseConv2dNative=c.asm.DepthwiseConv2dNative).apply(null,arguments)},c._Diag=function(){return(c._Diag=c.asm.Diag).apply(null,arguments)},c._Dilation2D=function(){return(c._Dilation2D=c.asm.Dilation2D).apply(null,arguments)},c._Dilation2DBackpropFilter=function(){return(c._Dilation2DBackpropFilter=c.asm.Dilation2DBackpropFilter).apply(null,arguments)},c._Dilation2DBackpropInput=function(){return(c._Dilation2DBackpropInput=c.asm.Dilation2DBackpropInput).apply(null,arguments)},c._Elu=function(){return(c._Elu=c.asm.Elu).apply(null,arguments)},c._EluGrad=function(){return(c._EluGrad=c.asm.EluGrad).apply(null,arguments)},c._Equal=function(){return(c._Equal=c.asm.Equal).apply(null,arguments)},c._Erf=function(){return(c._Erf=c.asm.Erf).apply(null,arguments)},c._Exp=function(){return(c._Exp=c.asm.Exp).apply(null,arguments)},c._Expm1=function(){return(c._Expm1=c.asm.Expm1).apply(null,arguments)},c._FlipLeftRight=function(){return(c._FlipLeftRight=c.asm.FlipLeftRight).apply(null,arguments)},c._Floor=function(){return(c._Floor=c.asm.Floor).apply(null,arguments)},c._FloorDiv=function(){return(c._FloorDiv=c.asm.FloorDiv).apply(null,arguments)},c._FusedBatchNorm=function(){return(c._FusedBatchNorm=c.asm.FusedBatchNorm).apply(null,arguments)},c._FusedConv2D=function(){return(c._FusedConv2D=c.asm.FusedConv2D).apply(null,arguments)},c._FusedDepthwiseConv2D=function(){return(c._FusedDepthwiseConv2D=c.asm.FusedDepthwiseConv2D).apply(null,arguments)},c._Gather=function(){return(c._Gather=c.asm.Gather).apply(null,arguments)},c._GatherNd=function(){return(c._GatherNd=c.asm.GatherNd).apply(null,arguments)},c._Greater=function(){return(c._Greater=c.asm.Greater).apply(null,arguments)},c._GreaterEqual=function(){return(c._GreaterEqual=c.asm.GreaterEqual).apply(null,arguments)},c._IsFinite=function(){return(c._IsFinite=c.asm.IsFinite).apply(null,arguments)},c._IsInf=function(){return(c._IsInf=c.asm.IsInf).apply(null,arguments)},c._IsNan=function(){return(c._IsNan=c.asm.IsNan).apply(null,arguments)},c._LRN=function(){return(c._LRN=c.asm.LRN).apply(null,arguments)},c._LRNGrad=function(){return(c._LRNGrad=c.asm.LRNGrad).apply(null,arguments)},c._LeakyRelu=function(){return(c._LeakyRelu=c.asm.LeakyRelu).apply(null,arguments)},c._Less=function(){return(c._Less=c.asm.Less).apply(null,arguments)},c._LessEqual=function(){return(c._LessEqual=c.asm.LessEqual).apply(null,arguments)},c._LinSpace=function(){return(c._LinSpace=c.asm.LinSpace).apply(null,arguments)},c._Log=function(){return(c._Log=c.asm.Log).apply(null,arguments)},c._Log1p=function(){return(c._Log1p=c.asm.Log1p).apply(null,arguments)},c._LogicalAnd=function(){return(c._LogicalAnd=c.asm.LogicalAnd).apply(null,arguments)},c._LogicalNot=function(){return(c._LogicalNot=c.asm.LogicalNot).apply(null,arguments)},c._LogicalOr=function(){return(c._LogicalOr=c.asm.LogicalOr).apply(null,arguments)},c._LogicalXor=function(){return(c._LogicalXor=c.asm.LogicalXor).apply(null,arguments)},c._Max=function(){return(c._Max=c.asm.Max).apply(null,arguments)},c._MaxPool=function(){return(c._MaxPool=c.asm.MaxPool).apply(null,arguments)},c._MaxPool3D=function(){return(c._MaxPool3D=c.asm.MaxPool3D).apply(null,arguments)},c._MaxPool3DGrad=function(){return(c._MaxPool3DGrad=c.asm.MaxPool3DGrad).apply(null,arguments)},c._MaxPoolGrad=function(){return(c._MaxPoolGrad=c.asm.MaxPoolGrad).apply(null,arguments)},c._MaxPoolWithArgmax=function(){return(c._MaxPoolWithArgmax=c.asm.MaxPoolWithArgmax).apply(null,arguments)},c._Maximum=function(){return(c._Maximum=c.asm.Maximum).apply(null,arguments)},c._Mean=function(){return(c._Mean=c.asm.Mean).apply(null,arguments)},c._Min=function(){return(c._Min=c.asm.Min).apply(null,arguments)},c._Minimum=function(){return(c._Minimum=c.asm.Minimum).apply(null,arguments)},c._MirrorPad=function(){return(c._MirrorPad=c.asm.MirrorPad).apply(null,arguments)},c._Mod=function(){return(c._Mod=c.asm.Mod).apply(null,arguments)},c._Multinomial=function(){return(c._Multinomial=c.asm.Multinomial).apply(null,arguments)},c._Multiply=function(){return(c._Multiply=c.asm.Multiply).apply(null,arguments)},c._Neg=function(){return(c._Neg=c.asm.Neg).apply(null,arguments)},c._NonMaxSuppressionV3=function(){return(c._NonMaxSuppressionV3=c.asm.NonMaxSuppressionV3).apply(null,arguments)},c._NonMaxSuppressionV4=function(){return(c._NonMaxSuppressionV4=c.asm.NonMaxSuppressionV4).apply(null,arguments)},c._NonMaxSuppressionV5=function(){return(c._NonMaxSuppressionV5=c.asm.NonMaxSuppressionV5).apply(null,arguments)},c._NotEqual=function(){return(c._NotEqual=c.asm.NotEqual).apply(null,arguments)},c._OneHot=function(){return(c._OneHot=c.asm.OneHot).apply(null,arguments)},c._PadV2=function(){return(c._PadV2=c.asm.PadV2).apply(null,arguments)},c._Pow=function(){return(c._Pow=c.asm.Pow).apply(null,arguments)},c._Prelu=function(){return(c._Prelu=c.asm.Prelu).apply(null,arguments)},c._Prod=function(){return(c._Prod=c.asm.Prod).apply(null,arguments)},c._RealDiv=function(){return(c._RealDiv=c.asm.RealDiv).apply(null,arguments)},c._Reciprocal=function(){return(c._Reciprocal=c.asm.Reciprocal).apply(null,arguments)},c._Relu=function(){return(c._Relu=c.asm.Relu).apply(null,arguments)},c._Relu6=function(){return(c._Relu6=c.asm.Relu6).apply(null,arguments)},c._ResizeBilinear=function(){return(c._ResizeBilinear=c.asm.ResizeBilinear).apply(null,arguments)},c._ResizeBilinearGrad=function(){return(c._ResizeBilinearGrad=c.asm.ResizeBilinearGrad).apply(null,arguments)},c._ResizeNearestNeighbor=function(){return(c._ResizeNearestNeighbor=c.asm.ResizeNearestNeighbor).apply(null,arguments)},c._ResizeNearestNeighborGrad=function(){return(c._ResizeNearestNeighborGrad=c.asm.ResizeNearestNeighborGrad).apply(null,arguments)},c._Reverse=function(){return(c._Reverse=c.asm.Reverse).apply(null,arguments)},c._RotateWithOffset=function(){return(c._RotateWithOffset=c.asm.RotateWithOffset).apply(null,arguments)},c._Round=function(){return(c._Round=c.asm.Round).apply(null,arguments)},c._Rsqrt=function(){return(c._Rsqrt=c.asm.Rsqrt).apply(null,arguments)},c._ScatterNd=function(){return(c._ScatterNd=c.asm.ScatterNd).apply(null,arguments)},c._SearchSorted=function(){return(c._SearchSorted=c.asm.SearchSorted).apply(null,arguments)},c._SelectV2=function(){return(c._SelectV2=c.asm.SelectV2).apply(null,arguments)},c._Selu=function(){return(c._Selu=c.asm.Selu).apply(null,arguments)},c._Sigmoid=function(){return(c._Sigmoid=c.asm.Sigmoid).apply(null,arguments)},c._Sign=function(){return(c._Sign=c.asm.Sign).apply(null,arguments)},c._Sin=function(){return(c._Sin=c.asm.Sin).apply(null,arguments)},c._Sinh=function(){return(c._Sinh=c.asm.Sinh).apply(null,arguments)},c._Softmax=function(){return(c._Softmax=c.asm.Softmax).apply(null,arguments)},c._Softplus=function(){return(c._Softplus=c.asm.Softplus).apply(null,arguments)},c._SparseFillEmptyRows=function(){return(c._SparseFillEmptyRows=c.asm.SparseFillEmptyRows).apply(null,arguments)},c._SparseReshape=function(){return(c._SparseReshape=c.asm.SparseReshape).apply(null,arguments)},c._SparseSegmentReduction=function(){return(c._SparseSegmentReduction=c.asm.SparseSegmentReduction).apply(null,arguments)},c._SparseToDense=function(){return(c._SparseToDense=c.asm.SparseToDense).apply(null,arguments)},c._Sqrt=function(){return(c._Sqrt=c.asm.Sqrt).apply(null,arguments)},c._Square=function(){return(c._Square=c.asm.Square).apply(null,arguments)},c._SquaredDifference=function(){return(c._SquaredDifference=c.asm.SquaredDifference).apply(null,arguments)},c._Step=function(){return(c._Step=c.asm.Step).apply(null,arguments)},c._StridedSlice=function(){return(c._StridedSlice=c.asm.StridedSlice).apply(null,arguments)},c._Sub=function(){return(c._Sub=c.asm.Sub).apply(null,arguments)},c._Sum=function(){return(c._Sum=c.asm.Sum).apply(null,arguments)},c._Tan=function(){return(c._Tan=c.asm.Tan).apply(null,arguments)},c._Tanh=function(){return(c._Tanh=c.asm.Tanh).apply(null,arguments)},c._TensorScatterUpdate=function(){return(c._TensorScatterUpdate=c.asm.TensorScatterUpdate).apply(null,arguments)},c._Tile=function(){return(c._Tile=c.asm.Tile).apply(null,arguments)},c._TopK=function(){return(c._TopK=c.asm.TopK).apply(null,arguments)},c._Transform=function(){return(c._Transform=c.asm.Transform).apply(null,arguments)},c._Transpose=function(){return(c._Transpose=c.asm.Transpose).apply(null,arguments)},c.__FusedMatMul=function(){return(c.__FusedMatMul=c.asm._FusedMatMul).apply(null,arguments)},c._malloc=function(){return(c._malloc=c.asm.malloc).apply(null,arguments)},c._free=function(){return(c._free=c.asm.free).apply(null,arguments)},c.__emscripten_tls_init=function(){return(c.__emscripten_tls_init=c.asm._emscripten_tls_init).apply(null,arguments)};var Pa=c._pthread_self=function(){return(Pa=c._pthread_self=c.asm.pthread_self).apply(null,arguments)};c.___errno_location=function(){return(c.___errno_location=c.asm.__errno_location).apply(null,arguments)};var Ju=c.__emscripten_thread_init=function(){return(Ju=c.__emscripten_thread_init=c.asm._emscripten_thread_init).apply(null,arguments)};c.__emscripten_thread_crashed=function(){return(c.__emscripten_thread_crashed=c.asm._emscripten_thread_crashed).apply(null,arguments)},c._emscripten_main_thread_process_queued_calls=function(){return(c._emscripten_main_thread_process_queued_calls=c.asm.emscripten_main_thread_process_queued_calls).apply(null,arguments)},c._emscripten_main_browser_thread_id=function(){return(c._emscripten_main_browser_thread_id=c.asm.emscripten_main_browser_thread_id).apply(null,arguments)};var Uo=c._emscripten_run_in_main_runtime_thread_js=function(){return(Uo=c._emscripten_run_in_main_runtime_thread_js=c.asm.emscripten_run_in_main_runtime_thread_js).apply(null,arguments)};c._emscripten_dispatch_to_thread_=function(){return(c._emscripten_dispatch_to_thread_=c.asm.emscripten_dispatch_to_thread_).apply(null,arguments)};var Wn=c.__emscripten_proxy_execute_task_queue=function(){return(Wn=c.__emscripten_proxy_execute_task_queue=c.asm._emscripten_proxy_execute_task_queue).apply(null,arguments)},ki=c.__emscripten_thread_free_data=function(){return(ki=c.__emscripten_thread_free_data=c.asm._emscripten_thread_free_data).apply(null,arguments)},On=c.__emscripten_thread_exit=function(){return(On=c.__emscripten_thread_exit=c.asm._emscripten_thread_exit).apply(null,arguments)},Ji=c._emscripten_stack_set_limits=function(){return(Ji=c._emscripten_stack_set_limits=c.asm.emscripten_stack_set_limits).apply(null,arguments)},go=c.stackSave=function(){return(go=c.stackSave=c.asm.stackSave).apply(null,arguments)},en=c.stackRestore=function(){return(en=c.stackRestore=c.asm.stackRestore).apply(null,arguments)},ei=c.stackAlloc=function(){return(ei=c.stackAlloc=c.asm.stackAlloc).apply(null,arguments)};c.dynCall_iijjiiii=function(){return(c.dynCall_iijjiiii=c.asm.dynCall_iijjiiii).apply(null,arguments)},c.dynCall_jiji=function(){return(c.dynCall_jiji=c.asm.dynCall_jiji).apply(null,arguments)},c.keepRuntimeAlive=Jt,c.wasmMemory=oe,c.cwrap=Zs,c.ExitStatus=$n,c.PThread=lt;var Gr;pr=function ae(){Gr||Ho(),Gr||(pr=ae)};function Ho(ae){if(Nn>0)return;if(A){g(c),bn(),startWorker(c);return}if(Rn(),Nn>0)return;function _e(){Gr||(Gr=!0,c.calledRun=!0,!ge&&(bn(),g(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),Dn()))}c.setStatus?(c.setStatus("Running..."),setTimeout(function(){setTimeout(function(){c.setStatus("")},1),_e()},1)):_e()}if(c.preInit)for(typeof c.preInit=="function"&&(c.preInit=[c.preInit]);c.preInit.length>0;)c.preInit.pop()();Ho();var la;S&&(la={uncaughtException:process.listeners("uncaughtException").filter(function(ae){return!S.uncaughtException.indexOf(ae)>-1}),unhandledRejection:process.listeners("unhandledRejection").filter(function(ae){return!S.unhandledRejection.indexOf(ae)>-1})});var io;if(typeof WasmBackendModule<"u")io=WasmBackendModule;else if(typeof a<"u")io=a;else throw new Error("Could not find wasm module in post.js");if(la){var _r=io._dispose;io._dispose=function(){_r(),la.uncaughtException.forEach(function(ae){process.removeListener("uncaughtException",ae)}),la.unhandledRejection.forEach(function(ae){process.removeListener("unhandledRejection",ae)})}}return a.ready})})();t.exports=n})(RT)),RT.exports}var rP=Rde();const aP=Ph(rP),Nde=$0({__proto__:null,default:aP},[rP]);var NT={},oP;function Ade(){return oP||(oP=1,NT.wasmWorkerContents=`"use strict";var Module={};var ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads");var parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",data=>onmessage({data:data}));var fs=require("fs");Object.assign(global,{self:global,require:require,Module:Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:function(f){(0,eval)(fs.readFileSync(f,"utf8")+"//# sourceURL="+f)},postMessage:function(msg){parentPort.postMessage(msg)},performance:global.performance||{now:function(){return Date.now()}}})}var initializedJS=false;var pendingNotifiedProxyingQueues=[];function threadPrintErr(){var text=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,text+"
");return}console.error(text)}function threadAlert(){var text=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:text,threadId:Module["_pthread_self"]()})}var err=threadPrintErr;self.alert=threadAlert;Module["instantiateWasm"]=(info,receiveInstance)=>{var instance=new WebAssembly.Instance(Module["wasmModule"],info);receiveInstance(instance);Module["wasmModule"]=null;return instance.exports};self.onunhandledrejection=e=>{throw e.reason??e};self.startWorker=instance=>{Module=instance;postMessage({"cmd":"loaded"})};self.onmessage=e=>{try{if(e.data.cmd==="load"){Module["wasmModule"]=e.data.wasmModule;for(const handler of e.data.handlers){Module[handler]=function(){postMessage({cmd:"callHandler",handler:handler,args:[...arguments]})}}Module["wasmMemory"]=e.data.wasmMemory;Module["buffer"]=Module["wasmMemory"].buffer;Module["ENVIRONMENT_IS_PTHREAD"]=true;if(typeof e.data.urlOrBlob=="string"){importScripts(e.data.urlOrBlob)}else{var objectUrl=URL.createObjectURL(e.data.urlOrBlob);importScripts(objectUrl);URL.revokeObjectURL(objectUrl)}WasmBackendModuleThreadedSimd(Module)}else if(e.data.cmd==="run"){Module["__emscripten_thread_init"](e.data.pthread_ptr,0,0,1);Module["establishStackSpace"]();Module["PThread"].receiveObjectTransfer(e.data);Module["PThread"].threadInitTLS();if(!initializedJS){pendingNotifiedProxyingQueues.forEach(queue=>{Module["executeNotifiedProxyingQueue"](queue)});pendingNotifiedProxyingQueues=[];initializedJS=true}try{Module["invokeEntryPoint"](e.data.start_routine,e.data.arg)}catch(ex){if(ex!="unwind"){if(ex instanceof Module["ExitStatus"]){if(Module["keepRuntimeAlive"]()){}else{Module["__emscripten_thread_exit"](ex.status)}}else{throw ex}}}}else if(e.data.cmd==="cancel"){if(Module["_pthread_self"]()){Module["__emscripten_thread_exit"](-1)}}else if(e.data.target==="setimmediate"){}else if(e.data.cmd==="processProxyingQueue"){if(initializedJS){Module["executeNotifiedProxyingQueue"](e.data.queue)}else{pendingNotifiedProxyingQueues.push(e.data.queue)}}else if(e.data.cmd){err("worker.js received unknown command "+e.data.cmd);err(e.data)}}catch(ex){if(Module["__emscripten_thread_crashed"]){Module["__emscripten_thread_crashed"]()}throw ex}};`),NT}var Dde=Ade(),AT={exports:{}},sP;function Ode(){return sP||(sP=1,(function(t,e){var n=(()=>{var r=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(r=r||__filename),(function(a){a=a||{};var o=typeof a<"u"?a:{},u,l;o.ready=new Promise(function(Le,et){u=Le,l=et});var f;typeof process<"u"&&process.listeners&&(f={uncaughtException:process.listeners("uncaughtException"),unhandledRejection:process.listeners("unhandledRejection")});var p=Object.assign({},o),c=typeof window=="object",g=typeof importScripts=="function",y=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",S="";function E(Le){return o.locateFile?o.locateFile(Le,S):S+Le}var k,_,I;if(y){var R=Ld,A=Ld;g?S=A.dirname(S)+"/":S=__dirname+"/",k=(Le,et)=>(Le=zt(Le)?new URL(Le):A.normalize(Le),R.readFileSync(Le,et?void 0:"utf8")),I=Le=>{var et=k(Le,!0);return et.buffer||(et=new Uint8Array(et)),et},_=(Le,et,Ot)=>{Le=zt(Le)?new URL(Le):A.normalize(Le),R.readFile(Le,function(lt,kn){lt?Ot(lt):et(kn.buffer)})},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("uncaughtException",function(Le){if(!(Le instanceof Jt))throw Le}),process.on("unhandledRejection",function(Le){throw Le}),o.inspect=function(){return"[Emscripten Module object]"}}else(c||g)&&(g?S=self.location.href:typeof document<"u"&&document.currentScript&&(S=document.currentScript.src),r&&(S=r),S.indexOf("blob:")!==0?S=S.substr(0,S.replace(/[?#].*/,"").lastIndexOf("/")+1):S="",k=Le=>{var et=new XMLHttpRequest;return et.open("GET",Le,!1),et.send(null),et.responseText},g&&(I=Le=>{var et=new XMLHttpRequest;return et.open("GET",Le,!1),et.responseType="arraybuffer",et.send(null),new Uint8Array(et.response)}),_=(Le,et,Ot)=>{var lt=new XMLHttpRequest;lt.open("GET",Le,!0),lt.responseType="arraybuffer",lt.onload=()=>{if(lt.status==200||lt.status==0&&lt.response){et(lt.response);return}Ot()},lt.onerror=Ot,lt.send(null)});var O=o.print||console.log.bind(console),L=o.printErr||console.warn.bind(console);Object.assign(o,p),p=null,o.arguments&&o.arguments,o.thisProgram&&o.thisProgram,o.quit&&o.quit;var U;o.wasmBinary&&(U=o.wasmBinary),o.noExitRuntime,typeof WebAssembly!="object"&&Rt("no native wasm support detected");var j,J=!1,q=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function K(Le,et,Ot){et>>>=0;for(var lt=et+Ot,kn=et;Le[kn]&&!(kn>=lt);)++kn;if(kn-et>16&&Le.buffer&&q)return q.decode(Le.subarray(et,kn));for(var Tn="";et<kn;){var Ht=Le[et++];if(!(Ht&128)){Tn+=String.fromCharCode(Ht);continue}var Kt=Le[et++]&63;if((Ht&224)==192){Tn+=String.fromCharCode((Ht&31)<<6|Kt);continue}var er=Le[et++]&63;if((Ht&240)==224?Ht=(Ht&15)<<12|Kt<<6|er:Ht=(Ht&7)<<18|Kt<<12|er<<6|Le[et++]&63,Ht<65536)Tn+=String.fromCharCode(Ht);else{var Vr=Ht-65536;Tn+=String.fromCharCode(55296|Vr>>10,56320|Vr&1023)}}return Tn}function z(Le,et){return Le>>>=0,Le?K(ye,Le,et):""}function te(Le,et,Ot,lt){if(Ot>>>=0,!(lt>0))return 0;for(var kn=Ot,Tn=Ot+lt-1,Ht=0;Ht<Le.length;++Ht){var Kt=Le.charCodeAt(Ht);if(Kt>=55296&&Kt<=57343){var er=Le.charCodeAt(++Ht);Kt=65536+((Kt&1023)<<10)|er&1023}if(Kt<=127){if(Ot>=Tn)break;et[Ot++>>>0]=Kt}else if(Kt<=2047){if(Ot+1>=Tn)break;et[Ot++>>>0]=192|Kt>>6,et[Ot++>>>0]=128|Kt&63}else if(Kt<=65535){if(Ot+2>=Tn)break;et[Ot++>>>0]=224|Kt>>12,et[Ot++>>>0]=128|Kt>>6&63,et[Ot++>>>0]=128|Kt&63}else{if(Ot+3>=Tn)break;et[Ot++>>>0]=240|Kt>>18,et[Ot++>>>0]=128|Kt>>12&63,et[Ot++>>>0]=128|Kt>>6&63,et[Ot++>>>0]=128|Kt&63}}return et[Ot>>>0]=0,Ot-kn}function ee(Le,et,Ot){return te(Le,ye,et,Ot)}var le,ce,ye,ve;function oe(Le){le=Le,o.HEAP8=ce=new Int8Array(Le),o.HEAP16=new Int16Array(Le),o.HEAP32=new Int32Array(Le),o.HEAPU8=ye=new Uint8Array(Le),o.HEAPU16=new Uint16Array(Le),o.HEAPU32=ve=new Uint32Array(Le),o.HEAPF32=new Float32Array(Le),o.HEAPF64=new Float64Array(Le)}o.INITIAL_MEMORY;var he=[],ge=[],Q=[];function ue(){if(o.preRun)for(typeof o.preRun=="function"&&(o.preRun=[o.preRun]);o.preRun.length;)Me(o.preRun.shift());Rn(he)}function ke(){Rn(ge)}function Ce(){if(o.postRun)for(typeof o.postRun=="function"&&(o.postRun=[o.postRun]);o.postRun.length;)Ke(o.postRun.shift());Rn(Q)}function Me(Le){he.unshift(Le)}function Ve(Le){ge.unshift(Le)}function Ke(Le){Q.unshift(Le)}var He=0,Xe=null;function ct(Le){He++,o.monitorRunDependencies&&o.monitorRunDependencies(He)}function St(Le){if(He--,o.monitorRunDependencies&&o.monitorRunDependencies(He),He==0&&Xe){var et=Xe;Xe=null,et()}}function Rt(Le){o.onAbort&&o.onAbort(Le),Le="Aborted("+Le+")",L(Le),J=!0,Le+=". Build with -sASSERTIONS for more info.";var et=new WebAssembly.RuntimeError(Le);throw l(et),et}var Dt="data:application/octet-stream;base64,";function jt(Le){return Le.startsWith(Dt)}function zt(Le){return Le.startsWith("file://")}var vt;vt="tfjs-backend-wasm.wasm",jt(vt)||(vt=E(vt));function on(Le){try{if(Le==vt&&U)return new Uint8Array(U);if(I)return I(Le);throw"both async and sync fetching of the wasm failed"}catch(et){Rt(et)}}function dn(){if(!U&&(c||g)){if(typeof fetch=="function"&&!zt(vt))return fetch(vt,{credentials:"same-origin"}).then(function(Le){if(!Le.ok)throw"failed to load wasm binary file at '"+vt+"'";return Le.arrayBuffer()}).catch(function(){return on(vt)});if(_)return new Promise(function(Le,et){_(vt,function(Ot){Le(new Uint8Array(Ot))},et)})}return Promise.resolve().then(function(){return on(vt)})}function mn(){var Le={env:Hr,wasi_snapshot_preview1:Hr};function et(Ht,Kt){var er=Ht.exports;o.asm=er,j=o.asm.memory,oe(j.buffer),o.asm.__indirect_function_table,Ve(o.asm.__wasm_call_ctors),St()}ct();function Ot(Ht){et(Ht.instance)}function lt(Ht){return dn().then(function(Kt){return WebAssembly.instantiate(Kt,Le)}).then(function(Kt){return Kt}).then(Ht,function(Kt){L("failed to asynchronously prepare wasm: "+Kt),Rt(Kt)})}function kn(){return!U&&typeof WebAssembly.instantiateStreaming=="function"&&!jt(vt)&&!zt(vt)&&!y&&typeof fetch=="function"?fetch(vt,{credentials:"same-origin"}).then(function(Ht){var Kt=WebAssembly.instantiateStreaming(Ht,Le);return Kt.then(Ot,function(er){return L("wasm streaming compile failed: "+er),L("falling back to ArrayBuffer instantiation"),lt(Ot)})}):lt(Ot)}if(o.instantiateWasm)try{var Tn=o.instantiateWasm(Le,et);return Tn}catch(Ht){L("Module.instantiateWasm callback failed with error: "+Ht),l(Ht)}return kn().catch(l),{}}function Jt(Le){this.name="ExitStatus",this.message="Program terminated with exit("+Le+")",this.status=Le}function Rn(Le){for(;Le.length>0;)Le.shift()(o)}function bn(){Rt("")}function Dn(){return 4294901760}function Vn(){return Dn()}function gn(Le,et,Ot){ye.copyWithin(Le>>>0,et>>>0,et+Ot>>>0)}function Un(Le){try{return j.grow(Le-le.byteLength+65535>>>16),oe(j.buffer),1}catch{}}function Nn(Le){var et=ye.length;Le=Le>>>0;var Ot=Dn();if(Le>Ot)return!1;let lt=(er,Vr)=>er+(Vr-er%Vr)%Vr;for(var kn=1;kn<=4;kn*=2){var Tn=et*(1+.2/kn);Tn=Math.min(Tn,Le+100663296);var Ht=Math.min(Ot,lt(Math.max(Le,Tn),65536)),Kt=Un(Ht);if(Kt)return!0}return!1}function pr(Le){return 52}function Lr(Le,et,Ot,lt,kn){return 70}var st=[null,[],[]];function gt(Le,et){var Ot=st[Le];et===0||et===10?((Le===1?O:L)(K(Ot,0)),Ot.length=0):Ot.push(et)}function ln(Le,et,Ot,lt){for(var kn=0,Tn=0;Tn<Ot;Tn++){var Ht=ve[et>>>2],Kt=ve[et+4>>>2];et+=8;for(var er=0;er<Kt;er++)gt(Le,ye[Ht+er>>>0]);kn+=Kt}return ve[lt>>>2]=kn,0}function Cn(Le){var et=o["_"+Le];return et}function Mn(Le,et){ce.set(Le,et>>>0)}function vn(Le,et,Ot,lt,kn){var Tn={string:ut=>{var Gt=0;if(ut!=null&&ut!==0){var Zt=(ut.length<<2)+1;Gt=$n(Zt),ee(ut,Gt,Zt)}return Gt},array:ut=>{var Gt=$n(ut.length);return Mn(ut,Gt),Gt}};function Ht(ut){return et==="string"?z(ut):et==="boolean"?!!ut:ut}var Kt=Cn(Le),er=[],Vr=0;if(lt)for(var Jr=0;Jr<lt.length;Jr++){var fe=Tn[Ot[Jr]];fe?(Vr===0&&(Vr=Xn()),er[Jr]=fe(lt[Jr])):er[Jr]=lt[Jr]}var Ye=Kt.apply(null,er);function ft(ut){return Vr!==0&&Qn(Vr),Ht(ut)}return Ye=ft(Ye),Ye}function sr(Le,et,Ot,lt){Ot=Ot||[];var kn=Ot.every(Ht=>Ht==="number"||Ht==="boolean"),Tn=et!=="string";return Tn&&kn&&!lt?Cn(Le):function(){return vn(Le,et,Ot,arguments)}}var Hr={abort:bn,emscripten_get_heap_max:Vn,emscripten_memcpy_big:gn,emscripten_resize_heap:Nn,fd_close:pr,fd_seek:Lr,fd_write:ln};mn(),o.___wasm_call_ctors=function(){return(o.___wasm_call_ctors=o.asm.__wasm_call_ctors).apply(null,arguments)},o._init=function(){return(o._init=o.asm.init).apply(null,arguments)},o._init_with_threads_count=function(){return(o._init_with_threads_count=o.asm.init_with_threads_count).apply(null,arguments)},o._get_threads_count=function(){return(o._get_threads_count=o.asm.get_threads_count).apply(null,arguments)},o._register_tensor=function(){return(o._register_tensor=o.asm.register_tensor).apply(null,arguments)},o._dispose_data=function(){return(o._dispose_data=o.asm.dispose_data).apply(null,arguments)},o._dispose=function(){return(o._dispose=o.asm.dispose).apply(null,arguments)},o._Abs=function(){return(o._Abs=o.asm.Abs).apply(null,arguments)},o._Acos=function(){return(o._Acos=o.asm.Acos).apply(null,arguments)},o._Acosh=function(){return(o._Acosh=o.asm.Acosh).apply(null,arguments)},o._Add=function(){return(o._Add=o.asm.Add).apply(null,arguments)},o._AddN=function(){return(o._AddN=o.asm.AddN).apply(null,arguments)},o._All=function(){return(o._All=o.asm.All).apply(null,arguments)},o._Any=function(){return(o._Any=o.asm.Any).apply(null,arguments)},o._ArgMax=function(){return(o._ArgMax=o.asm.ArgMax).apply(null,arguments)},o._ArgMin=function(){return(o._ArgMin=o.asm.ArgMin).apply(null,arguments)},o._Asin=function(){return(o._Asin=o.asm.Asin).apply(null,arguments)},o._Asinh=function(){return(o._Asinh=o.asm.Asinh).apply(null,arguments)},o._Atan=function(){return(o._Atan=o.asm.Atan).apply(null,arguments)},o._Atan2=function(){return(o._Atan2=o.asm.Atan2).apply(null,arguments)},o._Atanh=function(){return(o._Atanh=o.asm.Atanh).apply(null,arguments)},o._AvgPool=function(){return(o._AvgPool=o.asm.AvgPool).apply(null,arguments)},o._AvgPool3D=function(){return(o._AvgPool3D=o.asm.AvgPool3D).apply(null,arguments)},o._AvgPool3DGrad=function(){return(o._AvgPool3DGrad=o.asm.AvgPool3DGrad).apply(null,arguments)},o._AvgPoolGrad=function(){return(o._AvgPoolGrad=o.asm.AvgPoolGrad).apply(null,arguments)},o._BatchMatMul=function(){return(o._BatchMatMul=o.asm.BatchMatMul).apply(null,arguments)},o._Bincount=function(){return(o._Bincount=o.asm.Bincount).apply(null,arguments)},o._BitwiseAnd=function(){return(o._BitwiseAnd=o.asm.BitwiseAnd).apply(null,arguments)},o._Ceil=function(){return(o._Ceil=o.asm.Ceil).apply(null,arguments)},o._ClipByValue=function(){return(o._ClipByValue=o.asm.ClipByValue).apply(null,arguments)},o._Conv2D=function(){return(o._Conv2D=o.asm.Conv2D).apply(null,arguments)},o._Conv2DBackpropInput=function(){return(o._Conv2DBackpropInput=o.asm.Conv2DBackpropInput).apply(null,arguments)},o._Conv3D=function(){return(o._Conv3D=o.asm.Conv3D).apply(null,arguments)},o._Conv3DBackpropFilterV2=function(){return(o._Conv3DBackpropFilterV2=o.asm.Conv3DBackpropFilterV2).apply(null,arguments)},o._Conv3DBackpropInputV2=function(){return(o._Conv3DBackpropInputV2=o.asm.Conv3DBackpropInputV2).apply(null,arguments)},o._Cos=function(){return(o._Cos=o.asm.Cos).apply(null,arguments)},o._Cosh=function(){return(o._Cosh=o.asm.Cosh).apply(null,arguments)},o._CropAndResize=function(){return(o._CropAndResize=o.asm.CropAndResize).apply(null,arguments)},o._Cumprod=function(){return(o._Cumprod=o.asm.Cumprod).apply(null,arguments)},o._Cumsum=function(){return(o._Cumsum=o.asm.Cumsum).apply(null,arguments)},o._DenseBincount=function(){return(o._DenseBincount=o.asm.DenseBincount).apply(null,arguments)},o._DepthToSpace=function(){return(o._DepthToSpace=o.asm.DepthToSpace).apply(null,arguments)},o._DepthwiseConv2dNative=function(){return(o._DepthwiseConv2dNative=o.asm.DepthwiseConv2dNative).apply(null,arguments)},o._Diag=function(){return(o._Diag=o.asm.Diag).apply(null,arguments)},o._Dilation2D=function(){return(o._Dilation2D=o.asm.Dilation2D).apply(null,arguments)},o._Dilation2DBackpropFilter=function(){return(o._Dilation2DBackpropFilter=o.asm.Dilation2DBackpropFilter).apply(null,arguments)},o._Dilation2DBackpropInput=function(){return(o._Dilation2DBackpropInput=o.asm.Dilation2DBackpropInput).apply(null,arguments)},o._Elu=function(){return(o._Elu=o.asm.Elu).apply(null,arguments)},o._EluGrad=function(){return(o._EluGrad=o.asm.EluGrad).apply(null,arguments)},o._Equal=function(){return(o._Equal=o.asm.Equal).apply(null,arguments)},o._Erf=function(){return(o._Erf=o.asm.Erf).apply(null,arguments)},o._Exp=function(){return(o._Exp=o.asm.Exp).apply(null,arguments)},o._Expm1=function(){return(o._Expm1=o.asm.Expm1).apply(null,arguments)},o._FlipLeftRight=function(){return(o._FlipLeftRight=o.asm.FlipLeftRight).apply(null,arguments)},o._Floor=function(){return(o._Floor=o.asm.Floor).apply(null,arguments)},o._FloorDiv=function(){return(o._FloorDiv=o.asm.FloorDiv).apply(null,arguments)},o._FusedBatchNorm=function(){return(o._FusedBatchNorm=o.asm.FusedBatchNorm).apply(null,arguments)},o._FusedConv2D=function(){return(o._FusedConv2D=o.asm.FusedConv2D).apply(null,arguments)},o._FusedDepthwiseConv2D=function(){return(o._FusedDepthwiseConv2D=o.asm.FusedDepthwiseConv2D).apply(null,arguments)},o._Gather=function(){return(o._Gather=o.asm.Gather).apply(null,arguments)},o._GatherNd=function(){return(o._GatherNd=o.asm.GatherNd).apply(null,arguments)},o._Greater=function(){return(o._Greater=o.asm.Greater).apply(null,arguments)},o._GreaterEqual=function(){return(o._GreaterEqual=o.asm.GreaterEqual).apply(null,arguments)},o._IsFinite=function(){return(o._IsFinite=o.asm.IsFinite).apply(null,arguments)},o._IsInf=function(){return(o._IsInf=o.asm.IsInf).apply(null,arguments)},o._IsNan=function(){return(o._IsNan=o.asm.IsNan).apply(null,arguments)},o._LRN=function(){return(o._LRN=o.asm.LRN).apply(null,arguments)},o._LRNGrad=function(){return(o._LRNGrad=o.asm.LRNGrad).apply(null,arguments)},o._LeakyRelu=function(){return(o._LeakyRelu=o.asm.LeakyRelu).apply(null,arguments)},o._Less=function(){return(o._Less=o.asm.Less).apply(null,arguments)},o._LessEqual=function(){return(o._LessEqual=o.asm.LessEqual).apply(null,arguments)},o._LinSpace=function(){return(o._LinSpace=o.asm.LinSpace).apply(null,arguments)},o._Log=function(){return(o._Log=o.asm.Log).apply(null,arguments)},o._Log1p=function(){return(o._Log1p=o.asm.Log1p).apply(null,arguments)},o._LogicalAnd=function(){return(o._LogicalAnd=o.asm.LogicalAnd).apply(null,arguments)},o._LogicalNot=function(){return(o._LogicalNot=o.asm.LogicalNot).apply(null,arguments)},o._LogicalOr=function(){return(o._LogicalOr=o.asm.LogicalOr).apply(null,arguments)},o._LogicalXor=function(){return(o._LogicalXor=o.asm.LogicalXor).apply(null,arguments)},o._Max=function(){return(o._Max=o.asm.Max).apply(null,arguments)},o._MaxPool=function(){return(o._MaxPool=o.asm.MaxPool).apply(null,arguments)},o._MaxPool3D=function(){return(o._MaxPool3D=o.asm.MaxPool3D).apply(null,arguments)},o._MaxPool3DGrad=function(){return(o._MaxPool3DGrad=o.asm.MaxPool3DGrad).apply(null,arguments)},o._MaxPoolGrad=function(){return(o._MaxPoolGrad=o.asm.MaxPoolGrad).apply(null,arguments)},o._MaxPoolWithArgmax=function(){return(o._MaxPoolWithArgmax=o.asm.MaxPoolWithArgmax).apply(null,arguments)},o._Maximum=function(){return(o._Maximum=o.asm.Maximum).apply(null,arguments)},o._Mean=function(){return(o._Mean=o.asm.Mean).apply(null,arguments)},o._Min=function(){return(o._Min=o.asm.Min).apply(null,arguments)},o._Minimum=function(){return(o._Minimum=o.asm.Minimum).apply(null,arguments)},o._MirrorPad=function(){return(o._MirrorPad=o.asm.MirrorPad).apply(null,arguments)},o._Mod=function(){return(o._Mod=o.asm.Mod).apply(null,arguments)},o._Multinomial=function(){return(o._Multinomial=o.asm.Multinomial).apply(null,arguments)},o._Multiply=function(){return(o._Multiply=o.asm.Multiply).apply(null,arguments)},o._Neg=function(){return(o._Neg=o.asm.Neg).apply(null,arguments)},o._NonMaxSuppressionV3=function(){return(o._NonMaxSuppressionV3=o.asm.NonMaxSuppressionV3).apply(null,arguments)},o._NonMaxSuppressionV4=function(){return(o._NonMaxSuppressionV4=o.asm.NonMaxSuppressionV4).apply(null,arguments)},o._NonMaxSuppressionV5=function(){return(o._NonMaxSuppressionV5=o.asm.NonMaxSuppressionV5).apply(null,arguments)},o._NotEqual=function(){return(o._NotEqual=o.asm.NotEqual).apply(null,arguments)},o._OneHot=function(){return(o._OneHot=o.asm.OneHot).apply(null,arguments)},o._PadV2=function(){return(o._PadV2=o.asm.PadV2).apply(null,arguments)},o._Pow=function(){return(o._Pow=o.asm.Pow).apply(null,arguments)},o._Prelu=function(){return(o._Prelu=o.asm.Prelu).apply(null,arguments)},o._Prod=function(){return(o._Prod=o.asm.Prod).apply(null,arguments)},o._RealDiv=function(){return(o._RealDiv=o.asm.RealDiv).apply(null,arguments)},o._Reciprocal=function(){return(o._Reciprocal=o.asm.Reciprocal).apply(null,arguments)},o._Relu=function(){return(o._Relu=o.asm.Relu).apply(null,arguments)},o._Relu6=function(){return(o._Relu6=o.asm.Relu6).apply(null,arguments)},o._ResizeBilinear=function(){return(o._ResizeBilinear=o.asm.ResizeBilinear).apply(null,arguments)},o._ResizeBilinearGrad=function(){return(o._ResizeBilinearGrad=o.asm.ResizeBilinearGrad).apply(null,arguments)},o._ResizeNearestNeighbor=function(){return(o._ResizeNearestNeighbor=o.asm.ResizeNearestNeighbor).apply(null,arguments)},o._ResizeNearestNeighborGrad=function(){return(o._ResizeNearestNeighborGrad=o.asm.ResizeNearestNeighborGrad).apply(null,arguments)},o._Reverse=function(){return(o._Reverse=o.asm.Reverse).apply(null,arguments)},o._RotateWithOffset=function(){return(o._RotateWithOffset=o.asm.RotateWithOffset).apply(null,arguments)},o._Round=function(){return(o._Round=o.asm.Round).apply(null,arguments)},o._Rsqrt=function(){return(o._Rsqrt=o.asm.Rsqrt).apply(null,arguments)},o._ScatterNd=function(){return(o._ScatterNd=o.asm.ScatterNd).apply(null,arguments)},o._SearchSorted=function(){return(o._SearchSorted=o.asm.SearchSorted).apply(null,arguments)},o._SelectV2=function(){return(o._SelectV2=o.asm.SelectV2).apply(null,arguments)},o._Selu=function(){return(o._Selu=o.asm.Selu).apply(null,arguments)},o._Sigmoid=function(){return(o._Sigmoid=o.asm.Sigmoid).apply(null,arguments)},o._Sign=function(){return(o._Sign=o.asm.Sign).apply(null,arguments)},o._Sin=function(){return(o._Sin=o.asm.Sin).apply(null,arguments)},o._Sinh=function(){return(o._Sinh=o.asm.Sinh).apply(null,arguments)},o._Softmax=function(){return(o._Softmax=o.asm.Softmax).apply(null,arguments)},o._Softplus=function(){return(o._Softplus=o.asm.Softplus).apply(null,arguments)},o._SparseFillEmptyRows=function(){return(o._SparseFillEmptyRows=o.asm.SparseFillEmptyRows).apply(null,arguments)},o._SparseReshape=function(){return(o._SparseReshape=o.asm.SparseReshape).apply(null,arguments)},o._SparseSegmentReduction=function(){return(o._SparseSegmentReduction=o.asm.SparseSegmentReduction).apply(null,arguments)},o._SparseToDense=function(){return(o._SparseToDense=o.asm.SparseToDense).apply(null,arguments)},o._Sqrt=function(){return(o._Sqrt=o.asm.Sqrt).apply(null,arguments)},o._Square=function(){return(o._Square=o.asm.Square).apply(null,arguments)},o._SquaredDifference=function(){return(o._SquaredDifference=o.asm.SquaredDifference).apply(null,arguments)},o._Step=function(){return(o._Step=o.asm.Step).apply(null,arguments)},o._StridedSlice=function(){return(o._StridedSlice=o.asm.StridedSlice).apply(null,arguments)},o._Sub=function(){return(o._Sub=o.asm.Sub).apply(null,arguments)},o._Sum=function(){return(o._Sum=o.asm.Sum).apply(null,arguments)},o._Tan=function(){return(o._Tan=o.asm.Tan).apply(null,arguments)},o._Tanh=function(){return(o._Tanh=o.asm.Tanh).apply(null,arguments)},o._TensorScatterUpdate=function(){return(o._TensorScatterUpdate=o.asm.TensorScatterUpdate).apply(null,arguments)},o._Tile=function(){return(o._Tile=o.asm.Tile).apply(null,arguments)},o._TopK=function(){return(o._TopK=o.asm.TopK).apply(null,arguments)},o._Transform=function(){return(o._Transform=o.asm.Transform).apply(null,arguments)},o._Transpose=function(){return(o._Transpose=o.asm.Transpose).apply(null,arguments)},o.__FusedMatMul=function(){return(o.__FusedMatMul=o.asm._FusedMatMul).apply(null,arguments)},o._malloc=function(){return(o._malloc=o.asm.malloc).apply(null,arguments)},o._free=function(){return(o._free=o.asm.free).apply(null,arguments)},o.___errno_location=function(){return(o.___errno_location=o.asm.__errno_location).apply(null,arguments)};var Xn=o.stackSave=function(){return(Xn=o.stackSave=o.asm.stackSave).apply(null,arguments)},Qn=o.stackRestore=function(){return(Qn=o.stackRestore=o.asm.stackRestore).apply(null,arguments)},$n=o.stackAlloc=function(){return($n=o.stackAlloc=o.asm.stackAlloc).apply(null,arguments)};o.dynCall_iijjiiii=function(){return(o.dynCall_iijjiiii=o.asm.dynCall_iijjiiii).apply(null,arguments)},o.dynCall_jiji=function(){return(o.dynCall_jiji=o.asm.dynCall_jiji).apply(null,arguments)},o.cwrap=sr;var ia;Xe=function Le(){ia||lr(),ia||(Xe=Le)};function lr(Le){if(He>0||(ue(),He>0))return;function et(){ia||(ia=!0,o.calledRun=!0,!J&&(ke(),u(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),Ce()))}o.setStatus?(o.setStatus("Running..."),setTimeout(function(){setTimeout(function(){o.setStatus("")},1),et()},1)):et()}if(o.preInit)for(typeof o.preInit=="function"&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();lr();var Fn;f&&(Fn={uncaughtException:process.listeners("uncaughtException").filter(function(Le){return!f.uncaughtException.indexOf(Le)>-1}),unhandledRejection:process.listeners("unhandledRejection").filter(function(Le){return!f.unhandledRejection.indexOf(Le)>-1})});var $a;if(typeof a<"u")$a=a;else if(typeof WasmBackendModuleThreadedSimd<"u")$a=WasmBackendModuleThreadedSimd;else throw new Error("Could not find wasm module in post.js");if(Fn){var ua=$a._dispose;$a._dispose=function(){ua(),Fn.uncaughtException.forEach(function(Le){process.removeListener("uncaughtException",Le)}),Fn.unhandledRejection.forEach(function(Le){process.removeListener("unhandledRejection",Le)})}}return a.ready})})();t.exports=n})(AT)),AT.exports}var iP=Ode();const uP=Ph(iP),Mde=$0({__proto__:null,default:uP},[iP]);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lP=aP||Nde,$de=uP||Mde;class Fde extends kk{constructor(e){super(),this.wasm=e,this.dataIdNextNumber=1,this.wasm.tfjs.initWithThreadsCount(Vde),this.wasm.tfjs.getThreadsCount(),this.dataIdMap=new X4(this,D_())}write(e,n,r){const a={id:this.dataIdNextNumber++};return this.move(a,e,n,r,1),a}numDataIds(){return this.dataIdMap.numDataIds()}async time(e){const n=Nd();return e(),{kernelMs:Nd()-n}}move(e,n,r,a,o){const u=this.dataIdNextNumber++;if(a==="string"){const c=n;this.dataIdMap.set(e,{id:u,stringBytes:c,shape:r,dtype:a,memoryOffset:null,refCount:o});return}const l=ze(r),f=l*Lv(a),p=this.wasm._malloc(f)>>>0;this.dataIdMap.set(e,{id:u,memoryOffset:p,shape:r,dtype:a,refCount:o}),this.wasm.tfjs.registerTensor(u,l,p),n!=null&&this.wasm.HEAPU8.set(new Uint8Array(n.buffer,n.byteOffset,f),p)}async read(e){return this.readSync(e)}readSync(e,n,r){const{memoryOffset:a,dtype:o,shape:u,stringBytes:l}=this.dataIdMap.get(e);if(o==="string")return(n==null||n===0)&&(r==null||r>=l.length)?l:l.slice(n,r);n=n||0,r=r||ze(u);const f=Lv(o),p=this.wasm.HEAPU8.slice(a+n*f,a+r*f);return Bde(p.buffer,o)}disposeData(e,n=!1){if(this.dataIdMap.has(e)){const r=this.dataIdMap.get(e);if(r.refCount--,!n&&r.refCount>0)return!1;this.wasm._free(r.memoryOffset),this.wasm.tfjs.disposeData(r.id),this.dataIdMap.delete(e)}return!0}refCount(e){return this.dataIdMap.has(e)?this.dataIdMap.get(e).refCount:0}incRef(e){const n=this.dataIdMap.get(e);n!=null&&n.refCount++}floatPrecision(){return 32}getMemoryOffset(e){return this.dataIdMap.get(e).memoryOffset}dispose(){this.wasm.tfjs.dispose(),"PThread"in this.wasm&&this.wasm.PThread.terminateAllThreads(),this.wasm=null}memory(){return{unreliable:!1}}makeOutput(e,n,r,a){let o;if(r==null)o=this.write(a??null,e,n);else{const u=this.dataIdNextNumber++;o={id:u},this.dataIdMap.set(o,{id:u,memoryOffset:r,shape:e,dtype:n,refCount:1});const l=ze(e);this.wasm.tfjs.registerTensor(u,l,r)}return{dataId:o,shape:e,dtype:n}}typedArrayFromHeap({shape:e,dtype:n,dataId:r}){const a=this.wasm.HEAPU8.buffer,{memoryOffset:o}=this.dataIdMap.get(r),u=ze(e);switch(n){case"float32":return new Float32Array(a,o,u);case"int32":return new Int32Array(a,o,u);case"bool":return new Uint8Array(a,o,u);default:throw new Error(`Unknown dtype ${n}`)}}}function Pde(t){return(e,n)=>(rG(t,{credentials:"same-origin"}).then(r=>{r.ok||e.env.a(`failed to load wasm binary file at '${t}'`),r.arrayBuffer().then(a=>{WebAssembly.instantiate(a,e).then(o=>{n(o.instance,o.module)})})}),{})}function cP(t,e,n){let r="tfjs-backend-wasm.wasm";return t&&e?r="tfjs-backend-wasm-threaded-simd.wasm":t&&(r="tfjs-backend-wasm-simd.wasm"),my!=null&&my[r]!=null?my[r]:n+r}async function Lde(){const[t,e]=await Promise.all([Ln().getAsync("WASM_HAS_SIMD_SUPPORT"),Ln().getAsync("WASM_HAS_MULTITHREAD_SUPPORT")]);return new Promise((n,r)=>{const a={};a.locateFile=(l,f)=>{if(l.endsWith(".worker.js")){const p=Dde.wasmWorkerContents.replace(/\n/g,"\\n"),c=new Blob([p],{type:"application/javascript"});return URL.createObjectURL(c)}return l.endsWith(".wasm")?cP(t,e,hy??f):f+l},dP&&(a.instantiateWasm=Pde(cP(t,e,hy??"")));let o=!1;a.onAbort=()=>{if(o||f2)return;f2=!0,r({message:"Make sure the server can serve the `.wasm` file relative to the bundled js file. For more details see https://github.com/tensorflow/tfjs/blob/master/tfjs-backend-wasm/README.md#using-bundlers"})};let u;e&&t&&Ude==null?(a.mainScriptUrlOrBlob=new Blob(["var WasmBackendModuleThreadedSimd = "+lP.toString()],{type:"text/javascript"}),u=lP(a)):u=$de(a),u.then(l=>{o=!0,f2=!1;const f=null;l.tfjs={init:l.cwrap("init",null,[]),initWithThreadsCount:l.cwrap("init_with_threads_count",null,["number"]),getThreadsCount:l.cwrap("get_threads_count","number",[]),registerTensor:l.cwrap("register_tensor",null,["number","number","number"]),disposeData:l.cwrap("dispose_data",f,["number"]),dispose:l.cwrap("dispose",f,[])},n({wasm:l})}).catch(r)})}function Bde(t,e){switch(e){case"float32":return new Float32Array(t);case"int32":return new Int32Array(t);case"bool":return new Uint8Array(t);default:throw new Error(`Unknown dtype ${e}`)}}const zde=["tfjs-backend-wasm.wasm","tfjs-backend-wasm-simd.wasm","tfjs-backend-wasm-threaded-simd.wasm"];let Ude=null,hy=null,my={},f2=!1,dP=!1;function Hde(t,e=!1){if(f2)throw new Error("The WASM backend was already initialized. Make sure you call `setWasmPaths()` before you call `tf.setBackend()` or `tf.ready()`");if(typeof t=="string")hy=t;else{my=t;const n=zde.filter(r=>my[r]==null);if(n.length>0)throw new Error(`There were no entries found for the following binaries: ${n.join(",")}. Please either call setWasmPaths with a map providing a path for each binary, or with a string indicating the directory where all the binaries can be found.`)}dP=e}let Vde=-1;/** @license See the LICENSE file. */const Wde="4.11.0";/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */iM("wasm",async()=>{const{wasm:t}=await Lde();return new Fde(t)},2);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jde=XM;class p2 extends kk{nextDataId(){return p2.nextDataId++}constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new X4(this,D_())}write(e,n,r){this.firstUse&&(this.firstUse=!1,Ln().get("IS_NODE")&&jf(`
============================
Hi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. 
============================`));const a={id:this.nextDataId()};return this.data.set(a,{values:e,dtype:r,refCount:1}),a}makeTensorInfo(e,n,r){let a;if(n==="string"&&r!=null&&r.length>0&&x1(r[0])){const o=r.map(u=>Yf(u));a=this.write(o,e,n)}else a=this.write(r,e,n);return{dataId:a,shape:e,dtype:n}}refCount(e){return this.data.has(e)?this.data.get(e).refCount:0}incRef(e){const n=this.data.get(e);n.refCount++}decRef(e){if(this.data.has(e)){const n=this.data.get(e);n.refCount--}}move(e,n,r,a,o){this.data.set(e,{values:n,dtype:a,refCount:o})}numDataIds(){return this.data.numDataIds()}async read(e){return this.readSync(e)}readSync(e){const{dtype:n,complexTensorInfos:r}=this.data.get(e);if(n==="complex64"){const a=this.readSync(r.real.dataId),o=this.readSync(r.imag.dataId);return pm(a,o)}return Bj(this.data.get(e).values,n)}bufferSync(e){const n=this.readSync(e.dataId);if(e.dtype==="string")try{const r=n.map(a=>qv(a));return qn(e.shape,e.dtype,r)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return qn(e.shape,e.dtype,n)}makeOutput(e,n,r){return D_().makeTensorFromTensorInfo(this.makeTensorInfo(n,r,e),this)}disposeData(e,n=!1){if(this.data.has(e)){if(this.data.get(e).refCount--,!n&&this.data.get(e).refCount>0)return!1;const{complexTensorInfos:r}=this.data.get(e);r!=null&&(this.disposeData(r.real.dataId,!0),this.disposeData(r.imag.dataId,!0)),this.data.delete(e)}return!0}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}async time(e){const n=Nd();return e(),{kernelMs:Nd()-n}}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(e){Lt([e],"where");const n=this.readSync(e.dataId);return jde(e.shape,n)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}p2.nextDataId=0;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */iM("cpu",()=>new p2,1);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fP=Ar(tS,t=>t>=0?t:Math.exp(t)-1),Gde={kernelName:tS,backendName:"cpu",kernelFunc:fP};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pP(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{alpha:o}=r;Lt([a],"leakyRelu");const u=ze(a.shape),l=n.data.get(a.dataId).values,f=ms("float32",u);for(let p=0;p<l.length;p++)f[p]=l[p]<0?o*l[p]:l[p];return n.makeTensorInfo(a.shape,"float32",f)}const qde={kernelName:vS,backendName:"cpu",kernelFunc:pP};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kde=Ma((t,e)=>t<0?e*t:t);function hP(t){const{inputs:e,backend:n}=t,{x:r,alpha:a}=e;Lt([r,a],"prelu");const o=n.data.get(r.dataId).values,u=n.data.get(a.dataId).values,[l,f]=Kde(r.shape,a.shape,o,u,"float32");return n.makeTensorInfo(f,"float32",l)}const Yde={kernelName:WS,backendName:"cpu",kernelFunc:hP};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mP=Ar(qS,t=>Math.max(0,t)),Xde={kernelName:qS,backendName:"cpu",kernelFunc:mP};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gP=Ar(XS,t=>Math.min(Math.max(0,t),6)),Qde={kernelName:XS,backendName:"cpu",kernelFunc:gP};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function h2(t,e,n,r,a){if(n==="linear")return Dl({inputs:{x:e},backend:t});if(n==="relu")return mP({inputs:{x:e},backend:t});if(n==="elu")return fP({inputs:{x:e},backend:t});if(n==="relu6")return gP({inputs:{x:e},backend:t});if(n==="prelu")return hP({inputs:{x:e,alpha:r},backend:t});if(n==="leakyrelu")return pP({inputs:{x:e},backend:t,attrs:{alpha:a}});if(n==="sigmoid")return NF({inputs:{x:e},backend:t});throw new Error(`Activation ${n} has not been implemented for the CPU backend.`)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qr(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{shape:o}=r,u=ze(a.shape),l=Q4(o,u),f=ze(l);Z(u===f,()=>`The new shape (${l}) has ${f} elements and the old shape (${a.shape}) has ${u} elements. The new shape and old shape must have the same number of elements.`),n.incRef(a.dataId);const p=n.data.get(a.dataId);if(p.complexTensorInfos!=null){const c=p.complexTensorInfos.real,g=p.complexTensorInfos.imag;c.shape=l,g.shape=l}return{dataId:a.dataId,shape:l,dtype:a.dtype}}const Jde={kernelName:Jk,backendName:"cpu",kernelFunc:Qr};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vP(t){const{inputs:e,backend:n,attrs:r}=t,{a,b:o}=e,{transposeA:u,transposeB:l}=r;Lt([a,o],"matMul");const f=a.shape.length,p=o.shape.length,c=u?a.shape[f-2]:a.shape[f-1],g=l?o.shape[p-1]:o.shape[p-2],y=u?a.shape[f-1]:a.shape[f-2],S=l?o.shape[p-2]:o.shape[p-1],E=a.shape.slice(0,-2),k=o.shape.slice(0,-2),_=ze(E),I=ze(k),A=Xr(a.shape.slice(0,-2),o.shape.slice(0,-2)).concat([y,S]);Z(c===g,()=>`Error in matMul: inner shapes (${c}) and (${g}) of Tensors with shapes ${a.shape} and ${o.shape} and transposeA=${u} and transposeB=${l} must match.`);const O=u?[_,c,y]:[_,y,c],L=l?[I,S,g]:[I,g,S],U=Qr({inputs:{x:a},backend:n,attrs:{shape:O}}),j=Qr({inputs:{x:o},backend:n,attrs:{shape:L}}),J=u?U.shape[1]:U.shape[2],q=u?U.shape[2]:U.shape[1],K=l?j.shape[1]:j.shape[2],z=Math.max(_,I),te=n.data.get(U.dataId).values,ee=n.data.get(j.dataId).values,le=Bt(U.shape),ce=Bt(j.shape),[ye,ve,oe]=u?[le[0],1,le[1]]:[le[0],le[1],1],[he,ge,Q]=l?[1,ce[1],ce[0]]:[ce[1],1,ce[0]],ue=q*K,ke=qn([z,q,K],U.dtype),Ce=ke.values,Me=n.blockSize;for(let Ve=0;Ve<z;Ve++){const Ke=Ve%_,He=Ve%I;for(let Xe=0;Xe<q;Xe+=Me){const ct=Math.min(Xe+Me,q);for(let St=0;St<K;St+=Me){const Rt=Math.min(St+Me,K);for(let Dt=0;Dt<J;Dt+=Me){const jt=Math.min(Dt+Me,J);for(let zt=Xe;zt<ct;zt++)for(let vt=St;vt<Rt;vt++){let on=0;for(let dn=Dt;dn<jt;dn++){const mn=te[Ke*ye+zt*ve+dn*oe],Jt=ee[dn*he+vt*ge+He*Q];on+=mn*Jt}Ce[Ve*ue+(zt*K+vt)]+=on}}}}}return n.disposeIntermediateTensorInfo(U),n.disposeIntermediateTensorInfo(j),n.makeTensorInfo(A,ke.dtype,ke.values)}const Zde={kernelName:$1,backendName:"cpu",kernelFunc:vP};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function efe(t){const{inputs:e,backend:n,attrs:r}=t,{a,b:o,bias:u,preluActivationWeights:l}=e,{transposeA:f,transposeB:p,activation:c,leakyreluAlpha:g}=r;let y,S,E;const k=[];y=vP({inputs:{a,b:o},attrs:{transposeA:f,transposeB:p},backend:n}),u&&(S=hm({inputs:{a:y,b:u},backend:n}),k.push(y),y=S),c&&(E=h2(n,y,c,l,g),k.push(y),y=E);for(const I of k)n.disposeIntermediateTensorInfo(I);return y}const tfe={kernelName:Wv,backendName:"cpu",kernelFunc:efe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nfe=Ar(C1,t=>Math.acos(t)),rfe={kernelName:C1,backendName:"cpu",kernelFunc:nfe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const afe=Ar(k1,t=>Math.acosh(t)),ofe={kernelName:k1,backendName:"cpu",kernelFunc:afe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sfe(t){const{inputs:e,backend:n}=t,r=e;Lt(e,"addN");const a=r.map(l=>n.data.get(l.dataId).values),o=qn(r[0].shape,r[0].dtype),u=o.values;for(let l=0;l<r.length;l++){const f=a[l];for(let p=0;p<u.length;p++)u[p]+=f[p]}return n.makeTensorInfo(o.shape,o.dtype,o.values)}const ife={kernelName:_1,backendName:"cpu",kernelFunc:sfe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ufe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{axis:o,keepDims:u}=r;Lt(a,"all");const l=ga(o,a.shape);let f=l;const p=Gi(f,a.shape.length);let c=a;p!=null&&(c=qs({inputs:{x:a},backend:n,attrs:{perm:p}}),f=Ss(f.length,a.shape.length)),bs("all",f,c.shape.length);const[g,y]=ys(c.shape,f),S=ze(y),E=Xo(ze(g),c.dtype),k=n.data.get(c.dataId).values;for(let I=0;I<E.length;++I){const R=I*S;let A=k[R];for(let O=0;O<S;++O){const L=k[R+O];A=A&&L}E[I]=A}p!=null&&n.disposeIntermediateTensorInfo(c);const _=n.makeTensorInfo(g,c.dtype,E);if(u){const I=Mo(g,l),R=Qr({inputs:{x:_},backend:n,attrs:{shape:I}});return n.disposeIntermediateTensorInfo(_),R}return _}const lfe={kernelName:T1,backendName:"cpu",kernelFunc:ufe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cfe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{axis:o,keepDims:u}=r;Lt(a,"any");const l=ga(o,a.shape);let f=l;const p=Gi(f,a.shape.length);let c=a;p!=null&&(c=qs({inputs:{x:a},backend:n,attrs:{perm:p}}),f=Ss(f.length,a.shape.length)),bs("any",f,c.shape.length);const[g,y]=ys(c.shape,f),S=ze(y),E=Xo(ze(g),c.dtype),k=n.data.get(c.dataId).values;for(let I=0;I<E.length;++I){const R=I*S;let A=k[R];for(let O=0;O<S;++O){const L=k[R+O];A=A||L}E[I]=A}p!=null&&n.disposeIntermediateTensorInfo(c);const _=n.makeTensorInfo(g,c.dtype,E);if(u){const I=Mo(g,l),R=Qr({inputs:{x:_},backend:n,attrs:{shape:I}});return n.disposeIntermediateTensorInfo(_),R}return _}const dfe={kernelName:I1,backendName:"cpu",kernelFunc:cfe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ffe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{axis:o}=r;Lt(a,"argMax");let u=ga(o,a.shape);const l=Gi(u,a.shape.length);let f=a;const p=[];l!=null&&(f=qs({inputs:{x:a},backend:n,attrs:{perm:l}}),p.push(f),u=Ss(u.length,f.shape.length)),u=[u[0]],bs("argMax",u,f.shape.length);const[c,g]=ys(f.shape,u),y=ze(c),S=Xo(y,"int32"),E=ze(g),k=n.data.get(f.dataId).values;for(let _=0;_<S.length;++_){const I=_*E;let R=k[I],A=0;for(let O=0;O<E;++O){const L=k[I+O];L>R&&(R=L,A=O)}S[_]=A}return p.forEach(_=>n.disposeIntermediateTensorInfo(_)),n.makeTensorInfo(c,"int32",S)}const pfe={kernelName:Dk,backendName:"cpu",kernelFunc:ffe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hfe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{axis:o}=r;Lt(a,"argMin");let u=ga(o,a.shape);const l=Gi(u,a.shape.length);let f=a;const p=[];l!=null&&(f=qs({inputs:{x:a},backend:n,attrs:{perm:l}}),p.push(f),u=Ss(u.length,f.shape.length)),u=[u[0]],bs("argMin",u,f.shape.length);const[c,g]=ys(f.shape,u),y=ze(c),S=Xo(y,"int32"),E=ze(g),k=n.data.get(f.dataId).values;for(let _=0;_<S.length;++_){const I=_*E;let R=k[I],A=0;for(let O=0;O<E;++O){const L=k[I+O];L<R&&(R=L,A=O)}S[_]=A}return p.forEach(_=>n.disposeIntermediateTensorInfo(_)),n.makeTensorInfo(c,"int32",S)}const mfe={kernelName:Ok,backendName:"cpu",kernelFunc:hfe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gfe=Ar(R1,t=>Math.asin(t)),vfe={kernelName:R1,backendName:"cpu",kernelFunc:gfe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yfe=Ar(N1,t=>Math.asinh(t)),bfe={kernelName:N1,backendName:"cpu",kernelFunc:yfe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Sfe=Ar(A1,t=>Math.atan(t)),wfe={kernelName:A1,backendName:"cpu",kernelFunc:Sfe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Efe=Ma((t,e)=>Math.atan2(t,e)),xfe=oo(O1,Efe),Cfe={kernelName:O1,backendName:"cpu",kernelFunc:xfe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kfe=Ar(D1,t=>Math.atanh(t)),_fe={kernelName:D1,backendName:"cpu",kernelFunc:kfe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DT(t,e,n,r,a,o){const u=a.strideHeight,l=a.strideWidth,f=a.dilationHeight,p=a.dilationWidth,c=a.effectiveFilterHeight,g=a.effectiveFilterWidth,y=a.padInfo.top,S=a.padInfo.left,E=o==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,k=qn(a.outShape,n),_=k.values,I=a.outShape[1]*a.outShape[2]*a.outShape[3],R=a.outShape[2]*a.outShape[3],A=a.outShape[3];for(let O=0;O<a.batchSize;++O){const L=O*I,U=O*r[0];for(let j=0;j<a.inChannels;++j)for(let J=0;J<a.outHeight;++J){const q=J*u-y,K=Math.max(0,q),z=Math.min(a.inHeight,c+q),te=L+J*R;for(let ee=0;ee<a.outWidth;++ee){const le=ee*l-S,ce=Math.max(0,le),ye=Math.min(a.inWidth,g+le);let ve=E,oe=0,he=0;for(let Q=K;Q<z;Q+=f){const ue=U+Q*r[1];for(let ke=ce;ke<ye;ke+=p){const Ce=ue+ke*r[2],Me=t[Ce+j];o==="max"&&Me>ve?ve=Me:o==="avg"&&(oe+=Me,he++)}if(isNaN(ve))break}const ge=te+ee*A+j;_[ge]=o==="avg"?oe/he:ve}}}return k}function yP(t,e,n,r,a=!1,o=!1){const u=qn(r.outShape,"int32"),l=r.strideHeight,f=r.strideWidth,p=r.dilationHeight,c=r.dilationWidth,g=r.effectiveFilterHeight,y=r.effectiveFilterWidth,S=r.padInfo.top,E=r.padInfo.left,k=qn(e,n,t);for(let _=0;_<r.batchSize;++_)for(let I=0;I<r.inChannels;++I)for(let R=0;R<r.outHeight;++R){const A=R*l-S;let O=A;for(;O<0;)O+=p;const L=Math.min(r.inHeight,g+A);for(let U=0;U<r.outWidth;++U){const j=U*f-E;let J=j;for(;J<0;)J+=c;const q=Math.min(r.inWidth,y+j);let K=Number.NEGATIVE_INFINITY,z=-1;for(let te=O;te<L;te+=p){const ee=te-A;for(let le=J;le<q;le+=c){const ce=le-j,ye=k.get(_,te,le,I);ye>K&&(K=ye,a?z=o?((_*r.inHeight+te)*r.inWidth+le)*r.inChannels+I:(te*r.inWidth+le)*r.inChannels+I:z=ee*y+ce)}}u.set(z,_,R,U,I)}}return u}function bP(t,e,n,r,a,o){const u=a.strideDepth,l=a.strideHeight,f=a.strideWidth,p=a.dilationDepth,c=a.dilationHeight,g=a.dilationWidth,y=a.effectiveFilterDepth,S=a.effectiveFilterHeight,E=a.effectiveFilterWidth,k=a.padInfo.front,_=a.padInfo.top,I=a.padInfo.left,R=o==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,A=qn(a.outShape,n),O=A.values,L=a.outShape[1]*a.outShape[2]*a.outShape[3]*a.outShape[4],U=a.outShape[2]*a.outShape[3]*a.outShape[4],j=a.outShape[3]*a.outShape[4],J=a.outShape[4];for(let q=0;q<a.batchSize;++q){const K=q*L,z=q*r[0];for(let te=0;te<a.inChannels;++te)for(let ee=0;ee<a.outDepth;++ee){const le=ee*u-k;let ce=le;for(;ce<0;)ce+=p;const ye=Math.min(a.inDepth,y+le),ve=K+ee*U;for(let oe=0;oe<a.outHeight;++oe){const he=oe*l-_;let ge=he;for(;ge<0;)ge+=c;const Q=Math.min(a.inHeight,S+he),ue=ve+oe*j;for(let ke=0;ke<a.outWidth;++ke){const Ce=ke*f-I;let Me=Ce;for(;Me<0;)Me+=g;const Ve=Math.min(a.inWidth,E+Ce),Ke=ue+ke*J;let He=R,Xe=0,ct=0;for(let Rt=ce;Rt<ye;Rt+=p){const Dt=z+Rt*r[1];for(let jt=ge;jt<Q;jt+=c){const zt=Dt+jt*r[2];for(let vt=Me;vt<Ve;vt+=g){const on=zt+vt*r[3],dn=t[on+te];if(o==="max"&&dn>He?He=dn:o==="avg"&&(Xe+=dn,ct++),isNaN(He))break}if(isNaN(He))break}if(isNaN(He))break}const St=Ke+te;O[St]=o==="avg"?Xe/Math.max(ct,1):He}}}}return A}function Tfe(t,e){const n=qn(e.outShape,"int32"),r=e.strideDepth,a=e.strideHeight,o=e.strideWidth,u=e.dilationDepth,l=e.dilationHeight,f=e.dilationWidth,p=e.effectiveFilterDepth,c=e.effectiveFilterHeight,g=e.effectiveFilterWidth,y=e.padInfo.front,S=e.padInfo.top,E=e.padInfo.left;for(let k=0;k<e.batchSize;++k)for(let _=0;_<e.inChannels;++_)for(let I=0;I<e.outDepth;++I){const R=I*r-y;let A=R;for(;A<0;)A+=u;const O=Math.min(e.inDepth,p+R);for(let L=0;L<e.outHeight;++L){const U=L*a-S;let j=U;for(;j<0;)j+=l;const J=Math.min(e.inHeight,c+U);for(let q=0;q<e.outWidth;++q){const K=q*o-E;let z=K;for(;z<0;)z+=f;const te=Math.min(e.inWidth,g+K);let ee=Number.NEGATIVE_INFINITY,le=-1;for(let ce=A;ce<O;ce+=u){const ye=ce-R;for(let ve=j;ve<J;ve+=l){const oe=ve-U;for(let he=z;he<te;he+=f){const ge=he-K,Q=t.get(k,ce,ve,he,_);Q>=ee&&(ee=Q,le=ye*c*g+oe*c+ge)}}}n.set(le,k,I,L,q,_)}}}return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ife(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e;Lt(a,"avgPool");const{filterSize:o,strides:u,pad:l,dimRoundingMode:f}=r,p=1;Z(hu(u,p),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${u} and dilations '${p}'`);const c=Gu(a.shape,o,u,p,l,f);let g;if(c.filterWidth===1&&c.filterHeight===1&&du(c.inShape,c.outShape))g=Dl({inputs:{x:a},backend:n});else{const y=n.data.get(a.dataId).values,S=Bt(a.shape),E=DT(y,a.shape,a.dtype,S,c,"avg");g=n.makeTensorInfo(c.outShape,a.dtype,E.values)}return g}const Rfe={kernelName:M1,backendName:"cpu",kernelFunc:Ife};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nfe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{filterSize:o,strides:u,pad:l,dimRoundingMode:f,dataFormat:p}=r;Lt(a,"avgPool3d");const c=Fd(a.shape,o,u,1,l,f,p),g=n.data.get(a.dataId).values,y=bP(g,a.shape,a.dtype,Bt(a.shape),c,"avg");return n.makeTensorInfo(y.shape,"float32",y.values)}const Afe={kernelName:Mk,backendName:"cpu",kernelFunc:Nfe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dfe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:a,input:o}=e,{filterSize:u,strides:l,pad:f,dimRoundingMode:p}=r;Lt([a,o],"avgPool3DGrad");const c=Fd(o.shape,u,l,1,f,p),g=c.strideDepth,y=c.strideHeight,S=c.strideWidth,E=c.filterDepth,k=c.filterHeight,_=c.filterWidth,I=c.dilationDepth,R=c.dilationHeight,A=c.dilationWidth,O=c.effectiveFilterDepth,L=c.effectiveFilterHeight,U=c.effectiveFilterWidth,j=O-1-c.padInfo.front,J=U-1-c.padInfo.left,q=L-1-c.padInfo.top,K=qn(o.shape,"float32"),z=1/(E*k*_),te=n.bufferSync(a);for(let ee=0;ee<c.batchSize;++ee)for(let le=0;le<c.inChannels;++le)for(let ce=0;ce<c.inDepth;++ce)for(let ye=0;ye<c.inHeight;++ye)for(let ve=0;ve<c.inWidth;++ve){const oe=ce-j,he=ye-q,ge=ve-J;let Q=0;for(let ue=0;ue<O;ue+=I){const ke=(oe+ue)/g;if(!(ke<0||ke>=c.outDepth||Math.floor(ke)!==ke))for(let Ce=0;Ce<L;Ce+=R){const Me=(he+Ce)/y;if(!(Me<0||Me>=c.outHeight||Math.floor(Me)!==Me))for(let Ve=0;Ve<U;Ve+=A){const Ke=(ge+Ve)/S;if(Ke<0||Ke>=c.outWidth||Math.floor(Ke)!==Ke)continue;const He=te.get(ee,ke,Me,Ke,le);Q+=He}}}K.set(Q*z,ee,ce,ye,ve,le)}return n.makeTensorInfo(K.shape,K.dtype,K.values)}const Ofe={kernelName:aO,backendName:"cpu",kernelFunc:Dfe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mfe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:a,input:o}=e,u=o;Lt([a,o],"avgPoolGrad");const{filterSize:l,strides:f,pad:p}=r,c=Gu(u.shape,l,f,1,p),g=c.strideHeight,y=c.strideWidth,S=c.filterHeight,E=c.filterWidth,k=c.dilationHeight,_=c.dilationWidth,I=c.effectiveFilterHeight,R=c.effectiveFilterWidth,A=R-1-c.padInfo.left,O=I-1-c.padInfo.top,L=qn(u.shape,"float32"),U=1/(S*E),j=n.data.get(a.dataId).values,J=qn(a.shape,"float32",j);for(let q=0;q<c.batchSize;++q)for(let K=0;K<c.inChannels;++K)for(let z=0;z<c.inHeight;++z)for(let te=0;te<c.inWidth;++te){const ee=z-O,le=te-A;let ce=0;for(let ye=0;ye<I;ye+=k){const ve=(ee+ye)/g;if(!(ve<0||ve>=c.outHeight||Math.floor(ve)!==ve))for(let oe=0;oe<R;oe+=_){const he=(le+oe)/y;if(he<0||he>=c.outWidth||Math.floor(he)!==he)continue;const ge=J.get(q,ve,he,K);ce+=ge}}L.set(ce*U,q,z,te,K)}return n.makeTensorInfo(L.shape,L.dtype,L.values)}const $fe={kernelName:rO,backendName:"cpu",kernelFunc:Mfe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ffe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,scale:o,offset:u,mean:l,variance:f}=e;Z(l.shape.length===f.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),Z(u==null||l.shape.length===u.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),Z(o==null||l.shape.length===o.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks."),Lt([a,l,f,o,u],"batchNorm");let{varianceEpsilon:p}=r;p==null&&(p=.001);const c=n.data.get(a.dataId).values,g=n.data.get(l.dataId).values,y=n.data.get(f.dataId).values,S=o?n.data.get(o.dataId).values:new Float32Array([1]),E=u?n.data.get(u.dataId).values:new Float32Array([0]),k=new Float32Array(c.length),_=E.length,I=S.length,R=y.length,A=g.length;let O=0,L=0,U=0,j=0;for(let J=0;J<c.length;++J)k[J]=E[O++]+(c[J]-g[L++])*S[U++]/Math.sqrt(y[j++]+p),O>=_&&(O=0),L>=A&&(L=0),U>=I&&(U=0),j>=R&&(j=0);return n.makeTensorInfo(a.shape,a.dtype,k)}const Pfe={kernelName:lS,backendName:"cpu",kernelFunc:Ffe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lfe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{blockShape:o,crops:u}=r;Lt([a],"batchToSpaceND");const l=o.reduce((I,R)=>I*R),f=Zw(a.shape,o,l),p=e2(f.length,o.length),c=t2(a.shape,o,l),g=C$(u,o.length),y=k$(c,u,o.length),S=Qr({inputs:{x:a},backend:n,attrs:{shape:f}}),E=qs({inputs:{x:S},backend:n,attrs:{perm:p}}),k=Qr({inputs:{x:E},backend:n,attrs:{shape:c}}),_=fp({inputs:{x:k},backend:n,attrs:{begin:g,size:y}});return n.disposeIntermediateTensorInfo(S),n.disposeIntermediateTensorInfo(E),n.disposeIntermediateTensorInfo(k),_}const Bfe={kernelName:$k,backendName:"cpu",kernelFunc:Lfe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zfe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,weights:o}=e,{size:u}=r,l=n.data.get(a.dataId).values,f=n.data.get(o.dataId).values,p=bF(l,f,o.dtype,o.shape,u);return n.makeTensorInfo([u],o.dtype,p)}const Ufe={kernelName:F1,backendName:"cpu",kernelFunc:zfe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hfe(t){const{inputs:e,backend:n}=t,{s0:r,s1:a}=e,o=n.data.get(r.dataId).values,u=n.data.get(a.dataId).values,l=Xr(Array.from(o),Array.from(u));return n.makeTensorInfo([l.length],"int32",Int32Array.from(l))}const Vfe={kernelName:Fk,backendName:"cpu",kernelFunc:Hfe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Wfe=Ar(Uv,(t,e)=>{const n=e;return t>n.clipValueMax?n.clipValueMax:t<n.clipValueMin?n.clipValueMin:t}),jfe={kernelName:Uv,backendName:"cpu",kernelFunc:Wfe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gfe={kernelName:sO,backendName:"cpu",kernelFunc:t=>{const{x:e}=t.inputs,n=t.backend,r=new Float32Array(ze(e.shape)),a=n.data.get(e.dataId),o=a.complexTensorInfos.real,u=a.complexTensorInfos.imag,l=n.data.get(o.dataId).values,f=n.data.get(u.dataId).values;for(let p=0;p<l.length;p++){const c=l[p],g=f[p];r[p]=Math.hypot(c,g)}return n.makeOutput(r,e.shape,"float32")}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gm(t){const{inputs:e,backend:n}=t,{input:r}=e,a=n.data.get(r.dataId).complexTensorInfos.imag,o=n.data.get(a.dataId).values;return n.makeTensorInfo(a.shape,a.dtype,o)}const qfe={kernelName:pO,backendName:"cpu",kernelFunc:gm};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vm(t){const{inputs:e,backend:n,attrs:r}=t,{axis:a}=r,o=ga(a,e[0].shape)[0],u=e.map(k=>k.shape);E$(u,o);let l=fm(e.map(k=>k.shape),o);if(ze(l)===0)return n.makeTensorInfo(l,e[0].dtype,[]);const f=e.filter(k=>ze(k.shape)>0);if(f.length===1)return Dl({inputs:{x:f[0]},backend:n});if(f[0].dtype==="complex64"){const k=f.map(O=>dp({inputs:{input:O},backend:n})),_=f.map(O=>gm({inputs:{input:O},backend:n})),I=vm({inputs:k,backend:n,attrs:{axis:o}}),R=vm({inputs:_,backend:n,attrs:{axis:o}}),A=Si({inputs:{real:I,imag:R},backend:n});return k.forEach(O=>n.disposeIntermediateTensorInfo(O)),_.forEach(O=>n.disposeIntermediateTensorInfo(O)),n.disposeIntermediateTensorInfo(I),n.disposeIntermediateTensorInfo(R),A}const p=f.map(k=>{const I=[-1,ze(k.shape.slice(o))];return Qr({inputs:{x:k},backend:n,attrs:{shape:I}})}),c=p.map(k=>({vals:n.data.get(k.dataId).values,shape:k.shape}));l=fm(p.map(k=>k.shape),1);const g=p[0].shape[0]===1,y=SF(c,l,e[0].dtype,g),S=fm(f.map(k=>k.shape),o),E=n.makeTensorInfo(S,e[0].dtype,y);return p.forEach(k=>n.disposeIntermediateTensorInfo(k)),E}const Kfe={kernelName:Pk,backendName:"cpu",kernelFunc:vm};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SP(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,filter:o}=e,{strides:u,pad:l,dataFormat:f,dilations:p,dimRoundingMode:c}=r;Lt([a,o],"conv2d");const g=sm(f),y=Ws(a.shape,o.shape,u,p,l,c,!1,g),S=y.filterHeight,E=y.filterWidth,k=y.dilationHeight,_=y.dilationWidth,I=y.padInfo.left,R=y.padInfo.top,A=y.dataFormat==="channelsLast",O=new ro(y.outShape,a.dtype),L=Bt(a.shape),U=Bt(o.shape),j=L[0],J=A?L[1]:L[2],q=A?L[2]:1,K=A?1:L[1],z=O.strides[0],te=A?O.strides[1]:O.strides[2],ee=A?O.strides[2]:1,le=A?1:O.strides[1],ce=n.data.get(a.dataId).values,ye=n.data.get(o.dataId).values,ve=O.values;for(let oe=0;oe<y.batchSize;++oe){const he=oe*j,ge=oe*z;for(let Q=0;Q<y.outHeight;++Q){const ue=ge+Q*te,ke=Q*y.strideHeight-R;for(let Ce=0;Ce<S;++Ce){const Me=ke+Ce*k;if(Me<0||Me>=y.inHeight)continue;const Ve=Ce*U[0],Ke=he+Me*J;for(let He=0;He<y.outWidth;++He){const Xe=ue+He*ee,ct=He*y.strideWidth-I;for(let St=0;St<E;++St){const Rt=ct+St*_;if(Rt<0||Rt>=y.inWidth)continue;const Dt=Ve+St*U[1],jt=Ke+Rt*q;let zt=Dt;for(let vt=0;vt<y.inChannels;++vt){const on=ce[jt+vt*K];for(let dn=0;dn<y.outChannels;++dn)ve[Xe+dn*le]+=on*ye[zt+dn];zt+=y.outChannels}}}}}}return n.makeTensorInfo(O.shape,O.dtype,ve)}const Yfe={kernelName:z1,backendName:"cpu",kernelFunc:SP};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xfe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,dy:o}=e,{strides:u,pad:l,dataFormat:f,dimRoundingMode:p,filterShape:c}=r;Lt([a,o],"conv2dBackpropFilter");const g=sm(f),y=Ws(a.shape,c,u,1,l,p,!1,g),{strideHeight:S,strideWidth:E,filterHeight:k,filterWidth:_}=y,I=y.dataFormat==="channelsLast",R=new ro(y.filterShape,"float32"),A=y.padInfo.left,O=y.padInfo.top,L=n.data.get(a.dataId).values,U=n.data.get(o.dataId).values,j=new ro(a.shape,a.dtype,L),J=new ro(o.shape,o.dtype,U);for(let q=0;q<k;++q){const K=Math.max(0,Math.ceil((O-q)/S)),z=Math.min(y.outHeight,(y.inHeight+O-q)/S);for(let te=0;te<_;++te){const ee=Math.max(0,Math.ceil((A-te)/E)),le=Math.min(y.outWidth,(y.inWidth+A-te)/E);for(let ce=0;ce<y.inChannels;++ce)for(let ye=0;ye<y.outChannels;++ye){let ve=0;for(let oe=0;oe<y.batchSize;++oe)for(let he=K;he<z;++he){const ge=q+he*S-O;for(let Q=ee;Q<le;++Q){const ue=te+Q*E-A;I?ve+=j.get(oe,ge,ue,ce)*J.get(oe,he,Q,ye):ve+=j.get(oe,ce,ge,ue)*J.get(oe,ye,he,Q)}}R.set(ve,q,te,ce,ye)}}}return n.makeTensorInfo(R.shape,R.dtype,R.values)}const Qfe={kernelName:iO,backendName:"cpu",kernelFunc:Xfe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jfe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:a,filter:o}=e,{inputShape:u,strides:l,pad:f,dataFormat:p,dimRoundingMode:c}=r;Lt([a,o],"conv2dBackpropInput");const g=Bt(o.shape),y=Bt(a.shape);let S=sm(p);const E=Ws(u,o.shape,l,1,f,c,!1,S),k=new ro(E.inShape,"float32"),_=k.values,I=n.data.get(a.dataId).values,R=n.data.get(o.dataId).values,[A,O,L]=g,{batchSize:U,filterHeight:j,filterWidth:J,inChannels:q,inHeight:K,inWidth:z,outChannels:te,outHeight:ee,outWidth:le,strideHeight:ce,strideWidth:ye}=E;S=E.dataFormat;const ve=j-1-E.padInfo.top,oe=J-1-E.padInfo.left,he=S==="channelsLast",ge=k.strides[0],Q=he?k.strides[1]:k.strides[2],ue=he?k.strides[2]:1,ke=he?1:k.strides[1],Ce=y[0],Me=he?y[1]:y[2],Ve=he?y[2]:1,Ke=he?1:y[1];for(let He=0;He<U;++He)for(let Xe=0;Xe<q;++Xe)for(let ct=0;ct<K;++ct){const St=ct-ve,Rt=Math.max(0,Math.ceil(St/ce)),Dt=Math.min(ee,(j+St)/ce);for(let jt=0;jt<z;++jt){const zt=jt-oe,vt=Math.max(0,Math.ceil(zt/ye)),on=Math.min(le,(J+zt)/ye);let dn=0;for(let Jt=Rt;Jt<Dt;++Jt){const Rn=Jt*ce-St;for(let bn=vt;bn<on;++bn){const Dn=bn*ye-zt,Vn=Ce*He+Me*Jt+Ve*bn,gn=A*(j-1-Rn)+O*(J-1-Dn)+L*Xe;for(let Un=0;Un<te;++Un){const Nn=I[Vn+Ke*Un],pr=R[gn+Un];dn+=Nn*pr}}}const mn=ge*He+Q*ct+ue*jt+ke*Xe;_[mn]=dn}}return n.makeTensorInfo(k.shape,k.dtype,k.values)}const Zfe={kernelName:U1,backendName:"cpu",kernelFunc:Jfe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function epe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,filter:o}=e,{strides:u,pad:l,dilations:f}=r;Lt([a,o],"conv3d");const p=Zf(a.shape,o.shape,u,f,l),{filterDepth:c,filterHeight:g,filterWidth:y,dilationDepth:S,dilationHeight:E,dilationWidth:k,padInfo:_}=p,I=_.front,R=_.left,A=_.top,O=new ro(p.outShape,a.dtype),L=n.data.get(a.dataId).values,U=n.data.get(o.dataId).values,j=O.values,J=Bt(a.shape),q=Bt(o.shape);for(let K=0;K<p.batchSize;++K){const z=K*J[0],te=K*O.strides[0];for(let ee=0;ee<p.outDepth;++ee){const le=te+ee*O.strides[1],ce=ee*p.strideDepth-I;for(let ye=0;ye<c;++ye){const ve=ce+ye*S;if(ve<0||ve>=p.inDepth)continue;const oe=ye*q[0],he=z+ve*J[1];for(let ge=0;ge<p.outHeight;++ge){const Q=le+ge*O.strides[2],ue=ge*p.strideHeight-A;for(let ke=0;ke<g;++ke){const Ce=ue+ke*E;if(Ce<0||Ce>=p.inHeight)continue;const Me=oe+ke*q[1],Ve=he+Ce*J[2];for(let Ke=0;Ke<p.outWidth;++Ke){const He=Q+Ke*p.outChannels,Xe=Ke*p.strideWidth-R;for(let ct=0;ct<y;++ct){const St=Xe+ct*k;if(St<0||St>=p.inWidth)continue;const Rt=Me+ct*q[2],Dt=Ve+St*p.inChannels;let jt=Rt;for(let zt=0;zt<p.inChannels;++zt){const vt=L[Dt+zt];for(let on=0;on<p.outChannels;++on)j[He+on]+=vt*U[jt+on];jt+=p.outChannels}}}}}}}}return n.makeTensorInfo(O.shape,O.dtype,O.values)}const tpe={kernelName:H1,backendName:"cpu",kernelFunc:epe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function npe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,dy:o}=e,{strides:u,pad:l,filterShape:f}=r;Lt([a,o],"conv3dBackpropFilterV2");const p=Bt(a.shape),c=Bt(o.shape),g=Zf(a.shape,f,u,1,l),y=g.strideDepth,S=g.strideHeight,E=g.strideWidth,k=g.filterDepth,_=g.filterHeight,I=g.filterWidth,R=new ro(g.filterShape,"float32"),A=R.values,[O,L,U,j]=R.strides,J=n.data.get(o.dataId).values,[q,K,z,te]=c,ee=n.data.get(a.dataId).values,[le,ce,ye,ve]=p,oe=g.padInfo.front,he=g.padInfo.left,ge=g.padInfo.top;for(let Q=0;Q<k;++Q){const ue=Math.max(0,Math.ceil((oe-Q)/y)),ke=Math.min(g.outDepth,(g.inDepth+oe-Q)/y),Ce=Q*O;for(let Me=0;Me<_;++Me){const Ve=Math.max(0,Math.ceil((ge-Me)/S)),Ke=Math.min(g.outHeight,(g.inHeight+ge-Me)/S),He=Me*L+Ce;for(let Xe=0;Xe<I;++Xe){const ct=Math.max(0,Math.ceil((he-Xe)/E)),St=Math.min(g.outWidth,(g.inWidth+he-Xe)/E),Rt=Xe*U+He;for(let Dt=0;Dt<g.inChannels;++Dt){const jt=Dt*j+Rt;for(let zt=0;zt<g.outChannels;++zt){let vt=0;for(let on=0;on<g.batchSize;++on){const dn=on*le,mn=on*q;for(let Jt=ue;Jt<ke;++Jt){const bn=(Q+Jt*y-oe)*ce+dn,Dn=Jt*K+mn;for(let Vn=Ve;Vn<Ke;++Vn){const Un=(Me+Vn*S-ge)*ye+bn,Nn=Vn*z+Dn;for(let pr=ct;pr<St;++pr){const st=(Xe+pr*E-he)*ve+Un,gt=pr*te+Nn;vt+=ee[st+Dt]*J[gt+zt]}}}}A[jt+zt]=vt}}}}}return n.makeTensorInfo(R.shape,R.dtype,R.values)}const rpe={kernelName:Lk,backendName:"cpu",kernelFunc:npe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ape(t){const{inputs:e,backend:n,attrs:r}=t,{dy:a,filter:o}=e,{pad:u,strides:l,inputShape:f}=r;Lt([a],"conv3dBackpropInputV2");const p=Bt(a.shape),c=Bt(o.shape),g=Zf(f,o.shape,l,1,u),y=new ro(g.inShape,"float32"),S=y.values,[E,k,_,I]=y.strides,R=n.data.get(a.dataId).values,[A,O,L,U]=p,j=n.data.get(o.dataId).values,[J,q,K,z]=c,{batchSize:te,filterDepth:ee,filterHeight:le,filterWidth:ce,inChannels:ye,inDepth:ve,inHeight:oe,inWidth:he,outChannels:ge,outDepth:Q,outHeight:ue,outWidth:ke,strideDepth:Ce,strideHeight:Me,strideWidth:Ve}=g,Ke=ee-1-g.padInfo.front,He=le-1-g.padInfo.top,Xe=ce-1-g.padInfo.left;for(let ct=0;ct<te;++ct)for(let St=0;St<ye;++St)for(let Rt=0;Rt<ve;++Rt){const Dt=Rt-Ke,jt=Math.max(0,Math.ceil(Dt/Ce)),zt=Math.min(Q,(ee+Dt)/Ce);for(let vt=0;vt<oe;++vt){const on=vt-He,dn=Math.max(0,Math.ceil(on/Me)),mn=Math.min(ue,(le+on)/Me);for(let Jt=0;Jt<he;++Jt){const Rn=Jt-Xe,bn=Math.max(0,Math.ceil(Rn/Ve)),Dn=Math.min(ke,(ce+Rn)/Ve);let Vn=0;for(let gn=jt;gn<zt;++gn){const Un=gn*Ce-Dt;for(let Nn=dn;Nn<mn;++Nn){const pr=Nn*Me-on;for(let Lr=bn;Lr<Dn;++Lr){const st=Lr*Ve-Rn,gt=A*ct+O*gn+L*Nn+U*Lr,ln=J*(ee-1-Un)+q*(le-1-pr)+K*(ce-1-st)+z*St;for(let Cn=0;Cn<ge;++Cn){const Mn=R[gt+Cn],vn=j[ln+Cn];Vn+=Mn*vn}}}}S[E*ct+k*Rt+_*vt+I*Jt+St]=Vn}}}return n.makeTensorInfo(y.shape,y.dtype,y.values)}const ope={kernelName:V1,backendName:"cpu",kernelFunc:ape};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const spe=Ar(W1,t=>Math.cos(t)),ipe={kernelName:W1,backendName:"cpu",kernelFunc:spe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const upe=Ar(j1,t=>Math.cosh(t)),lpe={kernelName:j1,backendName:"cpu",kernelFunc:upe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cpe(t){const{inputs:e,backend:n,attrs:r}=t,{image:a,boxes:o,boxInd:u}=e,{cropSize:l,method:f,extrapolationValue:p}=r,[c,g,y,S]=a.shape,E=o.shape[0],[k,_]=l,I=qn([E,k,_,S],"float32"),R=n.data.get(o.dataId).values,A=n.data.get(u.dataId).values,O=n.data.get(a.dataId).values,L=Bt(a.shape),U=Bt(I.shape);for(let j=0;j<E;j++){const J=j*4,q=R[J],K=R[J+1],z=R[J+2],te=R[J+3],ee=A[j];if(ee>=c)continue;const le=k>1?(z-q)*(g-1)/(k-1):0,ce=_>1?(te-K)*(y-1)/(_-1):0;for(let ye=0;ye<k;ye++){const ve=k>1?q*(g-1)+ye*le:.5*(q+z)*(g-1);if(ve<0||ve>g-1){for(let oe=0;oe<_;oe++)for(let he=0;he<S;he++){const ge=he+oe*U[2]+ye*U[1]+j*U[0];I.values[ge]=p}continue}if(f==="bilinear"){const oe=Math.floor(ve),he=Math.ceil(ve),ge=ve-oe;for(let Q=0;Q<_;Q++){const ue=_>1?K*(y-1)+Q*ce:.5*(K+te)*(y-1);if(ue<0||ue>y-1){for(let Ve=0;Ve<S;Ve++){const Ke=Ve+Q*U[2]+ye*U[1]+j*U[0];I.values[Ke]=p}continue}const ke=Math.floor(ue),Ce=Math.ceil(ue),Me=ue-ke;for(let Ve=0;Ve<S;Ve++){let Ke=Ve+ke*L[2]+oe*L[1]+ee*L[0];const He=O[Ke];Ke=Ve+Ce*L[2]+oe*L[1]+ee*L[0];const Xe=O[Ke];Ke=Ve+ke*L[2]+he*L[1]+ee*L[0];const ct=O[Ke];Ke=Ve+Ce*L[2]+he*L[1]+ee*L[0];const St=O[Ke],Rt=He+(Xe-He)*Me,Dt=ct+(St-ct)*Me;Ke=Ve+Q*U[2]+ye*U[1]+j*U[0],I.values[Ke]=Rt+(Dt-Rt)*ge}}}else for(let oe=0;oe<_;++oe){const he=_>1?K*(y-1)+oe*ce:.5*(K+te)*(y-1);if(he<0||he>y-1){for(let ue=0;ue<S;ue++){const ke=ue+oe*U[2]+ye*U[1]+j*U[0];I.values[ke]=p}continue}const ge=Math.round(he),Q=Math.round(ve);for(let ue=0;ue<S;ue++){const ke=ue+ge*L[2]+Q*L[1]+ee*L[0],Ce=ue+oe*U[2]+ye*U[1]+j*U[0];I.values[Ce]=O[ke]}}}}return n.makeTensorInfo(I.shape,I.dtype,I.values)}const dpe={kernelName:K1,backendName:"cpu",kernelFunc:cpe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fpe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{axis:o,exclusive:u,reverse:l}=r;Lt(a,"cumprod");const f=Gi([o],a.shape.length);let p=a;f!=null&&(p=qs({inputs:{x:a},backend:n,attrs:{perm:f}}));const c=Ss(1,a.shape.length)[0];if(c!==p.shape.length-1)throw new Error(`backend.cumprod in CPU expects an inner-most axis=${p.shape.length-1} but got axis=${c}`);const g=Zh(p.dtype,"int32"),y=Ik(ze(p.shape),g),S=n.data.get(p.dataId).values,E=p.shape[p.shape.length-1],k=l?(I,R)=>I+E-R-1:(I,R)=>I+R;for(let I=0;I<S.length;I+=E)for(let R=0;R<E;R++){const A=k(I,R);if(R===0)y[A]=u?1:S[A];else{const O=k(I,R-1);y[A]=u?S[O]*y[O]:S[A]*y[O]}}const _=n.makeTensorInfo(p.shape,g,y);if(f!=null){const I=Mw(f),R=qs({inputs:{x:_},backend:n,attrs:{perm:I}});return n.disposeIntermediateTensorInfo(_),n.disposeIntermediateTensorInfo(p),R}return _}const ppe={kernelName:G1,backendName:"cpu",kernelFunc:fpe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hpe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{axis:o,exclusive:u,reverse:l}=r;Lt(a,"cumsum");const f=Gi([o],a.shape.length);let p=a;f!=null&&(p=qs({inputs:{x:a},backend:n,attrs:{perm:f}}));const c=Ss(1,a.shape.length)[0];if(c!==p.shape.length-1)throw new Error(`backend.cumsum in CPU expects an inner-most axis=${p.shape.length-1} but got axis=${c}`);const g=Zh(p.dtype,"int32"),y=Xo(ze(p.shape),g),S=n.data.get(p.dataId).values,E=p.shape[p.shape.length-1],k=l?(I,R)=>I+E-R-1:(I,R)=>I+R;for(let I=0;I<S.length;I+=E)for(let R=0;R<E;R++){const A=k(I,R);if(R===0)y[A]=u?0:S[A];else{const O=k(I,R-1);y[A]=u?S[O]+y[O]:S[A]+y[O]}}const _=n.makeTensorInfo(p.shape,g,y);if(f!=null){const I=Mw(f),R=qs({inputs:{x:_},backend:n,attrs:{perm:I}});return n.disposeIntermediateTensorInfo(_),n.disposeIntermediateTensorInfo(p),R}return _}const mpe={kernelName:q1,backendName:"cpu",kernelFunc:hpe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gpe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,weights:o}=e,{size:u,binaryOutput:l}=r;if(a.shape.length===1){const f=n.data.get(a.dataId).values,p=n.data.get(o.dataId).values,c=bF(f,p,o.dtype,o.shape,u);return n.makeTensorInfo([u],o.dtype,c)}else if(a.shape.length===2){const f=n.bufferSync(a),p=n.bufferSync(o),c=Pae(f,p,u,l);return n.makeTensorInfo(c.shape,o.dtype,c.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${a.shape.length}.`)}const vpe={kernelName:Bk,backendName:"cpu",kernelFunc:gpe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ype(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{blockSize:o,dataFormat:u}=r;Z(u==="NHWC",()=>`Only NHWC dataFormat supported on CPU for depthToSpace. Got ${u}`);const l=a.shape[0],f=a.shape[1],p=a.shape[2],c=a.shape[3],g=f*o,y=p*o,S=c/(o*o),E=n.data.get(a.dataId).values,k=new Float32Array(l*g*y*S);let _=0;for(let I=0;I<l;++I)for(let R=0;R<g;++R){const A=Math.floor(R/o),O=R%o;for(let L=0;L<y;++L){const U=Math.floor(L/o),j=L%o,J=(O*o+j)*S;for(let q=0;q<S;++q){const z=q+J+c*(U+p*(A+f*I));k[_++]=E[z]}}}return n.makeTensorInfo([l,g,y,S],a.dtype,k)}const bpe={kernelName:Y1,backendName:"cpu",kernelFunc:ype};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wP(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,filter:o}=e,{strides:u,pad:l,dilations:f,dimRoundingMode:p}=r;Lt([a,o],"depthwiseConv2DNative");const c=Bt(a.shape),g=Bt(o.shape);let y=f;y==null&&(y=[1,1]),Z(hu(u,y),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${u} and dilations '${y}'`);const S=Ws(a.shape,o.shape,u,y,l,p,!0),{filterHeight:E,filterWidth:k,dilationHeight:_,dilationWidth:I,padInfo:R}=S,A=R.left,O=R.top,L=S.outChannels/S.inChannels,U=new ro(S.outShape,a.dtype),j=n.data.get(a.dataId).values,J=n.data.get(o.dataId).values,q=U.values;for(let K=0;K<S.batchSize;++K){const z=K*c[0],te=K*U.strides[0];for(let ee=0;ee<S.outHeight;++ee){const le=te+ee*U.strides[1],ce=ee*S.strideHeight-O;for(let ye=0;ye<E;++ye){const ve=ce+ye*_;if(ve<0||ve>=S.inHeight)continue;const oe=ye*g[0],he=z+ve*c[1];for(let ge=0;ge<S.outWidth;++ge){const Q=le+ge*U.strides[2],ue=ge*S.strideWidth-A;for(let ke=0;ke<k;++ke){const Ce=ue+ke*I;if(Ce<0||Ce>=S.inWidth)continue;const Me=oe+ke*g[1],Ve=he+Ce*S.inChannels;let Ke=Q,He=Me;for(let Xe=0;Xe<S.inChannels;++Xe){const ct=j[Ve+Xe];for(let St=0;St<L;++St)q[Ke+St]+=ct*J[He+St];Ke+=L,He+=L}}}}}}return n.makeTensorInfo(U.shape,U.dtype,U.values)}const Spe={kernelName:X1,backendName:"cpu",kernelFunc:wP};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wpe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,dy:o}=e,{strides:u,dilations:l,pad:f,dimRoundingMode:p,filterShape:c}=r;Lt([a,o],"depthwiseConv2dNativeBackpropFilter");const g=Ws(a.shape,c,u,l,f,p,!0),{strideHeight:y,strideWidth:S,filterHeight:E,filterWidth:k}=g,_=new ro(g.filterShape,"float32"),I=g.padInfo.left,R=g.padInfo.top,A=g.outChannels/g.inChannels,O=n.data.get(a.dataId).values,L=new ro(a.shape,a.dtype,O),U=n.data.get(o.dataId).values,j=new ro(o.shape,o.dtype,U);for(let J=0;J<E;++J){const q=Math.max(0,Math.ceil((R-J)/y)),K=Math.min(g.outHeight,(g.inHeight+R-J)/y);for(let z=0;z<k;++z){const te=Math.max(0,Math.ceil((I-z)/S)),ee=Math.min(g.outWidth,(g.inWidth+I-z)/S);for(let le=0;le<g.outChannels;++le){const ce=Math.trunc(le/A),ye=le%A;let ve=0;for(let oe=0;oe<g.batchSize;++oe)for(let he=q;he<K;++he){const ge=J+he*y-R;for(let Q=te;Q<ee;++Q){const ue=z+Q*S-I;ve+=L.get(oe,ge,ue,ce)*j.get(oe,he,Q,le)}}_.set(ve,J,z,ce,ye)}}}return n.makeTensorInfo(_.shape,_.dtype,_.values)}const Epe={kernelName:uO,backendName:"cpu",kernelFunc:wpe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xpe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:a,filter:o}=e,{strides:u,dilations:l,pad:f,dimRoundingMode:p,inputShape:c}=r;Lt([a,o],"depthwiseConv2DNativeBackpropInput");const g=Bt(a.shape),y=Bt(o.shape),S=Ws(c,o.shape,u,l,f,p,!0),E=new ro(S.inShape,"float32"),k=E.values,[_,I,R]=E.strides,A=n.data.get(a.dataId).values,[O,L,U]=g,j=n.data.get(o.dataId).values,[J,q,K]=y,{batchSize:z,filterHeight:te,filterWidth:ee,inChannels:le,inHeight:ce,inWidth:ye,outChannels:ve,outHeight:oe,outWidth:he,strideHeight:ge,strideWidth:Q}=S,ue=te-1-S.padInfo.top,ke=ee-1-S.padInfo.left,Ce=ve/le;for(let Me=0;Me<z;++Me)for(let Ve=0;Ve<le;++Ve)for(let Ke=0;Ke<ce;++Ke){const He=Ke-ue,Xe=Math.max(0,Math.ceil(He/ge)),ct=Math.min(oe,(te+He)/ge);for(let St=0;St<ye;++St){const Rt=St-ke,Dt=Math.max(0,Math.ceil(Rt/Q)),jt=Math.min(he,(ee+Rt)/Q);let zt=0;for(let vt=Xe;vt<ct;++vt){const on=vt*ge-He;for(let dn=Dt;dn<jt;++dn){const mn=dn*Q-Rt,Jt=O*Me+L*vt+U*dn,Rn=J*(te-1-on)+q*(ee-1-mn)+K*Ve;for(let bn=0;bn<Ce;++bn){const Dn=Ve*Ce+bn,Vn=A[Jt+Dn],gn=j[Rn+bn];zt+=Vn*gn}}}k[_*Me+I*Ke+R*St+Ve]=zt}}return n.makeTensorInfo(E.shape,E.dtype,E.values)}const Cpe={kernelName:lO,backendName:"cpu",kernelFunc:xpe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kpe(t){const{inputs:e,backend:n}=t,{x:r}=e,a=ze(r.shape),o=n.data.get(r.dataId).values,u=qn([a,a],r.dtype),l=u.values;for(let p=0;p<o.length;p++)l[p*a+p]=o[p];const f=[...r.shape,...r.shape];return n.makeTensorInfo(f,u.dtype,u.values)}const _pe={kernelName:zk,backendName:"cpu",kernelFunc:kpe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tpe={kernelName:Q1,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:r,filter:a}=t,{strides:o,pad:u,dilations:l}=n,f=e,p=f.data.get(r.dataId).values,c=r.shape.length,g=f.data.get(a.dataId).values,y=a.shape.length,{batchSize:S,inHeight:E,inWidth:k,inChannels:_,outHeight:I,outWidth:R,padInfo:A,strideHeight:O,strideWidth:L,filterHeight:U,filterWidth:j,dilationHeight:J,dilationWidth:q,outShape:K}=rm(r.shape,a.shape,o,u,"NHWC",l),z=ze(K),te=K.length,ee=Ka(r.dtype,z);for(let ce=0;ce<S;++ce)for(let ye=0;ye<I;++ye){const ve=ye*O-A.top;for(let oe=0;oe<R;++oe){const he=oe*L-A.left;for(let ge=0;ge<_;++ge){let Q=Number.MIN_SAFE_INTEGER;for(let ke=0;ke<U;++ke){const Ce=ve+ke*J;if(Ce>=0&&Ce<E)for(let Me=0;Me<j;++Me){const Ve=he+Me*q;if(Ve>=0&&Ve<k){const Ke=Tl([ce,Ce,Ve,ge],c,Bt(r.shape)),He=Tl([ke,Me,ge],y,Bt(a.shape)),Xe=p[Ke]+g[He];Xe>Q&&(Q=Xe)}}}const ue=Tl([ce,ye,oe,ge],te,Bt(K));ee[ue]=Q}}}return{dataId:f.write(Kf(ee,r.dtype),K,r.dtype),shape:K,dtype:r.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ipe={kernelName:Z1,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:r,filter:a,dy:o}=t,{strides:u,pad:l,dilations:f}=n,p=e,c=fu(r.shape,p.data.get(r.dataId).values),g=fu(a.shape,p.data.get(a.dataId).values),{batchSize:y,inHeight:S,inWidth:E,inChannels:k,outHeight:_,outWidth:I,padInfo:R,strideHeight:A,strideWidth:O,filterHeight:L,filterWidth:U,dilationHeight:j,dilationWidth:J,outShape:q}=rm(r.shape,a.shape,u,l,"NHWC",f);Z(o.rank===q.length,()=>`Error in ${Z1}, dy must have the same rank as output ${q.length}, but got ${o.rank}`);const K=fu(q,p.data.get(o.dataId).values),z=Z4(a.shape,a.dtype);for(let ee=0;ee<y;++ee)for(let le=0;le<_;++le){const ce=le*A-R.top;for(let ye=0;ye<I;++ye){const ve=ye*O-R.left;for(let oe=0;oe<k;++oe){let he=Number.MIN_SAFE_INTEGER,ge=0,Q=0;for(let ue=0;ue<L;++ue){const ke=ce+ue*j;if(ke>=0&&ke<S)for(let Ce=0;Ce<U;++Ce){const Me=ve+Ce*J;if(Me>=0&&Me<E){const Ve=c[ee][ke][Me][oe]+g[ue][Ce][oe];Ve>he&&(he=Ve,ge=ue,Q=Ce)}}}z[ge][Q][oe]+=K[ee][le][ye][oe]}}}return{dataId:p.write(Kf(z,r.dtype),a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Rpe={kernelName:J1,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:r,filter:a,dy:o}=t,{strides:u,pad:l,dilations:f}=n,p=e,c=fu(r.shape,p.data.get(r.dataId).values),g=fu(a.shape,p.data.get(a.dataId).values),{batchSize:y,inHeight:S,inWidth:E,inChannels:k,outHeight:_,outWidth:I,padInfo:R,strideHeight:A,strideWidth:O,filterHeight:L,filterWidth:U,dilationHeight:j,dilationWidth:J,outShape:q}=rm(r.shape,a.shape,u,l,"NHWC",f);Z(o.rank===q.length,()=>`Error in ${J1}, dy must have the same rank as output ${q.length}, but got ${o.rank}`);const K=fu(q,p.data.get(o.dataId).values),z=Z4(r.shape,r.dtype);for(let ee=0;ee<y;++ee)for(let le=0;le<_;++le){const ce=le*A-R.top;for(let ye=0;ye<I;++ye){const ve=ye*O-R.left;for(let oe=0;oe<k;++oe){let he=Number.MIN_SAFE_INTEGER,ge=ce<0?0:ce,Q=ve<0?0:ve;for(let ue=0;ue<L;++ue){const ke=ce+ue*j;if(ke>=0&&ke<S)for(let Ce=0;Ce<U;++Ce){const Me=ve+Ce*J;if(Me>=0&&Me<E){const Ve=c[ee][ke][Me][oe]+g[ue][Ce][oe];Ve>he&&(he=Ve,ge=ke,Q=Me)}}}z[ee][ge][Q][oe]+=K[ee][le][ye][oe]}}}return{dataId:p.write(Kf(z,r.dtype),r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Npe(t){const{inputs:e,backend:n,attrs:r}=t,{image:a}=e,{canvas:o,options:u}=r,{contextOptions:l,imageOptions:f}=u||{},p=f?.alpha||1,c=l?.contextType||"2d";if(c!=="2d")throw new Error(`Context type ${l.contextType} is not supported by the CPU backend.`);const g=o.getContext(c,l?.contextAttributes||{});if(g==null)throw new Error(`Could not get the context with ${c} type.`);const[y,S]=a.shape.slice(0,2),E=a.shape.length===2?1:a.shape[2],k=n.data.get(a.dataId).values,_=a.dtype==="float32"?255:1,I=new Uint8ClampedArray(S*y*4);for(let A=0;A<y*S;++A){const O=[0,0,0,255*p];for(let U=0;U<E;U++){const j=k[A*E+U];if(a.dtype==="float32"){if(j<0||j>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${j}.`)}else if(a.dtype==="int32"&&(j<0||j>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${j}.`);E===1?(O[0]=j*_,O[1]=j*_,O[2]=j*_):O[U]=j*_}const L=A*4;I[L+0]=Math.round(O[0]),I[L+1]=Math.round(O[1]),I[L+2]=Math.round(O[2]),I[L+3]=Math.round(O[3])}o.width=S,o.height=y;const R=new ImageData(I,S,y);return g.putImageData(R,0,0),a}const Ape={kernelName:Gj,backendName:"cpu",kernelFunc:Npe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gy(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{axis:o,keepDims:u}=r;Lt(a,"sum");let l;a.dtype==="bool"?l=Hd({inputs:{x:a},backend:n,attrs:{dtype:"int32"}}):l=Dl({inputs:{x:a},backend:n});const f=l.shape.length,p=ga(o,l.shape),c=Gi(p,f);let g=p,y=l;c!=null&&(y=qs({inputs:{x:l},backend:n,attrs:{perm:c}}),g=Ss(g.length,f)),bs("sum",g,y.shape.length);const[S,E]=ys(y.shape,g),k=Zh(y.dtype,"int32");let _=l2(n,S,k);const I=ze(E),R=n.data.get(_.dataId).values,A=n.data.get(y.dataId).values;for(let O=0;O<R.length;++O){const L=O*I;let U=0;for(let j=0;j<I;++j)U+=A[L+j];R[O]=U}if(u){const O=Mo(_.shape,p),L=_;_=Qr({inputs:{x:_},backend:n,attrs:{shape:O}}),n.disposeIntermediateTensorInfo(L)}return n.disposeIntermediateTensorInfo(l),c!=null&&n.disposeIntermediateTensorInfo(y),_}const Dpe={kernelName:cw,backendName:"cpu",kernelFunc:gy};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ope(t){const{inputs:e,backend:n,attrs:r}=t,{equation:a}=r,o=e,{allDims:u,summedDims:l,idDims:f}=ene(a,o.length);nne(u.length,f,o);const{path:p,steps:c}=rne(l,f),g=c.length;let y=null,S=u.length;const E=[];for(let k=0;k<g;++k){for(const _ of c[k]){const{permutationIndices:I,expandDims:R}=tne(S,f[_]);let A;ane(I)?A=o[_]:(A=qs({inputs:{x:o[_]},backend:n,attrs:{perm:I}}),E.push(A));const O=A.shape.slice();for(let L=0;L<R.length;++L)O.splice(R[L],0,1);du(A.shape,O)||(A=Qr({inputs:{x:A},backend:n,attrs:{shape:O}}),E.push(A)),y===null?y=A:(y=c2({inputs:{a:A,b:y},backend:n}),E.push(y))}k<g-1&&(p[k]>=0&&(y=gy({inputs:{x:y},backend:n,attrs:{axis:p[k]-(u.length-S),keepDims:!1}}),E.push(y)),S--)}for(const k of E)k!==y&&n.disposeIntermediateTensorInfo(k);return y}const Mpe={kernelName:cO,backendName:"cpu",kernelFunc:Ope};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $pe(t){const{inputs:e,backend:n}=t,{dy:r,y:a}=e;Lt([r,a],"eluGrad");const o=new Float32Array(ze(a.shape)),u=n.data.get(a.dataId).values,l=n.data.get(r.dataId).values;for(let f=0;f<u.length;++f){const p=u[f];p>=0?o[f]=l[f]:o[f]=l[f]*(p+1)}return n.makeTensorInfo(a.shape,"float32",o)}const Fpe={kernelName:Uk,backendName:"cpu",kernelFunc:$pe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ppe=Ute,Lpe=Hte,Bpe=Vte,zpe=Wte,Upe=jte,Hpe=Gte,Vpe=Ar(nS,t=>{const e=Math.sign(t),n=Math.abs(t),r=1/(1+Ppe*n);return e*(1-((((Hpe*r+Upe)*r+zpe)*r+Bpe)*r+Lpe)*r*Math.exp(-n*n))}),Wpe={kernelName:nS,backendName:"cpu",kernelFunc:Vpe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function m2(t){const{inputs:e,backend:n,attrs:r}=t,{input:a}=e,{dim:o}=r,u=a.shape.length,l=a.shape.slice();let f=o;return o<0&&(Z(-(u+1)<=o,()=>`Axis must be in the interval [${-(u+1)}, ${u}]`),f=u+o+1),l.splice(f,0,1),Qr({inputs:{x:a},backend:n,attrs:{shape:l}})}const jpe={kernelName:Hk,backendName:"cpu",kernelFunc:m2};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gpe=Ma((t,e)=>t/e),OT=oo(eS,Gpe),MT={kernelName:eS,backendName:"cpu",kernelFunc:OT};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EP(t,e,n){const r=t.shape,a=r[0],o=r[1],u=n.data.get(t.dataId),l=u.complexTensorInfos.real,f=u.complexTensorInfos.imag,p=[a,o],c=ze(p),g=ms("float32",c),y=ms("float32",c);for(let _=0;_<a;_++){const I=fp({inputs:{x:l},backend:n,attrs:{begin:[_,0],size:[1,o]}}),R=fp({inputs:{x:f},backend:n,attrs:{begin:[_,0],size:[1,o]}}),A=Si({inputs:{real:I,imag:R},backend:n}),{real:O,imag:L}=qpe(A,e,n),U=pm(O,L);for(let j=0;j<o;j++){const J=_$(U,j);g[_*o+j]=J.real,y[_*o+j]=J.imag}n.disposeIntermediateTensorInfo(I),n.disposeIntermediateTensorInfo(R),n.disposeIntermediateTensorInfo(A)}const S=n.makeTensorInfo(p,"float32",g),E=n.makeTensorInfo(p,"float32",y),k=Si({inputs:{real:S,imag:E},backend:n});return n.disposeIntermediateTensorInfo(S),n.disposeIntermediateTensorInfo(E),k}function qpe(t,e,n){const r=ze(t.shape),a=n.data.get(t.dataId),o=n.data.get(a.complexTensorInfos.real.dataId).values,u=n.data.get(a.complexTensorInfos.imag.dataId).values;if(Kpe(r)){const l=$T(o,u,r,e,n),f=[t.shape[0],t.shape[1]];if(e){const p=n.makeTensorInfo(f,"float32",l.real),c=n.makeTensorInfo(f,"float32",l.imag),g=n.makeTensorInfo([],"float32",y_(r,"float32")),y=Dl({inputs:{x:g},backend:n}),S=MT.kernelFunc({inputs:{a:p,b:g},backend:n}),E=MT.kernelFunc({inputs:{a:c,b:y},backend:n}),k=n.data.get(S.dataId).values,_=n.data.get(E.dataId).values;return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(S),n.disposeIntermediateTensorInfo(E),{real:k,imag:_}}return l}else{const l=pm(o,u),f=Ype(l,r,e);return qte(f)}}function Kpe(t){return(t&t-1)===0}function $T(t,e,n,r,a){if(n===1)return{real:t,imag:e};const o=pm(t,e),u=n/2,l=Kte(o),f=l.real,p=l.imag,c=[f.length],g=a.makeTensorInfo(c,"float32",f),y=a.makeTensorInfo(c,"float32",p),S=Si({inputs:{real:g,imag:y},backend:a}),E=Yte(o),k=E.real,_=E.imag,I=[k.length],R=a.makeTensorInfo(I,"float32",k),A=a.makeTensorInfo(I,"float32",_),O=Si({inputs:{real:R,imag:A},backend:a}),L=$T(f,p,u,r,a),U=L.real,j=L.imag,J=[U.length],q=a.makeTensorInfo(J,"float32",U),K=a.makeTensorInfo(J,"float32",j),z=Si({inputs:{real:q,imag:K},backend:a}),te=$T(k,_,u,r,a),ee=te.real,le=te.imag,ce=[ee.length],ye=a.makeTensorInfo(ce,"float32",ee),ve=a.makeTensorInfo(ce,"float32",le),oe=Si({inputs:{real:ye,imag:ve},backend:a}),he=Qte(n,r),ge=[he.real.length],Q=a.makeTensorInfo(ge,"float32",he.real),ue=a.makeTensorInfo(ge,"float32",he.imag),ke=Si({inputs:{real:Q,imag:ue},backend:a}),Ce=c2({inputs:{a:ke,b:oe},backend:a}),Me=hm({inputs:{a:z,b:Ce},backend:a}),Ve=xT({inputs:{a:z,b:Ce},backend:a}),Ke=dp({inputs:{input:Me},backend:a}),He=dp({inputs:{input:Ve},backend:a}),Xe=gm({inputs:{input:Me},backend:a}),ct=gm({inputs:{input:Ve},backend:a}),St=vm({inputs:[Ke,He],backend:a,attrs:{axis:0}}),Rt=vm({inputs:[Xe,ct],backend:a,attrs:{axis:0}}),Dt=a.data.get(St.dataId).values,jt=a.data.get(Rt.dataId).values;return a.disposeIntermediateTensorInfo(g),a.disposeIntermediateTensorInfo(y),a.disposeIntermediateTensorInfo(S),a.disposeIntermediateTensorInfo(R),a.disposeIntermediateTensorInfo(A),a.disposeIntermediateTensorInfo(O),a.disposeIntermediateTensorInfo(q),a.disposeIntermediateTensorInfo(K),a.disposeIntermediateTensorInfo(z),a.disposeIntermediateTensorInfo(ye),a.disposeIntermediateTensorInfo(ve),a.disposeIntermediateTensorInfo(oe),a.disposeIntermediateTensorInfo(Q),a.disposeIntermediateTensorInfo(ue),a.disposeIntermediateTensorInfo(ke),a.disposeIntermediateTensorInfo(Ce),a.disposeIntermediateTensorInfo(Me),a.disposeIntermediateTensorInfo(Ve),a.disposeIntermediateTensorInfo(Ke),a.disposeIntermediateTensorInfo(Xe),a.disposeIntermediateTensorInfo(He),a.disposeIntermediateTensorInfo(ct),a.disposeIntermediateTensorInfo(St),a.disposeIntermediateTensorInfo(Rt),{real:Dt,imag:jt}}function Ype(t,e,n){const r=new Float32Array(e*2);for(let a=0;a<e;a++){let o=0,u=0;for(let l=0;l<e;l++){const f=Jte(a*l,e,n),p=_$(t,l);o+=p.real*f.real-p.imag*f.imag,u+=p.real*f.imag+p.imag*f.real}n&&(o/=e,u/=e),Xte(r,o,u,a)}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xpe(t){const{inputs:e,backend:n}=t,{input:r}=e,a=ze(r.shape),o=r.shape[r.shape.length-1],u=a/o,l=Qr({inputs:{x:r},backend:n,attrs:{shape:[u,o]}}),f=EP(l,!1,n),p=Qr({inputs:{x:f},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(f),p}const Qpe={kernelName:dO,backendName:"cpu",kernelFunc:Xpe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FT(t){const{backend:e,attrs:n}=t,{shape:r,value:a,dtype:o}=n,u=o||Bv(a),l=Ka(u,ze(r));return Zpe(l,a,u),e.makeTensorInfo(r,u,l)}const Jpe={kernelName:Vk,backendName:"cpu",kernelFunc:FT};function Zpe(t,e,n){t.fill(e)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ehe={kernelName:sS,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:r}=t,a=n,o=ms(r.dtype,ze(r.shape)),[u,l,f,p]=r.shape,c=a.data.get(r.dataId).values;for(let y=0;y<u;y++){const S=y*f*l*p;for(let E=0;E<l;E++){const k=E*(f*p);for(let _=0;_<f;_++){const I=_*p;for(let R=0;R<p;R++){const A=Math.round(f-_-1),O=S+k+I+R;let L=c[O];if(A>=0&&A<f){const U=A*p,j=S+k+U+R;L=c[j]}o[O]=L}}}}return{dataId:a.write(o,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function the(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,filter:o,bias:u,preluActivationWeights:l}=e,{strides:f,pad:p,dataFormat:c,dilations:g,dimRoundingMode:y,activation:S,leakyreluAlpha:E}=r;let k=SP({inputs:{x:a,filter:o},backend:n,attrs:{strides:f,pad:p,dataFormat:c,dilations:g,dimRoundingMode:y}});if(u){const _=k;if(c==="NCHW"&&u.shape.length===1&&u.shape[0]!==1){const I=Qr({inputs:{x:u},backend:n,attrs:{shape:[u.shape[0],1,1]}});k=hm({inputs:{a:k,b:I},backend:n}),n.disposeIntermediateTensorInfo(I)}else k=hm({inputs:{a:k,b:u},backend:n});n.disposeIntermediateTensorInfo(_)}if(S){const _=k;if(c==="NCHW"&&S==="prelu"&&l.shape.length===1&&l.shape[0]!==1){const I=Qr({inputs:{x:l},backend:n,attrs:{shape:[l.shape[0],1,1]}});k=h2(n,k,S,I,E),n.disposeIntermediateTensorInfo(I)}else k=h2(n,k,S,l,E);n.disposeIntermediateTensorInfo(_)}return k}const nhe={kernelName:jv,backendName:"cpu",kernelFunc:the};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rhe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,filter:o,bias:u,preluActivationWeights:l}=e,{strides:f,pad:p,dataFormat:c,dilations:g,dimRoundingMode:y,activation:S,leakyreluAlpha:E}=r;let k=wP({inputs:{x:a,filter:o},backend:n,attrs:{strides:f,pad:p,dataFormat:c,dilations:g,dimRoundingMode:y}});if(u){const _=k;k=hm({inputs:{a:k,b:u},backend:n}),n.disposeIntermediateTensorInfo(_)}if(S){const _=k;k=h2(n,k,S,l,E),n.disposeIntermediateTensorInfo(_)}return k}const ahe={kernelName:Gv,backendName:"cpu",kernelFunc:rhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ohe(t){const{inputs:e,backend:n}=t,{params:r,indices:a}=e,o=ze(r.shape),u=a.shape,l=u[u.length-1],[f,p,c,g]=m$(r,a);if(p===0)return n.makeTensorInfo(f,r.dtype,[]);const y=n.data.get(a.dataId).values,S=n.bufferSync(r),E=roe(y,S,r.dtype,p,l,c,g,r.shape,o);return n.makeTensorInfo(f,r.dtype,E.values)}const she={kernelName:cS,backendName:"cpu",kernelFunc:ohe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ihe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,indices:o}=e,{axis:u,batchDims:l}=r;Lt([a,o],"gatherV2");const f=ga(u,a.shape)[0],p=n.data.get(o.dataId).values,c=a.shape[f];for(let O=0;O<p.length;++O){const L=p[O];Z(L<=c-1&&L>=0,()=>`GatherV2: the index value ${L} is not in [0, ${c-1}]`)}let g=l;l==null&&(g=0);const y=ze(o.shape),S=U$(a,o,f,g),E=Qr({inputs:{x:a},backend:n,attrs:{shape:[S.batchSize,S.outerSize,S.dimSize,S.sliceSize]}}),k=Qr({inputs:{x:o},backend:n,attrs:{shape:[S.batchSize,y/S.batchSize]}}),_=[S.batchSize,S.outerSize,y/S.batchSize,S.sliceSize],I=n.bufferSync(k),R=n.bufferSync(E),A=aoe(R,I,_);return n.disposeIntermediateTensorInfo(E),n.disposeIntermediateTensorInfo(k),n.makeTensorInfo(S.outputShape,A.dtype,A.values)}const uhe={kernelName:Wk,backendName:"cpu",kernelFunc:ihe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lhe(t){const{inputs:e,backend:n}=t,{input:r}=e,a=ze(r.shape),o=r.shape[r.shape.length-1],u=a/o,l=Qr({inputs:{x:r},backend:n,attrs:{shape:[u,o]}}),f=EP(l,!0,n),p=Qr({inputs:{x:f},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(f),p}const che={kernelName:fO,backendName:"cpu",kernelFunc:lhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dhe=Ar(hS,t=>Number.isFinite(t)?1:0,"bool"),fhe={kernelName:hS,backendName:"cpu",kernelFunc:dhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const phe=Ar(mS,t=>Math.abs(t)===1/0?1:0,"bool"),hhe={kernelName:mS,backendName:"cpu",kernelFunc:phe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mhe=Ar(gS,t=>Number.isNaN(t)?1:0,"bool"),ghe={kernelName:gS,backendName:"cpu",kernelFunc:mhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vhe(t){const{backend:e,attrs:n}=t,{start:r,stop:a,num:o}=n,u=voe(r,a,o);return e.makeTensorInfo([u.length],"float32",u)}const yhe={kernelName:SS,backendName:"cpu",kernelFunc:vhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bhe=Ar(ES,t=>Math.log1p(t)),She={kernelName:ES,backendName:"cpu",kernelFunc:bhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const whe=Ma((t,e)=>t&&e),Ehe=oo(xS,whe,null,"bool"),xhe={kernelName:xS,backendName:"cpu",kernelFunc:Ehe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Che=Ar(CS,t=>t?0:1,"bool"),khe={kernelName:CS,backendName:"cpu",kernelFunc:Che};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _he=Ma((t,e)=>t||e),The=oo(kS,_he,null,"bool"),Ihe={kernelName:kS,backendName:"cpu",kernelFunc:The};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rhe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{depthRadius:o,bias:u,alpha:l,beta:f}=r;Lt(a,"LRN");const p=a.shape[3],c=p-1,g=n.data.get(a.dataId).values,y=ze(a.shape),S=new Float32Array(y);function E(k){const _=k%p;let I=k-_+Math.max(0,_-o);const R=k-_+Math.min(_+o,c);let A=0;for(;I<=R;I++){const O=g[I];A+=O*O}return A}for(let k=0;k<y;k++){const _=E(k),I=g[k]*Math.pow(u+l*_,-f);S[k]=I}return n.makeTensorInfo(a.shape,a.dtype,S)}const Nhe={kernelName:_S,backendName:"cpu",kernelFunc:Rhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ahe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,y:o,dy:u}=e,{depthRadius:l,bias:f,alpha:p,beta:c}=r;Lt(u,"LRNGrad");const g=ze(u.shape),y=u.shape[3],S=n.data.get(u.dataId).values,E=n.data.get(a.dataId).values,k=n.data.get(o.dataId).values,_=new Float32Array(g),I=g;for(let R=0;R<I;R++){const A=R%y,O=R-A+Math.max(0,A-l),L=R-A+Math.min(y,A+l+1);let U=0;for(let j=O;j<L;j++)U+=Math.pow(E[j],2);U=p*U+f;for(let j=O;j<L;j++){let J=-2*p*c*E[j]*k[R]/U;R===j&&(J+=Math.pow(U,-c)),J*=S[R],_[j]+=J}}return n.makeTensorInfo(u.shape,a.dtype,_)}const Dhe={kernelName:jk,backendName:"cpu",kernelFunc:Ahe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xP(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{reductionIndices:o,keepDims:u}=r,l=n;let f=a.shape;const p=f.length,c=ga(o,f);let g=c;const y=Gi(g,p);let S=l.data.get(a.dataId).values;if(y!=null){const O=new Array(p);for(let L=0;L<O.length;L++)O[L]=f[y[L]];S=CF(S,f,a.dtype,y,O),g=Ss(g.length,p),f=O}Lt(a,"max"),bs("max",g,p);const[E,k]=ys(f,g),_=ze(k),I=woe(S,_,E,a.dtype),R=l.write(I,E,a.dtype);let A=E;return u&&(A=Mo(E,c)),{dataId:R,shape:A,dtype:a.dtype}}const Ohe={kernelName:TS,backendName:"cpu",kernelFunc:xP};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mhe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e;Lt(a,"maxPool");const{filterSize:o,strides:u,pad:l,dimRoundingMode:f}=r,p=1;Z(hu(u,p),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${u} and dilations '${p}'`);const c=Gu(a.shape,o,u,p,l,f);let g;if(c.filterWidth===1&&c.filterHeight===1&&du(c.inShape,c.outShape))g=Dl({inputs:{x:a},backend:n});else{const y=n.data.get(a.dataId).values,S=Bt(a.shape),E=DT(y,a.shape,a.dtype,S,c,"max");g=n.makeTensorInfo(c.outShape,a.dtype,E.values)}return g}const $he={kernelName:RS,backendName:"cpu",kernelFunc:Mhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fhe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{filterSize:o,strides:u,pad:l,dimRoundingMode:f,dataFormat:p}=r;Lt(a,"maxPool3d");const c=Fd(a.shape,o,u,1,l,f,p),g=n.data.get(a.dataId).values,y=bP(g,a.shape,a.dtype,Bt(a.shape),c,"max");return n.makeTensorInfo(y.shape,"float32",y.values)}const Phe={kernelName:Gk,backendName:"cpu",kernelFunc:Fhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lhe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:a,input:o}=e,{filterSize:u,strides:l,pad:f,dimRoundingMode:p}=r;Lt([a,o],"maxPool3DGrad");const c=Fd(o.shape,u,l,1,f,p),g=n.bufferSync(o),y=Tfe(g,c),S=c.strideDepth,E=c.strideHeight,k=c.strideWidth,_=c.dilationDepth,I=c.dilationHeight,R=c.dilationWidth,A=c.effectiveFilterDepth,O=c.effectiveFilterHeight,L=c.effectiveFilterWidth,U=A-1-c.padInfo.front,j=L-1-c.padInfo.left,J=O-1-c.padInfo.top,q=qn(o.shape,"float32"),K=n.bufferSync(a);for(let z=0;z<c.batchSize;++z)for(let te=0;te<c.inChannels;++te)for(let ee=0;ee<c.inDepth;++ee)for(let le=0;le<c.inHeight;++le)for(let ce=0;ce<c.inWidth;++ce){const ye=ee-U,ve=le-J,oe=ce-j;let he=0;for(let ge=0;ge<A;ge+=_){const Q=(ye+ge)/S;if(!(Q<0||Q>=c.outDepth||Math.floor(Q)!==Q))for(let ue=0;ue<O;ue+=I){const ke=(ve+ue)/E;if(!(ke<0||ke>=c.outHeight||Math.floor(ke)!==ke))for(let Ce=0;Ce<L;Ce+=R){const Me=(oe+Ce)/k;if(Me<0||Me>=c.outWidth||Math.floor(Me)!==Me)continue;const Ve=A*O*L-1-y.get(z,Q,ke,Me,te),Ke=ge*O*L+ue*L+Ce,He=Ve===Ke?1:0;if(He===0)continue;const Xe=K.get(z,Q,ke,Me,te);he+=Xe*He}}}q.set(he,z,ee,le,ce,te)}return n.makeTensorInfo(q.shape,q.dtype,q.values)}const Bhe={kernelName:mO,backendName:"cpu",kernelFunc:Lhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zhe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:a,input:o,output:u}=e,l=o;Lt([o,u],"maxPoolGrad");const{filterSize:f,strides:p,pad:c,dimRoundingMode:g}=r,y=Gu(l.shape,f,p,1,c,g),S=n.data.get(l.dataId).values,E=qn(y.outShape,l.dtype,yP(S,l.shape,l.dtype,y).values),k=y.strideHeight,_=y.strideWidth,I=y.dilationHeight,R=y.dilationWidth,A=y.effectiveFilterHeight,O=y.effectiveFilterWidth,L=O-1-y.padInfo.left,U=A-1-y.padInfo.top,j=qn(l.shape,"float32"),J=n.data.get(a.dataId).values,q=qn(a.shape,"float32",J);for(let K=0;K<y.batchSize;++K)for(let z=0;z<y.inChannels;++z)for(let te=0;te<y.inHeight;++te)for(let ee=0;ee<y.inWidth;++ee){const le=te-U,ce=ee-L;let ye=0;for(let ve=0;ve<A;ve+=I){const oe=(le+ve)/k;if(!(oe<0||oe>=y.outHeight||Math.floor(oe)!==oe))for(let he=0;he<O;he+=R){const ge=(ce+he)/_;if(ge<0||ge>=y.outWidth||Math.floor(ge)!==ge)continue;const Q=A*O-1-E.get(K,oe,ge,z),ue=ve*O+he,ke=Q===ue?1:0;if(ke===0)continue;const Ce=q.get(K,oe,ge,z);ye+=Ce*ke}}j.set(ye,K,te,ee,z)}return n.makeTensorInfo(j.shape,j.dtype,j.values)}const Uhe={kernelName:hO,backendName:"cpu",kernelFunc:zhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hhe(t,e,n,r,a){const o=Bt(e),u=DT(t,e,n,o,a,"max"),l=yP(t,e,n,a,!0,r);return[u.values,l.values]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vhe={kernelName:qk,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:r}=t,{filterSize:a,strides:o,pad:u,includeBatchInIndex:l}=e,f=n;Lt(r,"MaxPoolWithArgmax");const p=f.data.get(r.dataId).values,c=Gu(r.shape,a,o,[1,1],u),[g,y]=Hhe(p,r.shape,r.dtype,l,c),S=f.write(g,c.outShape,r.dtype),E=f.write(y,c.outShape,r.dtype);return[{dataId:S,shape:c.outShape,dtype:r.dtype},{dataId:E,shape:c.outShape,dtype:"int32"}]}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Whe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{axis:o,keepDims:u}=r,l=ga(o,a.shape),p=ys(a.shape,l)[1],c=ze(p),g=[],y=n.makeTensorInfo([],"float32",new Float32Array([c]));g.push(y);const S=Hd({inputs:{x:a},backend:n,attrs:{dtype:"float32"}});g.push(S);const E=OT({inputs:{a:S,b:y},backend:n});g.push(E);const k=gy({inputs:{x:E},backend:n,attrs:{axis:o,keepDims:u}});return g.forEach(_=>n.disposeIntermediateTensorInfo(_)),k}const jhe={kernelName:NS,backendName:"cpu",kernelFunc:Whe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ghe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{axis:o,keepDims:u}=r;Lt(a,"min");const l=ga(o,a.shape);let f=l;const p=Gi(f,a.shape.length);let c=a;p!=null&&(c=qs({inputs:{x:a},backend:n,attrs:{perm:p}}),f=Ss(f.length,a.shape.length)),bs("min",f,c.shape.length);const[g,y]=ys(c.shape,f),S=ze(y),E=Xo(ze(g),c.dtype),k=n.data.get(c.dataId).values;for(let I=0;I<E.length;++I){const R=I*S;let A=k[R];for(let O=0;O<S;++O){const L=k[R+O];(Number.isNaN(L)||L<A)&&(A=L)}E[I]=A}p!=null&&n.disposeIntermediateTensorInfo(c);const _=n.makeTensorInfo(g,c.dtype,E);if(u){const I=Mo(g,l),R=Qr({inputs:{x:_},backend:n,attrs:{shape:I}});return n.disposeIntermediateTensorInfo(_),R}return _}const qhe={kernelName:AS,backendName:"cpu",kernelFunc:Ghe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Khe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{paddings:o,mode:u}=r;Lt(a,"mirrorPad");const l=o.map((A,O)=>A[0]+a.shape[O]+A[1]),f=o.map(A=>A[0]),p=o.map((A,O)=>A[0]+a.shape[O]),c=u==="reflect"?0:1,g=n.data.get(a.dataId).values,y=a.shape.length,S=Bt(a.shape),E=ze(l),k=l.length,_=Bt(l),I=ms(a.dtype,E);for(let A=0;A<E;A++){let O=Xh(A,k,_);for(let U=0;U<k;U++)O[U]<f[U]?O[U]=f[U]*2-O[U]-c:O[U]>=p[U]&&(O[U]=(p[U]-1)*2-O[U]+c);O=O.map((U,j)=>U-f[j]);const L=Tl(O,y,S);I[A]=g[L]}return{dataId:n.write(I,l,a.dtype),shape:l,dtype:a.dtype}}const Yhe={kernelName:OS,backendName:"cpu",kernelFunc:Khe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Xhe=Ma(((t,e)=>{const n=t%e;return t<0&&e<0||t>=0&&e>=0?n:(n+e)%e})),Qhe=oo(MS,Xhe),Jhe={kernelName:MS,backendName:"cpu",kernelFunc:Qhe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CP(t){const{inputs:e,backend:n,attrs:r}=t,{logits:a}=e,{dim:o}=r,u=a.shape.length;let l=o;if(l===-1&&(l=u-1),l!==u-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${u} and dim was ${l}`);const f=ga([l],a.shape),p=xP({inputs:{x:a},backend:n,attrs:{reductionIndices:f,keepDims:!1}}),c=Mo(p.shape,f),g=Qr({inputs:{x:p},backend:n,attrs:{shape:c}}),y=xT({inputs:{a,b:g},backend:n}),S=EF({inputs:{x:y},backend:n}),E=gy({inputs:{x:S},backend:n,attrs:{axis:f,keepDims:!1}}),k=Qr({inputs:{x:E},backend:n,attrs:{shape:c}}),_=OT({inputs:{a:S,b:k},backend:n});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(S),n.disposeIntermediateTensorInfo(E),n.disposeIntermediateTensorInfo(k),_}const Zhe={kernelName:dw,backendName:"cpu",kernelFunc:CP};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eme(t){const{inputs:e,backend:n,attrs:r}=t,{logits:a}=e,{numSamples:o,seed:u,normalized:l}=r;Lt(a,"multinomial");const f=l?a:CP({inputs:{logits:a},backend:n,attrs:{dim:-1}}),p=f.shape[0],c=f.shape[1],g=n.data.get(f.dataId).values,y=[p,o],S=Xo(ze(y),"int32");for(let E=0;E<p;++E){const k=E*c,_=new Float32Array(c-1);_[0]=g[k];for(let A=1;A<_.length;++A)_[A]=_[A-1]+g[k+A];const I=Yw.alea(u.toString()),R=E*o;for(let A=0;A<o;++A){const O=I();S[R+A]=_.length;for(let L=0;L<_.length;L++)if(O<_[L]){S[R+A]=L;break}}}return l||n.disposeIntermediateTensorInfo(f),n.makeTensorInfo(y,"int32",S)}const tme={kernelName:$S,backendName:"cpu",kernelFunc:eme};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nme=t$;function rme(t){const{inputs:e,backend:n,attrs:r}=t,{boxes:a,scores:o}=e,{maxOutputSize:u,iouThreshold:l,scoreThreshold:f}=r;Lt(a,"NonMaxSuppression");const p=n.data.get(a.dataId).values,c=n.data.get(o.dataId).values,{selectedIndices:g}=nme(p,c,u,l,f);return n.makeTensorInfo([g.length],"int32",new Int32Array(g))}const ame={kernelName:LS,backendName:"cpu",kernelFunc:rme};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ome=n$;function sme(t){const{inputs:e,backend:n,attrs:r}=t,{boxes:a,scores:o}=e,{maxOutputSize:u,iouThreshold:l,scoreThreshold:f,padToMaxOutputSize:p}=r;Lt(a,"NonMaxSuppressionPadded");const c=n.data.get(a.dataId).values,g=n.data.get(o.dataId).values,{selectedIndices:y,validOutputs:S}=ome(c,g,u,l,f,p);return[n.makeTensorInfo([y.length],"int32",new Int32Array(y)),n.makeTensorInfo([],"int32",new Int32Array([S]))]}const ime={kernelName:BS,backendName:"cpu",kernelFunc:sme};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ume=r$;function lme(t){const{inputs:e,backend:n,attrs:r}=t,{boxes:a,scores:o}=e,{maxOutputSize:u,iouThreshold:l,scoreThreshold:f,softNmsSigma:p}=r;Lt(a,"NonMaxSuppressionWithScore");const c=n.data.get(a.dataId).values,g=n.data.get(o.dataId).values,y=u,S=l,E=f,k=p,{selectedIndices:_,selectedScores:I}=ume(c,g,y,S,E,k);return[n.makeTensorInfo([_.length],"int32",new Int32Array(_)),n.makeTensorInfo([I.length],"float32",new Float32Array(I))]}const cme={kernelName:zS,backendName:"cpu",kernelFunc:lme};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dme(t){const{inputs:e,backend:n,attrs:r}=t,{indices:a}=e,{dtype:o,depth:u,onValue:l,offValue:f}=r;Lt(a,"oneHot");const p=ze(a.shape),c=new Float32Array(p*u);c.fill(f);const g=n.data.get(a.dataId).values;for(let y=0;y<p;++y)g[y]>=0&&g[y]<u&&(c[y*u+g[y]]=l);return n.makeTensorInfo([...a.shape,u],o,c)}const fme={kernelName:US,backendName:"cpu",kernelFunc:dme};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function g2(t){const{inputs:e,backend:n}=t,{x:r}=e;if(r.dtype==="string")throw new Error("zerosLike is not supported for string tensors");if(r.dtype==="complex64"){const a=dp({inputs:{input:r},backend:n}),o=g2({inputs:{x:a},backend:n}),u=gm({inputs:{input:r},backend:n}),l=g2({inputs:{x:u},backend:n}),f=Si({inputs:{real:o,imag:l},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(l),f}else return FT({backend:n,attrs:{shape:r.shape,value:0,dtype:r.dtype}})}const pme={kernelName:h_,backendName:"cpu",kernelFunc:g2};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kP(t){const{inputs:e,backend:n}=t,{x:r}=e;if(r.dtype==="string")throw new Error("onesLike is not supported for string tensors");if(r.dtype==="complex64"){const a=dp({inputs:{input:r},backend:n}),o=kP({inputs:{x:a},backend:n}),u=gm({inputs:{input:r},backend:n}),l=g2({inputs:{x:u},backend:n}),f=Si({inputs:{real:o,imag:l},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(l),f}else return FT({backend:n,attrs:{shape:r.shape,value:1,dtype:r.dtype}})}const hme={kernelName:Yk,backendName:"cpu",kernelFunc:kP};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _P(t){const{inputs:e,backend:n,attrs:r}=t,{axis:a}=r;if(e.length===1)return m2({inputs:{input:e[0]},backend:n,attrs:{dim:a}});const o=e[0].shape,u=e[0].dtype;e.forEach(c=>{yi(o,c.shape,"All tensors passed to stack must have matching shapes"),Z(u===c.dtype,()=>"All tensors passed to stack must have matching dtypes")});const l=[],f=e.map(c=>{const g=m2({inputs:{input:c},backend:n,attrs:{dim:a}});return l.push(g),g}),p=vm({inputs:f,backend:n,attrs:{axis:a}});return l.forEach(c=>n.disposeIntermediateTensorInfo(c)),p}const mme={kernelName:Xk,backendName:"cpu",kernelFunc:_P};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gme(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{paddings:o,constantValue:u}=r;Lt(a,"pad");const l=o.map((R,A)=>R[0]+a.shape[A]+R[1]),f=o.map(R=>R[0]),p=n.data.get(a.dataId).values,c=ze(a.shape),g=a.shape.length,y=Bt(a.shape),S=ze(l),E=l.length,k=Bt(l),_=ms(a.dtype,S);u!==0&&_.fill(u);for(let R=0;R<c;R++){const O=Xh(R,g,y).map((U,j)=>U+f[j]),L=Tl(O,E,k);_[L]=p[R]}return{dataId:n.write(_,l,a.dtype),shape:l,dtype:a.dtype}}const TP={kernelName:HS,backendName:"cpu",kernelFunc:gme};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vme=Ma((t,e)=>Math.pow(t,e)),yme=oo(VS,vme),bme={kernelName:VS,backendName:"cpu",kernelFunc:yme};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sme(t){const{inputs:e,backend:n,attrs:r}=t,{paramsNestedSplits:a,paramsDenseValues:o,indices:u}=e,{outputRaggedRank:l}=r,f=a.map(I=>n.data.get(I.dataId).values),p=a.map(I=>I.shape),c=n.data.get(o.dataId).values,g=n.data.get(u.dataId).values,[y,S,E]=Goe(f,p,c,o.shape,o.dtype,g,u.shape),k=y.map(I=>n.makeTensorInfo([I.length],"int32",I)),_=n.makeTensorInfo(E,o.dtype,S);return k.concat([_])}const wme={kernelName:gO,backendName:"cpu",kernelFunc:Sme};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Eme(t){const{inputs:e,backend:n}=t,{starts:r,limits:a,deltas:o}=e,u=n.data.get(r.dataId).values,l=n.data.get(a.dataId).values,f=n.data.get(o.dataId).values,[p,c]=qoe(u,r.shape,r.dtype,l,a.shape,f,o.shape),g=n.makeTensorInfo([p.length],"int32",p),y=n.makeTensorInfo([c.length],r.dtype,c);return[g,y]}const xme={kernelName:vO,backendName:"cpu",kernelFunc:Eme};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cme(t){const{inputs:e,backend:n,attrs:r}=t,{shape:a,values:o,defaultValue:u,rowPartitionTensors:l}=e,{rowPartitionTypes:f}=r,p=n.data.get(a.dataId).values,c=n.data.get(o.dataId).values,g=n.data.get(u.dataId).values,y=l.map(_=>n.data.get(_.dataId).values),S=l.map(_=>_.shape),[E,k]=Koe(p,a.shape,c,o.shape,o.dtype,g,u.shape,y,S,f);return n.makeTensorInfo(E,o.dtype,k)}const kme={kernelName:yO,backendName:"cpu",kernelFunc:Cme};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _me(t){const{backend:e,attrs:n}=t,{start:r,stop:a,dtype:o,step:u}=n,l=RF(r,a,u,o);return e.makeTensorInfo([l.length],o,l)}const Tme={kernelName:Qk,backendName:"cpu",kernelFunc:_me};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ime=Ar(GS,t=>1/t),Rme={kernelName:GS,backendName:"cpu",kernelFunc:Ime};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nme(t){const{inputs:e,backend:n,attrs:r}=t,{images:a}=e,{alignCorners:o,halfPixelCenters:u,size:l}=r;Lt(a,"resizeBilinear");const f=Bt(a.shape),[p,c]=l,[g,y,S,E]=a.shape,k=n.data.get(a.dataId).values,_=new Float32Array(ze([g,p,c,E])),I=[o&&p>1?y-1:y,o&&c>1?S-1:S],R=[o&&p>1?p-1:p,o&&c>1?c-1:c];let A=0;const O=I[0]/R[0],L=I[1]/R[1];for(let U=0;U<g;U++)for(let j=0;j<p;j++){let J;u?J=O*(j+.5)-.5:J=O*j;const q=Math.max(0,Math.floor(J)),K=J-q,z=Math.min(y-1,Math.ceil(J)),te=U*f[0]+q*f[1],ee=U*f[0]+z*f[1];for(let le=0;le<c;le++){let ce;u?ce=L*(le+.5)-.5:ce=L*le;const ye=Math.max(0,Math.floor(ce)),ve=ce-ye,oe=Math.min(S-1,Math.ceil(ce)),he=te+ye*f[2],ge=ee+ye*f[2],Q=te+oe*f[2],ue=ee+oe*f[2];for(let ke=0;ke<E;ke++){const Ce=k[he+ke],Me=k[ge+ke],Ve=k[Q+ke],Ke=k[ue+ke],He=Ce+(Ve-Ce)*ve,Xe=Me+(Ke-Me)*ve,ct=He+(Xe-He)*K;_[A++]=ct}}}return n.makeTensorInfo([g,p,c,E],"float32",_)}const Ame={kernelName:YS,backendName:"cpu",kernelFunc:Nme};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dme(t){const{inputs:e,backend:n,attrs:r}=t,{images:a,dy:o}=e,{alignCorners:u}=r;Lt([o,a],"resizeBilinearGrad");const l=Bt(a.shape),[f,p,c,g]=a.shape,[,y,S]=o.shape,E=new Float32Array(f*p*c*g),k=[u&&y>1?p-1:p,u&&S>1?c-1:c],_=[u&&y>1?y-1:y,u&&S>1?S-1:S],I=k[0]/_[0],R=k[1]/_[1],A=n.data.get(o.dataId).values;let O=0;for(let L=0;L<f;L++){const U=L*l[0];for(let j=0;j<y;j++){const J=j*I,q=Math.floor(J),K=Math.min(Math.ceil(J),p-1),z=U+q*l[1],te=U+K*l[1],ee=J-q,le=1-ee;for(let ce=0;ce<S;ce++){const ye=ce*R,ve=Math.floor(ye),oe=Math.min(Math.ceil(ye),c-1),he=ye-ve,ge=1-he,Q=z+ve*l[2],ue=z+oe*l[2],ke=te+ve*l[2],Ce=te+oe*l[2],Me=le*ge,Ve=le*he,Ke=ee*ge,He=ee*he;for(let Xe=0;Xe<g;Xe++){const ct=A[O++];E[Q+Xe]+=ct*Me,E[ue+Xe]+=ct*Ve,E[ke+Xe]+=ct*Ke,E[Ce+Xe]+=ct*He}}}}return n.makeTensorInfo([f,c,p,g],"float32",E)}const Ome={kernelName:e_,backendName:"cpu",kernelFunc:Dme};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mme(t){const{inputs:e,backend:n,attrs:r}=t,{images:a}=e,{alignCorners:o,halfPixelCenters:u,size:l}=r;Lt(a,"resizeNearestNeighbor");const f=Bt(a.shape),[p,c]=l,[g,y,S,E]=a.shape,k=n.data.get(a.dataId).values,_=new Float32Array(g*p*c*E),I=[o&&p>1?y-1:y,o&&c>1?S-1:S],R=[o&&p>1?p-1:p,o&&c>1?c-1:c],A=I[0]/R[0],O=I[1]/R[1];let L=0;for(let U=0;U<g;U++){const j=U*f[0];for(let J=0;J<p;J++){const q=u?A*(J+.5):A*J;let K=Math.min(y-1,o?Math.round(q):Math.floor(q));u&&(K=Math.max(0,K));const z=j+K*f[1];for(let te=0;te<c;te++){const ee=u?O*(te+.5):O*te;let le=Math.min(S-1,o?Math.round(ee):Math.floor(ee));u&&(le=Math.max(0,le));const ce=z+le*f[2];for(let ye=0;ye<E;ye++){const ve=k[ce+ye];_[L++]=ve}}}}return n.makeTensorInfo([g,p,c,E],a.dtype,_)}const $me={kernelName:KS,backendName:"cpu",kernelFunc:Mme};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fme(t){const{inputs:e,backend:n,attrs:r}=t,{images:a,dy:o}=e,{alignCorners:u}=r;Lt([o,a],"resizeNearestNeighborGrad");const l=Bt(a.shape),f=Bt(o.shape),[p,c,g,y]=a.shape,[,S,E]=o.shape,k=new Float32Array(p*c*g*y),_=n.data.get(o.dataId).values,I=[u&&S>1?c-1:c,u&&E>1?g-1:g],R=[u&&S>1?S-1:S,u&&E>1?E-1:E],A=I[0]/R[0],O=I[1]/R[1],L=1/A,U=1/O,j=Math.ceil(L)*2+2,J=Math.ceil(U)*2+2;for(let q=0;q<p;q++){const K=q*l[0];for(let z=0;z<c;z++){const te=K+z*l[1],ee=Math.floor(z*L),le=Math.floor(ee-j/2);for(let ce=0;ce<g;ce++){const ye=te+ce*l[2],ve=Math.floor(ce*U),oe=Math.floor(ve-J/2);for(let he=0;he<y;he++){let ge=0;for(let Q=0;Q<j;Q++){const ue=Q+le;if(ue<0||ue>=S)continue;const ke=K+ue*f[1],Ce=ue*A,Me=Math.min(c-1,u?Math.round(Ce):Math.floor(Ce));if(z===Me)for(let Ve=0;Ve<J;Ve++){const Ke=Ve+oe;if(Ke<0||Ke>=E)continue;const He=ke+Ke*f[2],Xe=Ke*O,ct=Math.min(g-1,u?Math.round(Xe):Math.floor(Xe));ce===ct&&(ge+=_[He+he])}}k[ye+he]=ge}}}}return n.makeTensorInfo(a.shape,a.dtype,k)}const Pme={kernelName:Zk,backendName:"cpu",kernelFunc:Fme};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lme(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{dims:o}=r;Lt(a,"reverse");const u=a.shape.length,l=ga(o,a.shape);if(u===0)return Dl({inputs:{x:a},backend:n});const f=new ro(a.shape,a.dtype),p=n.bufferSync(a);for(let c=0;c<f.size;c++){const g=f.indexToLoc(c),y=g.slice();l.forEach(S=>y[S]=a.shape[S]-1-y[S]),f.set(p.get(...y),...g)}return n.makeTensorInfo(f.shape,f.dtype,f.values)}const Bme={kernelName:QS,backendName:"cpu",kernelFunc:Lme};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zme={kernelName:ww,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:r}=t,{radians:a,fillValue:o,center:u}=e,l=n,f=ms(r.dtype,ze(r.shape)),[p,c,g,y]=r.shape,[S,E]=x$(u,c,g),k=255,_=Math.sin(a),I=Math.cos(a),R=l.data.get(r.dataId).values;for(let O=0;O<p;O++){const L=O*g*c*y;for(let U=0;U<c;U++){const j=U*(g*y);for(let J=0;J<g;J++){const q=J*y;for(let K=0;K<y;K++){const z=[p,U,J,K],te=z[2],ee=z[1];let le=(te-S)*I-(ee-E)*_,ce=(te-S)*_+(ee-E)*I;le=Math.round(le+S),ce=Math.round(ce+E);let ye=o;if(typeof o!="number"&&(K===3?ye=k:ye=o[K]),le>=0&&le<g&&ce>=0&&ce<c){const oe=ce*(g*y),he=le*y,ge=L+oe+he+K;ye=R[ge]}const ve=L+j+q+K;f[ve]=ye}}}}return{dataId:l.write(f,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ume=Ar(JS,t=>{const e=Math.floor(t);return t-e<.5?Math.floor(t):t-e>.5?Math.ceil(t):e%2===0?e:e+1}),Hme={kernelName:JS,backendName:"cpu",kernelFunc:Ume};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vme(t){const{inputs:e,backend:n,attrs:r}=t,{indices:a,updates:o}=e,{shape:u}=r,{sliceRank:l,numUpdates:f,sliceSize:p,strides:c,outputSize:g}=cm(o,a,u),y=!0,S=n.bufferSync(a),E=n.bufferSync(o),k=mm(S,E,u,g,p,f,l,c,0,y);return n.makeTensorInfo(u,k.dtype,k.values)}const Wme={kernelName:ew,backendName:"cpu",kernelFunc:Vme};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jme(t,e){let n=0,r=t.length,a=0;for(;n<r;)a=Math.floor((n+r)/2),t[a]<e?n=a+1:r=a;return r}function Gme(t,e){let n=0,r=t.length,a=0;for(;n<r;)a=Math.floor((n+r)/2),t[a]<=e?n=a+1:r=a;return r}function qme(t,e,n,r,a,o){const u=Ka("int32",n*a);for(let l=0;l<n;++l){const f=t.slice(l*r,(l+1)*r),p=l*a;for(let c=0;c<a;++c)u[p+c]=o==="left"?jme(f,e[c+p]):Gme(f,e[c+p])}return u}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kme(t){const{inputs:e,backend:n,attrs:r}=t,{sortedSequence:a,values:o}=e,{side:u}=r,l=n.data.get(a.dataId).values,f=n.data.get(o.dataId).values,p=qme(l,f,a.shape[0],a.shape[1],o.shape[1],u);return n.makeTensorInfo(o.shape,"int32",p)}const Yme={kernelName:nw,backendName:"cpu",kernelFunc:Kme};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xme(t){const{inputs:e,backend:n}=t,{condition:r,t:a,e:o}=e;Lt([r,a,o],"select");const u=r.shape.length,l=n.data.get(r.dataId).values,f=n.data.get(a.dataId).values,p=n.data.get(o.dataId).values,c=Zh(a.dtype,o.dtype),g=Xo(ze(a.shape),c);let y=0;const S=u===0||u>1||a.shape.length===1?1:ze(a.shape.slice(1));for(let E=0;E<l.length;E++)for(let k=0;k<S;k++)l[E]===1?g[y++]=f[E]:g[y++]=p[E];return n.makeTensorInfo(a.shape,c,g)}const Qme={kernelName:t_,backendName:"cpu",kernelFunc:Xme};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Jme=Bte,Zme=zte,ege=Ar(rw,t=>t>=0?Zme*t:Jme*(Math.exp(t)-1)),tge={kernelName:rw,backendName:"cpu",kernelFunc:ege};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nge=Ar(sw,t=>t<0?-1:t>0?1:0),rge={kernelName:sw,backendName:"cpu",kernelFunc:nge};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const age=Ar(aw,t=>Math.sin(t)),oge={kernelName:aw,backendName:"cpu",kernelFunc:age};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sge=Ar(ow,t=>Math.sinh(t)),ige={kernelName:ow,backendName:"cpu",kernelFunc:sge};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const IP=Math.log(11920928955078125e-23)+2,uge=Ar(uw,t=>{const e=t>-IP,n=t<IP,r=Math.exp(t);let a;return n?a=r:e?a=t:a=Math.log(1+r),a}),lge={kernelName:uw,backendName:"cpu",kernelFunc:uge};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cge(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{blockShape:o,paddings:u}=r;Lt([a],"spaceToBatchND");const l=ze(o),f=[[0,0]];f.push(...u);for(let U=1+o.length;U<a.shape.length;++U)f.push([0,0]);const p=TP.kernelFunc({inputs:{x:a},backend:n,attrs:{paddings:f,constantValue:0}}),c=Zw(p.shape,o,l,!1),g=e2(c.length,o.length,!1),y=t2(p.shape,o,l,!1),k=Qr({inputs:{x:p},backend:n,attrs:{shape:c}}),R=qs({inputs:{x:k},backend:n,attrs:{perm:g}}),L=Qr({inputs:{x:R},backend:n,attrs:{shape:y}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(k),n.disposeIntermediateTensorInfo(R),L}const dge={kernelName:r_,backendName:"cpu",kernelFunc:cge};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fge(t){const{inputs:e,backend:n}=t,{indices:r,values:a,denseShape:o,defaultValue:u}=e;if(o.shape.length!==1)throw new Error(`Dense shape must be a vector, saw:
        ${o.shape}`);if(r.shape.length!==2)throw new Error(`Indices must be a matrix, saw:
        ${r.shape}`);if(a.shape.length!==1)throw new Error(`Values must be a vector, saw:
        ${a.shape}`);if(u.shape.length!==0)throw new Error(`Default value must be a scalar, saw:
        ${u.shape}`);const l=n.data.get(r.dataId).values,f=n.data.get(a.dataId).values,p=n.data.get(o.dataId).values,c=n.data.get(u.dataId).values[0],[g,y,S,E,k]=ese(l,r.shape,r.dtype,f,a.dtype,p,c);return[n.makeTensorInfo(y,r.dtype,g),n.makeTensorInfo([y[0]],a.dtype,S),n.makeTensorInfo([E.length],"bool",new Uint8Array(E.map(_=>Number(_)))),n.makeTensorInfo([k.length],r.dtype,new Int32Array(k))]}const pge={kernelName:o_,backendName:"cpu",kernelFunc:fge};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hge(t){const{inputs:e,backend:n}=t,{inputIndices:r,inputShape:a,newShape:o}=e;if(r.shape.length!==2)throw new Error(`Input indices should be a matrix but received shape
        ${r.shape}`);if(a.shape.length!==1)throw new Error(`Input shape should be a vector but received shape
        ${a.shape}`);if(o.shape.length!==1)throw new Error(`Target shape should be a vector but received shape ${o.shape}`);const u=Array.from(n.data.get(a.dataId).values),l=n.data.get(r.dataId).values,f=Array.from(n.data.get(o.dataId).values),[p,c,g]=tse(l,r.shape,r.dtype,u,f);return[n.makeTensorInfo(c,r.dtype,p),n.makeTensorInfo([g.length],o.dtype,new Int32Array(g))]}const mge={kernelName:fw,backendName:"cpu",kernelFunc:hge};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gge(t){const{inputs:e,backend:n}=t,{data:r,indices:a,segmentIds:o}=e;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(a.shape.length!==1)throw new Error(`Indices should be a vector but received shape
          ${a.shape}`);if(o.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
          ${o.shape}`);if(a.shape[0]!==o.shape[0])throw new Error("segmentIds and indices should have same size.");const u=n.data.get(r.dataId).values,l=n.data.get(a.dataId).values,f=n.data.get(o.dataId).values,[p,c]=AF(u,r.shape,r.dtype,l,f,!0);return n.makeTensorInfo(c,r.dtype,p)}const vge={kernelName:s_,backendName:"cpu",kernelFunc:gge};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yge(t){const{inputs:e,backend:n}=t,{data:r,indices:a,segmentIds:o}=e;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(a.shape.length!==1)throw new Error(`Indices should be a vector but received shape
         ${a.shape}`);if(o.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
         ${o.shape}`);if(a.shape[0]!==o.shape[0])throw new Error("segmentIds and indices should have same size.");const u=n.data.get(r.dataId).values,l=n.data.get(a.dataId).values,f=n.data.get(o.dataId).values,[p,c]=AF(u,r.shape,r.dtype,l,f);return n.makeTensorInfo(c,r.dtype,p)}const bge={kernelName:i_,backendName:"cpu",kernelFunc:yge};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sge(t){const{inputs:e,backend:n,attrs:r}=t,{sparseIndices:a,sparseValues:o,defaultValue:u}=e,{outputShape:l}=r,{sliceRank:f,numUpdates:p,sliceSize:c,strides:g,outputSize:y}=cm(o,a,l),S=!1,E=n.bufferSync(a);let k;switch(o.dtype){case"bool":{const _=n.bufferSync(o),I=!!n.data.get(u.dataId).values[0];k=mm(E,_,l,y,c,p,f,g,I,S);break}case"float32":{const _=n.bufferSync(o),I=n.data.get(u.dataId).values[0];k=mm(E,_,l,y,c,p,f,g,I,S);break}case"int32":{const _=n.bufferSync(o),I=n.data.get(u.dataId).values[0];k=mm(E,_,l,y,c,p,f,g,I,S);break}case"string":{const _=n.bufferSync(o),I=qv(n.data.get(u.dataId).values[0]);k=mm(E,_,l,y,c,p,f,g,I,S);break}default:throw new Error(`Unsupported type ${o.dtype}`)}return n.makeTensorInfo(l,k.dtype,k.values)}const wge={kernelName:pw,backendName:"cpu",kernelFunc:Sge};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ege(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{numOrSizeSplits:o,axis:u}=r,l=ga(u,a.shape)[0],f=R$(a,o,l),p=new Array(a.shape.length).fill(0),c=a.shape.slice();return f.map(g=>{const y=[...c];y[l]=g;const S=fp({inputs:{x:a},backend:n,attrs:{begin:p,size:y}});return p[l]+=g,S})}const xge={kernelName:a_,backendName:"cpu",kernelFunc:Ege};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cge={kernelName:SO,backendName:"cpu",kernelFunc:({inputs:t,backend:e})=>{const{x:n}=t,r=e;Lt(n,"square");const a=r.data.get(n.dataId).values,o=new Float32Array(a.length);for(let l=0;l<a.length;++l){const f=a[l];o[l]=f*f}return{dataId:r.write(o,n.shape,n.dtype),shape:n.shape,dtype:n.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kge=Ar(Vv,(t,e)=>{const n=e;return isNaN(t)?NaN:t>0?1:n.alpha}),_ge={kernelName:Vv,backendName:"cpu",kernelFunc:kge};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tge(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{begin:o,end:u,strides:l,beginMask:f,endMask:p,ellipsisMask:c,newAxisMask:g,shrinkAxisMask:y}=r;Lt(a,"stridedSlice");const{finalShapeSparse:S,finalShape:E,isIdentity:k,sliceDim0:_,isSimpleSlice:I,begin:R,end:A,strides:O}=S$(a.shape,o,u,l,f,p,c,g,y);let L;if(k)L=Qr({inputs:{x:a},backend:n,attrs:{shape:E}});else if(_||I){Z(a.shape.length>=1,()=>`Input must have rank at least 1, got: ${a.shape.length}`);const U=g$(R,A,O),j=fp({inputs:{x:a},backend:n,attrs:{begin:R,size:U}});L=Qr({inputs:{x:j},backend:n,attrs:{shape:E}}),n.disposeIntermediateTensorInfo(j)}else{const U=n.bufferSync(a),j=cse(S,U,O,R);L=n.makeTensorInfo(E,j.dtype,j.values)}return L}const Ige={kernelName:mw,backendName:"cpu",kernelFunc:Tge};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rge(t){const{inputs:e,backend:n,attrs:r}=t,{separator:a,nGramWidths:o,leftPad:u,rightPad:l,padWidth:f,preserveShortSequences:p}=r,{data:c,dataSplits:g}=e,y=n.data.get(c.dataId).values,S=n.data.get(g.dataId).values,[E,k]=DF(y,S,a,o,u,l,f,p);return[n.makeTensorInfo([E.length],"string",E),n.makeTensorInfo(g.shape,"int32",k)]}const Nge={kernelName:l_,backendName:"cpu",kernelFunc:Rge};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Age(t){const{inputs:e,backend:n,attrs:r}=t,{skipEmpty:a}=r,{input:o,delimiter:u}=e;if(o.dtype!=="string")throw new Error("Input must be of datatype string");if(o.shape.length!==1)throw new Error(`Input must be a vector, got shape: ${o.shape}`);if(u.shape.length!==0)throw new Error(`Delimiter must be a scalar, got shape: ${u.shape}`);const l=n.data.get(o.dataId).values,f=n.data.get(u.dataId).values[0],[p,c,g]=OF(l,f,a),y=c.length;return[n.makeTensorInfo([y,2],"int32",p),n.makeTensorInfo([y],"string",c),n.makeTensorInfo([2],"int32",new Int32Array(g))]}const Dge={kernelName:c_,backendName:"cpu",kernelFunc:Age};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Oge(t){const{inputs:e,backend:n,attrs:r}=t,{numBuckets:a}=r,{input:o}=e;if(o.dtype!=="string")throw new Error("Input must be of datatype string");if(a<=0)throw new Error("Number of buckets must be at least 1");const u=n.data.get(o.dataId).values,l=MF(u,a);return n.makeTensorInfo(o.shape,"int32",l)}const Mge={kernelName:d_,backendName:"cpu",kernelFunc:Oge};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $ge=Ar(vw,t=>Math.tan(t)),Fge={kernelName:vw,backendName:"cpu",kernelFunc:$ge};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Pge=Ar(yw,t=>Math.tanh(t)),Lge={kernelName:yw,backendName:"cpu",kernelFunc:Pge};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bge(t){const{inputs:e,backend:n}=t,{tensor:r,indices:a,updates:o}=e,{sliceRank:u,numUpdates:l,sliceSize:f,strides:p,outputSize:c}=cm(o,a,r.shape),g=!1,y=n.bufferSync(a),S=n.bufferSync(o),E=n.bufferSync(r),k=mm(y,S,r.shape,c,f,l,u,p,E,g);return n.makeTensorInfo(r.shape,k.dtype,k.values)}const zge={kernelName:tw,backendName:"cpu",kernelFunc:Bge};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uge(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{reps:o}=r;Lt(a,"tile");const u=gse(n.bufferSync(a),o);return n.makeTensorInfo(u.shape,u.dtype,u.values)}const Hge={kernelName:Hv,backendName:"cpu",kernelFunc:Uge};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vge(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{k:o,sorted:u}=r;Lt(a,"topk");const l=n.data.get(a.dataId).values,[f,p]=vse(l,a.shape,a.dtype,o,u);return[n.makeTensorInfo(f.shape,f.dtype,f.values),n.makeTensorInfo(p.shape,p.dtype,p.values)]}const Wge={kernelName:bw,backendName:"cpu",kernelFunc:Vge};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jge(t){const{inputs:e,attrs:n,backend:r}=t,{image:a,transforms:o}=e,{interpolation:u,fillMode:l,fillValue:f,outputShape:p}=n,[c,g,y,S]=a.shape,[E,k]=p??[g,y],_=[c,E,k,S],I=Bt(a.shape),R=I[0],A=I[1],O=I[2],L=Bt(_),U=L[0],j=L[1],J=L[2],q=ms(a.dtype,ze(_));q.fill(f);const K=r.data.get(a.dataId).values,z=r.data.get(o.dataId).values;for(let ee=0;ee<c;++ee){const le=o.shape[0]===1?z:z.subarray(ee*8,ee*8+8);for(let ce=0;ce<E;++ce)for(let ye=0;ye<k;++ye)for(let ve=0;ve<S;++ve){let oe;const he=le[6]*ye+le[7]*ce+1;if(he===0)continue;const ge=(le[0]*ye+le[1]*ce+le[2])/he,Q=(le[3]*ye+le[4]*ce+le[5])/he,ue=RP(ge,y,l),ke=RP(Q,g,l);switch(u){case"nearest":oe=Qge(K,g,y,R,A,O,ee,ke,ue,ve,f);break;case"bilinear":oe=Jge(K,g,y,R,A,O,ee,ke,ue,ve,f);break;default:throw new Error(`Error in Transform: Expect 'nearest' or 'bilinear', but got ${u}`)}const Ce=ee*U+ce*j+ye*J+ve;q[Ce]=oe}return r.makeTensorInfo(_,a.dtype,q)}return{dataId:r.write(q,_,a.dtype),shape:a.shape,dtype:a.dtype}}const Gge={kernelName:Sw,backendName:"cpu",kernelFunc:jge};function RP(t,e,n){switch(n){case"reflect":return qge(t,e);case"wrap":return Kge(t,e);case"nearest":return Xge(t,e);case"constant":default:return Yge(t)}}function qge(t,e){let n=t;if(n<0)if(e<=1)n=0;else{const r=2*e;n<r&&(n=r*Math.trunc(-n/r)+n),n=n<-e?n+r:-n-1}else if(n>e-1)if(e<=1)n=0;else{const r=2*e;n-=r*Math.trunc(n/r),n>=e&&(n=r-n-1)}return _k(0,n,e-1)}function Kge(t,e){let n=t;if(n<0)if(e<=1)n=0;else{const r=e-1;n+=e*(Math.trunc(-n/r)+1)}else if(n>e-1)if(e<=1)n=0;else{const r=e-1;n-=e*Math.trunc(n/r)}return _k(0,n,e-1)}function Yge(t,e){return t}function Xge(t,e){return _k(0,t,e-1)}function vy(t,e,n,r,a,o,u,l,f,p,c){const g=u*r+l*a+f*o+p;return 0<=l&&l<e&&0<=f&&f<n?t[g]:c}function Qge(t,e,n,r,a,o,u,l,f,p,c){const g=Math.round(l),y=Math.round(f);return vy(t,e,n,r,a,o,u,g,y,p,c)}function Jge(t,e,n,r,a,o,u,l,f,p,c){const g=Math.floor(l),y=Math.floor(f),S=g+1,E=y+1,k=(E-f)*vy(t,e,n,r,a,o,u,g,y,p,c)+(f-y)*vy(t,e,n,r,a,o,u,g,E,p,c),_=(E-f)*vy(t,e,n,r,a,o,u,S,y,p,c)+(f-y)*vy(t,e,n,r,a,o,u,S,E,p,c);return(S-l)*k+(l-g)*_}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zge(t){const{inputs:e,attrs:n,backend:r}=t,{axis:a}=n,{x:o}=e;Lt(o,"unique");const u=r.data.get(o.dataId).values,{outputValues:l,outputShape:f,indices:p}=FF(u,a,o.shape,o.dtype);return[r.makeTensorInfo(f,o.dtype,l),r.makeTensorInfo([p.length],"int32",p)]}const eve={kernelName:f_,backendName:"cpu",kernelFunc:Zge};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tve(t){const{inputs:e,backend:n,attrs:r}=t,{value:a}=e;let{axis:o}=r;o<0&&(o+=a.shape.length);const u=a.shape.length,l=a.shape[o],f=new Array(u-1);let p=0;for(let S=0;S<u;S++)S!==o&&(f[p++]=a.shape[S]);const c=new Array(u).fill(0),g=a.shape.slice();g[o]=1;const y=new Array(l);for(let S=0;S<y.length;S++){c[o]=S;const E=fp({inputs:{x:a},backend:n,attrs:{begin:c,size:g}});y[S]=Qr({inputs:{x:E},backend:n,attrs:{shape:f}}),n.disposeIntermediateTensorInfo(E)}return y}const nve={kernelName:p_,backendName:"cpu",kernelFunc:tve};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rve(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,segmentIds:o}=e,{numSegments:u}=r;Lt(a,"unsortedSegmentSum");const l=a.shape.length,f=o.shape.length,p=[],c=[],g=l-f;let y=o;for(let E=0;E<g;++E){const k=m2({inputs:{input:y},backend:n,attrs:{dim:E+1}});y=k,c.push(k)}for(let E=0;E<u;++E){const k=y_(E,"int32"),_=n.makeTensorInfo([],"int32",k),I=wF({inputs:{a:_,b:y},backend:n}),R=Hd({inputs:{x:I},backend:n,attrs:{dtype:"float32"}}),A=c2({inputs:{a:R,b:a},backend:n}),O=gy({inputs:{x:A},backend:n,attrs:{axis:0,keepDims:!1}});p.push(O),c.push(_),c.push(I),c.push(R),c.push(A),c.push(O)}const S=_P({inputs:p,backend:n,attrs:{axis:0}});return c.forEach(E=>n.disposeIntermediateTensorInfo(E)),S}const ave={kernelName:wO,backendName:"cpu",kernelFunc:rve};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ove=[tfe,Iae,rfe,ofe,Fae,ife,lfe,dfe,pfe,mfe,vfe,bfe,wfe,Cfe,_fe,Rfe,Afe,Ofe,$fe,Zde,Pfe,Bfe,Ufe,zae,Vfe,Oae,Vae,jfe,Rae,Gfe,Kfe,Yfe,Qfe,Zfe,tpe,rpe,ope,ipe,lpe,dpe,ppe,mpe,vpe,bpe,Spe,Epe,Cpe,_pe,Tpe,Ipe,Rpe,Ape,Mpe,Gde,Fpe,jae,Wpe,qae,jpe,Xae,Qpe,Jpe,ehe,Zae,noe,nhe,ahe,she,uhe,ioe,coe,Nae,che,qfe,fhe,hhe,ghe,qde,poe,goe,yhe,Soe,She,xhe,khe,Ihe,Nhe,Dhe,Ohe,Coe,$he,Phe,Bhe,Uhe,Vhe,jhe,qhe,Toe,Yhe,Jhe,tme,Roe,Doe,ame,ime,cme,$oe,fme,hme,mme,TP,bme,Yde,Boe,wme,xme,kme,Tme,Aae,MT,Rme,Xde,Qde,Jde,Ame,Ome,$me,Pme,Bme,zme,Hme,Qoe,Wme,Yme,Qme,tge,Joe,rge,oge,ige,Zoe,Zhe,lge,dge,pge,mge,vge,bge,wge,xge,rse,Cge,sse,lse,_ge,Ige,Nge,Dge,Mge,mse,Dpe,Fge,Lge,zge,Hge,Wge,Gge,Foe,eve,nve,ave,pme];for(const t of ove)kO(t);function sve(){try{return!!window.WebAssembly&&(!!window.WebAssembly.compile||!!window.WebAssembly.compileStreaming)}catch{return!1}}class ive{triggerModelLoading(){this.modelLoadingPromise=this.loadModels()}}const uve="https://cdn.liveness.rekognition.amazonaws.com/face-detection/tensorflow-models/blazeface/1.0.2/model/model.json",lve=`https://cdn.liveness.rekognition.amazonaws.com/face-detection/tensorflow/tfjs-backend-wasm/${Wde}/`;class cve extends ive{constructor(e,n){super(),this.faceModelUrl=n??uve,this.binaryPath=e??lve}async loadModels(){sve()?await this._loadWebAssemblyBackend():await this._loadCPUBackend();try{await tq(),this._model=await Fre(i2.MediaPipeFaceDetector,{runtime:"tfjs",detectorModelUrl:this.faceModelUrl})}catch{throw new Error("There was an error loading the blazeface model. If you are using a custom blazeface model url ensure that it is a fully qualified url that returns a json file.")}}async detectFaces(e){const r=await this._model.estimateFaces(e,{flipHorizontal:!0}),a=Date.now();return r.map(u=>{const{box:l,keypoints:f}=u,{xMin:p,yMin:c,width:g,height:y}=l,S=this._getCoordinate(f,"rightEye"),E=this._getCoordinate(f,"leftEye"),k=this._getCoordinate(f,"noseTip"),_=this._getCoordinate(f,"mouthCenter"),I=this._getCoordinate(f,"rightEarTragion"),R=this._getCoordinate(f,"leftEarTragion");return{top:c,left:p,width:g,height:y,timestampMs:a,probability:[90][0],rightEye:S,leftEye:E,mouth:_,nose:k,rightEar:I,leftEar:R}})}_getCoordinate(e,n){const r=e.find(a=>a.name===n);return[r.x,r.y]}async _loadWebAssemblyBackend(){try{Hde(this.binaryPath),await fV(async()=>{if(!await sM("wasm"))throw new Error("Initialization of backend wasm failed")},[]),this.modelBackend="wasm"}catch{throw new Error('There was an error loading the TFJS WASM backend. If you are using a custom WASM path ensure that it ends with "/" and that it is not the full URL as @tensorflow/tfjs-backend-wasm will append the wasm binary file name. Read more: https://github.com/tensorflow/tfjs/blob/master/tfjs-backend-wasm/src/backend_wasm.ts#L475.')}}async _loadCPUBackend(){await sM("cpu"),this.modelBackend="cpu"}}function dve({face:t,ovalDetails:e,initialFaceIntersection:n,parsedSessionInformation:r,frameHeight:a}){let o;const u=r.Challenge.ChallengeConfig;if(!u||!u.OvalIouThreshold||!u.OvalIouHeightThreshold||!u.OvalIouWidthThreshold||!u.FaceIouHeightThreshold||!u.FaceIouWidthThreshold)throw new Error("Challenge information not returned from session information.");const{OvalIouThreshold:l,FaceIouHeightThreshold:f,FaceIouWidthThreshold:p,OvalHeightWidthRatio:c}=u,g=xk({ovalHeightWidthRatio:c,face:t,oval:e,frameHeight:a}),y=g.left,S=g.right,E=g.top,k=g.bottom,{ovalBoundingBox:_,minOvalX:I,minOvalY:R,maxOvalX:A,maxOvalY:O}=V4(e),L=W4(g,_),U=l,j=e.width*p,J=e.height*f,q=Math.max(Math.min(dj,pj*(L-n)/(U-n)+fj),cj)*100,K=I>y&&A>S,z=y>I&&S>A,te=L>U,ee=R-E>J||k-O>J||I-y>j&&S-A>j;return te?o=Cr.MATCHED:K||z?o=Cr.OFF_CENTER:ee?o=Cr.MATCHED:o=Cr.TOO_FAR,{faceMatchState:o,faceMatchPercentage:q}}function Mc(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function hp(t){return typeof t=="string"||typeof t=="object"&&Object.prototype.toString.call(t)==="[object String]"}function yy(t){return t===void 0}function Gd(t,e){return t!=null&&Object.prototype.hasOwnProperty.call(t,e)}function ym(t){return typeof t=="function"}const Ol=(t,e)=>e?`${t}--${e}`:"",mp=(t,e,n)=>n?`${t}--${e}`:"";var PT,NP;function fve(){if(NP)return PT;NP=1;function t(e,n){for(var r=-1,a=e==null?0:e.length,o=Array(a);++r<a;)o[r]=n(e[r],r,e);return o}return PT=t,PT}var LT,AP;function pve(){if(AP)return LT;AP=1;var t=typeof _d=="object"&&_d&&_d.Object===Object&&_d;return LT=t,LT}var BT,DP;function hve(){if(DP)return BT;DP=1;var t=pve(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return BT=n,BT}var zT,OP;function UT(){if(OP)return zT;OP=1;var t=hve(),e=t.Symbol;return zT=e,zT}var HT,MP;function mve(){if(MP)return HT;MP=1;var t=UT(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,a=t?t.toStringTag:void 0;function o(u){var l=n.call(u,a),f=u[a];try{u[a]=void 0;var p=!0}catch{}var c=r.call(u);return p&&(l?u[a]=f:delete u[a]),c}return HT=o,HT}var VT,$P;function gve(){if($P)return VT;$P=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return VT=n,VT}var WT,FP;function vve(){if(FP)return WT;FP=1;var t=UT(),e=mve(),n=gve(),r="[object Null]",a="[object Undefined]",o=t?t.toStringTag:void 0;function u(l){return l==null?l===void 0?a:r:o&&o in Object(l)?e(l):n(l)}return WT=u,WT}var jT,PP;function yve(){if(PP)return jT;PP=1;var t=Array.isArray;return jT=t,jT}var GT,LP;function bve(){if(LP)return GT;LP=1;function t(e){return e!=null&&typeof e=="object"}return GT=t,GT}var qT,BP;function Sve(){if(BP)return qT;BP=1;var t=vve(),e=bve(),n="[object Symbol]";function r(a){return typeof a=="symbol"||e(a)&&t(a)==n}return qT=r,qT}var KT,zP;function wve(){if(zP)return KT;zP=1;var t=UT(),e=fve(),n=yve(),r=Sve(),a=t?t.prototype:void 0,o=a?a.toString:void 0;function u(l){if(typeof l=="string")return l;if(n(l))return e(l,u)+"";if(r(l))return o?o.call(l):"";var f=l+"";return f=="0"&&1/l==-1/0?"-0":f}return KT=u,KT}var YT,UP;function HP(){if(UP)return YT;UP=1;var t=wve();function e(n){return n==null?"":t(n)}return YT=e,YT}const Eve={small:{value:"1px"},medium:{value:"2px"},large:{value:"3px"}},xve={red:{10:{value:"hsl(0, 75%, 95%)"},20:{value:"hsl(0, 75%, 85%)"},40:{value:"hsl(0, 75%, 75%)"},60:{value:"hsl(0, 50%, 50%)"},80:{value:"hsl(0, 95%, 30%)"},90:{value:"hsl(0, 100%, 20%)"},100:{value:"hsl(0, 100%, 15%)"}},orange:{10:{value:"hsl(30, 75%, 95%)"},20:{value:"hsl(30, 75%, 85%)"},40:{value:"hsl(30, 75%, 75%)"},60:{value:"hsl(30, 50%, 50%)"},80:{value:"hsl(30, 95%, 30%)"},90:{value:"hsl(30, 100%, 20%)"},100:{value:"hsl(30, 100%, 15%)"}},yellow:{10:{value:"hsl(60, 75%, 95%)"},20:{value:"hsl(60, 75%, 85%)"},40:{value:"hsl(60, 75%, 75%)"},60:{value:"hsl(60, 50%, 50%)"},80:{value:"hsl(60, 95%, 30%)"},90:{value:"hsl(60, 100%, 20%)"},100:{value:"hsl(60, 100%, 15%)"}},green:{10:{value:"hsl(130, 60%, 95%)"},20:{value:"hsl(130, 60%, 90%)"},40:{value:"hsl(130, 44%, 63%)"},60:{value:"hsl(130, 43%, 46%)"},80:{value:"hsl(130, 33%, 37%)"},90:{value:"hsl(130, 27%, 29%)"},100:{value:"hsl(130, 22%, 23%)"}},teal:{10:{value:"hsl(190, 75%, 95%)"},20:{value:"hsl(190, 75%, 85%)"},40:{value:"hsl(190, 70%, 70%)"},60:{value:"hsl(190, 50%, 50%)"},80:{value:"hsl(190, 95%, 30%)"},90:{value:"hsl(190, 100%, 20%)"},100:{value:"hsl(190, 100%, 15%)"}},blue:{10:{value:"hsl(220, 95%, 95%)"},20:{value:"hsl(220, 85%, 85%)"},40:{value:"hsl(220, 70%, 70%)"},60:{value:"hsl(220, 50%, 50%)"},80:{value:"hsl(220, 95%, 30%)"},90:{value:"hsl(220, 100%, 20%)"},100:{value:"hsl(220, 100%, 15%)"}},purple:{10:{value:"hsl(300, 95%, 95%)"},20:{value:"hsl(300, 85%, 85%)"},40:{value:"hsl(300, 70%, 70%)"},60:{value:"hsl(300, 50%, 50%)"},80:{value:"hsl(300, 95%, 30%)"},90:{value:"hsl(300, 100%, 20%)"},100:{value:"hsl(300, 100%, 15%)"}},pink:{10:{value:"hsl(340, 95%, 95%)"},20:{value:"hsl(340, 90%, 85%)"},40:{value:"hsl(340, 70%, 70%)"},60:{value:"hsl(340, 50%, 50%)"},80:{value:"hsl(340, 95%, 30%)"},90:{value:"hsl(340, 100%, 20%)"},100:{value:"hsl(340, 100%, 15%)"}},neutral:{10:{value:"hsl(210, 5%, 98%)"},20:{value:"hsl(210, 5%, 94%)"},40:{value:"hsl(210, 5%, 87%)"},60:{value:"hsl(210, 10%, 58%)"},80:{value:"hsl(210, 10%, 40%)"},90:{value:"hsl(210, 25%, 25%)"},100:{value:"hsl(210, 50%, 10%)"}},primary:{10:{value:"{colors.teal.10.value}"},20:{value:"{colors.teal.20.value}"},40:{value:"{colors.teal.40.value}"},60:{value:"{colors.teal.60.value}"},80:{value:"{colors.teal.80.value}"},90:{value:"{colors.teal.90.value}"},100:{value:"{colors.teal.100.value}"}},secondary:{10:{value:"{colors.purple.10.value}"},20:{value:"{colors.purple.20.value}"},40:{value:"{colors.purple.40.value}"},60:{value:"{colors.purple.60.value}"},80:{value:"{colors.purple.80.value}"},90:{value:"{colors.purple.90.value}"},100:{value:"{colors.purple.100.value}"}},font:{primary:{value:"{colors.neutral.100.value}"},secondary:{value:"{colors.neutral.90.value}"},tertiary:{value:"{colors.neutral.80.value}"},disabled:{value:"{colors.neutral.60.value}"},inverse:{value:"{colors.white.value}"},interactive:{value:"{colors.primary.80.value}"},hover:{value:"{colors.primary.90.value}"},focus:{value:"{colors.primary.100.value}"},active:{value:"{colors.primary.100.value}"},info:{value:"{colors.blue.90.value}"},warning:{value:"{colors.orange.90.value}"},error:{value:"{colors.red.90.value}"},success:{value:"{colors.green.90.value}"}},background:{primary:{value:"{colors.white.value}"},secondary:{value:"{colors.neutral.10.value}"},tertiary:{value:"{colors.neutral.20.value}"},quaternary:{value:"{colors.neutral.60.value}"},disabled:{value:"{colors.background.tertiary.value}"},info:{value:"{colors.blue.10.value}"},warning:{value:"{colors.orange.10.value}"},error:{value:"{colors.red.10.value}"},success:{value:"{colors.green.10.value}"}},border:{primary:{value:"{colors.neutral.60.value}"},secondary:{value:"{colors.neutral.40.value}"},tertiary:{value:"{colors.neutral.20.value}"},disabled:{value:"{colors.border.tertiary.value}"},pressed:{value:"{colors.primary.100.value}"},focus:{value:"{colors.primary.100.value}"},error:{value:"{colors.red.80.value}"},info:{value:"{colors.blue.80.value}"},success:{value:"{colors.green.80.value}"},warning:{value:"{colors.orange.80.value}"}},shadow:{primary:{value:"hsla(210, 50%, 10%, 0.25)"},secondary:{value:"hsla(210, 50%, 10%, 0.15)"},tertiary:{value:"hsla(210, 50%, 10%, 0.05)"}},overlay:{5:{value:"hsla(0, 0%, 0%, 0.05)"},10:{value:"hsla(0, 0%, 0%, 0.1)"},20:{value:"hsla(0, 0%, 0%, 0.2)"},30:{value:"hsla(0, 0%, 0%, 0.3)"},40:{value:"hsla(0, 0%, 0%, 0.4)"},50:{value:"hsla(0, 0%, 0%, 0.5)"},60:{value:"hsla(0, 0%, 0%, 0.6)"},70:{value:"hsla(0, 0%, 0%, 0.7)"},80:{value:"hsla(0, 0%, 0%, 0.8)"},90:{value:"hsla(0, 0%, 0%, 0.9)"}},black:{value:"hsl(0, 0%, 0%)"},white:{value:"hsl(0, 0%, 100%)"},transparent:{value:"transparent"}},Cve={accordion:{backgroundColor:{value:"{colors.background.primary.value}"},item:{borderColor:{value:"{colors.border.secondary.value}"},borderWidth:{value:"{borderWidths.small.value}"},borderStyle:{value:"solid"},borderRadius:{value:"{radii.small.value}"},trigger:{alignItems:{value:"center"},backgroundColor:{value:"{colors.background.primary.value}"},color:{value:"inherit"},gap:{value:"{space.small.value}"},justifyContent:{value:"space-between"},paddingBlock:{value:"{space.xs.value}"},paddingInline:{value:"{space.small.value}"},_hover:{color:{value:"inherit"},backgroundColor:{value:"{colors.overlay.5.value}"}},_focus:{borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:{offsetX:"0",offsetY:"0",blurRadius:"0",spreadRadius:"2px",color:"{colors.border.focus.value}"}}}},content:{color:{value:"inherit"},paddingInline:{value:"{space.small.value}"},paddingBlockEnd:{value:"{space.small.value}"},paddingBlockStart:{value:"{space.xxxs.value}"}},icon:{color:{value:"{colors.font.tertiary.value}"},transitionDuration:{value:"{time.medium.value}"},transitionTimingFunction:{value:"cubic-bezier(0.87, 0, 0.13, 1)"}}}},aiConversation:{message:{backgroundColor:{value:"{colors.background.secondary.value}"},borderRadius:{value:"{radii.large.value}"},gap:{value:"{space.small.value}"},paddingBlock:{value:"{space.small.value}"},paddingInline:{value:"{space.small.value}"},user:{backgroundColor:{value:"{colors.background.secondary.value}"}},assistant:{backgroundColor:{value:"{colors.primary.10.value}"}},sender:{gap:{value:"{space.small.value}"},username:{color:{value:"{colors.font.primary.value}"},fontSize:{value:"inherit"},fontWeight:{value:"{fontWeights.bold.value}"}},timestamp:{color:{value:"{colors.font.tertiary.value}"},fontSize:{value:"inherit"},fontWeight:{value:"inherit"}}},body:{gap:{value:"{space.xs.value}"}},actions:{gap:{value:"{space.xs.value}"}}},form:{gap:{value:"{space.small.value}"},padding:{value:"{space.small.value}"}},attachment:{borderColor:{value:"{colors.border.secondary.value}"},borderWidth:{value:"{borderWidths.small.value}"},borderRadius:{value:"{radii.small.value}"},fontSize:{value:"{fontSizes.small.value}"},paddingBlock:{value:"{space.xxxs.value}"},paddingInline:{value:"{space.xs.value}"},gap:{value:"{space.xs.value}"},list:{padding:{value:"{space.xs.value}"},paddingBlockStart:{value:"0"},gap:{value:"{space.xxs.value}"}},name:{color:{value:"{colors.font.primary.value}"},fontSize:{value:"{fontSizes.small.value}"},fontWeight:{value:"{fontWeights.normal.value}"}},size:{color:{value:"{colors.font.tertiary.value}"},fontSize:{value:"{fontSizes.small.value}"},fontWeight:{value:"{fontWeights.normal.value}"}},remove:{padding:{value:"{space.xxs.value}"}},image:{width:{value:"{fontSizes.medium.value}"},height:{value:"{fontSizes.medium.value}"}}}},alert:{alignItems:{value:"center"},justifyContent:{value:"space-between"},color:{value:"{colors.font.primary.value}"},backgroundColor:{value:"{colors.background.tertiary.value}"},paddingBlock:{value:"{space.small.value}"},paddingInline:{value:"{space.medium.value}"},icon:{size:{value:"{fontSizes.xl.value}"}},heading:{fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.bold.value}"}},info:{color:{value:"{colors.font.info.value}"},backgroundColor:{value:"{colors.background.info.value}"}},error:{color:{value:"{colors.font.error.value}"},backgroundColor:{value:"{colors.background.error.value}"}},warning:{color:{value:"{colors.font.warning.value}"},backgroundColor:{value:"{colors.background.warning.value}"}},success:{color:{value:"{colors.font.success.value}"},backgroundColor:{value:"{colors.background.success.value}"}}},authenticator:{maxWidth:{value:"60rem"},modal:{width:{value:"{space.relative.full}"},height:{value:"{space.relative.full}"},backgroundColor:{value:"{colors.overlay.50.value}"},top:{value:"{space.zero}"},left:{value:"{space.zero}"}},container:{widthMax:{value:"30rem"}},router:{borderWidth:{value:"{borderWidths.small.value}"},borderStyle:{value:"solid"},borderColor:{value:"{colors.border.primary.value}"},backgroundColor:{value:"{colors.background.primary.value}"},boxShadow:{value:"{shadows.medium.value}"}},footer:{paddingBottom:{value:"{space.medium.value}"}},form:{padding:{value:"{space.xl.value}"}},state:{inactive:{backgroundColor:{value:"{colors.background.secondary.value}"}}},orContainer:{color:{value:"{colors.neutral.80.value}"},orLine:{backgroundColor:{value:"{colors.background.primary.value}"}}}},autocomplete:{menu:{width:{value:"100%"},marginBlockStart:{value:"{space.xxxs}"},backgroundColor:{value:"{colors.background.primary}"},borderColor:{value:"{colors.border.primary}"},borderWidth:{value:"{borderWidths.small}"},borderStyle:{value:"solid"},borderRadius:{value:"{radii.small}"},options:{display:{value:"flex"},flexDirection:{value:"column"},maxHeight:{value:"300px"}},option:{backgroundColor:{value:"{colors.background.primary}"},color:{value:"currentcolor"},cursor:{value:"pointer"},transitionDuration:{value:"{time.short}"},transitionProperty:{value:"background-color, color"},transitionTimingFunction:{value:"ease"},_active:{backgroundColor:{value:"{colors.primary.80}"},color:{value:"{colors.white}"}}},_empty:{display:{value:"flex"}},_loading:{alignItems:{value:"center"},display:{value:"flex"},gap:{value:"{space.xxxs}"}},spaceShared:{paddingBlock:{value:"{space.xs}"},paddingInline:{value:"{space.small}"}}}},avatar:{color:{value:"{colors.font.tertiary.value}"},lineHeight:{value:1},fontWeight:{value:"{fontWeights.semibold.value}"},fontSize:{value:"{fontSizes.small.value}"},textAlign:{value:"center"},width:{value:"{fontSizes.xxl.value}"},height:{value:"{fontSizes.xxl.value}"},backgroundColor:{value:"{colors.background.tertiary}"},borderRadius:{value:"100%"},borderColor:{value:"{colors.border.primary.value}"},borderWidth:{value:"{borderWidths.medium.value}"},info:{color:{value:"{colors.font.info.value}"},backgroundColor:{value:"{colors.background.info.value}"},borderColor:{value:"{colors.border.info.value}"}},warning:{color:{value:"{colors.font.warning.value}"},backgroundColor:{value:"{colors.background.warning.value}"},borderColor:{value:"{colors.border.warning.value}"}},success:{color:{value:"{colors.font.success.value}"},backgroundColor:{value:"{colors.background.success.value}"},borderColor:{value:"{colors.border.success.value}"}},error:{color:{value:"{colors.font.error.value}"},backgroundColor:{value:"{colors.background.error.value}"},borderColor:{value:"{colors.border.error.value}"}},small:{fontSize:{value:"{fontSizes.xs.value}"},width:{value:"{fontSizes.xl.value}"},height:{value:"{fontSizes.xl.value}"}},large:{fontSize:{value:"{fontSizes.medium.value}"},width:{value:"{fontSizes.xxxl.value}"},height:{value:"{fontSizes.xxxl.value}"}}},badge:{color:{value:"{colors.font.primary.value}"},lineHeight:{value:1},fontWeight:{value:"{fontWeights.semibold.value}"},fontSize:{value:"{fontSizes.small.value}"},textAlign:{value:"center"},paddingVertical:{value:"{space.xs.value}"},paddingHorizontal:{value:"{space.small.value}"},backgroundColor:{value:"{colors.background.tertiary.value}"},borderRadius:{value:"{radii.xl.value}"},info:{color:{value:"{colors.font.info.value}"},backgroundColor:{value:"{colors.background.info.value}"}},warning:{color:{value:"{colors.font.warning.value}"},backgroundColor:{value:"{colors.background.warning.value}"}},success:{color:{value:"{colors.font.success.value}"},backgroundColor:{value:"{colors.background.success.value}"}},error:{color:{value:"{colors.font.error.value}"},backgroundColor:{value:"{colors.background.error.value}"}},small:{fontSize:{value:"{fontSizes.xs.value}"},paddingVertical:{value:"{space.xxs.value}"},paddingHorizontal:{value:"{space.xs.value}"}},large:{fontSize:{value:"{fontSizes.medium.value}"},paddingVertical:{value:"{space.small.value}"},paddingHorizontal:{value:"{space.medium.value}"}}},breadcrumbs:{flexDirection:{value:"row"},flexWrap:{value:"wrap"},gap:{value:"0"},color:{value:"{colors.font.tertiary}"},item:{flexDirection:{value:"row"},color:{value:"inherit"},fontSize:{value:"inherit"},alignItems:{value:"center"},lineHeight:{value:"1"}},separator:{color:{value:"inherit"},fontSize:{value:"inherit"},paddingInline:{value:"{space.xxs}"}},link:{color:{value:"{components.link.color}"},fontSize:{value:"inherit"},fontWeight:{value:"normal"},textDecoration:{value:"none"},paddingInline:{value:"{space.xs}"},paddingBlock:{value:"{space.xxs}"},current:{color:{value:"inherit"},fontSize:{value:"inherit"},fontWeight:{value:"normal"},textDecoration:{value:"none"}}}},button:{fontWeight:{value:"{fontWeights.bold.value}"},transitionDuration:{value:"{components.fieldcontrol.transitionDuration.value}"},fontSize:{value:"{components.fieldcontrol.fontSize.value}"},lineHeight:{value:"{components.fieldcontrol.lineHeight.value}"},paddingBlockStart:{value:"{components.fieldcontrol.paddingBlockStart.value}"},paddingBlockEnd:{value:"{components.fieldcontrol.paddingBlockEnd.value}"},paddingInlineStart:{value:"{components.fieldcontrol.paddingInlineStart.value}"},paddingInlineEnd:{value:"{components.fieldcontrol.paddingInlineEnd.value}"},backgroundColor:{value:"transparent"},borderColor:{value:"{components.fieldcontrol.borderColor.value}"},borderWidth:{value:"{components.fieldcontrol.borderWidth.value}"},borderStyle:{value:"{components.fieldcontrol.borderStyle.value}"},borderRadius:{value:"{components.fieldcontrol.borderRadius.value}"},color:{value:"{colors.font.primary.value}"},_hover:{color:{value:"{colors.font.focus.value}"},backgroundColor:{value:"{colors.primary.10.value}"},borderColor:{value:"{colors.primary.60.value}"}},_focus:{color:{value:"{colors.font.focus.value}"},backgroundColor:{value:"{colors.primary.10.value}"},borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},_active:{color:{value:"{colors.font.active.value}"},backgroundColor:{value:"{colors.primary.20.value}"},borderColor:{value:"{colors.primary.100.value}"}},_loading:{color:{value:"{colors.font.disabled.value}"},backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.tertiary.value}"}},_disabled:{color:{value:"{colors.font.disabled.value}"},backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.tertiary.value}"}},outlined:{info:{borderColor:{value:"{colors.blue.60.value}"},backgroundColor:{value:"transparent"},color:{value:"{colors.blue.100}"},_hover:{borderColor:{value:"{colors.blue.60.value}"},backgroundColor:{value:"{colors.blue.10.value}"},color:{value:"{colors.blue.100.value}"}},_focus:{borderColor:{value:"{colors.blue.100.value}"},backgroundColor:{value:"{colors.blue.10.value}"},color:{value:"{colors.blue.100.value}"},boxShadow:{value:"{components.fieldcontrol.info._focus.boxShadow.value}"}},_active:{borderColor:{value:"{colors.blue.100.value}"},backgroundColor:{value:"{colors.blue.20.value}"},color:{value:"{colors.blue.100.value}"}}},warning:{borderColor:{value:"{colors.orange.60.value}"},backgroundColor:{value:"transparent"},color:{value:"{colors.orange.100}"},_hover:{borderColor:{value:"{colors.orange.60.value}"},backgroundColor:{value:"{colors.orange.10.value}"},color:{value:"{colors.orange.100.value}"}},_focus:{borderColor:{value:"{colors.orange.100.value}"},backgroundColor:{value:"{colors.orange.10.value}"},color:{value:"{colors.orange.100.value}"},boxShadow:{value:"{components.fieldcontrol.warning._focus.boxShadow.value}"}},_active:{borderColor:{value:"{colors.orange.100.value}"},backgroundColor:{value:"{colors.orange.20.value}"},color:{value:"{colors.orange.100.value}"}}},success:{borderColor:{value:"{colors.green.60.value}"},backgroundColor:{value:"transparent"},color:{value:"{colors.green.100}"},_hover:{borderColor:{value:"{colors.green.60.value}"},backgroundColor:{value:"{colors.green.10.value}"},color:{value:"{colors.green.100.value}"}},_focus:{borderColor:{value:"{colors.green.100.value}"},backgroundColor:{value:"{colors.green.10.value}"},color:{value:"{colors.green.100.value}"},boxShadow:{value:"{components.fieldcontrol.success._focus.boxShadow.value}"}},_active:{borderColor:{value:"{colors.green.100.value}"},backgroundColor:{value:"{colors.green.20.value}"},color:{value:"{colors.green.100.value}"}}},error:{borderColor:{value:"{colors.red.80.value}"},backgroundColor:{value:"transparent"},color:{value:"{colors.red.100}"},_hover:{borderColor:{value:"{colors.red.80.value}"},backgroundColor:{value:"{colors.red.10.value}"},color:{value:"{colors.red.100.value}"}},_focus:{borderColor:{value:"{colors.red.100.value}"},backgroundColor:{value:"{colors.red.10.value}"},color:{value:"{colors.red.100.value}"},boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow.value}"}},_active:{borderColor:{value:"{colors.red.100.value}"},backgroundColor:{value:"{colors.red.20.value}"},color:{value:"{colors.red.100.value}"}}},overlay:{borderColor:{value:"{colors.overlay.60.value}"},backgroundColor:{value:"transparent"},color:{value:"{colors.font.primary.value}"},_hover:{borderColor:{value:"{colors.overlay.60.value}"},backgroundColor:{value:"{colors.overlay.5.value}"},color:{value:"{colors.neutral.90.value}"}},_focus:{borderColor:{value:"{colors.overlay.90.value}"},backgroundColor:{value:"{colors.overlay.5.value}"},color:{value:"{colors.neutral.90.value}"},boxShadow:{value:"{components.fieldcontrol.overlay._focus.boxShadow.value}"}},_active:{borderColor:{value:"{colors.overlay.90.value}"},backgroundColor:{value:"{colors.overlay.10.value}"},color:{value:"{colors.neutral.100.value}"}}}},primary:{borderColor:{value:"transparent"},borderWidth:{value:"{borderWidths.small.value}"},borderStyle:{value:"solid"},backgroundColor:{value:"{colors.primary.80.value}"},color:{value:"{colors.font.inverse.value}"},_disabled:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.background.disabled.value}"},color:{value:"{colors.font.disabled.value}"}},_loading:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.background.disabled.value}"},color:{value:"{colors.font.disabled.value}"}},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.primary.90.value}"},color:{value:"{colors.font.inverse.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.primary.90.value}"},color:{value:"{colors.font.inverse.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.primary.100.value}"},color:{value:"{colors.font.inverse.value}"}},info:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.blue.80}"},color:{value:"{colors.font.inverse.value}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.blue.90.value}"},color:{value:"{colors.font.inverse.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.blue.90.value}"},color:{value:"{colors.font.inverse.value}"},boxShadow:{value:"{components.fieldcontrol.info._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.blue.100.value}"},color:{value:"{colors.font.inverse.value}"}}},warning:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.orange.80}"},color:{value:"{colors.font.inverse.value}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.orange.90.value}"},color:{value:"{colors.font.inverse.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.orange.90.value}"},color:{value:"{colors.font.inverse.value}"},boxShadow:{value:"{components.fieldcontrol.overlay._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.orange.100.value}"},color:{value:"{colors.font.inverse.value}"}}},error:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.80}"},color:{value:"{colors.font.inverse.value}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.90.value}"},color:{value:"{colors.font.inverse.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.90.value}"},color:{value:"{colors.font.inverse.value}"},boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.100.value}"},color:{value:"{colors.font.inverse.value}"}}},success:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.green.80}"},color:{value:"{colors.font.inverse.value}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.green.90.value}"},color:{value:"{colors.font.inverse.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.green.90.value}"},color:{value:"{colors.font.inverse.value}"},boxShadow:{value:"{components.fieldcontrol.success._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.green.100.value}"},color:{value:"{colors.font.inverse.value}"}}},overlay:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.overlay.70}"},color:{value:"{colors.font.inverse.value}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.overlay.90.value}"},color:{value:"{colors.font.inverse.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.overlay.90.value}"},color:{value:"{colors.font.inverse.value}"},boxShadow:{value:"{components.fieldcontrol.overlay._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.overlay.90.value}"},color:{value:"{colors.font.inverse.value}"}}}},menu:{borderWidth:{value:"{space.zero.value}"},backgroundColor:{value:"transparent"},justifyContent:{value:"start"},_hover:{color:{value:"{colors.font.inverse.value}"},backgroundColor:{value:"{colors.primary.80.value}"}},_focus:{color:{value:"{colors.font.inverse.value}"},backgroundColor:{value:"{colors.primary.80.value}"}},_active:{color:{value:"{colors.font.inverse.value}"},backgroundColor:{value:"{colors.primary.90.value}"}},_disabled:{color:{value:"{colors.font.disabled.value}"}}},link:{backgroundColor:{value:"transparent"},borderColor:{value:"transparent"},borderWidth:{value:"{borderWidths.small.value}"},color:{value:"{colors.font.interactive.value}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.primary.10.value}"},color:{value:"{colors.font.hover.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.primary.10.value}"},color:{value:"{colors.font.focus.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.primary.20.value}"},color:{value:"{colors.font.active.value}"}},_disabled:{borderColor:{value:"transparent"},backgroundColor:{value:"transparent"},color:{value:"{colors.font.disabled.value}"}},_loading:{borderColor:{value:"transparent"},backgroundColor:{value:"transparent"},color:{value:"{colors.font.disabled.value}"}},info:{borderColor:{value:"transparent"},backgroundColor:{value:"transparent"},color:{value:"{colors.blue.100}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.blue.10.value}"},color:{value:"{colors.blue.90.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.blue.10.value}"},color:{value:"{colors.blue.100.value}"},boxShadow:{value:"{components.fieldcontrol.info._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.blue.20.value}"},color:{value:"{colors.blue.100.value}"}}},warning:{borderColor:{value:"transparent"},backgroundColor:{value:"transparent"},color:{value:"{colors.orange.100}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.orange.10.value}"},color:{value:"{colors.orange.90.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.orange.10.value}"},color:{value:"{colors.orange.100.value}"},boxShadow:{value:"{components.fieldcontrol.warning._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.orange.20.value}"},color:{value:"{colors.orange.100.value}"}}},success:{borderColor:{value:"transparent"},backgroundColor:{value:"transparent"},color:{value:"{colors.green.100}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.green.10.value}"},color:{value:"{colors.green.90.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.green.10.value}"},color:{value:"{colors.green.100.value}"},boxShadow:{value:"{components.fieldcontrol.success._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.green.20.value}"},color:{value:"{colors.green.100.value}"}}},error:{borderColor:{value:"transparent"},backgroundColor:{value:"transparent"},color:{value:"{colors.red.100}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.10.value}"},color:{value:"{colors.red.90.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.10.value}"},color:{value:"{colors.red.100.value}"},boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.20.value}"},color:{value:"{colors.red.100.value}"}}},overlay:{borderColor:{value:"transparent"},backgroundColor:{value:"transparent"},color:{value:"{colors.neutral.100}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.overlay.5.value}"},color:{value:"{colors.overlay.80.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.overlay.5.value}"},color:{value:"{colors.overlay.90.value}"},boxShadow:{value:"{components.fieldcontrol.overlay._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.overlay.10.value}"},color:{value:"{colors.overlay.90.value}"}}}},warning:{backgroundColor:{value:"transparent"},borderColor:{value:"{colors.red.60}"},borderWidth:{value:"{borderWidths.small}"},color:{value:"{colors.red.60}"},_hover:{borderColor:{value:"{colors.red.80}"},backgroundColor:{value:"{colors.red.10}"},color:{value:"{colors.font.error}"}},_focus:{borderColor:{value:"{colors.red.80}"},backgroundColor:{value:"{colors.red.10}"},color:{value:"{colors.red.80}"},boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow}"}},_active:{borderColor:{value:"{colors.red.100}"},backgroundColor:{value:"{colors.red.20}"},color:{value:"{colors.red.100}"}},_disabled:{borderColor:{value:"{colors.border.tertiary}"},backgroundColor:{value:"transparent"},color:{value:"{colors.font.disabled}"}},_loading:{borderColor:{value:"{colors.border.tertiary}"},backgroundColor:{value:"transparent"},color:{value:"{colors.font.disabled}"}}},destructive:{borderColor:{value:"transparent"},borderWidth:{value:"{borderWidths.small}"},borderStyle:{value:"solid"},backgroundColor:{value:"{colors.red.60}"},color:{value:"{colors.font.inverse}"},_disabled:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.background.disabled}"},color:{value:"{colors.font.disabled}"}},_loading:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.background.disabled}"},color:{value:"{colors.font.disabled}"}},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.80}"},color:{value:"{colors.font.inverse}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.80}"},color:{value:"{colors.font.inverse}"},boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.100}"},color:{value:"{colors.font.inverse}"}}},small:{fontSize:{value:"{components.fieldcontrol.small.fontSize.value}"},paddingBlockStart:{value:"{components.fieldcontrol.small.paddingBlockStart.value}"},paddingBlockEnd:{value:"{components.fieldcontrol.small.paddingBlockEnd.value}"},paddingInlineStart:{value:"{components.fieldcontrol.small.paddingInlineStart.value}"},paddingInlineEnd:{value:"{components.fieldcontrol.small.paddingInlineEnd.value}"}},large:{fontSize:{value:"{components.fieldcontrol.large.fontSize.value}"},paddingBlockStart:{value:"{components.fieldcontrol.large.paddingBlockStart.value}"},paddingBlockEnd:{value:"{components.fieldcontrol.large.paddingBlockEnd.value}"},paddingInlineStart:{value:"{components.fieldcontrol.large.paddingInlineStart.value}"},paddingInlineEnd:{value:"{components.fieldcontrol.large.paddingInlineEnd.value}"}},loaderWrapper:{alignItems:{value:"center"},gap:{value:"{space.xs.value}"}}},card:{backgroundColor:{value:"{colors.background.primary.value}"},borderRadius:{value:"{radii.xs.value}"},borderWidth:{value:"0"},borderStyle:{value:"solid"},borderColor:{value:"transparent"},boxShadow:{value:"none"},padding:{value:"{space.medium.value}"},outlined:{backgroundColor:{value:"{components.card.backgroundColor.value}"},borderRadius:{value:"{radii.xs.value}"},borderWidth:{value:"{borderWidths.small.value}"},borderStyle:{value:"solid"},borderColor:{value:"{colors.border.primary.value}"},boxShadow:{value:"{components.card.boxShadow.value}"}},elevated:{backgroundColor:{value:"{components.card.backgroundColor.value}"},borderRadius:{value:"{radii.xs.value}"},borderWidth:{value:"0"},borderStyle:{value:"solid"},borderColor:{value:"transparent"},boxShadow:{value:"{shadows.medium.value}"}}},checkbox:{cursor:{value:"pointer"},alignItems:{value:"center"},_disabled:{cursor:{value:"not-allowed"}},button:{position:{value:"relative"},alignItems:{value:"center"},justifyContent:{value:"center"},color:{value:"{colors.font.inverse.value}"},before:{width:{value:"100%"},height:{value:"100%"},borderWidth:{value:"{borderWidths.medium.value}"},borderRadius:{value:"20%"},borderStyle:{value:"solid"},borderColor:{value:"{colors.border.primary.value}"}},_focus:{outlineColor:{value:"{colors.transparent.value}"},outlineStyle:{value:"solid"},outlineWidth:{value:"{outlineWidths.medium.value}"},outlineOffset:{value:"{outlineOffsets.medium.value}"},borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},_disabled:{borderColor:{value:"{colors.border.disabled.value}"}},_error:{borderColor:{value:"{colors.border.error.value}"},_focus:{borderColor:{value:"{colors.border.error.value}"},boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow.value}"}}}},icon:{backgroundColor:{value:"{colors.primary.80.value}"},borderRadius:{value:"20%"},opacity:{value:"{opacities.0.value}"},transform:{value:"scale(0)"},transitionProperty:{value:"all"},transitionDuration:{value:"{time.short.value}"},transitionTimingFunction:{value:"ease-in-out"},_checked:{opacity:{value:"{opacities.100.value}"},transform:{value:"scale(1)"},_disabled:{backgroundColor:{value:"{colors.background.disabled.value}"}}},_indeterminate:{opacity:{value:"{opacities.100.value}"},transform:{value:"scale(1)"},_disabled:{backgroundColor:{value:"{colors.background.disabled.value}"}}}},label:{color:{value:"{components.text.color.value}"},_disabled:{color:{value:"{colors.font.disabled.value}"}}}},checkboxfield:{alignItems:{value:"flex-start"},alignContent:{value:"center"},flexDirection:{value:"column"},justifyContent:{value:"center"}},collection:{pagination:{current:{color:{value:"{components.pagination.current.color}"},backgroundColor:{value:"{components.pagination.current.backgroundColor}"}},button:{color:{value:"{components.pagination.button.color}"},_hover:{backgroundColor:{value:"{components.pagination.button.hover.backgroundColor}"},color:{value:"{components.pagination.button.hover.color}"}},_disabled:{color:{value:"{components.pagination.button.disabled.color}"}}}},search:{input:{color:{value:"{components.searchfield.color}"}},button:{color:{value:"{components.searchfield.button.color}"},_active:{backgroundColor:{value:"{components.searchfield.button._active.backgroundColor}"},borderColor:{value:"{components.searchfield.button._active.borderColor}"},color:{value:"{components.searchfield.button._active.color}"}},_disabled:{backgroundColor:{value:"{components.searchfield.button._disabled.backgroundColor}"},borderColor:{value:"{components.searchfield.button._disabled.borderColor}"},color:{value:"{components.searchfield.button._disabled.color}"}},_focus:{backgroundColor:{value:"{components.searchfield.button._focus.backgroundColor}"},borderColor:{value:"{components.searchfield.button._focus.borderColor}"},color:{value:"{components.searchfield.button._focus.color}"}},_hover:{backgroundColor:{value:"{components.searchfield.button._hover.backgroundColor}"},borderColor:{value:"{components.searchfield.button._hover.borderColor}"},color:{value:"{components.searchfield.button._hover.color}"}}}}},copy:{fontSize:{value:"{fontSizes.xs}"},gap:{value:"{space.relative.medium}"},svg:{path:{fill:{value:"{colors.font.primary}"}}},toolTip:{bottom:{value:"{space.large}"},color:{value:"{colors.teal.100}"},fontSize:{value:"{fontSizes.xxs}"}}},countrycodeselect:{height:{value:"{space.relative.full.value}"}},divider:{borderStyle:{value:"solid"},borderColor:{value:"{colors.border.primary.value}"},borderWidth:{value:"{borderWidths.medium.value}"},label:{color:{value:"{colors.font.tertiary.value}"},paddingInline:{value:"{space.medium.value}"},fontSize:{value:"{fontSizes.small.value}"},backgroundColor:{value:"{colors.background.primary.value}"}},small:{borderWidth:{value:"{borderWidths.small.value}"}},large:{borderWidth:{value:"{borderWidths.large.value}"}},opacity:{value:"{opacities.60.value}"}},dropzone:{backgroundColor:{value:"{colors.background.primary}"},borderRadius:{value:"{radii.small}"},borderColor:{value:"{colors.border.primary}"},borderStyle:{value:"dashed"},borderWidth:{value:"{borderWidths.small}"},color:{value:"{colors.font.primary}"},gap:{value:"{space.small}"},paddingBlock:{value:"{space.xl}"},paddingInline:{value:"{space.large}"},textAlign:{value:"center"},_active:{backgroundColor:{value:"{colors.primary.10}"},borderRadius:{value:"{components.dropzone.borderRadius}"},borderColor:{value:"{colors.border.pressed}"},borderStyle:{value:"{components.dropzone.borderStyle}"},borderWidth:{value:"{components.dropzone.borderWidth}"},color:{value:"{colors.font.primary}"}},_disabled:{backgroundColor:{value:"{colors.background.disabled}"},borderRadius:{value:"{components.dropzone.borderRadius}"},borderColor:{value:"{colors.border.disabled}"},borderStyle:{value:"{components.dropzone.borderStyle}"},borderWidth:{value:"{components.dropzone.borderWidth}"},color:{value:"{colors.font.disabled}"}},accepted:{backgroundColor:{value:"{colors.background.success}"},borderRadius:{value:"{components.dropzone.borderRadius}"},borderColor:{value:"{colors.border.success}"},borderStyle:{value:"{components.dropzone.borderStyle}"},borderWidth:{value:"{components.dropzone.borderWidth}"},color:{value:"{colors.font.success}"}},rejected:{backgroundColor:{value:"{colors.background.error}"},borderRadius:{value:"{components.dropzone.borderRadius}"},borderColor:{value:"{colors.border.pressed}"},borderStyle:{value:"{components.dropzone.borderStyle}"},borderWidth:{value:"{components.dropzone.borderWidth}"},color:{value:"{colors.font.error}"}}},field:{gap:{value:"{space.xs.value}"},fontSize:{value:"{fontSizes.medium.value}"},flexDirection:{value:"column"},small:{gap:{value:"{space.xxxs.value}"},fontSize:{value:"{fontSizes.small.value}"}},large:{gap:{value:"{space.small.value}"},fontSize:{value:"{fontSizes.large.value}"}},label:{color:{value:"{colors.font.secondary.value}"}}},fieldcontrol:{borderStyle:{value:"solid"},borderColor:{value:"{colors.border.primary.value}"},borderWidth:{value:"{borderWidths.small.value}"},borderRadius:{value:"{radii.small.value}"},color:{value:"{colors.font.primary.value}"},paddingBlockStart:{value:"{space.xs.value}"},paddingBlockEnd:{value:"{space.xs.value}"},paddingInlineStart:{value:"{space.medium.value}"},paddingInlineEnd:{value:"{space.medium.value}"},fontSize:{value:"{components.field.fontSize.value}"},lineHeight:{value:"{lineHeights.medium.value}"},transitionDuration:{value:"{time.medium.value}"},outlineColor:{value:"{colors.transparent.value}"},outlineStyle:{value:"solid"},outlineWidth:{value:"{outlineWidths.medium.value}"},outlineOffset:{value:"{outlineOffsets.medium.value}"},small:{fontSize:{value:"{components.field.small.fontSize.value}"},paddingBlockStart:{value:"{space.xxs.value}"},paddingBlockEnd:{value:"{space.xxs.value}"},paddingInlineStart:{value:"{space.small.value}"},paddingInlineEnd:{value:"{space.small.value}"}},large:{fontSize:{value:"{components.field.large.fontSize.value}"},paddingBlockStart:{value:"{space.xs.value}"},paddingBlockEnd:{value:"{space.xs.value}"},paddingInlineStart:{value:"{space.medium.value}"},paddingInlineEnd:{value:"{space.medium.value}"}},quiet:{borderStyle:{value:"none"},borderInlineStart:{value:"none"},borderInlineEnd:{value:"none"},borderBlockStart:{value:"none"},borderRadius:{value:"0"},_focus:{borderBlockEndColor:{value:"transparent"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},_error:{borderBlockEndColor:{value:"{colors.border.error.value}"},_focus:{borderBlockEndColor:{value:"transparent"},boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow.value}"}}}},_focus:{borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"2px",color:"{colors.border.focus.value}"}}},_disabled:{color:{value:"{colors.font.disabled.value}"},cursor:{value:"not-allowed"},borderColor:{value:"{colors.transparent.value}"},backgroundColor:{value:"{colors.background.disabled.value}"}},_error:{borderColor:{value:"{colors.border.error.value}"},color:{value:"{colors.font.error.value}"},_focus:{boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"2px",color:"{colors.border.error.value}"}}}},info:{_focus:{boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"2px",color:"{colors.blue.100.value}"}}}},warning:{_focus:{boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"2px",color:"{colors.orange.100.value}"}}}},success:{_focus:{boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"2px",color:"{colors.green.100.value}"}}}},overlay:{_focus:{boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"2px",color:"{colors.overlay.90.value}"}}}}},fieldgroup:{gap:{value:"{space.zero.value}"},vertical:{alignItems:{value:"center"}},outer:{alignItems:{value:"center"}}},fieldmessages:{error:{color:{value:"{colors.font.error.value}"},fontSize:{value:"{fontSizes.small.value}"}},description:{color:{value:"{colors.font.secondary.value}"},fontStyle:{value:"italic"},fontSize:{value:"{fontSizes.small.value}"}}},fieldset:{backgroundColor:{value:"transparent"},borderRadius:{value:"{radii.xs.value}"},flexDirection:{value:"column"},gap:{value:"{components.field.gap.value}"},legend:{color:{value:"{colors.font.primary.value}"},fontSize:{value:"{components.field.fontSize.value}"},fontWeight:{value:"{fontWeights.bold.value}"},lineHeight:{value:"{lineHeights.medium.value}"},small:{fontSize:"{components.field.small.fontSize.value}"},large:{fontSize:"{components.field.large.fontSize.value}"}},outlined:{padding:"{space.medium.value}",borderColor:"{colors.neutral.40.value}",borderWidth:"{borderWidths.small.value}",borderStyle:"solid",small:{padding:"{space.small.value}"},large:{padding:"{space.large.value}"}},small:{gap:"{components.field.small.gap.value}"},large:{gap:"{components.field.large.gap.value}"}},fileuploader:{dropzone:{backgroundColor:{value:"{colors.background.primary}"},borderRadius:{value:"{radii.small}"},borderColor:{value:"{colors.border.primary}"},borderStyle:{value:"dashed"},borderWidth:{value:"{borderWidths.small}"},gap:{value:"{space.small}"},paddingBlock:{value:"{space.xl}"},paddingInline:{value:"{space.large}"},textAlign:{value:"center"},_active:{backgroundColor:{value:"{colors.primary.10}"},borderRadius:{value:"{components.fileuploader.dropzone.borderRadius}"},borderColor:{value:"{colors.border.pressed}"},borderStyle:{value:"{components.fileuploader.dropzone.borderStyle}"},borderWidth:{value:"{borderWidths.medium}"}},icon:{color:{value:"{colors.border.primary}"},fontSize:{value:"{fontSizes.xxl}"}},text:{color:{value:"{colors.font.tertiary}"},fontSize:{value:"{fontSizes.medium}"},fontWeight:{value:"{fontWeights.bold}"}}},file:{backgroundColor:{value:"{colors.background.primary}"},borderRadius:{value:"{radii.small}"},borderColor:{value:"{colors.border.primary}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.small}"},paddingBlock:{value:"{space.xs}"},paddingInline:{value:"{space.small}"},gap:{value:"{space.small}"},alignItems:{value:"baseline"},name:{fontSize:{value:"{fontSizes.medium}"},fontWeight:{value:"{fontWeights.bold}"},color:{value:"{colors.font.primary}"}},size:{fontSize:{value:"{fontSizes.small}"},fontWeight:{value:"{fontWeights.normal}"},color:{value:"{colors.font.tertiary}"}},image:{width:{value:"{space.xxl}"},height:{value:"{space.xxl}"},backgroundColor:{value:"{colors.background.secondary}"},color:{value:"{colors.font.tertiary}"},borderRadius:{value:"{radii.small}"}}},filelist:{flexDirection:{value:"column"},gap:{value:"{space.small}"}},loader:{strokeLinecap:{value:"round"},strokeEmpty:{value:"{colors.border.secondary}"},strokeFilled:{value:"{components.loader.strokeFilled}"},strokeWidth:{value:"{borderWidths.large}"}},previewer:{backgroundColor:{value:"{colors.background.primary}"},borderColor:{value:"{colors.border.primary}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.small}"},borderRadius:{value:"{radii.small}"},paddingBlock:{value:"{space.zero}"},paddingInline:{value:"{space.zero}"},maxHeight:{value:"40rem"},maxWidth:{value:"auto"},text:{fontSize:{value:"{fontSizes.medium}"},fontWeight:{value:"{fontWeights.bold}"},color:{value:"{colors.font.primary}"}},body:{paddingBlock:{value:"{space.medium}"},paddingInline:{value:"{space.medium}"},gap:{value:"{space.small}"}},footer:{justifyContent:{value:"flex-end"}}}},flex:{gap:{value:"{space.medium.value}"},justifyContent:{value:"normal"},alignItems:{value:"stretch"},alignContent:{value:"normal"},flexWrap:{value:"nowrap"}},heading:{color:{value:"{colors.font.primary.value}"},lineHeight:{value:"{lineHeights.small.value}"},1:{fontSize:{value:"{fontSizes.xxxxl.value}"},fontWeight:{value:"{fontWeights.light.value}"}},2:{fontSize:{value:"{fontSizes.xxxl.value}"},fontWeight:{value:"{fontWeights.normal.value}"}},3:{fontSize:{value:"{fontSizes.xxl.value}"},fontWeight:{value:"{fontWeights.medium.value}"}},4:{fontSize:{value:"{fontSizes.xl.value}"},fontWeight:{value:"{fontWeights.semibold.value}"}},5:{fontSize:{value:"{fontSizes.large.value}"},fontWeight:{value:"{fontWeights.bold.value}"}},6:{fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.extrabold.value}"}}},icon:{lineHeight:{value:1},height:{value:"1em"}},highlightmatch:{highlighted:{fontWeight:{value:"{fontWeights.bold}"}}},image:{maxWidth:{value:"100%"},height:{value:"auto"},objectFit:{value:"initial"},objectPosition:{value:"initial"}},inappmessaging:{banner:{height:{value:"150px "},width:{value:"400px "}},button:{backgroundColor:{value:"#e8e8e8"},borderRadius:{value:"5px"},color:{value:"black"}},dialog:{height:{value:"50vh"},minHeight:{value:"400px"},minWidth:{value:"400px"},width:{value:"30vw"}},header:{fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.extrabold.value}"}}},input:{color:{value:"{components.fieldcontrol.color.value}"},borderColor:{value:"{components.fieldcontrol.borderColor.value}"},fontSize:{value:"{components.fieldcontrol.fontSize.value}"},_focus:{borderColor:{value:"{components.fieldcontrol._focus.borderColor.value}"}}},link:{active:{color:{value:"{colors.font.active.value}"}},color:{value:"{colors.font.interactive.value}"},focus:{color:{value:"{colors.font.focus.value}"}},hover:{color:{value:"{colors.font.hover.value}"}},visited:{color:{value:"{colors.font.interactive.value}"}}},liveness:{cameraModule:{backgroundColor:{value:"{colors.background.primary.value}"}}},loader:{width:{value:"{fontSizes.medium.value}"},height:{value:"{fontSizes.medium.value}"},fontSize:{value:"{fontSizes.xs.value}"},strokeEmpty:{value:"{colors.neutral.20.value}"},strokeFilled:{value:"{colors.primary.80.value}"},strokeLinecap:{value:"round"},animationDuration:{value:"1s"},small:{width:{value:"{fontSizes.small.value}"},height:{value:"{fontSizes.small.value}"},fontSize:{value:"{fontSizes.xxs.value}"}},large:{width:{value:"{fontSizes.large.value}"},height:{value:"{fontSizes.large.value}"},fontSize:{value:"{fontSizes.small.value}"}},linear:{width:{value:"100%"},minWidth:{value:"5rem"},fontSize:{value:"{fontSizes.xxs.value}"},strokeWidth:{value:"{fontSizes.xxs.value}"},strokeFilled:{value:"{colors.primary.80.value}"},strokeEmpty:{value:"{colors.neutral.20.value}"},strokeLinecap:{value:"round"},animationDuration:{value:"1s"},small:{strokeWidth:{value:"{fontSizes.xxxs.value}"},fontSize:{value:"{fontSizes.xxxs.value}"}},large:{strokeWidth:{value:"{fontSizes.xs.value}"},fontSize:{value:"{fontSizes.xs.value}"}}},text:{fill:{value:"{colors.font.primary.value}"}}},menu:{backgroundColor:{value:"{colors.background.primary.value}"},borderRadius:{value:"{radii.medium.value}"},borderWidth:{value:"{borderWidths.small.value}"},borderStyle:{value:"solid"},borderColor:{value:"{colors.border.primary.value}"},boxShadow:{value:"{shadows.large.value}"},flexDirection:{value:"column"},gap:{value:"{space.zero.value}"},maxWidth:{value:"30rem"},minWidth:{value:"14rem"},small:{width:{value:"{fontSizes.medium.value}"},height:{value:"{fontSizes.medium.value}"}},large:{width:{value:"{fontSizes.xxxl.value}"},height:{value:"{fontSizes.xxxl.value}"}},item:{minHeight:{value:"2.5rem"},paddingInlineStart:{value:"{space.medium.value}"},paddingInlineEnd:{value:"{space.medium.value}"}}},message:{alignItems:{value:"center"},backgroundColor:{value:"{colors.background.tertiary.value}"},borderColor:{value:"transparent"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.small.value}"},borderRadius:{value:"{radii.xs.value}"},color:{value:"{colors.font.primary.value}"},justifyContent:{value:"flex-start"},paddingBlock:{value:"{space.small.value}"},paddingInline:{value:"{space.medium.value}"},lineHeight:{value:"{lineHeights.small.value}"},icon:{size:{value:"{fontSizes.xl.value}"}},heading:{fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.bold.value}"}},dismiss:{gap:{value:"{space.xxs.value}"}},plain:{color:{value:"{colors.font.primary.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"transparent"},info:{color:{value:"{colors.font.info.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"transparent"}},error:{color:{value:"{colors.font.error.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"transparent"}},success:{color:{value:"{colors.font.success.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"transparent"}},warning:{color:{value:"{colors.font.warning.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"transparent"}}},outlined:{color:{value:"{colors.font.primary.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"{colors.border.primary.value}"},info:{color:{value:"{colors.font.info.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"{colors.border.info.value}"}},error:{color:{value:"{colors.font.error.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"{colors.border.error.value}"}},success:{color:{value:"{colors.font.success.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"{colors.border.success.value}"}},warning:{color:{value:"{colors.font.warning.value}"},backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"{colors.border.warning.value}"}}},filled:{color:{value:"{colors.font.primary.value}"},backgroundColor:{value:"{colors.background.secondary.value}"},borderColor:{value:"transparent"},info:{color:{value:"{colors.font.info.value}"},backgroundColor:{value:"{colors.background.info.value}"},borderColor:{value:"transparent"}},error:{color:{value:"{colors.font.error.value}"},backgroundColor:{value:"{colors.background.error.value}"},borderColor:{value:"transparent"}},success:{color:{value:"{colors.font.success.value}"},backgroundColor:{value:"{colors.background.success.value}"},borderColor:{value:"transparent"}},warning:{color:{value:"{colors.font.warning.value}"},backgroundColor:{value:"{colors.background.warning.value}"},borderColor:{value:"transparent"}}}},pagination:{current:{alignItems:{value:"center"},justifyContent:{value:"center"},color:{value:"{colors.font.inverse.value}"},fontSize:{value:"{fontSizes.small.value}"},backgroundColor:{value:"{colors.overlay.40.value}"}},button:{color:{value:"{colors.font.primary.value}"},paddingInlineStart:{value:"{space.xxs.value}"},paddingInlineEnd:{value:"{space.xxs.value}"},transitionProperty:{value:"background-color"},transitionDuration:{value:"{time.medium.value}"},hover:{backgroundColor:{value:"{colors.overlay.10.value}"},color:{value:"{colors.font.primary.value}"}},disabled:{color:{value:"{colors.font.disabled.value}"}}},ellipsis:{alignItems:{value:"baseline"},justifyContent:{value:"center"},paddingInlineStart:{value:"{space.xs.value}"},paddingInlineEnd:{value:"{space.xs.value}"}},itemContainer:{marginLeft:{value:"{space.xxxs.value}"},marginRight:{value:"{space.xxxs.value}"}},itemShared:{height:{value:"{fontSizes.xxl.value}"},minWidth:{value:"{fontSizes.xxl.value}"},borderRadius:{value:"{fontSizes.medium.value}"}}},passwordfield:{color:{value:"{components.fieldcontrol.color.value}"},button:{color:{value:"{components.button.color.value}"},_active:{backgroundColor:{value:"{components.button._active.backgroundColor.value}"},borderColor:{value:"{components.button._active.borderColor.value}"},color:{value:"{components.button._active.color.value}"}},_disabled:{backgroundColor:{value:"{components.button._disabled.backgroundColor.value}"},borderColor:{value:"{components.button._disabled.borderColor.value}"},color:{value:"{components.button._disabled.color.value}"}},_error:{color:{value:"{components.button.outlined.error.color.value}"},backgroundColor:{value:"{components.button.outlined.error.backgroundColor.value}"},borderColor:{value:"{components.button.outlined.error.borderColor.value}"},_active:{borderColor:{value:"{components.button.outlined.error._active.borderColor.value}"},backgroundColor:{value:"{components.button.outlined.error._active.backgroundColor.value}"},color:{value:"{components.button.outlined.error._active.color.value}"}},_focus:{borderColor:{value:"{components.button.outlined.error._focus.borderColor.value}"},backgroundColor:{value:"{components.button.outlined.error._focus.backgroundColor.value}"},color:{value:"{components.button.outlined.error._focus.color.value}"},boxShadow:{value:"{components.button.outlined.error._focus.boxShadow.value}"}},_hover:{borderColor:{value:"{components.button.outlined.error._hover.borderColor.value}"},backgroundColor:{value:"{components.button.outlined.error._hover.backgroundColor.value}"},color:{value:"{components.button.outlined.error._hover.color.value}"}}},_focus:{backgroundColor:{value:"{components.button._focus.backgroundColor.value}"},borderColor:{value:"{components.button._focus.borderColor.value}"},color:{value:"{components.button._focus.color.value}"}},_hover:{backgroundColor:{value:"{components.button._hover.backgroundColor.value}"},borderColor:{value:"{components.button._hover.borderColor.value}"},color:{value:"{components.button._hover.color.value}"}}}},phonenumberfield:{color:{value:"{components.fieldcontrol.color}"},borderColor:{value:"{components.fieldcontrol.borderColor}"},fontSize:{value:"{components.fieldcontrol.fontSize}"},_focus:{borderColor:{value:"{components.fieldcontrol._focus.borderColor}"}}},placeholder:{borderRadius:{value:"{radii.small.value}"},transitionDuration:{value:"{time.long.value}"},startColor:{value:"{colors.background.secondary.value}"},endColor:{value:"{colors.background.tertiary.value}"},small:{height:{value:"{space.small.value}"}},default:{height:{value:"{space.medium.value}"}},large:{height:{value:"{space.large.value}"}}},radio:{alignItems:{value:"center"},justifyContent:{value:"flex-start"},gap:{value:"inherit"},_disabled:{cursor:{value:"not-allowed"}},button:{alignItems:{value:"center"},justifyContent:{value:"center"},width:{value:"{fontSizes.medium.value}"},height:{value:"{fontSizes.medium.value}"},boxSizing:{value:"border-box"},borderWidth:{value:"{borderWidths.medium.value}"},borderStyle:{value:"solid"},borderRadius:{value:"50%"},borderColor:{value:"{colors.border.primary.value}"},color:{value:"{colors.background.primary.value}"},backgroundColor:{value:"{colors.background.primary.value}"},transitionProperty:{value:"all"},transitionDuration:{value:"{time.medium.value}"},outlineColor:{value:"{colors.transparent.value}"},outlineStyle:{value:"solid"},outlineWidth:{value:"{outlineWidths.medium.value}"},outlineOffset:{value:"{outlineOffsets.medium.value}"},padding:{value:"{borderWidths.medium.value}"},small:{width:{value:"{fontSizes.small.value}"},height:{value:"{fontSizes.small.value}"}},large:{width:{value:"{fontSizes.large.value}"},height:{value:"{fontSizes.large.value}"}},_checked:{color:{value:"{colors.primary.80.value}"},_disabled:{color:{value:"{colors.background.disabled.value}"}}},_focus:{borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},_error:{borderColor:{value:"{colors.border.error.value}"},_focus:{boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow.value}"}}},_disabled:{borderColor:{value:"{colors.border.disabled.value}"},backgroundColor:{value:"{colors.background.primary.value}"}}},label:{color:{value:"{components.text.color.value}"},_disabled:{color:{value:"{colors.font.disabled.value}"}}}},radiogroup:{radio:{borderWidth:{value:"{components.radio.button.borderWidth}"},borderColor:{value:"{components.radio.button.borderColor}"},backgroundColor:{value:"{components.radio.button.backgroundColor}"},_checked:{color:{value:"{components.radio.button._checked.color}"}},label:{color:{value:"{components.radio.label.color}"}}},legend:{color:{value:"{components.fieldset.legend.color}"},fontWeight:{value:"{fontWeights.normal}"}}},rating:{large:{size:{value:"{fontSizes.xxxl.value}"}},default:{size:{value:"{fontSizes.xl.value}"}},small:{size:{value:"{fontSizes.small.value}"}},filled:{color:{value:"{colors.secondary.80.value}"}},empty:{color:{value:"{colors.background.tertiary.value}"}}},searchfield:{color:{value:"{components.fieldcontrol.color.value}"},button:{color:{value:"{components.button.color.value}"},backgroundColor:{value:"{colors.background.primary.value}"},_active:{backgroundColor:{value:"{components.button._active.backgroundColor.value}"},borderColor:{value:"{components.button._active.borderColor.value}"},color:{value:"{components.button._active.color.value}"}},_disabled:{backgroundColor:{value:"{components.button._disabled.backgroundColor.value}"},borderColor:{value:"{components.button._disabled.borderColor.value}"},color:{value:"{components.button._disabled.color.value}"}},_focus:{backgroundColor:{value:"{components.button._focus.backgroundColor.value}"},borderColor:{value:"{components.button._focus.borderColor.value}"},color:{value:"{components.button._focus.color.value}"}},_hover:{backgroundColor:{value:"{components.button._hover.backgroundColor.value}"},borderColor:{value:"{components.button._hover.borderColor.value}"},color:{value:"{components.button._hover.color.value}"}}}},select:{color:{value:"{components.fieldcontrol.color}"},backgroundColor:{value:"{colors.background.primary.value}"},paddingInlineEnd:{value:"{space.xxl.value}"},_disabled:{color:{value:"{colors.font.disabled.value}"},backgroundColor:{value:"{colors.background.disabled.value}"}},wrapper:{flex:{value:"1"},display:{value:"block"},position:{value:"relative"},cursor:{value:"pointer"}},iconWrapper:{alignItems:{value:"center"},position:{value:"absolute"},top:{value:"50%"},right:{value:"{space.medium.value}"},transform:{value:"translateY(-50%)"},pointerEvents:{value:"none"},small:{right:{value:"{space.xs.value}"}},large:{right:{value:"{space.medium.value}"}}},option:{backgroundColor:{value:"transparent"},color:{value:"{colors.font.primary.value}"},_disabled:{color:{value:"{colors.font.disabled.value}"},backgroundColor:{value:"transparent"}}},whiteSpace:{value:"nowrap"},minWidth:{value:"6.5rem"},small:{minWidth:{value:"5.5rem"},paddingInlineEnd:{value:"{space.xl.value}"}},large:{minWidth:{value:"7.5rem"},paddingInlineEnd:{value:"{space.xxl.value}"}},expanded:{paddingBlock:{value:"{space.xs.value}"},paddingInline:{value:"{space.small.value}"},option:{paddingBlock:{value:"{space.xs.value}"},paddingInline:{value:"{space.small.value}"}}}},selectfield:{borderColor:{value:"{components.fieldcontrol.borderColor}"},color:{value:"{components.fieldcontrol.color}"},flexDirection:{value:"column"},fontSize:{value:"{components.fieldcontrol.fontSize}"},_focus:{borderColor:{value:"{components.fieldcontrol._focus.borderColor}"}},label:{color:{value:"{components.field.label.color}"}}},sliderfield:{paddingBlock:{value:"{space.xs.value}"},track:{backgroundColor:{value:"{colors.background.quaternary.value}"},borderRadius:{value:"9999px"},height:{value:"0.375rem"},minWidth:{value:"10rem"}},range:{backgroundColor:{value:"{colors.primary.80.value}"},borderRadius:{value:"9999px"},_disabled:{backgroundColor:{value:"{colors.background.disabled.value}"}}},thumb:{width:{value:"1.25rem"},height:{value:"1.25rem"},backgroundColor:{value:"{colors.background.primary.value}"},boxShadow:{value:"{shadows.small.value}"},borderRadius:{value:"50%"},borderWidth:{value:"{borderWidths.medium.value}"},borderColor:{value:"{colors.border.primary.value}"},borderStyle:{value:"solid"},_disabled:{backgroundColor:{value:"{colors.background.disabled.value}"},borderColor:{value:"transparent"},boxShadow:{value:"none"}},_hover:{backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"{colors.border.focus.value}"}},_focus:{borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}}},small:{track:{height:{value:"0.25rem"}},thumb:{width:{value:"1rem"},height:{value:"1rem"}}},large:{track:{height:{value:"0.625rem"}},thumb:{width:{value:"1.5rem"},height:{value:"1.5rem"}}}},stepperfield:{borderColor:{value:"{components.fieldcontrol.borderColor}"},flexDirection:{value:"column"},input:{color:{value:"{components.fieldcontrol.color}"},fontSize:{value:"{components.fieldcontrol.fontSize}"},textAlign:{value:"center"}},button:{color:{value:"{components.button.color}"},backgroundColor:{value:"{colors.transparent}"},_active:{color:{value:"{components.button._active.color}"},backgroundColor:{value:"{components.button._active.backgroundColor}"}},_focus:{color:{value:"{components.button._focus.color}"},backgroundColor:{value:"{components.button._focus.backgroundColor}"}},_disabled:{color:{value:"{components.button._disabled.color}"},backgroundColor:{value:"{components.fieldcontrol._disabled.backgroundColor}"}},_hover:{color:{value:"{components.button._hover.color}"},backgroundColor:{value:"{components.button._hover.backgroundColor}"}}}},storagemanager:{dropzone:{backgroundColor:{value:"{colors.background.primary}"},borderRadius:{value:"{radii.small}"},borderColor:{value:"{colors.border.primary}"},borderStyle:{value:"dashed"},borderWidth:{value:"{borderWidths.small}"},gap:{value:"{space.small}"},paddingBlock:{value:"{space.xl}"},paddingInline:{value:"{space.large}"},textAlign:{value:"center"},_active:{backgroundColor:{value:"{colors.primary.10}"},borderRadius:{value:"{components.storagemanager.dropzone.borderRadius}"},borderColor:{value:"{colors.border.pressed}"},borderStyle:{value:"{components.storagemanager.dropzone.borderStyle}"},borderWidth:{value:"{borderWidths.medium}"}},icon:{color:{value:"{colors.border.primary}"},fontSize:{value:"{fontSizes.xxl}"}},text:{color:{value:"{colors.font.tertiary}"},fontSize:{value:"{fontSizes.medium}"},fontWeight:{value:"{fontWeights.bold}"}}},file:{backgroundColor:{value:"{colors.background.primary}"},borderRadius:{value:"{radii.small}"},borderColor:{value:"{colors.border.primary}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.small}"},paddingBlock:{value:"{space.xs}"},paddingInline:{value:"{space.small}"},gap:{value:"{space.small}"},alignItems:{value:"baseline"},name:{fontSize:{value:"{fontSizes.medium}"},fontWeight:{value:"{fontWeights.bold}"},color:{value:"{colors.font.primary}"}},size:{fontSize:{value:"{fontSizes.small}"},fontWeight:{value:"{fontWeights.normal}"},color:{value:"{colors.font.tertiary}"}},image:{width:{value:"{space.xxl}"},height:{value:"{space.xxl}"},backgroundColor:{value:"{colors.background.secondary}"},color:{value:"{colors.font.tertiary}"},borderRadius:{value:"{radii.small}"}}},filelist:{flexDirection:{value:"column"},gap:{value:"{space.small}"}},loader:{strokeLinecap:{value:"round"},strokeEmpty:{value:"{colors.border.secondary}"},strokeFilled:{value:"{components.loader.strokeFilled}"},strokeWidth:{value:"{borderWidths.large}"}},previewer:{backgroundColor:{value:"{colors.background.primary}"},borderColor:{value:"{colors.border.primary}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.small}"},borderRadius:{value:"{radii.small}"},paddingBlock:{value:"{space.zero}"},paddingInline:{value:"{space.zero}"},maxHeight:{value:"40rem"},maxWidth:{value:"auto"},text:{fontSize:{value:"{fontSizes.medium}"},fontWeight:{value:"{fontWeights.bold}"},color:{value:"{colors.font.primary}"}},body:{paddingBlock:{value:"{space.medium}"},paddingInline:{value:"{space.medium}"},gap:{value:"{space.small}"}},footer:{justifyContent:{value:"flex-end"}}}},switchfield:{_disabled:{opacity:{value:"{opacities.60.value}"}},_focused:{shadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},fontSize:{value:"{fontSizes.medium.value}"},large:{fontSize:{value:"{fontSizes.large.value}"}},small:{fontSize:{value:"{fontSizes.small.value}"}},label:{padding:{value:"{space.xs.value}"}},thumb:{backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"transparent"},borderWidth:{value:"{borderWidths.small.value}"},borderStyle:{value:"solid"},borderRadius:{value:"{radii.xxxl.value}"},checked:{transform:{value:"{transforms.slideX.medium.value}"}},transition:{duration:{value:"{time.medium.value}"}},width:{value:"{space.relative.medium.value}"}},track:{backgroundColor:{value:"{colors.background.quaternary.value}"},borderRadius:{value:"{radii.xxxl.value}"},checked:{backgroundColor:{value:"{colors.primary.80.value}"}},height:{value:"{space.relative.medium.value}"},padding:{value:"{outlineWidths.medium.value}"},transition:{duration:{value:"{time.short.value}"}},width:{value:"{space.relative.xl.value}"},_error:{backgroundColor:{value:"{colors.background.error.value}"}}}},table:{borderCollapse:{value:"collapse"},display:{value:"table"},width:{value:"100%"},head:{display:{value:"table-header-group"},verticalAlign:{value:"middle"}},body:{display:{value:"table-row-group"},verticalAlign:{value:"middle"}},foot:{display:{value:"table-footer-group"},verticalAlign:{value:"middle"}},row:{display:{value:"table-row"},verticalAlign:{value:"middle"},hover:{backgroundColor:{value:"{colors.background.tertiary.value}"}},striped:{backgroundColor:{value:"{colors.background.secondary.value}"}}},header:{borderColor:{value:"{colors.border.tertiary.value}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.small.value}"},color:{value:"{colors.font.primary.value}"},display:{value:"table-cell"},fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.bold.value}"},padding:{value:"{space.medium.value}"},verticalAlign:{value:"middle"},large:{fontSize:{value:"{fontSizes.large.value}"},padding:{value:"{space.large.value}"}},small:{fontSize:{value:"{fontSizes.small.value}"},padding:{value:"{space.xs.value}"}}},data:{borderColor:{value:"{colors.border.tertiary.value}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.small.value}"},color:{value:"{colors.font.primary.value}"},display:{value:"table-cell"},fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.normal.value}"},padding:{value:"{space.medium.value}"},verticalAlign:{value:"middle"},large:{fontSize:{value:"{fontSizes.large.value}"},padding:{value:"{space.large.value}"}},small:{fontSize:{value:"{fontSizes.small.value}"},padding:{value:"{space.xs.value}"}}},caption:{captionSide:{value:"bottom"},color:{value:"{colors.font.primary.value}"},display:{value:"table-caption"},fontSize:{value:"{fontSizes.medium.value}"},textAlign:{value:"center"},wordBreak:{value:"break-all"},large:{fontSize:{value:"{fontSizes.large.value}"}},small:{fontSize:{value:"{fontSizes.small.value}"}}}},tabs:{backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.secondary.value}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.medium.value}"},gap:{value:"0"},item:{backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.secondary.value}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.medium.value}"},color:{value:"{colors.font.secondary.value}"},fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.bold.value}"},paddingVertical:{value:"{space.small.value}"},paddingHorizontal:{value:"{space.medium.value}"},textAlign:{value:"center"},transitionDuration:{value:"{time.medium.value}"},_hover:{backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:"none"},color:{value:"{colors.font.hover.value}"}},_focus:{backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"{borderWidths.medium}",color:"{colors.border.focus.value}"}},color:{value:"{colors.font.focus.value}"}},_active:{backgroundColor:{value:"transparent"},borderColor:{value:"{colors.font.interactive.value}"},boxShadow:{value:"none"},color:{value:"{colors.font.interactive.value}"}},_disabled:{backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.tertiary.value}"},boxShadow:{value:"none"},color:{value:"{colors.font.disabled.value}"}}},panel:{backgroundColor:{value:"transparent"},paddingInline:{value:"0"},paddingBlock:{value:"{space.small.value}"}}},text:{color:{value:"{colors.font.primary.value}"},primary:{color:{value:"{colors.font.primary.value}"}},secondary:{color:{value:"{colors.font.secondary.value}"}},tertiary:{color:{value:"{colors.font.tertiary.value}"}},error:{color:{value:"{colors.font.error.value}"}},warning:{color:{value:"{colors.font.warning.value}"}},success:{color:{value:"{colors.font.success.value}"}},info:{color:{value:"{colors.font.info.value}"}}},textareafield:{color:{value:"{components.fieldcontrol.color.value}"},borderColor:{value:"{components.fieldcontrol.borderColor.value}"},_focus:{borderColor:{value:"{components.fieldcontrol._focus.borderColor.value}"}}},textfield:{color:{value:"{components.fieldcontrol.color.value}"},borderColor:{value:"{components.fieldcontrol.borderColor.value}"},fontSize:{value:"{components.fieldcontrol.fontSize.value}"},_focus:{borderColor:{value:"{components.fieldcontrol._focus.borderColor.value}"}}},togglebutton:{borderColor:{value:"{colors.border.primary.value}"},color:{value:"{colors.font.primary.value}"},_hover:{backgroundColor:{value:"{colors.overlay.10.value}"}},_focus:{borderColor:{value:"{colors.border.focus.value}"},color:{value:"{colors.font.primary.value}"}},_active:{backgroundColor:{value:"{colors.transparent.value}"}},_disabled:{backgroundColor:{value:"{colors.transparent.value}"},borderColor:{value:"{colors.border.disabled.value}"},color:{value:"{colors.font.disabled.value}"}},_pressed:{borderColor:{value:"{colors.border.pressed.value}"},color:{value:"{colors.font.primary.value}"},backgroundColor:{value:"{colors.overlay.20.value}"},_hover:{backgroundColor:{value:"{colors.overlay.30.value}"}}},primary:{backgroundColor:{value:"{colors.transparent.value}"},borderWidth:{value:"{borderWidths.small.value}"},_focus:{borderColor:{value:"{colors.border.focus.value}"},backgroundColor:{value:"{colors.transparent.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"},color:{value:"{colors.font.primary.value}"}},_hover:{backgroundColor:{value:"{colors.overlay.10.value}"},color:{value:"{colors.font.primary.value}"}},_disabled:{borderColor:{value:"{colors.border.disabled.value}"},backgroundColor:{value:"{colors.background.disabled.value}"},color:{value:"{colors.font.disabled.value}"}},_pressed:{backgroundColor:{value:"{colors.primary.80.value}"},borderColor:{value:"{colors.primary.80.value}"},color:{value:"{colors.background.primary.value}"},_focus:{backgroundColor:{value:"{colors.border.focus.value}"},borderColor:{value:"{colors.border.focus.value}"},color:{value:"{colors.background.primary.value}"}},_hover:{borderColor:{value:"{colors.primary.60.value}"},backgroundColor:{value:"{colors.primary.60.value}"},boxShadow:{value:"{colors.primary.60.value}"},color:{value:"{colors.background.primary.value}"}}}},link:{backgroundColor:{value:"{colors.transparent.value}"},color:{value:"{colors.overlay.50.value}"},_hover:{backgroundColor:{value:"{colors.transparent.value}"},color:{value:"{colors.overlay.50.value}"}},_focus:{backgroundColor:{value:"{colors.transparent.value}"},color:{value:"{colors.overlay.50.value}"}},_disabled:{backgroundColor:{value:"{colors.transparent.value}"},color:{value:"{colors.font.disabled.value}"}},_pressed:{backgroundColor:{value:"{colors.transparent.value}"},color:{value:"{colors.overlay.90.value}"},_focus:{backgroundColor:{value:"{colors.transparent.value}"},color:{value:"{colors.overlay.90.value}"}},_hover:{color:{value:"{colors.overlay.90.value}"},backgroundColor:{value:"{colors.transparent.value}"}}}}},togglebuttongroup:{alignItems:{value:"center"},alignContent:{value:"center"},justifyContent:{value:"flex-start"}}},kve={default:{variable:{value:`'InterVariable', 'Inter var', 'Inter', -apple-system, BlinkMacSystemFont,
        'Helvetica Neue', 'Segoe UI', Oxygen, Ubuntu, Cantarell, 'Open Sans',
        sans-serif`},static:{value:`'Inter', -apple-system, BlinkMacSystemFont, 'Helvetica Neue',
        'Segoe UI', Oxygen, Ubuntu, Cantarell, 'Open Sans', sans-serif`}}},$c={xxxs:{value:"0.375rem"},xxs:{value:"0.5rem"},xs:{value:"0.75rem"},small:{value:"0.875rem"},medium:{value:"1rem"},large:{value:"1.25rem"},xl:{value:"1.5rem"},xxl:{value:"2rem"},xxxl:{value:"2.5rem"},xxxxl:{value:"3rem"}},_ve={hairline:{value:100},thin:{value:200},light:{value:300},normal:{value:400},medium:{value:500},semibold:{value:600},bold:{value:700},extrabold:{value:800},black:{value:900}},Tve={small:{value:"1.25"},medium:{value:"1.5"},large:{value:"2"}},Ive={0:{value:"0"},10:{value:"0.1"},20:{value:"0.2"},30:{value:"0.3"},40:{value:"0.4"},50:{value:"0.5"},60:{value:"0.6"},70:{value:"0.7"},80:{value:"0.8"},90:{value:"0.9"},100:{value:"1"}},Rve={small:{value:"1px"},medium:{value:"2px"},large:{value:"3px"}},Nve={small:{value:"1px"},medium:{value:"2px"},large:{value:"3px"}},Ave={xs:{value:"0.125rem"},small:{value:"0.25rem"},medium:{value:"0.5rem"},large:{value:"1rem"},xl:{value:"2rem"},xxl:{value:"4rem"},xxxl:{value:"8rem"}},Dve={small:{value:{offsetX:"0px",offsetY:"2px",blurRadius:"4px",color:"{colors.shadow.tertiary.value}"}},medium:{value:{offsetX:"0px",offsetY:"2px",blurRadius:"6px",color:"{colors.shadow.secondary.value}"}},large:{value:{offsetX:"0px",offsetY:"4px",blurRadius:"12px",color:"{colors.shadow.primary.value}"}}},Fc={zero:{value:"0"},xxxs:{value:"0.25rem"},xxs:{value:"0.375rem"},xs:{value:"0.5rem"},small:{value:"0.75rem"},medium:{value:"1rem"},large:{value:"1.5rem"},xl:{value:"2.0rem"},xxl:{value:"3.0rem"},xxxl:{value:"4.5rem"},relative:{xxxs:{value:"0.25em"},xxs:{value:"0.375em"},xs:{value:"0.5em"},small:{value:"0.75em"},medium:{value:"1em"},large:{value:"1.5em"},xl:{value:"2.0em"},xxl:{value:"3.0em"},xxxl:{value:"4.5em"},full:{value:"100%"}}},Ove={components:Cve,borderWidths:Eve,colors:xve,fonts:kve,fontSizes:$c,fontWeights:_ve,lineHeights:Tve,opacities:Ive,outlineOffsets:Rve,outlineWidths:Nve,radii:Ave,shadows:Dve,space:Fc,time:{short:{value:"100ms"},medium:{value:"250ms"},long:{value:"500ms"}},transforms:{slideX:{small:{value:"translateX(0.5em)"},medium:{value:"translateX(1em)"},large:{value:"translateX(2em)"}}}};$c.xxs,$c.xs,$c.small,$c.medium,$c.large,$c.xl,$c.xxl,$c.xxxl,Fc.xxxs,Fc.xs,Fc.small,Fc.medium,Fc.large,Fc.xl,Fc.xxl,Fc.xxxl;const VP={tokens:Ove,breakpoints:{values:{base:0,small:480,medium:768,large:992,xl:1280,xxl:1536},defaultBreakpoint:"base"},name:"default-theme"};var XT,WP;function Mve(){if(WP)return XT;WP=1;function t(e,n,r,a){var o=-1,u=e==null?0:e.length;for(a&&u&&(r=e[++o]);++o<u;)r=n(r,e[o],o,e);return r}return XT=t,XT}var QT,jP;function $ve(){if(jP)return QT;jP=1;function t(e){return function(n){return e?.[n]}}return QT=t,QT}var JT,GP;function Fve(){if(GP)return JT;GP=1;var t=$ve(),e={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},n=t(e);return JT=n,JT}var ZT,qP;function Pve(){if(qP)return ZT;qP=1;var t=Fve(),e=HP(),n=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,r="\\u0300-\\u036f",a="\\ufe20-\\ufe2f",o="\\u20d0-\\u20ff",u=r+a+o,l="["+u+"]",f=RegExp(l,"g");function p(c){return c=e(c),c&&c.replace(n,t).replace(f,"")}return ZT=p,ZT}var eI,KP;function Lve(){if(KP)return eI;KP=1;var t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function e(n){return n.match(t)||[]}return eI=e,eI}var tI,YP;function Bve(){if(YP)return tI;YP=1;var t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function e(n){return t.test(n)}return tI=e,tI}var nI,XP;function zve(){if(XP)return nI;XP=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",a=e+n+r,o="\\u2700-\\u27bf",u="a-z\\xdf-\\xf6\\xf8-\\xff",l="\\xac\\xb1\\xd7\\xf7",f="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",p="\\u2000-\\u206f",c=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",g="A-Z\\xc0-\\xd6\\xd8-\\xde",y="\\ufe0e\\ufe0f",S=l+f+p+c,E="[']",k="["+S+"]",_="["+a+"]",I="\\d+",R="["+o+"]",A="["+u+"]",O="[^"+t+S+I+o+u+g+"]",L="\\ud83c[\\udffb-\\udfff]",U="(?:"+_+"|"+L+")",j="[^"+t+"]",J="(?:\\ud83c[\\udde6-\\uddff]){2}",q="[\\ud800-\\udbff][\\udc00-\\udfff]",K="["+g+"]",z="\\u200d",te="(?:"+A+"|"+O+")",ee="(?:"+K+"|"+O+")",le="(?:"+E+"(?:d|ll|m|re|s|t|ve))?",ce="(?:"+E+"(?:D|LL|M|RE|S|T|VE))?",ye=U+"?",ve="["+y+"]?",oe="(?:"+z+"(?:"+[j,J,q].join("|")+")"+ve+ye+")*",he="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ge="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Q=ve+ye+oe,ue="(?:"+[R,J,q].join("|")+")"+Q,ke=RegExp([K+"?"+A+"+"+le+"(?="+[k,K,"$"].join("|")+")",ee+"+"+ce+"(?="+[k,K+te,"$"].join("|")+")",K+"?"+te+"+"+le,K+"+"+ce,ge,he,I,ue].join("|"),"g");function Ce(Me){return Me.match(ke)||[]}return nI=Ce,nI}var rI,QP;function Uve(){if(QP)return rI;QP=1;var t=Lve(),e=Bve(),n=HP(),r=zve();function a(o,u,l){return o=n(o),u=l?void 0:u,u===void 0?e(o)?r(o):t(o):o.match(u)||[]}return rI=a,rI}var aI,JP;function Hve(){if(JP)return aI;JP=1;var t=Mve(),e=Pve(),n=Uve(),r="[']",a=RegExp(r,"g");function o(u){return function(l){return t(n(e(l).replace(a,"")),u,"")}}return aI=o,aI}var oI,ZP;function Vve(){if(ZP)return oI;ZP=1;var t=Hve(),e=t(function(n,r,a){return n+(a?"-":"")+r.toLowerCase()});return oI=e,oI}var Wve=Vve();const eL=Ph(Wve),jve=/\{([^}]+)\}/g;function tL(t){const e=new RegExp(jve);if(typeof t=="string")return e.test(t);if(typeof t=="object"){let n=!1;for(const r in t)if(Gd(t,r)){const a=t[r];if(tL(a)){n=!0;break}}return n}return!1}const Gve="amplify";function qve(t){return Object.entries(t).map(([e,n])=>{const r=v2(n)?n.toString():nL({value:n});return`${eL(e)}:${r}; `}).join(" ")}function sI({path:t=[]}){return`${eL([Gve,...t].join(" "))}`}const Kve=["offsetX","offsetY","blurRadius","spreadRadius","color"];function nL(t){const{value:e}=t;return hp(e)?aL(e):rL(e)?Kve.map(n=>aL(rL(t)?t[n]:e[n])).join(" "):e}function v2(t){return Mc(t)&&Gd(t,"value")}function rL(t){return Mc(t)&&Gd(t,"offsetX")}function aL(t){if(!t)return"";if(tL(t)){const e=t.replace(/\{|\}/g,"").replace(".value","").split(".");return`var(--${sI({path:e})})`}return t}const oL=({token:t,path:e})=>{const n=`--${sI({path:e})}`,{value:r}=t,a=nL(t);return{name:n,original:r,path:e,value:a,toString:()=>`var(${n})`}};function iI({tokens:t,path:e=[],setupToken:n}){if(Gd(t,"value"))return n({token:t,path:e});const r={};for(const a in t)if(Gd(t,a)){const o=t[a],u=Mc(o)?o:{value:o};r[a]=iI({tokens:u,path:e.concat(a),setupToken:n})}return r}function uI(t,e){e=e||[];for(var n in t)Gd(t,n)&&(Mc(t[n])&&"value"in t[n]?e.push(t[n]):Mc(t[n])&&uI(t[n],e));return e}function sL(t,e,n){if(t==null)return{};var r,a,o,u,l,f,p=t[0]||{},c=1,g=t.length;for(n=n||[],typeof p!="object"&&(p={});c<g;c++)if((l=t[c])!=null){for(u in l)if(Gd(l,u)&&u!=="__proto__"&&(r=p[u],o=l[u],p!==o))if(o&&(Mc(o)||(a=Array.isArray(o)))){a?(a=!1,f=r&&Array.isArray(r)?r:[]):f=r&&Mc(r)?r:{};var y=n.slice(0);y.push(u),p[u]=sL([f,o],e,y)}else o!==void 0&&(p[u]=o)}return p}function iL({keys:t,value:e}){return t.reduce((n,r)=>({...n,[r]:{value:`{colors.${e}.${r}.value}`}}),{})}function Yve({animations:t,tokens:e}){let n="";return Object.entries(t).forEach(([r,a])=>{n+=`
  @keyframes ${r} {`,Object.entries(a).forEach(([o,u])=>{n+=`
    ${o} {
`;const l=ym(u)?u(e):u;n+=qve(l),n+=`
    }`}),n+=`
  }`}),n}function uL(t,e=VP){const n=sL([{},e,{...t,components:{}}]),{primaryColor:r,secondaryColor:a}=n;hp(r)&&(n.tokens.colors.primary=iL({keys:Object.keys(n.tokens.colors[r]),value:r})),hp(a)&&(n.tokens.colors.secondary=iL({keys:Object.keys(n.tokens.colors[a]),value:a}));const o=iI({tokens:n.tokens,setupToken:oL}),{breakpoints:u,name:l}=n;let f=`[data-amplify-theme="${l}"] {
`+uI(o).map(c=>`${c.name}: ${c.value};`).join(`
`)+`
}
`,p=[];return n.animations&&(f+=Yve({animations:n.animations,tokens:o})),n.overrides&&(p=n.overrides.map(c=>{const g=iI({tokens:c.tokens,setupToken:oL}),y=uI(g).map(S=>`${S.name}: ${S.value};`).join(`
`);if("selector"in c&&(f+=`
${c.selector} {
${y}
}
`),"mediaQuery"in c&&(f+=`
@media (${c.mediaQuery}) {
  [data-amplify-theme="${l}"] {
    ${y}
  }
}
`),"breakpoint"in c){const S=n.breakpoints.values[c.breakpoint];f+=`
@media (min-width: ${S}px) {
  [data-amplify-theme="${l}"] {
    ${y}
  }
}
`}return"colorMode"in c&&(f+=`
@media (prefers-color-scheme: ${c.colorMode}) {
          [data-amplify-theme="${l}"][data-amplify-color-mode="system"] {
            ${y}
            color-scheme: ${c.colorMode};
          }
        }
`,f+=`
[data-amplify-theme="${l}"][data-amplify-color-mode="${c.colorMode}"] {
          ${y}
          color-scheme: ${c.colorMode};
        }
`),{...c,tokens:g}})),{tokens:o,breakpoints:u,name:l,cssText:f,containerProps:({colorMode:c}={})=>({"data-amplify-theme":l,"data-amplify-color-mode":c}),overrides:p}}const ba=(...t)=>{const e=[];for(const n of t)if(n){if(hp(n)){e.push(n);continue}if(typeof n=="number"){e.push(n.toString());continue}if(Array.isArray(n)){e.push(ba(...n));continue}if(Mc(n)){if(n.toString!==Object.prototype.toString&&n.toString()!=="[object Object]"){e.push(n.toString());continue}for(const r in n)Gd(n,r)&&n[r]&&e.push(r)}}return e.join(" ")},hn={Alert:"amplify-alert",AlertIcon:"amplify-alert__icon",AlertHeading:"amplify-alert__heading",AlertBody:"amplify-alert__body",Button:"amplify-button",ButtonLoaderWrapper:"amplify-button__loader-wrapper",Field:"amplify-field",FieldDescription:"amplify-field__description",FieldErrorMessage:"amplify-field__error-message",FieldGroupControl:"amplify-field-group__control",Flex:"amplify-flex",Icon:"amplify-icon",Label:"amplify-label",Loader:"amplify-loader",LoaderLabel:"amplify-loader__label",Select:"amplify-select",SelectField:"amplify-selectfield",SelectWrapper:"amplify-select__wrapper",SelectIcon:"amplify-select__icon",Text:"amplify-text",VisuallyHidden:"amplify-visually-hidden"};var Pc,qi,gp,bm,Yu,Sm,y2,by,lI,b2,lL,cL,vp;(function(t){t[t.Scrolling=0]="Scrolling",t[t.Flat=1]="Flat"})(vp||(vp={}));class Xve{constructor(e){Pc.add(this),qi.set(this,void 0),gp.set(this,void 0),bm.set(this,vp.Flat),Yu.set(this,0),Sm.set(this,void 0),y2.set(this,!0),by.set(this,0),Kr(this,Sm,e,"f"),Kr(this,qi,e[0],"f"),Kr(this,gp,e[0],"f")}async startSequences(e){return new Promise(n=>{setTimeout(()=>{_t(this,Pc,"m",lL).call(this,{...e,resolve:n})},Math.min(mj))})}}qi=new WeakMap,gp=new WeakMap,bm=new WeakMap,Yu=new WeakMap,Sm=new WeakMap,y2=new WeakMap,by=new WeakMap,Pc=new WeakSet,lI=function(){return _t(this,bm,"f")===vp.Flat},b2=function(){return _t(this,bm,"f")===vp.Scrolling},lL=function({onSequenceChange:e,onSequenceColorChange:n,onSequenceStart:r,onSequencesComplete:a,resolve:o}){ym(r)&&r();const u=Date.now();let l=u-_t(this,by,"f");if(_t(this,y2,"f")&&(Kr(this,by,Date.now(),"f"),Kr(this,y2,!1,"f"),ym(e)&&e({prevSequenceColor:_t(this,gp,"f").color,sequenceColor:_t(this,qi,"f").color,sequenceIndex:_t(this,Yu,"f"),sequenceStartTime:u})),(_t(this,Pc,"m",lI).call(this)&&l>=_t(this,qi,"f").flatDisplayDuration||_t(this,Pc,"m",b2).call(this)&&l>=_t(this,qi,"f").downscrollDuration)&&(_t(this,Pc,"m",cL).call(this,{sequenceStartTime:u,onSequenceChange:e}),l=0),_t(this,Yu,"f")<_t(this,Sm,"f").length){const p=l/(_t(this,Pc,"m",b2).call(this)?_t(this,qi,"f").downscrollDuration:_t(this,qi,"f").flatDisplayDuration);ym(n)&&n({sequenceColor:_t(this,qi,"f").color,heightFraction:p,prevSequenceColor:_t(this,gp,"f").color}),o(!1)}else ym(a)&&a(),o(!0)},cL=function({sequenceStartTime:e,onSequenceChange:n}){Kr(this,gp,_t(this,qi,"f"),"f"),_t(this,Pc,"m",lI).call(this)?(Kr(this,Yu,_t(this,Yu,"f")+1,"f"),Kr(this,bm,vp.Scrolling,"f")):_t(this,Pc,"m",b2).call(this)&&(_t(this,Sm,"f")[_t(this,Yu,"f")].flatDisplayDuration>0?Kr(this,bm,vp.Flat,"f"):Kr(this,Yu,_t(this,Yu,"f")+1,"f")),Kr(this,qi,_t(this,Sm,"f")[_t(this,Yu,"f")],"f"),Kr(this,by,Date.now(),"f"),_t(this,qi,"f")&&ym(n)&&n({prevSequenceColor:_t(this,gp,"f").color,sequenceColor:_t(this,qi,"f").color,sequenceIndex:_t(this,Yu,"f"),sequenceStartTime:e})};const Qve=t=>t?.Challenge?.Name==="FaceMovementAndLightChallenge",Jve=t=>t?.Challenge?.Name==="FaceMovementChallenge",Zve=t=>!!t?.FaceMovementAndLightChallenge,eye=t=>!!t?.FaceMovementChallenge,tye=t=>{let e;if(Zve(t.Challenge))e={...t.Challenge.FaceMovementAndLightChallenge,Name:Ek.type};else if(eye(t.Challenge))e={...t.Challenge.FaceMovementChallenge,Name:w1.type};else throw new Error("Unsupported challenge type returned from session information.");if(!e.ChallengeConfig||!e.ChallengeConfig.FaceDistanceThreshold||!e.ChallengeConfig.FaceDistanceThresholdMin||!e.ChallengeConfig.OvalHeightWidthRatio)throw new Error("Challenge config not returned from session information.");return{...t,Challenge:e}},nye=async t=>{const{data:e,type:n}=t;return{VideoChunk:new Uint8Array(n==="streamVideo"?await e.arrayBuffer():[]),TimestampMillis:n==="closeCode"?e:Date.now()}},dL=t=>{const{height:e,width:n}=t.getVideoTracks()[0].getSettings();if(yy(e)||yy(n))throw new Error(`Invalid Track Dimensions. height: ${e}, width: ${n} `);return{trackHeight:e,trackWidth:n}};function fL({trackHeight:t,trackWidth:e,height:n,width:r,top:a,left:o}){return{Height:n/t,Width:r/e,Top:a/t,Left:o/e}}const rye=(t,e,n)=>t-e-n,pL=t=>{const{trackWidth:e,left:n,width:r}=t;return fL({...t,left:rye(e,n,r)})},aye=t=>{const{height:e,width:n,centerX:r,centerY:a}=t;return fL({...t,top:a-e/2,left:r-n/2})};function hL({parsedSessionInformation:t,clientChallenge:e}){if(Jve(t))return{Challenge:{FaceMovementChallenge:e}};if(Qve(t))return{Challenge:{FaceMovementAndLightChallenge:e}};throw new Error("Unable to create ClientSessionInformationEvent")}function oye({parsedSessionInformation:t,challengeId:e,faceMatchAssociatedParams:n,ovalAssociatedParams:r,recordingEndedTimestamp:a,trackHeight:o,trackWidth:u}){const{initialFace:l,ovalDetails:f}=r,{startFace:p,endFace:c}=n,g=pL({trackHeight:o,trackWidth:u,...l}),y=aye({trackHeight:o,trackWidth:u,...f}),S={ChallengeId:e,InitialFace:{InitialFaceDetectedTimestamp:l.timestampMs,BoundingBox:g},TargetFace:{FaceDetectedInTargetPositionStartTimestamp:p.timestampMs,FaceDetectedInTargetPositionEndTimestamp:c.timestampMs,BoundingBox:y},VideoEndTimestamp:a};return hL({parsedSessionInformation:t,clientChallenge:S})}function sye({parsedSessionInformation:t,challengeId:e,ovalAssociatedParams:n,recordingStartedTimestamp:r,trackHeight:a,trackWidth:o}){const{initialFace:u}=n,l=pL({trackHeight:a,trackWidth:o,...u}),f={ChallengeId:e,VideoStartTimestamp:r,InitialFace:{InitialFaceDetectedTimestamp:u.timestampMs,BoundingBox:l}};return hL({parsedSessionInformation:t,clientChallenge:f})}const mL=t=>t.slice(t.indexOf("(")+1,t.indexOf(")")).split(",").map(e=>parseInt(e));function iye({challengeId:t,sequenceStartTime:e,sequenceIndex:n,sequenceColor:r,prevSequenceColor:a}){const o={RGB:mL(r)},u={RGB:mL(a)};return{Challenge:{FaceMovementAndLightChallenge:{ChallengeId:t,ColorDisplayed:{CurrentColor:o,PreviousColor:u,SequenceNumber:n,CurrentColorStartTimestamp:e}}}}}function uye(t){const e=t.getReader();return{getRequestStream:async function*(){for(;;){const{done:n,value:r}=await e.read();if(n)return;if(r.type==="sessionInfo")yield{ClientSessionInformationEvent:r.data};else{if(r.type==="streamVideo"&&r.data.size<1)continue;yield{VideoEvent:await nye(r)}}}}}}function lye(t){const e=t.signer,n=t.signer,r=Object.assign(t,{eventSigner:e,messageSigner:n}),a=r.eventStreamPayloadHandlerProvider(r);return Object.assign(r,{eventStreamPayloadHandler:a})}let gL=class OA{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const n=new OA({...e,headers:{...e.headers}});return n.query&&(n.query=cye(n.query)),n}static isInstance(e){if(!e)return!1;const n=e;return"method"in n&&"protocol"in n&&"hostname"in n&&"path"in n&&typeof n.query=="object"&&typeof n.headers=="object"}clone(){return OA.clone(this)}};function cye(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return{...e,[n]:Array.isArray(r)?[...r]:r}},{})}const dye=t=>(e,n)=>async r=>{const{request:a}=r;return gL.isInstance(a)?t.eventStreamPayloadHandler.handle(e,r,n):e(r)},fye={tags:["EVENT_STREAM","SIGNATURE","HANDLE"],name:"eventStreamHandlingMiddleware",relation:"after",toMiddleware:"awsAuthMiddleware",override:!0},pye=t=>async e=>{const{request:n}=e;return gL.isInstance(n)?(n.headers={...n.headers,"content-type":"application/vnd.amazon.eventstream","x-amz-content-sha256":"STREAMING-AWS4-HMAC-SHA256-EVENTS"},t({...e,request:n})):t(e)},hye={step:"build",tags:["EVENT_STREAM","HEADER","CONTENT_TYPE","CONTENT_SHA256"],name:"eventStreamHeaderMiddleware",override:!0},mye=t=>({applyToStack:e=>{e.addRelativeTo(dye(t),fye),e.add(pye,hye)}}),gye=t=>({setHttpHandler(e){t.httpHandler=e},httpHandler(){return t.httpHandler},updateHttpClientConfig(e,n){t.httpHandler?.updateHttpClientConfig(e,n)},httpHandlerConfigs(){return t.httpHandler.httpHandlerConfigs()}}),vye=t=>({httpHandler:t.httpHandler()});var Sy;(function(t){t.HTTP="http",t.HTTPS="https"})(Sy||(Sy={}));var S2;(function(t){t.MD5="md5",t.CRC32="crc32",t.CRC32C="crc32c",t.SHA1="sha1",t.SHA256="sha256"})(S2||(S2={}));const cI="__smithy_context";let Ml=class MA{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const n=new MA({...e,headers:{...e.headers}});return n.query&&(n.query=yye(n.query)),n}static isInstance(e){if(!e)return!1;const n=e;return"method"in n&&"protocol"in n&&"hostname"in n&&"path"in n&&typeof n.query=="object"&&typeof n.headers=="object"}clone(){return MA.clone(this)}};function yye(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return{...e,[n]:Array.isArray(r)?[...r]:r}},{})}let wy=class{statusCode;reason;headers;body;constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const n=e;return typeof n.statusCode=="number"&&typeof n.headers=="object"}};function VNe(t){return t}const bye=t=>e=>async n=>{if(!Ml.isInstance(n.request))return e(n);const{request:r}=n,{handlerProtocol:a=""}=t.requestHandler.metadata||{};if(a.indexOf("h2")>=0&&!r.headers[":authority"])delete r.headers.host,r.headers[":authority"]=r.hostname+(r.port?":"+r.port:"");else if(!r.headers.host){let o=r.hostname;r.port!=null&&(o+=`:${r.port}`),r.headers.host=o}return e(n)},Sye={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},wye=t=>({applyToStack:e=>{e.add(bye(t),Sye)}}),Eye=()=>(t,e)=>async n=>{try{const r=await t(n),{clientName:a,commandName:o,logger:u,dynamoDbDocumentClientOptions:l={}}=e,{overrideInputFilterSensitiveLog:f,overrideOutputFilterSensitiveLog:p}=l,c=f??e.inputFilterSensitiveLog,g=p??e.outputFilterSensitiveLog,{$metadata:y,...S}=r.output;return u?.info?.({clientName:a,commandName:o,input:c(n.input),output:g(S),metadata:y}),r}catch(r){const{clientName:a,commandName:o,logger:u,dynamoDbDocumentClientOptions:l={}}=e,{overrideInputFilterSensitiveLog:f}=l,p=f??e.inputFilterSensitiveLog;throw u?.error?.({clientName:a,commandName:o,input:p(n.input),error:r,metadata:r.$metadata}),r}},xye={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Cye=t=>({applyToStack:e=>{e.add(Eye(),xye)}}),dI="X-Amzn-Trace-Id",kye="AWS_LAMBDA_FUNCTION_NAME",_ye="_X_AMZN_TRACE_ID",Tye=t=>e=>async n=>{const{request:r}=n;if(!Ml.isInstance(r)||t.runtime!=="node")return e(n);const a=Object.keys(r.headers??{}).find(f=>f.toLowerCase()===dI.toLowerCase())??dI;if(r.headers.hasOwnProperty(a))return e(n);const o=process.env[kye],u=process.env[_ye],l=f=>typeof f=="string"&&f.length>0;return l(o)&&l(u)&&(r.headers[dI]=u),e({...n,request:r})},Iye={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},Rye=t=>({applyToStack:e=>{e.add(Tye(t),Iye)}}),w2=t=>t[cI]||(t[cI]={}),Lc=t=>{if(typeof t=="function")return t;const e=Promise.resolve(t);return()=>e},Nye=(t,e)=>{if(!e||e.length===0)return t;const n=[];for(const r of e)for(const a of t)a.schemeId.split("#")[1]===r&&n.push(a);for(const r of t)n.find(({schemeId:a})=>a===r.schemeId)||n.push(r);return n};function Aye(t){const e=new Map;for(const n of t)e.set(n.schemeId,n);return e}const Dye=(t,e)=>(n,r)=>async a=>{const o=t.httpAuthSchemeProvider(await e.httpAuthSchemeParametersProvider(t,r,a.input)),u=t.authSchemePreference?await t.authSchemePreference():[],l=Nye(o,u),f=Aye(t.httpAuthSchemes),p=w2(r),c=[];for(const g of l){const y=f.get(g.schemeId);if(!y){c.push(`HttpAuthScheme \`${g.schemeId}\` was not enabled for this service.`);continue}const S=y.identityProvider(await e.identityProviderConfigProvider(t));if(!S){c.push(`HttpAuthScheme \`${g.schemeId}\` did not have an IdentityProvider configured.`);continue}const{identityProperties:E={},signingProperties:k={}}=g.propertiesExtractor?.(t,r)||{};g.identityProperties=Object.assign(g.identityProperties||{},E),g.signingProperties=Object.assign(g.signingProperties||{},k),p.selectedHttpAuthScheme={httpAuthOption:g,identity:await S(g.identityProperties),signer:y.signer};break}if(!p.selectedHttpAuthScheme)throw new Error(c.join(`
`));return n(a)},Oye={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},Mye=(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:n})=>({applyToStack:r=>{r.addRelativeTo(Dye(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:n}),Oye)}}),$ye=(t,e)=>(n,r)=>async a=>{const{response:o}=await n(a);try{const u=await e(o,t);return{response:o,output:u}}catch(u){if(Object.defineProperty(u,"$response",{value:o}),!("$metadata"in u)){const l="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{u.message+=`
  `+l}catch{!r.logger||r.logger?.constructor?.name==="NoOpLogger"?console.warn(l):r.logger?.warn?.(l)}typeof u.$responseBodyText<"u"&&u.$response&&(u.$response.body=u.$responseBodyText);try{if(wy.isInstance(o)){const{headers:f={}}=o,p=Object.entries(f);u.$metadata={httpStatusCode:o.statusCode,requestId:fI(/^x-[\w-]+-request-?id$/,p),extendedRequestId:fI(/^x-[\w-]+-id-2$/,p),cfId:fI(/^x-[\w-]+-cf-id$/,p)}}}catch{}}throw u}},fI=(t,e)=>(e.find(([n])=>n.match(t))||[void 0,void 0])[1],Fye=(t,e)=>(n,r)=>async a=>{const o=t,u=r.endpointV2?.url&&o.urlParser?async()=>o.urlParser(r.endpointV2.url):o.endpoint;if(!u)throw new Error("No valid endpoint provider available.");const l=await e(a.input,{...t,endpoint:u});return n({...a,request:l})},Pye={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},vL={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Lye(t,e,n){return{applyToStack:r=>{r.add($ye(t,n),Pye),r.add(Fye(t,e),vL)}}}const Bye=t=>e=>{throw e},zye=(t,e)=>{},Uye=t=>(e,n)=>async r=>{if(!Ml.isInstance(r.request))return e(r);const o=w2(n).selectedHttpAuthScheme;if(!o)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:u={}},identity:l,signer:f}=o,p=await e({...r,request:await f.sign(r.request,l,u)}).catch((f.errorHandler||Bye)(u));return(f.successHandler||zye)(p.response,u),p},Hye={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},Vye=t=>({applyToStack:e=>{e.addRelativeTo(Uye(),Hye)}}),Ey=t=>{if(typeof t=="function")return t;const e=Promise.resolve(t);return()=>e},yL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bL=Object.entries(yL).reduce((t,[e,n])=>(t[n]=Number(e),t),{}),Wye=yL.split(""),wm=6,xy=8,jye=63,pI=t=>{let e=t.length/4*3;t.slice(-2)==="=="?e-=2:t.slice(-1)==="="&&e--;const n=new ArrayBuffer(e),r=new DataView(n);for(let a=0;a<t.length;a+=4){let o=0,u=0;for(let p=a,c=a+3;p<=c;p++)if(t[p]!=="="){if(!(t[p]in bL))throw new TypeError(`Invalid character ${t[p]} in base64 string.`);o|=bL[t[p]]<<(c-p)*wm,u+=wm}else o>>=wm;const l=a/4*3;o>>=u%xy;const f=Math.floor(u/xy);for(let p=0;p<f;p++){const c=(f-p-1)*xy;r.setUint8(l+p,(o&255<<c)>>c)}}return new Uint8Array(n)},Em=t=>new TextEncoder().encode(t),Cy=t=>typeof t=="string"?Em(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t),SL=t=>{if(typeof t=="string")return t;if(typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(t)};function wL(t){let e;typeof t=="string"?e=Em(t):e=t;const n=typeof e=="object"&&typeof e.length=="number",r=typeof e=="object"&&typeof e.byteOffset=="number"&&typeof e.byteLength=="number";if(!n&&!r)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let a="";for(let o=0;o<e.length;o+=3){let u=0,l=0;for(let p=o,c=Math.min(o+3,e.length);p<c;p++)u|=e[p]<<(c-p-1)*xy,l+=xy;const f=Math.ceil(l/wm);u<<=f*wm-l;for(let p=1;p<=f;p++){const c=(f-p)*wm;a+=Wye[(u&jye<<c)>>c]}a+="==".slice(0,4-f)}return a}class yp extends Uint8Array{static fromString(e,n="utf-8"){if(typeof e=="string")return n==="base64"?yp.mutate(pI(e)):yp.mutate(Em(e));throw new Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}static mutate(e){return Object.setPrototypeOf(e,yp.prototype),e}transformToString(e="utf-8"){return e==="base64"?wL(this):SL(this)}}const bp=t=>encodeURIComponent(t).replace(/[!'()*]/g,Gye),Gye=t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`;function qye(t){const e=[];for(let n of Object.keys(t).sort()){const r=t[n];if(n=bp(n),Array.isArray(r))for(let a=0,o=r.length;a<o;a++)e.push(`${n}=${bp(r[a])}`);else{let a=n;(r||typeof r=="string")&&(a+=`=${bp(r)}`),e.push(a)}}return e.join("&")}function EL(t,e){return new Request(t,e)}function Kye(t=0){return new Promise((e,n)=>{t&&setTimeout(()=>{const r=new Error(`Request did not complete within ${t} ms`);r.name="TimeoutError",n(r)},t)})}const hI={supported:void 0};let Yye=class q7{config;configProvider;static create(e){return typeof e?.handle=="function"?e:new q7(e)}constructor(e){typeof e=="function"?this.configProvider=e().then(n=>n||{}):(this.config=e??{},this.configProvider=Promise.resolve(this.config)),hI.supported===void 0&&(hI.supported=typeof Request<"u"&&"keepalive"in EL("https://[::1]"))}destroy(){}async handle(e,{abortSignal:n,requestTimeout:r}={}){this.config||(this.config=await this.configProvider);const a=r??this.config.requestTimeout,o=this.config.keepAlive===!0,u=this.config.credentials;if(n?.aborted){const R=new Error("Request aborted");return R.name="AbortError",Promise.reject(R)}let l=e.path;const f=qye(e.query||{});f&&(l+=`?${f}`),e.fragment&&(l+=`#${e.fragment}`);let p="";if(e.username!=null||e.password!=null){const R=e.username??"",A=e.password??"";p=`${R}:${A}@`}const{port:c,method:g}=e,y=`${e.protocol}//${p}${e.hostname}${c?`:${c}`:""}${l}`,S=g==="GET"||g==="HEAD"?void 0:e.body,E={body:S,headers:new Headers(e.headers),method:g,credentials:u};this.config?.cache&&(E.cache=this.config.cache),S&&(E.duplex="half"),typeof AbortController<"u"&&(E.signal=n),hI.supported&&(E.keepalive=o),typeof this.config.requestInit=="function"&&Object.assign(E,this.config.requestInit(e));let k=()=>{};const _=EL(y,E),I=[fetch(_).then(R=>{const A=R.headers,O={};for(const U of A.entries())O[U[0]]=U[1];return R.body!=null?{response:new wy({headers:O,reason:R.statusText,statusCode:R.status,body:R.body})}:R.blob().then(U=>({response:new wy({headers:O,reason:R.statusText,statusCode:R.status,body:U})}))}),Kye(a)];return n&&I.push(new Promise((R,A)=>{const O=()=>{const L=new Error("Request aborted");L.name="AbortError",A(L)};if(typeof n.addEventListener=="function"){const L=n;L.addEventListener("abort",O,{once:!0}),k=()=>L.removeEventListener("abort",O)}else n.onabort=O})),Promise.race(I).finally(k)}updateHttpClientConfig(e,n){this.config=void 0,this.configProvider=this.configProvider.then(r=>(r[e]=n,r))}httpHandlerConfigs(){return this.config??{}}};const Xye=async t=>typeof Blob=="function"&&t instanceof Blob||t.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await t.arrayBuffer()):Qye(t):Jye(t);async function Qye(t){const e=await Zye(t),n=pI(e);return new Uint8Array(n)}async function Jye(t){const e=[],n=t.getReader();let r=!1,a=0;for(;!r;){const{done:l,value:f}=await n.read();f&&(e.push(f),a+=f.length),r=l}const o=new Uint8Array(a);let u=0;for(const l of e)o.set(l,u),u+=l.length;return o}function Zye(t){return new Promise((e,n)=>{const r=new FileReader;r.onloadend=()=>{if(r.readyState!==2)return n(new Error("Reader aborted too early"));const a=r.result??"",o=a.indexOf(","),u=o>-1?o+1:a.length;e(a.substring(u))},r.onabort=()=>n(new Error("Read aborted")),r.onerror=()=>n(r.error),r.readAsDataURL(t)})}const xL={},mI={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),xL[t]=e,mI[e]=t}function CL(t){if(t.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const e=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2){const r=t.slice(n,n+2).toLowerCase();if(r in mI)e[n/2]=mI[r];else throw new Error(`Cannot decode unrecognized sequence ${r} as hexadecimal`)}return e}function Ki(t){let e="";for(let n=0;n<t.byteLength;n++)e+=xL[t[n]];return e}const ebe=async(t=new Uint8Array,e)=>{if(t instanceof Uint8Array)return yp.mutate(t);if(!t)return yp.mutate(new Uint8Array);const n=e.streamCollector(t);return yp.mutate(await n)};function kL(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}const gI=t=>typeof t=="function"?t():t;function E2(t){if(typeof t=="object")return t;t=t|0;const e={};let n=0;for(const r of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(t>>n++&1)===1&&(e[r]=1);return e}class Bc{ref;memberName;static symbol=Symbol.for("@smithy/nor");symbol=Bc.symbol;name;schema;_isMemberSchema;traits;memberTraits;normalizedTraits;constructor(e,n){this.ref=e,this.memberName=n;const r=[];let a=e,o=e;for(this._isMemberSchema=!1;vI(a);)r.push(a[1]),a=a[0],o=gI(a),this._isMemberSchema=!0;if(r.length>0){this.memberTraits={};for(let u=r.length-1;u>=0;--u){const l=r[u];Object.assign(this.memberTraits,E2(l))}}else this.memberTraits=0;if(o instanceof Bc){const u=this.memberTraits;Object.assign(this,o),this.memberTraits=Object.assign({},u,o.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=n??o.memberName;return}if(this.schema=gI(o),tbe(this.schema)?(this.name=`${this.schema[1]}#${this.schema[2]}`,this.traits=this.schema[3]):(this.name=this.memberName??String(o),this.traits=0),this._isMemberSchema&&!n)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](e){const n=this.prototype.isPrototypeOf(e);return!n&&typeof e=="object"&&e!==null?e.symbol===this.symbol:n}static of(e){const n=gI(e);if(n instanceof Bc)return n;if(vI(n)){const[r,a]=n;if(r instanceof Bc)return Object.assign(r.getMergedTraits(),E2(a)),r;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(e,null,2)}.`)}return new Bc(n)}getSchema(){const e=this.schema;return e[0]===0?e[4]:e}getName(e=!1){const{name:n}=this;return!e&&n&&n.includes("#")?n.split("#")[1]:n||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){const e=this.getSchema();return typeof e=="number"?e>=64&&e<128:e[0]===1}isMapSchema(){const e=this.getSchema();return typeof e=="number"?e>=128&&e<=255:e[0]===2}isStructSchema(){const e=this.getSchema();return e[0]===3||e[0]===-3}isBlobSchema(){const e=this.getSchema();return e===21||e===42}isTimestampSchema(){const e=this.getSchema();return typeof e=="number"&&e>=4&&e<=7}isUnitSchema(){return this.getSchema()==="unit"}isDocumentSchema(){return this.getSchema()===15}isStringSchema(){return this.getSchema()===0}isBooleanSchema(){return this.getSchema()===2}isNumericSchema(){return this.getSchema()===1}isBigIntegerSchema(){return this.getSchema()===17}isBigDecimalSchema(){return this.getSchema()===19}isStreaming(){const{streaming:e}=this.getMergedTraits();return!!e||this.getSchema()===42}isIdempotencyToken(){const e=o=>(o&4)===4||!!o?.idempotencyToken,{normalizedTraits:n,traits:r,memberTraits:a}=this;return e(n)||e(r)||e(a)}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return E2(this.memberTraits)}getOwnTraits(){return E2(this.traits)}getKeySchema(){const[e,n]=[this.isDocumentSchema(),this.isMapSchema()];if(!e&&!n)throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);const r=this.getSchema(),a=e?15:r[4]??0;return ky([a,0],"key")}getValueSchema(){const e=this.getSchema(),[n,r,a]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],o=typeof e=="number"?63&e:e&&typeof e=="object"&&(r||a)?e[3+e[0]]:n?15:void 0;if(o!=null)return ky([o,0],r?"value":"member");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(e){const n=this.getSchema();if(this.isStructSchema()&&n[4].includes(e)){const r=n[4].indexOf(e),a=n[5][r];return ky(vI(a)?a:[a,0],e)}if(this.isDocumentSchema())return ky([15,0],e);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${e}.`)}getMemberSchemas(){const e={};try{for(const[n,r]of this.structIterator())e[n]=r}catch{}return e}getEventStreamMember(){if(this.isStructSchema()){for(const[e,n]of this.structIterator())if(n.isStreaming()&&n.isStructSchema())return e}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");const e=this.getSchema();for(let n=0;n<e[4].length;++n)yield[e[4][n],ky([e[5][n],0],e[4][n])]}}function ky(t,e){if(t instanceof Bc)return Object.assign(t,{memberName:e,_isMemberSchema:!0});const n=Bc;return new n(t,e)}const vI=t=>Array.isArray(t)&&t.length===2,tbe=t=>Array.isArray(t)&&t.length>=5,nbe=t=>{if(t!=null){if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return String(e)!==String(t)&&TL.warn(_L(`Expected number but observed string: ${t}`)),e}if(typeof t=="number")return t;throw new TypeError(`Expected number, got ${typeof t}: ${t}`)}},rbe=Math.ceil(2**127*(2-2**-23)),abe=t=>{const e=nbe(t);if(e!==void 0&&!Number.isNaN(e)&&e!==1/0&&e!==-1/0&&Math.abs(e)>rbe)throw new TypeError(`Expected 32-bit float, got ${t}`);return e},obe=t=>{if(t!=null){if(Number.isInteger(t)&&!Number.isNaN(t))return t;throw new TypeError(`Expected integer, got ${typeof t}: ${t}`)}},sbe=t=>ibe(t,32),ibe=(t,e)=>{const n=obe(t);if(n!==void 0&&ube(n,e)!==n)throw new TypeError(`Expected ${e}-bit integer, got ${t}`);return n},ube=(t,e)=>{switch(e){case 32:return Int32Array.of(t)[0];case 16:return Int16Array.of(t)[0];case 8:return Int8Array.of(t)[0]}},lbe=t=>{if(t==null)return;if(typeof t=="object"&&!Array.isArray(t))return t;const e=Array.isArray(t)?"array":typeof t;throw new TypeError(`Expected object, got ${e}: ${t}`)},Ks=t=>{if(t!=null){if(typeof t=="string")return t;if(["boolean","number","bigint"].includes(typeof t))return TL.warn(_L(`Expected string, got ${typeof t}: ${t}`)),String(t);throw new TypeError(`Expected string, got ${typeof t}: ${t}`)}},cbe=t=>{if(t==null)return;const e=lbe(t),n=Object.entries(e).filter(([,r])=>r!=null).map(([r])=>r);if(n.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(n.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${n} were not null.`);return e},ws=t=>typeof t=="string"?dbe(t):abe(t),dbe=t=>{switch(t){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${t}`)}},_L=t=>String(new TypeError(t).stack||t).split(`
`).slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join(`
`),TL={warn:console.warn},IL=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Es=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0")),fbe=()=>{if(IL)return IL();const t=new Uint8Array(16);return crypto.getRandomValues(t),t[6]=t[6]&15|64,t[8]=t[8]&63|128,Es[t[0]]+Es[t[1]]+Es[t[2]]+Es[t[3]]+"-"+Es[t[4]]+Es[t[5]]+"-"+Es[t[6]]+Es[t[7]]+"-"+Es[t[8]]+Es[t[9]]+"-"+Es[t[10]]+Es[t[11]]+Es[t[12]]+Es[t[13]]+Es[t[14]]+Es[t[15]]},pbe=(t,e,n,r,a,o)=>{if(e!=null&&e[n]!==void 0){const u=r();if(u.length<=0)throw new Error("Empty value provided for input HTTP label: "+n+".");t=t.replace(a,o?u.split("/").map(l=>kL(l)).join("/"):kL(u))}else throw new Error("No value provided for input HTTP label: "+n+".");return t};function hbe(t,e){return new mbe(t,e)}class mbe{input;context;query={};method="";headers={};path="";body=null;hostname="";resolvePathStack=[];constructor(e,n){this.input=e,this.context=n}async build(){const{hostname:e,protocol:n="https",port:r,path:a}=await this.context.endpoint();this.path=a;for(const o of this.resolvePathStack)o(this.path);return new Ml({protocol:n,hostname:this.hostname||e,port:r,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(e){return this.hostname=e,this}bp(e){return this.resolvePathStack.push(n=>{this.path=`${n?.endsWith("/")?n.slice(0,-1):n||""}`+e}),this}p(e,n,r,a){return this.resolvePathStack.push(o=>{this.path=pbe(o,this.input,e,n,r,a)}),this}h(e){return this.headers=e,this}q(e){return this.query=e,this}b(e){return this.body=e,this}m(e){return this.method=e,this}}function gbe(t,e,n){t.__smithy_context?t.__smithy_context.features||(t.__smithy_context.features={}):t.__smithy_context={features:{}},t.__smithy_context.features[e]=n}class vbe{authSchemes=new Map;constructor(e){for(const[n,r]of Object.entries(e))r!==void 0&&this.authSchemes.set(n,r)}getIdentityProvider(e){return this.authSchemes.get(e)}}const ybe=(t=>function(n){return RL(n)&&n.expiration.getTime()-Date.now()<t})(3e5),RL=t=>t.expiration!==void 0,bbe=(t,e,n)=>{if(t===void 0)return;const r=typeof t!="function"?async()=>Promise.resolve(t):t;let a,o,u,l=!1;const f=async p=>{o||(o=r(p));try{a=await o,u=!0,l=!1}finally{o=void 0}return a};return e===void 0?async p=>((!u||p?.forceRefresh)&&(a=await f(p)),a):async p=>((!u||p?.forceRefresh)&&(a=await f(p)),l?a:n(a)?(e(a)&&await f(p),a):(l=!0,a))},Sbe=void 0;function wbe(t){return t===void 0?!0:typeof t=="string"&&t.length<=50}function Ebe(t){const e=Ey(t.userAgentAppId??Sbe),{customUserAgent:n}=t;return Object.assign(t,{customUserAgent:typeof n=="string"?[[n]]:n,userAgentAppId:async()=>{const r=await e();if(!wbe(r)){const a=t.logger?.constructor?.name==="NoOpLogger"||!t.logger?console:t.logger;typeof r!="string"?a?.warn("userAgentAppId must be a string or undefined."):r.length>50&&a?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return r}})}class xbe{capacity;data=new Map;parameters=[];constructor({size:e,params:n}){this.capacity=e??50,n&&(this.parameters=n)}get(e,n){const r=this.hash(e);if(r===!1)return n();if(!this.data.has(r)){if(this.data.size>this.capacity+10){const a=this.data.keys();let o=0;for(;;){const{value:u,done:l}=a.next();if(this.data.delete(u),l||++o>10)break}}this.data.set(r,n())}return this.data.get(r)}size(){return this.data.size}hash(e){let n="";const{parameters:r}=this;if(r.length===0)return!1;for(const a of r){const o=String(e[a]??"");if(o.includes("|;"))return!1;n+=o+"|;"}return n}}const Cbe=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),NL=t=>Cbe.test(t)||t.startsWith("[")&&t.endsWith("]"),kbe=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),x2=(t,e=!1)=>{if(!e)return kbe.test(t);const n=t.split(".");for(const r of n)if(!x2(r))return!1;return!0},C2={},_y="endpoints";function qd(t){return typeof t!="object"||t==null?t:"ref"in t?`$${qd(t.ref)}`:"fn"in t?`${t.fn}(${(t.argv||[]).map(qd).join(", ")})`:JSON.stringify(t,null,2)}class Yi extends Error{constructor(e){super(e),this.name="EndpointError"}}const _be=(t,e)=>t===e,Tbe=t=>{const e=t.split("."),n=[];for(const r of e){const a=r.indexOf("[");if(a!==-1){if(r.indexOf("]")!==r.length-1)throw new Yi(`Path: '${t}' does not end with ']'`);const o=r.slice(a+1,-1);if(Number.isNaN(parseInt(o)))throw new Yi(`Invalid array index: '${o}' in path: '${t}'`);a!==0&&n.push(r.slice(0,a)),n.push(o)}else n.push(r)}return n},AL=(t,e)=>Tbe(e).reduce((n,r)=>{if(typeof n!="object")throw new Yi(`Index '${r}' in '${e}' not found in '${JSON.stringify(t)}'`);return Array.isArray(n)?n[parseInt(r)]:n[r]},t),Ibe=t=>t!=null,Rbe=t=>!t,yI={[Sy.HTTP]:80,[Sy.HTTPS]:443},Nbe={booleanEquals:_be,getAttr:AL,isSet:Ibe,isValidHostLabel:x2,not:Rbe,parseURL:t=>{const e=(()=>{try{if(t instanceof URL)return t;if(typeof t=="object"&&"hostname"in t){const{hostname:y,port:S,protocol:E="",path:k="",query:_={}}=t,I=new URL(`${E}//${y}${S?`:${S}`:""}${k}`);return I.search=Object.entries(_).map(([R,A])=>`${R}=${A}`).join("&"),I}return new URL(t)}catch{return null}})();if(!e)return console.error(`Unable to parse ${JSON.stringify(t)} as a whatwg URL.`),null;const n=e.href,{host:r,hostname:a,pathname:o,protocol:u,search:l}=e;if(l)return null;const f=u.slice(0,-1);if(!Object.values(Sy).includes(f))return null;const p=NL(a),c=n.includes(`${r}:${yI[f]}`)||typeof t=="string"&&t.includes(`${r}:${yI[f]}`),g=`${r}${c?`:${yI[f]}`:""}`;return{scheme:f,authority:g,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:p}},stringEquals:(t,e)=>t===e,substring:(t,e,n,r)=>e>=n||t.length<n?null:r?t.substring(t.length-n,t.length-e):t.substring(e,n),uriEncode:t=>encodeURIComponent(t).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)},DL=(t,e)=>{const n=[],r={...e.endpointParams,...e.referenceRecord};let a=0;for(;a<t.length;){const o=t.indexOf("{",a);if(o===-1){n.push(t.slice(a));break}n.push(t.slice(a,o));const u=t.indexOf("}",o);if(u===-1){n.push(t.slice(o));break}t[o+1]==="{"&&t[u+1]==="}"&&(n.push(t.slice(o+1,u)),a=u+2);const l=t.substring(o+1,u);if(l.includes("#")){const[f,p]=l.split("#");n.push(AL(r[f],p))}else n.push(r[l]);a=u+1}return n.join("")},Abe=({ref:t},e)=>({...e.endpointParams,...e.referenceRecord})[t],k2=(t,e,n)=>{if(typeof t=="string")return DL(t,n);if(t.fn)return ML.callFunction(t,n);if(t.ref)return Abe(t,n);throw new Yi(`'${e}': ${String(t)} is not a string, function or reference.`)},OL=({fn:t,argv:e},n)=>{const r=e.map(o=>["boolean","number"].includes(typeof o)?o:ML.evaluateExpression(o,"arg",n)),a=t.split(".");return a[0]in C2&&a[1]!=null?C2[a[0]][a[1]](...r):Nbe[t](...r)},ML={evaluateExpression:k2,callFunction:OL},Dbe=({assign:t,...e},n)=>{if(t&&t in n.referenceRecord)throw new Yi(`'${t}' is already defined in Reference Record.`);const r=OL(e,n);return n.logger?.debug?.(`${_y} evaluateCondition: ${qd(e)} = ${qd(r)}`),{result:r===""?!0:!!r,...t!=null&&{toAssign:{name:t,value:r}}}},bI=(t=[],e)=>{const n={};for(const r of t){const{result:a,toAssign:o}=Dbe(r,{...e,referenceRecord:{...e.referenceRecord,...n}});if(!a)return{result:a};o&&(n[o.name]=o.value,e.logger?.debug?.(`${_y} assign: ${o.name} := ${qd(o.value)}`))}return{result:!0,referenceRecord:n}},Obe=(t,e)=>Object.entries(t).reduce((n,[r,a])=>({...n,[r]:a.map(o=>{const u=k2(o,"Header value entry",e);if(typeof u!="string")throw new Yi(`Header '${r}' value '${u}' is not a string`);return u})}),{}),$L=(t,e)=>Object.entries(t).reduce((n,[r,a])=>({...n,[r]:PL.getEndpointProperty(a,e)}),{}),FL=(t,e)=>{if(Array.isArray(t))return t.map(n=>FL(n,e));switch(typeof t){case"string":return DL(t,e);case"object":if(t===null)throw new Yi(`Unexpected endpoint property: ${t}`);return PL.getEndpointProperties(t,e);case"boolean":return t;default:throw new Yi(`Unexpected endpoint property type: ${typeof t}`)}},PL={getEndpointProperty:FL,getEndpointProperties:$L},Mbe=(t,e)=>{const n=k2(t,"Endpoint URL",e);if(typeof n=="string")try{return new URL(n)}catch(r){throw console.error(`Failed to construct URL with ${n}`,r),r}throw new Yi(`Endpoint URL must be a string, got ${typeof n}`)},$be=(t,e)=>{const{conditions:n,endpoint:r}=t,{result:a,referenceRecord:o}=bI(n,e);if(!a)return;const u={...e,referenceRecord:{...e.referenceRecord,...o}},{url:l,properties:f,headers:p}=r;return e.logger?.debug?.(`${_y} Resolving endpoint from template: ${qd(r)}`),{...p!=null&&{headers:Obe(p,u)},...f!=null&&{properties:$L(f,u)},url:Mbe(l,u)}},Fbe=(t,e)=>{const{conditions:n,error:r}=t,{result:a,referenceRecord:o}=bI(n,e);if(a)throw new Yi(k2(r,"Error",{...e,referenceRecord:{...e.referenceRecord,...o}}))},LL=(t,e)=>{for(const n of t)if(n.type==="endpoint"){const r=$be(n,e);if(r)return r}else if(n.type==="error")Fbe(n,e);else if(n.type==="tree"){const r=BL.evaluateTreeRule(n,e);if(r)return r}else throw new Yi(`Unknown endpoint rule: ${n}`);throw new Yi("Rules evaluation failed")},BL={evaluateRules:LL,evaluateTreeRule:(t,e)=>{const{conditions:n,rules:r}=t,{result:a,referenceRecord:o}=bI(n,e);if(a)return BL.evaluateRules(r,{...e,referenceRecord:{...e.referenceRecord,...o}})}},Pbe=(t,e)=>{const{endpointParams:n,logger:r}=e,{parameters:a,rules:o}=t;e.logger?.debug?.(`${_y} Initial EndpointParams: ${qd(n)}`);const u=Object.entries(a).filter(([,p])=>p.default!=null).map(([p,c])=>[p,c.default]);if(u.length>0)for(const[p,c]of u)n[p]=n[p]??c;const l=Object.entries(a).filter(([,p])=>p.required).map(([p])=>p);for(const p of l)if(n[p]==null)throw new Yi(`Missing required parameter: '${p}'`);const f=LL(o,{endpointParams:n,logger:r,referenceRecord:{}});return e.logger?.debug?.(`${_y} Resolved endpoint: ${qd(f)}`),f},zL=(t,e=!1)=>{if(e){for(const n of t.split("."))if(!zL(n))return!1;return!0}return!(!x2(t)||t.length<3||t.length>63||t!==t.toLowerCase()||NL(t))},UL=":",Lbe="/",Bbe=t=>{const e=t.split(UL);if(e.length<6)return null;const[n,r,a,o,u,...l]=e;if(n!=="arn"||r===""||a===""||l.join(UL)==="")return null;const f=l.map(p=>p.split(Lbe)).flat();return{partition:r,service:a,region:o,accountId:u,resourceId:f}};let zbe={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"AWS ISOE (Europe) global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"AWS ISOF global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"amazonaws.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}}]};const HL={isVirtualHostableS3Bucket:zL,parseArn:Bbe,partition:t=>{const{partitions:e}=zbe;for(const r of e){const{regions:a,outputs:o}=r;for(const[u,l]of Object.entries(a))if(u===t)return{...o,...l}}for(const r of e){const{regionRegex:a,outputs:o}=r;if(new RegExp(a).test(t))return{...o}}const n=e.find(r=>r.id==="aws");if(!n)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...n.outputs}}};C2.aws=HL;function Ube(t,e,n){return t.$source||(t.$source={}),t.$source[e]=n,t}function $l(t,e,n){t.__aws_sdk_context?t.__aws_sdk_context.features||(t.__aws_sdk_context.features={}):t.__aws_sdk_context={features:{}},t.__aws_sdk_context.features[e]=n}const VL=t=>wy.isInstance(t)?t.headers?.date??t.headers?.Date:void 0,WL=t=>new Date(Date.now()+t),Hbe=(t,e)=>Math.abs(WL(e).getTime()-t)>=3e5,jL=(t,e)=>{const n=Date.parse(t);return Hbe(n,e)?n-Date.now():e},Ty=(t,e)=>{if(!e)throw new Error(`Property \`${t}\` is not resolved for AWS SDK SigV4Auth`);return e},Vbe=async t=>{const e=Ty("context",t.context),n=Ty("config",t.config),r=e.endpointV2?.properties?.authSchemes?.[0],o=await Ty("signer",n.signer)(r),u=t?.signingRegion,l=t?.signingRegionSet,f=t?.signingName;return{config:n,signer:o,signingRegion:u,signingRegionSet:l,signingName:f}};class Wbe{async sign(e,n,r){if(!Ml.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const a=await Vbe(r),{config:o,signer:u}=a;let{signingRegion:l,signingName:f}=a;const p=r.context;if(p?.authSchemes?.length??!1){const[g,y]=p.authSchemes;g?.name==="sigv4a"&&y?.name==="sigv4"&&(l=y?.signingRegion??l,f=y?.signingName??f)}return await u.sign(e,{signingDate:WL(o.systemClockOffset),signingRegion:l,signingService:f})}errorHandler(e){return n=>{const r=n.ServerTime??VL(n.$response);if(r){const a=Ty("config",e.config),o=a.systemClockOffset;a.systemClockOffset=jL(r,a.systemClockOffset),a.systemClockOffset!==o&&n.$metadata&&(n.$metadata.clockSkewCorrected=!0)}throw n}}successHandler(e,n){const r=VL(e);if(r){const a=Ty("config",n.config);a.systemClockOffset=jL(r,a.systemClockOffset)}}}const jbe=(t,e,n)=>{let r,a,o,u=!1;const l=async()=>{a||(a=t());try{r=await a,o=!0,u=!1}finally{a=void 0}return r};return async f=>((!o||f?.forceRefresh)&&(r=await l()),r)},Gbe="X-Amz-Algorithm",qbe="X-Amz-Credential",GL="X-Amz-Date",Kbe="X-Amz-SignedHeaders",Ybe="X-Amz-Expires",qL="X-Amz-Signature",KL="X-Amz-Security-Token",YL="authorization",XL=GL.toLowerCase(),Xbe=[YL,XL,"date"],Qbe=qL.toLowerCase(),SI="x-amz-content-sha256",Jbe=KL.toLowerCase(),Zbe={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},e0e=/^proxy-/,t0e=/^sec-/,wI="AWS4-HMAC-SHA256",n0e="AWS4-HMAC-SHA256-PAYLOAD",r0e="UNSIGNED-PAYLOAD",a0e=50,QL="aws4_request",o0e=3600*24*7,_2={},EI=[],xI=(t,e,n)=>`${t}/${e}/${n}/${QL}`,s0e=async(t,e,n,r,a)=>{const o=await JL(t,e.secretAccessKey,e.accessKeyId),u=`${n}:${r}:${a}:${Ki(o)}:${e.sessionToken}`;if(u in _2)return _2[u];for(EI.push(u);EI.length>a0e;)delete _2[EI.shift()];let l=`AWS4${e.secretAccessKey}`;for(const f of[n,r,a,QL])l=await JL(t,l,f);return _2[u]=l},JL=(t,e,n)=>{const r=new t(e);return r.update(Cy(n)),r.digest()},ZL=({headers:t},e,n)=>{const r={};for(const a of Object.keys(t).sort()){if(t[a]==null)continue;const o=a.toLowerCase();(o in Zbe||e?.has(o)||e0e.test(o)||t0e.test(o))&&(!n||n&&!n.has(o))||(r[o]=t[a].trim().replace(/\s+/g," "))}return r},i0e=t=>typeof ArrayBuffer=="function"&&t instanceof ArrayBuffer||Object.prototype.toString.call(t)==="[object ArrayBuffer]",CI=async({headers:t,body:e},n)=>{for(const r of Object.keys(t))if(r.toLowerCase()===SI)return t[r];if(e==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof e=="string"||ArrayBuffer.isView(e)||i0e(e)){const r=new n;return r.update(Cy(e)),Ki(await r.digest())}return r0e};let u0e=class{format(e){const n=[];for(const o of Object.keys(e)){const u=Em(o);n.push(Uint8Array.from([u.byteLength]),u,this.formatHeaderValue(e[o]))}const r=new Uint8Array(n.reduce((o,u)=>o+u.byteLength,0));let a=0;for(const o of n)r.set(o,a),a+=o.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":const n=new DataView(new ArrayBuffer(3));return n.setUint8(0,3),n.setInt16(1,e.value,!1),new Uint8Array(n.buffer);case"integer":const r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":const a=new Uint8Array(9);return a[0]=5,a.set(e.value.bytes,1),a;case"binary":const o=new DataView(new ArrayBuffer(3+e.value.byteLength));o.setUint8(0,6),o.setUint16(1,e.value.byteLength,!1);const u=new Uint8Array(o.buffer);return u.set(e.value,3),u;case"string":const l=Em(e.value),f=new DataView(new ArrayBuffer(3+l.byteLength));f.setUint8(0,7),f.setUint16(1,l.byteLength,!1);const p=new Uint8Array(f.buffer);return p.set(l,3),p;case"timestamp":const c=new Uint8Array(9);return c[0]=8,c.set(c0e.fromNumber(e.value.valueOf()).bytes,1),c;case"uuid":if(!l0e.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);const g=new Uint8Array(17);return g[0]=9,g.set(CL(e.value.replace(/\-/g,"")),1),g}}};var e5;(function(t){t[t.boolTrue=0]="boolTrue",t[t.boolFalse=1]="boolFalse",t[t.byte=2]="byte",t[t.short=3]="short",t[t.integer=4]="integer",t[t.long=5]="long",t[t.byteArray=6]="byteArray",t[t.string=7]="string",t[t.timestamp=8]="timestamp",t[t.uuid=9]="uuid"})(e5||(e5={}));const l0e=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;let c0e=class K7{bytes;constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);const n=new Uint8Array(8);for(let r=7,a=Math.abs(Math.round(e));r>-1&&a>0;r--,a/=256)n[r]=a;return e<0&&t5(n),new K7(n)}valueOf(){const e=this.bytes.slice(0),n=e[0]&128;return n&&t5(e),parseInt(Ki(e),16)*(n?-1:1)}toString(){return String(this.valueOf())}};function t5(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}const d0e=(t,e)=>{t=t.toLowerCase();for(const n of Object.keys(e))if(t===n.toLowerCase())return!0;return!1},f0e=(t,e={})=>{const{headers:n,query:r={}}=Ml.clone(t);for(const a of Object.keys(n)){const o=a.toLowerCase();(o.slice(0,6)==="x-amz-"&&!e.unhoistableHeaders?.has(o)||e.hoistableHeaders?.has(o))&&(r[a]=n[a],delete n[a])}return{...t,headers:n,query:r}},n5=t=>{t=Ml.clone(t);for(const e of Object.keys(t.headers))Xbe.indexOf(e.toLowerCase())>-1&&delete t.headers[e];return t},p0e=({query:t={}})=>{const e=[],n={};for(const r of Object.keys(t)){if(r.toLowerCase()===Qbe)continue;const a=bp(r);e.push(a);const o=t[r];typeof o=="string"?n[a]=`${a}=${bp(o)}`:Array.isArray(o)&&(n[a]=o.slice(0).reduce((u,l)=>u.concat([`${a}=${bp(l)}`]),[]).sort().join("&"))}return e.sort().map(r=>n[r]).filter(r=>r).join("&")},h0e=t=>m0e(t).toISOString().replace(/\.\d{3}Z$/,"Z"),m0e=t=>typeof t=="number"?new Date(t*1e3):typeof t=="string"?Number(t)?new Date(Number(t)*1e3):new Date(t):t;let g0e=class{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:e,credentials:n,region:r,service:a,sha256:o,uriEscapePath:u=!0}){this.service=a,this.sha256=o,this.uriEscapePath=u,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=Lc(r),this.credentialProvider=Lc(n)}createCanonicalRequest(e,n,r){const a=Object.keys(n).sort();return`${e.method}
${this.getCanonicalPath(e)}
${p0e(e)}
${a.map(o=>`${o}:${n[o]}`).join(`
`)}

${a.join(";")}
${r}`}async createStringToSign(e,n,r,a){const o=new this.sha256;o.update(Cy(r));const u=await o.digest();return`${a}
${e}
${n}
${Ki(u)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){const n=[];for(const o of e.split("/"))o?.length!==0&&o!=="."&&(o===".."?n.pop():n.push(o));const r=`${e?.startsWith("/")?"/":""}${n.join("/")}${n.length>0&&e?.endsWith("/")?"/":""}`;return bp(r).replace(/%2F/g,"/")}return e}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(e){const n=h0e(e).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.slice(0,8)}}getCanonicalHeaderList(e){return Object.keys(e).sort().join(";")}},r5=class extends g0e{headerFormatter=new u0e;constructor({applyChecksum:e,credentials:n,region:r,service:a,sha256:o,uriEscapePath:u=!0}){super({applyChecksum:e,credentials:n,region:r,service:a,sha256:o,uriEscapePath:u})}async presign(e,n={}){const{signingDate:r=new Date,expiresIn:a=3600,unsignableHeaders:o,unhoistableHeaders:u,signableHeaders:l,hoistableHeaders:f,signingRegion:p,signingService:c}=n,g=await this.credentialProvider();this.validateResolvedCredentials(g);const y=p??await this.regionProvider(),{longDate:S,shortDate:E}=this.formatDate(r);if(a>o0e)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const k=xI(E,y,c??this.service),_=f0e(n5(e),{unhoistableHeaders:u,hoistableHeaders:f});g.sessionToken&&(_.query[KL]=g.sessionToken),_.query[Gbe]=wI,_.query[qbe]=`${g.accessKeyId}/${k}`,_.query[GL]=S,_.query[Ybe]=a.toString(10);const I=ZL(_,o,l);return _.query[Kbe]=this.getCanonicalHeaderList(I),_.query[qL]=await this.getSignature(S,k,this.getSigningKey(g,y,E,c),this.createCanonicalRequest(_,I,await CI(e,this.sha256))),_}async sign(e,n){return typeof e=="string"?this.signString(e,n):e.headers&&e.payload?this.signEvent(e,n):e.message?this.signMessage(e,n):this.signRequest(e,n)}async signEvent({headers:e,payload:n},{signingDate:r=new Date,priorSignature:a,signingRegion:o,signingService:u}){const l=o??await this.regionProvider(),{shortDate:f,longDate:p}=this.formatDate(r),c=xI(f,l,u??this.service),g=await CI({headers:{},body:n},this.sha256),y=new this.sha256;y.update(e);const S=Ki(await y.digest()),E=[n0e,p,c,a,S,g].join(`
`);return this.signString(E,{signingDate:r,signingRegion:l,signingService:u})}async signMessage(e,{signingDate:n=new Date,signingRegion:r,signingService:a}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:n,signingRegion:r,signingService:a,priorSignature:e.priorSignature}).then(u=>({message:e.message,signature:u}))}async signString(e,{signingDate:n=new Date,signingRegion:r,signingService:a}={}){const o=await this.credentialProvider();this.validateResolvedCredentials(o);const u=r??await this.regionProvider(),{shortDate:l}=this.formatDate(n),f=new this.sha256(await this.getSigningKey(o,u,l,a));return f.update(Cy(e)),Ki(await f.digest())}async signRequest(e,{signingDate:n=new Date,signableHeaders:r,unsignableHeaders:a,signingRegion:o,signingService:u}={}){const l=await this.credentialProvider();this.validateResolvedCredentials(l);const f=o??await this.regionProvider(),p=n5(e),{longDate:c,shortDate:g}=this.formatDate(n),y=xI(g,f,u??this.service);p.headers[XL]=c,l.sessionToken&&(p.headers[Jbe]=l.sessionToken);const S=await CI(p,this.sha256);!d0e(SI,p.headers)&&this.applyChecksum&&(p.headers[SI]=S);const E=ZL(p,a,r),k=await this.getSignature(c,y,this.getSigningKey(l,f,g,u),this.createCanonicalRequest(p,E,S));return p.headers[YL]=`${wI} Credential=${l.accessKeyId}/${y}, SignedHeaders=${this.getCanonicalHeaderList(E)}, Signature=${k}`,p}async getSignature(e,n,r,a){const o=await this.createStringToSign(e,n,a,wI),u=new this.sha256(await r);return u.update(Cy(o)),Ki(await u.digest())}getSigningKey(e,n,r,a){return s0e(this.sha256,e,r,n,a||this.service)}};const v0e=t=>{let e=t.credentials,n=!!t.credentials,r;Object.defineProperty(t,"credentials",{set(p){p&&p!==e&&p!==r&&(n=!0),e=p;const c=y0e(t,{credentials:e,credentialDefaultProvider:t.credentialDefaultProvider}),g=b0e(t,c);n&&!g.attributed?(r=async y=>g(y).then(S=>Ube(S,"CREDENTIALS_CODE","e")),r.memoized=g.memoized,r.configBound=g.configBound,r.attributed=!0):r=g},get(){return r},enumerable:!0,configurable:!0}),t.credentials=e;const{signingEscapePath:a=!0,systemClockOffset:o=t.systemClockOffset||0,sha256:u}=t;let l;return t.signer?l=Ey(t.signer):t.regionInfoProvider?l=()=>Ey(t.region)().then(async p=>[await t.regionInfoProvider(p,{useFipsEndpoint:await t.useFipsEndpoint(),useDualstackEndpoint:await t.useDualstackEndpoint()})||{},p]).then(([p,c])=>{const{signingRegion:g,signingService:y}=p;t.signingRegion=t.signingRegion||g||c,t.signingName=t.signingName||y||t.serviceId;const S={...t,credentials:t.credentials,region:t.signingRegion,service:t.signingName,sha256:u,uriEscapePath:a},E=t.signerConstructor||r5;return new E(S)}):l=async p=>{p=Object.assign({},{name:"sigv4",signingName:t.signingName||t.defaultSigningName,signingRegion:await Ey(t.region)(),properties:{}},p);const c=p.signingRegion,g=p.signingName;t.signingRegion=t.signingRegion||c,t.signingName=t.signingName||g||t.serviceId;const y={...t,credentials:t.credentials,region:t.signingRegion,service:t.signingName,sha256:u,uriEscapePath:a},S=t.signerConstructor||r5;return new S(y)},Object.assign(t,{systemClockOffset:o,signingEscapePath:a,signer:l})};function y0e(t,{credentials:e,credentialDefaultProvider:n}){let r;return e?e?.memoized?r=e:r=bbe(e,ybe,RL):n?r=Ey(n(Object.assign({},t,{parentClientConfig:t}))):r=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},r.memoized=!0,r}function b0e(t,e){if(e.configBound)return e;const n=async r=>e({...r,callerClientConfig:t});return n.memoized=e.memoized,n.configBound=!0,n}const a5=typeof TextEncoder=="function"?new TextEncoder:null,S0e=t=>{if(typeof t=="string"){if(a5)return a5.encode(t).byteLength;let e=t.length;for(let n=e-1;n>=0;n--){const r=t.charCodeAt(n);r>127&&r<=2047?e++:r>2047&&r<=65535&&(e+=2),r>=56320&&r<=57343&&n--}return e}else{if(typeof t.byteLength=="number")return t.byteLength;if(typeof t.size=="number")return t.size}throw new Error(`Body Length computation failed for ${t}`)},Sp=(t,e)=>{const n=[];if(t&&n.push(t),e)for(const r of e)n.push(r);return n},Kd=(t,e)=>`${t||"anonymous"}${e&&e.length>0?` (a.k.a. ${e.join(",")})`:""}`,T2=()=>{let t=[],e=[],n=!1;const r=new Set,a=g=>g.sort((y,S)=>o5[S.step]-o5[y.step]||s5[S.priority||"normal"]-s5[y.priority||"normal"]),o=g=>{let y=!1;const S=E=>{const k=Sp(E.name,E.aliases);if(k.includes(g)){y=!0;for(const _ of k)r.delete(_);return!1}return!0};return t=t.filter(S),e=e.filter(S),y},u=g=>{let y=!1;const S=E=>{if(E.middleware===g){y=!0;for(const k of Sp(E.name,E.aliases))r.delete(k);return!1}return!0};return t=t.filter(S),e=e.filter(S),y},l=g=>(t.forEach(y=>{g.add(y.middleware,{...y})}),e.forEach(y=>{g.addRelativeTo(y.middleware,{...y})}),g.identifyOnResolve?.(c.identifyOnResolve()),g),f=g=>{const y=[];return g.before.forEach(S=>{S.before.length===0&&S.after.length===0?y.push(S):y.push(...f(S))}),y.push(g),g.after.reverse().forEach(S=>{S.before.length===0&&S.after.length===0?y.push(S):y.push(...f(S))}),y},p=(g=!1)=>{const y=[],S=[],E={};return t.forEach(_=>{const I={..._,before:[],after:[]};for(const R of Sp(I.name,I.aliases))E[R]=I;y.push(I)}),e.forEach(_=>{const I={..._,before:[],after:[]};for(const R of Sp(I.name,I.aliases))E[R]=I;S.push(I)}),S.forEach(_=>{if(_.toMiddleware){const I=E[_.toMiddleware];if(I===void 0){if(g)return;throw new Error(`${_.toMiddleware} is not found when adding ${Kd(_.name,_.aliases)} middleware ${_.relation} ${_.toMiddleware}`)}_.relation==="after"&&I.after.push(_),_.relation==="before"&&I.before.push(_)}}),a(y).map(f).reduce((_,I)=>(_.push(...I),_),[])},c={add:(g,y={})=>{const{name:S,override:E,aliases:k}=y,_={step:"initialize",priority:"normal",middleware:g,...y},I=Sp(S,k);if(I.length>0){if(I.some(R=>r.has(R))){if(!E)throw new Error(`Duplicate middleware name '${Kd(S,k)}'`);for(const R of I){const A=t.findIndex(L=>L.name===R||L.aliases?.some(U=>U===R));if(A===-1)continue;const O=t[A];if(O.step!==_.step||_.priority!==O.priority)throw new Error(`"${Kd(O.name,O.aliases)}" middleware with ${O.priority} priority in ${O.step} step cannot be overridden by "${Kd(S,k)}" middleware with ${_.priority} priority in ${_.step} step.`);t.splice(A,1)}}for(const R of I)r.add(R)}t.push(_)},addRelativeTo:(g,y)=>{const{name:S,override:E,aliases:k}=y,_={middleware:g,...y},I=Sp(S,k);if(I.length>0){if(I.some(R=>r.has(R))){if(!E)throw new Error(`Duplicate middleware name '${Kd(S,k)}'`);for(const R of I){const A=e.findIndex(L=>L.name===R||L.aliases?.some(U=>U===R));if(A===-1)continue;const O=e[A];if(O.toMiddleware!==_.toMiddleware||O.relation!==_.relation)throw new Error(`"${Kd(O.name,O.aliases)}" middleware ${O.relation} "${O.toMiddleware}" middleware cannot be overridden by "${Kd(S,k)}" middleware ${_.relation} "${_.toMiddleware}" middleware.`);e.splice(A,1)}}for(const R of I)r.add(R)}e.push(_)},clone:()=>l(T2()),use:g=>{g.applyToStack(c)},remove:g=>typeof g=="string"?o(g):u(g),removeByTag:g=>{let y=!1;const S=E=>{const{tags:k,name:_,aliases:I}=E;if(k&&k.includes(g)){const R=Sp(_,I);for(const A of R)r.delete(A);return y=!0,!1}return!0};return t=t.filter(S),e=e.filter(S),y},concat:g=>{const y=l(T2());return y.use(g),y.identifyOnResolve(n||y.identifyOnResolve()||(g.identifyOnResolve?.()??!1)),y},applyToStack:l,identify:()=>p(!0).map(g=>{const y=g.step??g.relation+" "+g.toMiddleware;return Kd(g.name,g.aliases)+" - "+y}),identifyOnResolve(g){return typeof g=="boolean"&&(n=g),n},resolve:(g,y)=>{for(const S of p().map(E=>E.middleware).reverse())g=S(g,y);return n&&console.log(c.identify()),g}};return c},o5={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},s5={high:3,normal:2,low:1};class w0e{config;middlewareStack=T2();initConfig;handlers;constructor(e){this.config=e}send(e,n,r){const a=typeof n!="function"?n:void 0,o=typeof n=="function"?n:r,u=a===void 0&&this.config.cacheMiddleware===!0;let l;if(u){this.handlers||(this.handlers=new WeakMap);const f=this.handlers;f.has(e.constructor)?l=f.get(e.constructor):(l=e.resolveMiddleware(this.middlewareStack,this.config,a),f.set(e.constructor,l))}else delete this.handlers,l=e.resolveMiddleware(this.middlewareStack,this.config,a);if(o)l(e).then(f=>o(null,f.output),f=>o(f)).catch(()=>{});else return l(e).then(f=>f.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}}const kI="***SensitiveInformation***";function _I(t,e){if(e==null)return e;const n=Bc.of(t);if(n.getMergedTraits().sensitive)return kI;if(n.isListSchema()){if(!!n.getValueSchema().getMergedTraits().sensitive)return kI}else if(n.isMapSchema()){if(!!n.getKeySchema().getMergedTraits().sensitive||!!n.getValueSchema().getMergedTraits().sensitive)return kI}else if(n.isStructSchema()&&typeof e=="object"){const r=e,a={};for(const[o,u]of n.structIterator())r[o]!=null&&(a[o]=_I(u,r[o]));return a}return e}class i5{middlewareStack=T2();schema;static classBuilder(){return new E0e}resolveMiddlewareWithContext(e,n,r,{middlewareFn:a,clientName:o,commandName:u,inputFilterSensitiveLog:l,outputFilterSensitiveLog:f,smithyContext:p,additionalContext:c,CommandCtor:g}){for(const _ of a.bind(this)(g,e,n,r))this.middlewareStack.use(_);const y=e.concat(this.middlewareStack),{logger:S}=n,E={logger:S,clientName:o,commandName:u,inputFilterSensitiveLog:l,outputFilterSensitiveLog:f,[cI]:{commandInstance:this,...p},...c},{requestHandler:k}=n;return y.resolve(_=>k.handle(_.request,r||{}),E)}}class E0e{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,n,r={}){return this._smithyContext={service:e,operation:n,...r},this}c(e={}){return this._additionalContext=e,this}n(e,n){return this._clientName=e,this._commandName=n,this}f(e=r=>r,n=r=>r){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=n,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}sc(e){return this._operationSchema=e,this._smithyContext.operationSchema=e,this}build(){const e=this;let n;return n=class extends i5{input;static getEndpointParameterInstructions(){return e._ep}constructor(...[r]){super(),this.input=r??{},e._init(this),this.schema=e._operationSchema}resolveMiddleware(r,a,o){const u=e._operationSchema,l=u?.[4]??u?.input,f=u?.[5]??u?.output;return this.resolveMiddlewareWithContext(r,a,o,{CommandCtor:n,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog??(u?_I.bind(null,l):p=>p),outputFilterSensitiveLog:e._outputFilterSensitiveLog??(u?_I.bind(null,f):p=>p),smithyContext:e._smithyContext,additionalContext:e._additionalContext})}serialize=e._serializer;deserialize=e._deserializer}}}class xm extends Error{$fault;$response;$retryable;$metadata;constructor(e){super(e.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}static isInstance(e){if(!e)return!1;const n=e;return xm.prototype.isPrototypeOf(n)||!!n.$fault&&!!n.$metadata&&(n.$fault==="client"||n.$fault==="server")}static[Symbol.hasInstance](e){if(!e)return!1;const n=e;return this===xm?xm.isInstance(e):xm.isInstance(e)?n.name&&this.name?this.prototype.isPrototypeOf(e)||n.name===this.name:this.prototype.isPrototypeOf(e):!1}}const Yd=(t,e={})=>{Object.entries(e).filter(([,r])=>r!==void 0).forEach(([r,a])=>{(t[r]==null||t[r]==="")&&(t[r]=a)});const n=t.message||t.Message||"UnknownError";return t.message=n,delete t.Message,t},x0e=({output:t,parsedBody:e,exceptionCtor:n,errorCode:r})=>{const a=k0e(t),o=a.httpStatusCode?a.httpStatusCode+"":void 0,u=new n({name:e?.code||e?.Code||r||o||"UnknownError",$fault:"client",$metadata:a});throw Yd(u,e)},C0e=t=>({output:e,parsedBody:n,errorCode:r})=>{x0e({output:e,parsedBody:n,exceptionCtor:t,errorCode:r})},k0e=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),_0e=t=>{switch(t){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},T0e=t=>{const e=[];for(const n in S2){const r=S2[n];t[r]!==void 0&&e.push({algorithmId:()=>r,checksumConstructor:()=>t[r]})}return{addChecksumAlgorithm(n){e.push(n)},checksumAlgorithms(){return e}}},I0e=t=>{const e={};return t.checksumAlgorithms().forEach(n=>{e[n.algorithmId()]=n.checksumConstructor()}),e},R0e=t=>({setRetryStrategy(e){t.retryStrategy=e},retryStrategy(){return t.retryStrategy}}),N0e=t=>{const e={};return e.retryStrategy=t.retryStrategy(),e},A0e=t=>Object.assign(T0e(t),R0e(t)),D0e=t=>Object.assign(I0e(t),N0e(t)),O0e=t=>t!=null;class u5{trace(){}debug(){}info(){}warn(){}error(){}}function Fl(t,e,n){let r,a,o;if(typeof e>"u"&&typeof n>"u")r={},o=t;else{if(r=t,typeof e=="function")return a=e,o=n,M0e(r,a,o);o=e}for(const u of Object.keys(o)){if(!Array.isArray(o[u])){r[u]=o[u];continue}l5(r,null,o,u)}return r}const Qa=(t,e)=>{const n={};for(const r in e)l5(n,t,e,r);return n},M0e=(t,e,n)=>Fl(t,Object.entries(n).reduce((r,[a,o])=>(Array.isArray(o)?r[a]=o:typeof o=="function"?r[a]=[e,o()]:r[a]=[e,o],r),{})),l5=(t,e,n,r)=>{if(e!==null){let u=n[r];typeof u=="function"&&(u=[,u]);const[l=$0e,f=F0e,p=r]=u;(typeof l=="function"&&l(e[p])||typeof l!="function"&&l)&&(t[r]=f(e[p]));return}let[a,o]=n[r];if(typeof o=="function"){let u;const l=a===void 0&&(u=o())!=null,f=typeof a=="function"&&!!a(void 0)||typeof a!="function"&&!!a;l?t[r]=u:f&&(t[r]=o())}else{const u=a===void 0&&o!=null,l=typeof a=="function"&&!!a(o)||typeof a!="function"&&!!a;(u||l)&&(t[r]=o)}},$0e=t=>t!=null,F0e=t=>t,I2=t=>{if(t!==t)return"NaN";switch(t){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return t}},Cm=t=>{if(t==null)return{};if(Array.isArray(t))return t.filter(e=>e!=null).map(Cm);if(typeof t=="object"){const e={};for(const n of Object.keys(t))t[n]!=null&&(e[n]=Cm(t[n]));return e}return t},P0e=(t,e)=>ebe(t,e).then(n=>e.utf8Encoder(n)),zc=(t,e)=>P0e(t,e).then(n=>{if(n.length)try{return JSON.parse(n)}catch(r){throw r?.name==="SyntaxError"&&Object.defineProperty(r,"$responseBodyText",{value:n}),r}return{}}),L0e=async(t,e)=>{const n=await zc(t,e);return n.message=n.message??n.Message,n},B0e=(t,e)=>{const n=(o,u)=>Object.keys(o).find(l=>l.toLowerCase()===u.toLowerCase()),r=o=>{let u=o;return typeof u=="number"&&(u=u.toString()),u.indexOf(",")>=0&&(u=u.split(",")[0]),u.indexOf(":")>=0&&(u=u.split(":")[0]),u.indexOf("#")>=0&&(u=u.split("#")[1]),u},a=n(t.headers,"x-amzn-errortype");if(a!==void 0)return r(t.headers[a]);if(e&&typeof e=="object"){const o=n(e,"code");if(o&&e[o]!==void 0)return r(e[o]);if(e.__type!==void 0)return r(e.__type)}},z0e=t=>{if(t!=null)return typeof t=="object"&&"__type"in t&&delete t.__type,cbe(t)},U0e=/\d{12}\.ddb/;async function H0e(t,e,n){if(n.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&$l(t,"PROTOCOL_RPC_V2_CBOR","M"),typeof e.retryStrategy=="function"){const o=await e.retryStrategy();typeof o.acquireInitialRetryToken=="function"?o.constructor?.name?.includes("Adaptive")?$l(t,"RETRY_MODE_ADAPTIVE","F"):$l(t,"RETRY_MODE_STANDARD","E"):$l(t,"RETRY_MODE_LEGACY","D")}if(typeof e.accountIdEndpointMode=="function"){const o=t.endpointV2;switch(String(o?.url?.hostname).match(U0e)&&$l(t,"ACCOUNT_ID_ENDPOINT","O"),await e.accountIdEndpointMode?.()){case"disabled":$l(t,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":$l(t,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":$l(t,"ACCOUNT_ID_MODE_REQUIRED","R");break}}const a=t.__smithy_context?.selectedHttpAuthScheme?.identity;if(a?.$source){const o=a;o.accountId&&$l(t,"RESOLVED_ACCOUNT_ID","T");for(const[u,l]of Object.entries(o.$source??{}))$l(t,u,l)}}const c5="user-agent",TI="x-amz-user-agent",d5=" ",II="/",V0e=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,W0e=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,f5="-",j0e=1024;function G0e(t){let e="";for(const n in t){const r=t[n];if(e.length+r.length+1<=j0e){e.length?e+=","+r:e+=r;continue}break}return e}const q0e=t=>(e,n)=>async r=>{const{request:a}=r;if(!Ml.isInstance(a))return e(r);const{headers:o}=a,u=n?.userAgent?.map(R2)||[],l=(await t.defaultUserAgentProvider()).map(R2);await H0e(n,t,r);const f=n;l.push(`m/${G0e(Object.assign({},n.__smithy_context?.features,f.__aws_sdk_context?.features))}`);const p=t?.customUserAgent?.map(R2)||[],c=await t.userAgentAppId();c&&l.push(R2([`app/${c}`]));const g=[].concat([...l,...u,...p]).join(d5),y=[...l.filter(S=>S.startsWith("aws-sdk-")),...p].join(d5);return t.runtime!=="browser"?(y&&(o[TI]=o[TI]?`${o[c5]} ${y}`:y),o[c5]=g):o[TI]=g,e({...r,request:a})},R2=t=>{const e=t[0].split(II).map(u=>u.replace(V0e,f5)).join(II),n=t[1]?.replace(W0e,f5),r=e.indexOf(II),a=e.substring(0,r);let o=e.substring(r+1);return a==="api"&&(o=o.toLowerCase()),[a,o,n].filter(u=>u&&u.length>0).reduce((u,l,f)=>{switch(f){case 0:return l;case 1:return`${u}/${l}`;default:return`${u}#${l}`}},"")},K0e={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Y0e=t=>({applyToStack:e=>{e.add(q0e(t),K0e)}});var N2=(function(){function t(){this.checksum=4294967295}return t.prototype.update=function(e){var n,r;try{for(var a=K9(e),o=a.next();!o.done;o=a.next()){var u=o.value;this.checksum=this.checksum>>>8^Q0e[(this.checksum^u)&255]}}catch(l){n={error:l}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return this},t.prototype.digest=function(){return(this.checksum^4294967295)>>>0},t})(),X0e=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],Q0e=tH(X0e);const p5={},RI={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),p5[t]=e,RI[e]=t}function h5(t){if(t.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const e=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2){const r=t.slice(n,n+2).toLowerCase();if(r in RI)e[n/2]=RI[r];else throw new Error(`Cannot decode unrecognized sequence ${r} as hexadecimal`)}return e}function km(t){let e="";for(let n=0;n<t.byteLength;n++)e+=p5[t[n]];return e}let NI=class Y7{bytes;constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);const n=new Uint8Array(8);for(let r=7,a=Math.abs(Math.round(e));r>-1&&a>0;r--,a/=256)n[r]=a;return e<0&&m5(n),new Y7(n)}valueOf(){const e=this.bytes.slice(0),n=e[0]&128;return n&&m5(e),parseInt(km(e),16)*(n?-1:1)}toString(){return String(this.valueOf())}};function m5(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}let J0e=class{toUtf8;fromUtf8;constructor(e,n){this.toUtf8=e,this.fromUtf8=n}format(e){const n=[];for(const o of Object.keys(e)){const u=this.fromUtf8(o);n.push(Uint8Array.from([u.byteLength]),u,this.formatHeaderValue(e[o]))}const r=new Uint8Array(n.reduce((o,u)=>o+u.byteLength,0));let a=0;for(const o of n)r.set(o,a),a+=o.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":const n=new DataView(new ArrayBuffer(3));return n.setUint8(0,3),n.setInt16(1,e.value,!1),new Uint8Array(n.buffer);case"integer":const r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":const a=new Uint8Array(9);return a[0]=5,a.set(e.value.bytes,1),a;case"binary":const o=new DataView(new ArrayBuffer(3+e.value.byteLength));o.setUint8(0,6),o.setUint16(1,e.value.byteLength,!1);const u=new Uint8Array(o.buffer);return u.set(e.value,3),u;case"string":const l=this.fromUtf8(e.value),f=new DataView(new ArrayBuffer(3+l.byteLength));f.setUint8(0,7),f.setUint16(1,l.byteLength,!1);const p=new Uint8Array(f.buffer);return p.set(l,3),p;case"timestamp":const c=new Uint8Array(9);return c[0]=8,c.set(NI.fromNumber(e.value.valueOf()).bytes,1),c;case"uuid":if(!i1e.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);const g=new Uint8Array(17);return g[0]=9,g.set(h5(e.value.replace(/\-/g,"")),1),g}}parse(e){const n={};let r=0;for(;r<e.byteLength;){const a=e.getUint8(r++),o=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+r,a));switch(r+=a,e.getUint8(r++)){case 0:n[o]={type:v5,value:!0};break;case 1:n[o]={type:v5,value:!1};break;case 2:n[o]={type:Z0e,value:e.getInt8(r++)};break;case 3:n[o]={type:e1e,value:e.getInt16(r,!1)},r+=2;break;case 4:n[o]={type:t1e,value:e.getInt32(r,!1)},r+=4;break;case 5:n[o]={type:n1e,value:new NI(new Uint8Array(e.buffer,e.byteOffset+r,8))},r+=8;break;case 6:const u=e.getUint16(r,!1);r+=2,n[o]={type:r1e,value:new Uint8Array(e.buffer,e.byteOffset+r,u)},r+=u;break;case 7:const l=e.getUint16(r,!1);r+=2,n[o]={type:a1e,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+r,l))},r+=l;break;case 8:n[o]={type:o1e,value:new Date(new NI(new Uint8Array(e.buffer,e.byteOffset+r,8)).valueOf())},r+=8;break;case 9:const f=new Uint8Array(e.buffer,e.byteOffset+r,16);r+=16,n[o]={type:s1e,value:`${km(f.subarray(0,4))}-${km(f.subarray(4,6))}-${km(f.subarray(6,8))}-${km(f.subarray(8,10))}-${km(f.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return n}};var g5;(function(t){t[t.boolTrue=0]="boolTrue",t[t.boolFalse=1]="boolFalse",t[t.byte=2]="byte",t[t.short=3]="short",t[t.integer=4]="integer",t[t.long=5]="long",t[t.byteArray=6]="byteArray",t[t.string=7]="string",t[t.timestamp=8]="timestamp",t[t.uuid=9]="uuid"})(g5||(g5={}));const v5="boolean",Z0e="byte",e1e="short",t1e="integer",n1e="long",r1e="binary",a1e="string",o1e="timestamp",s1e="uuid",i1e=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,y5=4,Xd=y5*2,wp=4,u1e=Xd+wp*2;function l1e({byteLength:t,byteOffset:e,buffer:n}){if(t<u1e)throw new Error("Provided message too short to accommodate event stream message overhead");const r=new DataView(n,e,t),a=r.getUint32(0,!1);if(t!==a)throw new Error("Reported message length does not match received message length");const o=r.getUint32(y5,!1),u=r.getUint32(Xd,!1),l=r.getUint32(t-wp,!1),f=new N2().update(new Uint8Array(n,e,Xd));if(u!==f.digest())throw new Error(`The prelude checksum specified in the message (${u}) does not match the calculated CRC32 checksum (${f.digest()})`);if(f.update(new Uint8Array(n,e+Xd,t-(Xd+wp))),l!==f.digest())throw new Error(`The message checksum (${f.digest()}) did not match the expected value of ${l}`);return{headers:new DataView(n,e+Xd+wp,o),body:new Uint8Array(n,e+Xd+wp+o,a-o-(Xd+wp+wp))}}let c1e=class{headerMarshaller;messageBuffer;isEndOfStream;constructor(e,n){this.headerMarshaller=new J0e(e,n),this.messageBuffer=[],this.isEndOfStream=!1}feed(e){this.messageBuffer.push(this.decode(e))}endOfStream(){this.isEndOfStream=!0}getMessage(){const e=this.messageBuffer.pop(),n=this.isEndOfStream;return{getMessage(){return e},isEndOfStream(){return n}}}getAvailableMessages(){const e=this.messageBuffer;this.messageBuffer=[];const n=this.isEndOfStream;return{getMessages(){return e},isEndOfStream(){return n}}}encode({headers:e,body:n}){const r=this.headerMarshaller.format(e),a=r.byteLength+n.byteLength+16,o=new Uint8Array(a),u=new DataView(o.buffer,o.byteOffset,o.byteLength),l=new N2;return u.setUint32(0,a,!1),u.setUint32(4,r.byteLength,!1),u.setUint32(8,l.update(o.subarray(0,8)).digest(),!1),o.set(r,12),o.set(n,r.byteLength+12),u.setUint32(a-4,l.update(o.subarray(8,a-4)).digest(),!1),o}decode(e){const{headers:n,body:r}=l1e(e);return{headers:this.headerMarshaller.parse(n),body:r}}formatHeaders(e){return this.headerMarshaller.format(e)}};const d1e=(t,e,n,r)=>{let a=t;const o={start(){},async transform(u,l){try{const f=new Date(Date.now()+await r()),p={":date":{type:"timestamp",value:f}},c=await e.sign({message:{body:u,headers:p},priorSignature:a},{signingDate:f});a=c.signature;const g=n.encode({headers:{...p,":chunk-signature":{type:"binary",value:h5(c.signature)}},body:u});l.enqueue(g)}catch(f){l.error(f)}}};return new TransformStream({...o})};class f1e{messageSigner;eventStreamCodec;systemClockOffsetProvider;constructor(e){this.messageSigner=e.messageSigner,this.eventStreamCodec=new c1e(e.utf8Encoder,e.utf8Decoder),this.systemClockOffsetProvider=async()=>e.systemClockOffset??0}async handle(e,n,r={}){const a=n.request,{body:o,headers:u,query:l}=a;if(!(o instanceof ReadableStream))throw new Error("Eventstream payload must be a ReadableStream.");const f=new TransformStream;a.body=f.readable;let p;try{p=await e(n)}catch(E){throw a.body.cancel(),E}const g=((u.authorization||"").match(/Signature=([\w]+)$/)||[])[1]||l&&l["X-Amz-Signature"]||"",y=d1e(g,await this.messageSigner(),this.eventStreamCodec,this.systemClockOffsetProvider);return o.pipeThrough(y).pipeThrough(f),p}}const p1e=t=>new f1e(t),h1e=()=>t=>async e=>{const n={...e.input},r=await t(e),a=r.output;return n.SessionId&&a.SessionId==null&&(a.SessionId=n.SessionId),r},m1e={step:"initialize",name:"injectSessionIdMiddleware",tags:["WEBSOCKET","EVENT_STREAM"],override:!0};let b5=class $A{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const n=new $A({...e,headers:{...e.headers}});return n.query&&(n.query=g1e(n.query)),n}static isInstance(e){if(!e)return!1;const n=e;return"method"in n&&"protocol"in n&&"hostname"in n&&"path"in n&&typeof n.query=="object"&&typeof n.headers=="object"}clone(){return $A.clone(this)}};function g1e(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return{...e,[n]:Array.isArray(r)?[...r]:r}},{})}let AI=class{statusCode;reason;headers;body;constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const n=e;return typeof n.statusCode=="number"&&typeof n.headers=="object"}};const v1e=(t,e)=>n=>r=>{const{request:a}=r;if(b5.isInstance(a)&&t.requestHandler.metadata?.handlerProtocol?.toLowerCase().includes("websocket")){a.protocol="wss:",a.method="GET",a.path=`${a.path}-websocket`;const{headers:o}=a;delete o["content-type"],delete o["x-amz-content-sha256"];for(const u of Object.keys(o))if(u.indexOf(e.headerPrefix)===0){const l=u.replace(e.headerPrefix,"");a.query[l]=o[u]}o["x-amz-user-agent"]&&(a.query["user-agent"]=o["x-amz-user-agent"]),a.headers={host:o.host??a.hostname}}return n(r)},y1e={name:"websocketEndpointMiddleware",tags:["WEBSOCKET","EVENT_STREAM"],relation:"after",toMiddleware:"eventStreamHeaderMiddleware",override:!0},b1e=(t,e)=>({applyToStack:n=>{n.addRelativeTo(v1e(t,e),y1e),n.add(h1e(),m1e)}}),S5=t=>t.protocol==="ws:"||t.protocol==="wss:";class S1e{signer;constructor(e){this.signer=e.signer}presign(e,n={}){return this.signer.presign(e,n)}async sign(e,n){return b5.isInstance(e)&&S5(e)?{...await this.signer.presign({...e,body:""},{...n,expiresIn:60,unsignableHeaders:new Set(Object.keys(e.headers).filter(a=>a!=="host"))}),body:e.body}:this.signer.sign(e,n)}}const w1e=t=>{const{signer:e}=t;return Object.assign(t,{signer:async n=>{const r=await e(n);if(E1e(r))return new S1e({signer:r});throw new Error("Expected WebsocketSignatureV4 signer, please check the client constructor.")}})},E1e=t=>!!t,DI=t=>encodeURIComponent(t).replace(/[!'()*]/g,x1e),x1e=t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`;function w5(t){const e=[];for(let n of Object.keys(t).sort()){const r=t[n];if(n=DI(n),Array.isArray(r))for(let a=0,o=r.length;a<o;a++)e.push(`${n}=${DI(r[a])}`);else{let a=n;(r||typeof r=="string")&&(a+=`=${DI(r)}`),e.push(a)}}return e.join("&")}function C1e(t){const{port:e,query:n}=t;let{protocol:r,path:a,hostname:o}=t;r&&r.slice(-1)!==":"&&(r+=":"),e&&(o+=`:${e}`),a&&a.charAt(0)!=="/"&&(a=`/${a}`);let u=n?w5(n):"";u&&u[0]!=="?"&&(u=`?${u}`);let l="";if(t.username!=null||t.password!=null){const p=t.username??"",c=t.password??"";l=`${p}:${c}@`}let f="";return t.fragment&&(f=`#${t.fragment}`),`${r}//${l}${o}${a}${u}${f}`}const k1e=t=>({[Symbol.asyncIterator]:async function*(){const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)return;yield r}}finally{e.releaseLock()}}}),_1e=t=>{const e=t[Symbol.asyncIterator]();return new ReadableStream({async pull(n){const{done:r,value:a}=await e.next();if(r)return n.close();n.enqueue(a)}})};function E5(t,e){return new Request(t,e)}function T1e(t=0){return new Promise((e,n)=>{t&&setTimeout(()=>{const r=new Error(`Request did not complete within ${t} ms`);r.name="TimeoutError",n(r)},t)})}const OI={supported:void 0};let x5=class X7{config;configProvider;static create(e){return typeof e?.handle=="function"?e:new X7(e)}constructor(e){typeof e=="function"?this.configProvider=e().then(n=>n||{}):(this.config=e??{},this.configProvider=Promise.resolve(this.config)),OI.supported===void 0&&(OI.supported=typeof Request<"u"&&"keepalive"in E5("https://[::1]"))}destroy(){}async handle(e,{abortSignal:n,requestTimeout:r}={}){this.config||(this.config=await this.configProvider);const a=r??this.config.requestTimeout,o=this.config.keepAlive===!0,u=this.config.credentials;if(n?.aborted){const R=new Error("Request aborted");return R.name="AbortError",Promise.reject(R)}let l=e.path;const f=w5(e.query||{});f&&(l+=`?${f}`),e.fragment&&(l+=`#${e.fragment}`);let p="";if(e.username!=null||e.password!=null){const R=e.username??"",A=e.password??"";p=`${R}:${A}@`}const{port:c,method:g}=e,y=`${e.protocol}//${p}${e.hostname}${c?`:${c}`:""}${l}`,S=g==="GET"||g==="HEAD"?void 0:e.body,E={body:S,headers:new Headers(e.headers),method:g,credentials:u};this.config?.cache&&(E.cache=this.config.cache),S&&(E.duplex="half"),typeof AbortController<"u"&&(E.signal=n),OI.supported&&(E.keepalive=o),typeof this.config.requestInit=="function"&&Object.assign(E,this.config.requestInit(e));let k=()=>{};const _=E5(y,E),I=[fetch(_).then(R=>{const A=R.headers,O={};for(const U of A.entries())O[U[0]]=U[1];return R.body!=null?{response:new AI({headers:O,reason:R.statusText,statusCode:R.status,body:R.body})}:R.blob().then(U=>({response:new AI({headers:O,reason:R.statusText,statusCode:R.status,body:U})}))}),T1e(a)];return n&&I.push(new Promise((R,A)=>{const O=()=>{const L=new Error("Request aborted");L.name="AbortError",A(L)};if(typeof n.addEventListener=="function"){const L=n;L.addEventListener("abort",O,{once:!0}),k=()=>L.removeEventListener("abort",O)}else n.onabort=O})),Promise.race(I).finally(k)}updateHttpClientConfig(e,n){this.config=void 0,this.configProvider=this.configProvider.then(r=>(r[e]=n,r))}httpHandlerConfigs(){return this.config??{}}};const I1e=2e3;class MI{metadata={handlerProtocol:"websocket/h1.1"};config;configPromise;httpHandler;sockets={};static create(e,n=new x5){return typeof e?.handle=="function"?e:new MI(e,n)}constructor(e,n=new x5){this.httpHandler=n,typeof e=="function"?(this.config={},this.configPromise=e().then(r=>this.config=r??{})):(this.config=e??{},this.configPromise=Promise.resolve(this.config))}destroy(){for(const[e,n]of Object.entries(this.sockets)){for(const r of n)r.close(1e3,"Socket closed through destroy() call");delete this.sockets[e]}}async handle(e){if(!S5(e))return this.httpHandler.handle(e);const n=C1e(e),r=new WebSocket(n);this.sockets[n]||(this.sockets[n]=[]),this.sockets[n].push(r),r.binaryType="arraybuffer",this.config=await this.configPromise;const{connectionTimeout:a=I1e}=this.config;await this.waitForReady(r,a);const{body:o}=e,u=R1e(o),l=this.connect(r,u),f=N1e(l);return{response:new AI({statusCode:200,body:f})}}updateHttpClientConfig(e,n){this.configPromise=this.configPromise.then(r=>(r[e]=n,r))}httpHandlerConfigs(){return this.config??{}}removeNotUsableSockets(e){this.sockets[e]=(this.sockets[e]??[]).filter(n=>![WebSocket.CLOSING,WebSocket.CLOSED].includes(n.readyState))}waitForReady(e,n){return new Promise((r,a)=>{const o=setTimeout(()=>{this.removeNotUsableSockets(e.url),a({$metadata:{httpStatusCode:500}})},n);e.onopen=()=>{clearTimeout(o),r()}})}connect(e,n){let r,a=!1,o=()=>{},u=()=>{};e.onmessage=p=>{u({done:!1,value:new Uint8Array(p.data)})},e.onerror=p=>{a=!0,e.close(),o(p)},e.onclose=()=>{this.removeNotUsableSockets(e.url),!a&&(r?o(r):u({done:!0,value:void 0}))};const l={[Symbol.asyncIterator]:()=>({next:()=>new Promise((p,c)=>{u=p,o=c})})};return(async()=>{try{for await(const p of n)e.send(p)}catch(p){r=p}finally{e.close(1e3)}})(),l}}const R1e=t=>t[Symbol.asyncIterator]?t:A1e(t)?k1e(t):{[Symbol.asyncIterator]:async function*(){yield t}},N1e=t=>typeof ReadableStream=="function"?_1e(t):t,A1e=t=>typeof ReadableStream=="function"&&t instanceof ReadableStream,D1e=!1,O1e=!1,C5=new Set,M1e=(t,e=x2)=>{if(!C5.has(t)&&!e(t))throw new Error(`Region not accepted: region="${t}" is not a valid hostname component.`);C5.add(t)},k5=t=>typeof t=="string"&&(t.startsWith("fips-")||t.endsWith("-fips")),$1e=t=>k5(t)?["fips-aws-global","aws-fips"].includes(t)?"us-east-1":t.replace(/fips-(dkr-|prod-)?|-fips/,""):t,F1e=t=>{const{region:e,useFipsEndpoint:n}=t;if(!e)throw new Error("Region is missing");return Object.assign(t,{region:async()=>{const r=typeof e=="function"?await e():e,a=$1e(r);return M1e(a),a},useFipsEndpoint:async()=>{const r=typeof e=="string"?e:await e();return k5(r)?!0:typeof n!="function"?Promise.resolve(!!n):n()}})},P1e=t=>Object.assign(t,{eventStreamMarshaller:t.eventStreamSerdeProvider(t)}),_5="content-length";function L1e(t){return e=>async n=>{const r=n.request;if(Ml.isInstance(r)){const{body:a,headers:o}=r;if(a&&Object.keys(o).map(u=>u.toLowerCase()).indexOf(_5)===-1)try{const u=t(a);r.headers={...r.headers,[_5]:String(u)}}catch{}}return e({...n,request:r})}}const B1e={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},z1e=t=>({applyToStack:e=>{e.add(L1e(t.bodyLengthChecker),B1e)}}),U1e=async t=>{const e=t?.Bucket||"";if(typeof t.Bucket=="string"&&(t.Bucket=e.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),G1e(e)){if(t.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!j1e(e)||e.indexOf(".")!==-1&&!String(t.Endpoint).startsWith("http:")||e.toLowerCase()!==e||e.length<3)&&(t.ForcePathStyle=!0);return t.DisableMultiRegionAccessPoints&&(t.disableMultiRegionAccessPoints=!0,t.DisableMRAP=!0),t},H1e=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,V1e=/(\d+\.){3}\d+/,W1e=/\.\./,j1e=t=>H1e.test(t)&&!V1e.test(t)&&!W1e.test(t),G1e=t=>{const[e,n,r,,,a]=t.split(":"),o=e==="arn"&&t.split(":").length>=6,u=!!(o&&n&&r&&a);if(o&&!u)throw new Error(`Invalid ARN: ${t} was an invalid ARN.`);return u},q1e=(t,e,n)=>{const r=async()=>{const a=n[t]??n[e];return typeof a=="function"?a():a};return t==="credentialScope"||e==="CredentialScope"?async()=>{const a=typeof n.credentials=="function"?await n.credentials():n.credentials;return a?.credentialScope??a?.CredentialScope}:t==="accountId"||e==="AccountId"?async()=>{const a=typeof n.credentials=="function"?await n.credentials():n.credentials;return a?.accountId??a?.AccountId}:t==="endpoint"||e==="endpoint"?async()=>{if(n.isCustomEndpoint===!1)return;const a=await r();if(a&&typeof a=="object"){if("url"in a)return a.url.href;if("hostname"in a){const{protocol:o,hostname:u,port:l,path:f}=a;return`${o}//${u}${l?":"+l:""}${f}`}}return a}:r},T5=async t=>{};function K1e(t){const e={};if(t=t.replace(/^\?/,""),t)for(const n of t.split("&")){let[r,a=null]=n.split("=");r=decodeURIComponent(r),a&&(a=decodeURIComponent(a)),r in e?Array.isArray(e[r])?e[r].push(a):e[r]=[e[r],a]:e[r]=a}return e}const A2=t=>{if(typeof t=="string")return A2(new URL(t));const{hostname:e,pathname:n,port:r,protocol:a,search:o}=t;let u;return o&&(u=K1e(o)),{hostname:e,port:r?parseInt(r):void 0,protocol:a,path:n,query:u}},I5=t=>typeof t=="object"?"url"in t?A2(t.url):t:A2(t),Y1e=async(t,e,n,r)=>{if(!n.isCustomEndpoint){let u;n.serviceConfiguredEndpoint?u=await n.serviceConfiguredEndpoint():u=await T5(n.serviceId),u&&(n.endpoint=()=>Promise.resolve(I5(u)),n.isCustomEndpoint=!0)}const a=await X1e(t,e,n);if(typeof n.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return n.endpointProvider(a,r)},X1e=async(t,e,n)=>{const r={},a=e?.getEndpointParameterInstructions?.()||{};for(const[o,u]of Object.entries(a))switch(u.type){case"staticContextParams":r[o]=u.value;break;case"contextParams":r[o]=t[u.name];break;case"clientContextParams":case"builtInParams":r[o]=await q1e(u.name,o,n)();break;case"operationContextParams":r[o]=u.get(t);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(u))}return Object.keys(a).length===0&&Object.assign(r,n),String(n.serviceId).toLowerCase()==="s3"&&await U1e(r),r},Q1e=({config:t,instructions:e})=>(n,r)=>async a=>{t.isCustomEndpoint&&gbe(r,"ENDPOINT_OVERRIDE","N");const o=await Y1e(a.input,{getEndpointParameterInstructions(){return e}},{...t},r);r.endpointV2=o,r.authSchemes=o.properties?.authSchemes;const u=r.authSchemes?.[0];if(u){r.signing_region=u.signingRegion,r.signing_service=u.signingName;const f=w2(r)?.selectedHttpAuthScheme?.httpAuthOption;f&&(f.signingProperties=Object.assign(f.signingProperties||{},{signing_region:u.signingRegion,signingRegion:u.signingRegion,signing_service:u.signingName,signingName:u.signingName,signingRegionSet:u.signingRegionSet},u.properties))}return n({...a})},J1e={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:vL.name},Z1e=(t,e)=>({applyToStack:n=>{n.addRelativeTo(Q1e({config:t,instructions:e}),J1e)}}),eSe=t=>{const e=t.tls??!0,{endpoint:n,useDualstackEndpoint:r,useFipsEndpoint:a}=t,o=n!=null?async()=>I5(await Lc(n)()):void 0,l=Object.assign(t,{endpoint:o,tls:e,isCustomEndpoint:!!n,useDualstackEndpoint:Lc(r??!1),useFipsEndpoint:Lc(a??!1)});let f;return l.serviceConfiguredEndpoint=async()=>(t.serviceId&&!f&&(f=T5(t.serviceId)),f),l};var _m;(function(t){t.STANDARD="standard",t.ADAPTIVE="adaptive"})(_m||(_m={}));const D2=3,tSe=_m.STANDARD,nSe=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],rSe=["TimeoutError","RequestTimeout","RequestTimeoutException"],aSe=[500,502,503,504],oSe=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],sSe=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],iSe=t=>t?.$retryable!==void 0,uSe=t=>t.$metadata?.clockSkewCorrected,lSe=t=>{const e=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return t&&t instanceof TypeError?e.has(t.message):!1},R5=t=>t.$metadata?.httpStatusCode===429||nSe.includes(t.name)||t.$retryable?.throttling==!0,$I=(t,e=0)=>iSe(t)||uSe(t)||rSe.includes(t.name)||oSe.includes(t?.code||"")||sSe.includes(t?.code||"")||aSe.includes(t.$metadata?.httpStatusCode||0)||lSe(t)||t.cause!==void 0&&e<=10&&$I(t.cause,e+1),cSe=t=>{if(t.$metadata?.httpStatusCode!==void 0){const e=t.$metadata.httpStatusCode;return 500<=e&&e<=599&&!$I(t)}return!1};class FI{static setTimeoutFn=setTimeout;beta;minCapacity;minFillRate;scaleConstant;smooth;currentCapacity=0;enabled=!1;lastMaxRate=0;measuredTxRate=0;requestCount=0;fillRate;lastThrottleTime;lastTimestamp=0;lastTxRateBucket;maxCapacity;timeWindow=0;constructor(e){this.beta=e?.beta??.7,this.minCapacity=e?.minCapacity??1,this.minFillRate=e?.minFillRate??.5,this.scaleConstant=e?.scaleConstant??.4,this.smooth=e?.smooth??.8;const n=this.getCurrentTimeInSeconds();this.lastThrottleTime=n,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){const n=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise(r=>FI.setTimeoutFn(r,n))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){const e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}const n=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+n),this.lastTimestamp=e}updateClientSendingRate(e){let n;if(this.updateMeasuredRate(),R5(e)){const a=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=a,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),n=this.cubicThrottle(a),this.enableTokenBucket()}else this.calculateTimeWindow(),n=this.cubicSuccess(this.getCurrentTimeInSeconds());const r=Math.min(n,2*this.measuredTxRate);this.updateTokenBucketRate(r)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const e=this.getCurrentTimeInSeconds(),n=Math.floor(e*2)/2;if(this.requestCount++,n>this.lastTxRateBucket){const r=this.requestCount/(n-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(r*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=n}}getPrecise(e){return parseFloat(e.toFixed(8))}}const PI=100,N5=20*1e3,dSe=500,A5=500,fSe=5,pSe=10,hSe=1,mSe="amz-sdk-invocation-id",gSe="amz-sdk-request",vSe=()=>{let t=PI;return{computeNextBackoffDelay:r=>Math.floor(Math.min(N5,Math.random()*2**r*t)),setDelayBase:r=>{t=r}}},D5=({retryDelay:t,retryCount:e,retryCost:n})=>({getRetryCount:()=>e,getRetryDelay:()=>Math.min(N5,t),getRetryCost:()=>n});class O5{maxAttempts;mode=_m.STANDARD;capacity=A5;retryBackoffStrategy=vSe();maxAttemptsProvider;constructor(e){this.maxAttempts=e,this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}async acquireInitialRetryToken(e){return D5({retryDelay:PI,retryCount:0})}async refreshRetryTokenForRetry(e,n){const r=await this.getMaxAttempts();if(this.shouldRetry(e,n,r)){const a=n.errorType;this.retryBackoffStrategy.setDelayBase(a==="THROTTLING"?dSe:PI);const o=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),u=n.retryAfterHint?Math.max(n.retryAfterHint.getTime()-Date.now()||0,o):o,l=this.getCapacityCost(a);return this.capacity-=l,D5({retryDelay:u,retryCount:e.getRetryCount()+1,retryCost:l})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(A5,this.capacity+(e.getRetryCost()??hSe))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${D2}`),D2}}shouldRetry(e,n,r){return e.getRetryCount()+1<r&&this.capacity>=this.getCapacityCost(n.errorType)&&this.isRetryableError(n.errorType)}getCapacityCost(e){return e==="TRANSIENT"?pSe:fSe}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}}class ySe{maxAttemptsProvider;rateLimiter;standardRetryStrategy;mode=_m.ADAPTIVE;constructor(e,n){this.maxAttemptsProvider=e;const{rateLimiter:r}=n??{};this.rateLimiter=r??new FI,this.standardRetryStrategy=new O5(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,n){return this.rateLimiter.updateClientSendingRate(n),this.standardRetryStrategy.refreshRetryTokenForRetry(e,n)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}}const bSe=t=>t instanceof Error?t:t instanceof Object?Object.assign(new Error,t):typeof t=="string"?new Error(t):new Error(`AWS SDK error wrapper for ${t}`),SSe=t=>{const{retryStrategy:e,retryMode:n,maxAttempts:r}=t,a=Lc(r??D2);return Object.assign(t,{maxAttempts:a,retryStrategy:async()=>e||(await Lc(n)()===_m.ADAPTIVE?new ySe(a):new O5(a))})},wSe=t=>t?.body instanceof ReadableStream,ESe=t=>(e,n)=>async r=>{let a=await t.retryStrategy();const o=await t.maxAttempts();if(xSe(a)){a=a;let u=await a.acquireInitialRetryToken(n.partition_id),l=new Error,f=0,p=0;const{request:c}=r,g=Ml.isInstance(c);for(g&&(c.headers[mSe]=fbe());;)try{g&&(c.headers[gSe]=`attempt=${f+1}; max=${o}`);const{response:y,output:S}=await e(r);return a.recordSuccess(u),S.$metadata.attempts=f+1,S.$metadata.totalRetryDelay=p,{response:y,output:S}}catch(y){const S=CSe(y);if(l=bSe(y),g&&wSe(c))throw(n.logger instanceof u5?console:n.logger)?.warn("An error was encountered in a non-retryable streaming request."),l;try{u=await a.refreshRetryTokenForRetry(u,S)}catch{throw l.$metadata||(l.$metadata={}),l.$metadata.attempts=f+1,l.$metadata.totalRetryDelay=p,l}f=u.getRetryCount();const E=u.getRetryDelay();p+=E,await new Promise(k=>setTimeout(k,E))}}else return a=a,a?.mode&&(n.userAgent=[...n.userAgent||[],["cfg/retry-mode",a.mode]]),a.retry(e,r)},xSe=t=>typeof t.acquireInitialRetryToken<"u"&&typeof t.refreshRetryTokenForRetry<"u"&&typeof t.recordSuccess<"u",CSe=t=>{const e={error:t,errorType:kSe(t)},n=ISe(t.$response);return n&&(e.retryAfterHint=n),e},kSe=t=>R5(t)?"THROTTLING":$I(t)?"TRANSIENT":cSe(t)?"SERVER_ERROR":"CLIENT_ERROR",_Se={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},TSe=t=>({applyToStack:e=>{e.add(ESe(t),_Se)}}),ISe=t=>{if(!wy.isInstance(t))return;const e=Object.keys(t.headers).find(o=>o.toLowerCase()==="retry-after");if(!e)return;const n=t.headers[e],r=Number(n);return Number.isNaN(r)?new Date(n):new Date(r*1e3)},RSe=async(t,e,n)=>({operation:w2(e).operation,region:await Lc(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function NSe(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"rekognition",region:t.region},propertiesExtractor:(e,n)=>({signingProperties:{config:e,context:n}})}}const ASe=t=>{const e=[];switch(t.operation){default:e.push(NSe(t))}return e},DSe=t=>{const e=v0e(t);return Object.assign(e,{authSchemePreference:Lc(t.authSchemePreference??[])})},OSe=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"rekognition"}),MSe={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},$Se={version:"3.828.0"};var M5={name:"SHA-256"},$5={name:"HMAC",hash:M5},FSe=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85]);const PSe={};function O2(){return typeof window<"u"?window:typeof self<"u"?self:PSe}var LSe=(function(){function t(e){this.toHash=new Uint8Array(0),this.secret=e,this.reset()}return t.prototype.update=function(e){if(!UC(e)){var n=yv(e),r=new Uint8Array(this.toHash.byteLength+n.byteLength);r.set(this.toHash,0),r.set(n,this.toHash.byteLength),this.toHash=r}},t.prototype.digest=function(){var e=this;return this.key?this.key.then(function(n){return O2().crypto.subtle.sign($5,n,e.toHash).then(function(r){return new Uint8Array(r)})}):UC(this.toHash)?Promise.resolve(FSe):Promise.resolve().then(function(){return O2().crypto.subtle.digest(M5,e.toHash)}).then(function(n){return Promise.resolve(new Uint8Array(n))})},t.prototype.reset=function(){var e=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(n,r){O2().crypto.subtle.importKey("raw",yv(e.secret),$5,!1,["sign"]).then(n,r)}),this.key.catch(function(){}))},t})(),BSe=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function zSe(t){if(USe(t)&&typeof t.crypto.subtle=="object"){var e=t.crypto.subtle;return HSe(e)}return!1}function USe(t){if(typeof t=="object"&&typeof t.crypto=="object"){var e=t.crypto.getRandomValues;return typeof e=="function"}return!1}function HSe(t){return t&&BSe.every(function(e){return typeof t[e]=="function"})}var VSe=(function(){function t(e){zSe(O2())?this.hash=new LSe(e):this.hash=new nH(e)}return t.prototype.update=function(e,n){this.hash.update(yv(e))},t.prototype.digest=function(){return this.hash.digest()},t.prototype.reset=function(){this.hash.reset()},t})();const WSe={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast","Pale Moon":"pale_moon",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},F5={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",pale_moon:"Pale Moon",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},Ca={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv",bot:"bot"},Ys={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},Qd={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class Je{static getFirstMatch(e,n){const r=n.match(e);return r&&r.length>0&&r[1]||""}static getSecondMatch(e,n){const r=n.match(e);return r&&r.length>1&&r[2]||""}static matchAndReturnConst(e,n,r){if(e.test(n))return r}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const n=e.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),n[0]===10)switch(n[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const n=e.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),!(n[0]===1&&n[1]<5)){if(n[0]===1&&n[1]<6)return"Cupcake";if(n[0]===1&&n[1]>=6)return"Donut";if(n[0]===2&&n[1]<2)return"Eclair";if(n[0]===2&&n[1]===2)return"Froyo";if(n[0]===2&&n[1]>2)return"Gingerbread";if(n[0]===3)return"Honeycomb";if(n[0]===4&&n[1]<1)return"Ice Cream Sandwich";if(n[0]===4&&n[1]<4)return"Jelly Bean";if(n[0]===4&&n[1]>=4)return"KitKat";if(n[0]===5)return"Lollipop";if(n[0]===6)return"Marshmallow";if(n[0]===7)return"Nougat";if(n[0]===8)return"Oreo";if(n[0]===9)return"Pie"}}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,n,r=!1){const a=Je.getVersionPrecision(e),o=Je.getVersionPrecision(n);let u=Math.max(a,o),l=0;const f=Je.map([e,n],p=>{const c=u-Je.getVersionPrecision(p),g=p+new Array(c+1).join(".0");return Je.map(g.split("."),y=>new Array(20-y.length).join("0")+y).reverse()});for(r&&(l=u-Math.min(a,o)),u-=1;u>=l;){if(f[0][u]>f[1][u])return 1;if(f[0][u]===f[1][u]){if(u===l)return 0;u-=1}else if(f[0][u]<f[1][u])return-1}}static map(e,n){const r=[];let a;if(Array.prototype.map)return Array.prototype.map.call(e,n);for(a=0;a<e.length;a+=1)r.push(n(e[a]));return r}static find(e,n){let r,a;if(Array.prototype.find)return Array.prototype.find.call(e,n);for(r=0,a=e.length;r<a;r+=1){const o=e[r];if(n(o,r))return o}}static assign(e,...n){const r=e;let a,o;if(Object.assign)return Object.assign(e,...n);for(a=0,o=n.length;a<o;a+=1){const u=n[a];typeof u=="object"&&u!==null&&Object.keys(u).forEach(f=>{r[f]=u[f]})}return e}static getBrowserAlias(e){return WSe[e]}static getBrowserTypeByAlias(e){return F5[e]||""}}const Ur=/version\/(\d+(\.?_?\d+)+)/i,jSe=[{test:[/googlebot/i],describe(t){const e={name:"Googlebot"},n=Je.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||Je.getFirstMatch(Ur,t);return n&&(e.version=n),e}},{test:[/opera/i],describe(t){const e={name:"Opera"},n=Je.getFirstMatch(Ur,t)||Je.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/opr\/|opios/i],describe(t){const e={name:"Opera"},n=Je.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||Je.getFirstMatch(Ur,t);return n&&(e.version=n),e}},{test:[/SamsungBrowser/i],describe(t){const e={name:"Samsung Internet for Android"},n=Je.getFirstMatch(Ur,t)||Je.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/Whale/i],describe(t){const e={name:"NAVER Whale Browser"},n=Je.getFirstMatch(Ur,t)||Je.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/PaleMoon/i],describe(t){const e={name:"Pale Moon"},n=Je.getFirstMatch(Ur,t)||Je.getFirstMatch(/(?:PaleMoon)[\s/](\d+(?:\.\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/MZBrowser/i],describe(t){const e={name:"MZ Browser"},n=Je.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||Je.getFirstMatch(Ur,t);return n&&(e.version=n),e}},{test:[/focus/i],describe(t){const e={name:"Focus"},n=Je.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||Je.getFirstMatch(Ur,t);return n&&(e.version=n),e}},{test:[/swing/i],describe(t){const e={name:"Swing"},n=Je.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||Je.getFirstMatch(Ur,t);return n&&(e.version=n),e}},{test:[/coast/i],describe(t){const e={name:"Opera Coast"},n=Je.getFirstMatch(Ur,t)||Je.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(t){const e={name:"Opera Touch"},n=Je.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||Je.getFirstMatch(Ur,t);return n&&(e.version=n),e}},{test:[/yabrowser/i],describe(t){const e={name:"Yandex Browser"},n=Je.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||Je.getFirstMatch(Ur,t);return n&&(e.version=n),e}},{test:[/ucbrowser/i],describe(t){const e={name:"UC Browser"},n=Je.getFirstMatch(Ur,t)||Je.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/Maxthon|mxios/i],describe(t){const e={name:"Maxthon"},n=Je.getFirstMatch(Ur,t)||Je.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/epiphany/i],describe(t){const e={name:"Epiphany"},n=Je.getFirstMatch(Ur,t)||Je.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/puffin/i],describe(t){const e={name:"Puffin"},n=Je.getFirstMatch(Ur,t)||Je.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/sleipnir/i],describe(t){const e={name:"Sleipnir"},n=Je.getFirstMatch(Ur,t)||Je.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/k-meleon/i],describe(t){const e={name:"K-Meleon"},n=Je.getFirstMatch(Ur,t)||Je.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/micromessenger/i],describe(t){const e={name:"WeChat"},n=Je.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||Je.getFirstMatch(Ur,t);return n&&(e.version=n),e}},{test:[/qqbrowser/i],describe(t){const e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},n=Je.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||Je.getFirstMatch(Ur,t);return n&&(e.version=n),e}},{test:[/msie|trident/i],describe(t){const e={name:"Internet Explorer"},n=Je.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/\sedg\//i],describe(t){const e={name:"Microsoft Edge"},n=Je.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/edg([ea]|ios)/i],describe(t){const e={name:"Microsoft Edge"},n=Je.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/vivaldi/i],describe(t){const e={name:"Vivaldi"},n=Je.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/seamonkey/i],describe(t){const e={name:"SeaMonkey"},n=Je.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/sailfish/i],describe(t){const e={name:"Sailfish"},n=Je.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return n&&(e.version=n),e}},{test:[/silk/i],describe(t){const e={name:"Amazon Silk"},n=Je.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/phantom/i],describe(t){const e={name:"PhantomJS"},n=Je.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/slimerjs/i],describe(t){const e={name:"SlimerJS"},n=Je.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e={name:"BlackBerry"},n=Je.getFirstMatch(Ur,t)||Je.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/(web|hpw)[o0]s/i],describe(t){const e={name:"WebOS Browser"},n=Je.getFirstMatch(Ur,t)||Je.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/bada/i],describe(t){const e={name:"Bada"},n=Je.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/tizen/i],describe(t){const e={name:"Tizen"},n=Je.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||Je.getFirstMatch(Ur,t);return n&&(e.version=n),e}},{test:[/qupzilla/i],describe(t){const e={name:"QupZilla"},n=Je.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||Je.getFirstMatch(Ur,t);return n&&(e.version=n),e}},{test:[/firefox|iceweasel|fxios/i],describe(t){const e={name:"Firefox"},n=Je.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/electron/i],describe(t){const e={name:"Electron"},n=Je.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/MiuiBrowser/i],describe(t){const e={name:"Miui"},n=Je.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/chromium/i],describe(t){const e={name:"Chromium"},n=Je.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||Je.getFirstMatch(Ur,t);return n&&(e.version=n),e}},{test:[/chrome|crios|crmo/i],describe(t){const e={name:"Chrome"},n=Je.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/GSA/i],describe(t){const e={name:"Google Search"},n=Je.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){const e=!t.test(/like android/i),n=t.test(/android/i);return e&&n},describe(t){const e={name:"Android Browser"},n=Je.getFirstMatch(Ur,t);return n&&(e.version=n),e}},{test:[/playstation 4/i],describe(t){const e={name:"PlayStation 4"},n=Je.getFirstMatch(Ur,t);return n&&(e.version=n),e}},{test:[/safari|applewebkit/i],describe(t){const e={name:"Safari"},n=Je.getFirstMatch(Ur,t);return n&&(e.version=n),e}},{test:[/.*/i],describe(t){const e=/^(.*)\/(.*) /,n=/^(.*)\/(.*)[ \t]\((.*)/,a=t.search("\\(")!==-1?n:e;return{name:Je.getFirstMatch(a,t),version:Je.getSecondMatch(a,t)}}}],GSe=[{test:[/Roku\/DVP/],describe(t){const e=Je.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:Ys.Roku,version:e}}},{test:[/windows phone/i],describe(t){const e=Je.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:Ys.WindowsPhone,version:e}}},{test:[/windows /i],describe(t){const e=Je.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),n=Je.getWindowsVersionName(e);return{name:Ys.Windows,version:e,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(t){const e={name:Ys.iOS},n=Je.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return n&&(e.version=n),e}},{test:[/macintosh/i],describe(t){const e=Je.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),n=Je.getMacOSVersionName(e),r={name:Ys.MacOS,version:e};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe(t){const e=Je.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:Ys.iOS,version:e}}},{test(t){const e=!t.test(/like android/i),n=t.test(/android/i);return e&&n},describe(t){const e=Je.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),n=Je.getAndroidVersionName(e),r={name:Ys.Android,version:e};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe(t){const e=Je.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),n={name:Ys.WebOS};return e&&e.length&&(n.version=e),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e=Je.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||Je.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||Je.getFirstMatch(/\bbb(\d+)/i,t);return{name:Ys.BlackBerry,version:e}}},{test:[/bada/i],describe(t){const e=Je.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:Ys.Bada,version:e}}},{test:[/tizen/i],describe(t){const e=Je.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:Ys.Tizen,version:e}}},{test:[/linux/i],describe(){return{name:Ys.Linux}}},{test:[/CrOS/],describe(){return{name:Ys.ChromeOS}}},{test:[/PlayStation 4/],describe(t){const e=Je.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:Ys.PlayStation4,version:e}}}],qSe=[{test:[/googlebot/i],describe(){return{type:Ca.bot,vendor:"Google"}}},{test:[/huawei/i],describe(t){const e=Je.getFirstMatch(/(can-l01)/i,t)&&"Nova",n={type:Ca.mobile,vendor:"Huawei"};return e&&(n.model=e),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:Ca.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:Ca.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:Ca.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:Ca.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:Ca.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:Ca.tablet}}},{test(t){const e=t.test(/ipod|iphone/i),n=t.test(/like (ipod|iphone)/i);return e&&!n},describe(t){const e=Je.getFirstMatch(/(ipod|iphone)/i,t);return{type:Ca.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:Ca.mobile,vendor:"Nexus"}}},{test:[/Nokia/i],describe(t){const e=Je.getFirstMatch(/Nokia\s+([0-9]+(\.[0-9]+)?)/i,t),n={type:Ca.mobile,vendor:"Nokia"};return e&&(n.model=e),n}},{test:[/[^-]mobi/i],describe(){return{type:Ca.mobile}}},{test(t){return t.getBrowserName(!0)==="blackberry"},describe(){return{type:Ca.mobile,vendor:"BlackBerry"}}},{test(t){return t.getBrowserName(!0)==="bada"},describe(){return{type:Ca.mobile}}},{test(t){return t.getBrowserName()==="windows phone"},describe(){return{type:Ca.mobile,vendor:"Microsoft"}}},{test(t){const e=Number(String(t.getOSVersion()).split(".")[0]);return t.getOSName(!0)==="android"&&e>=3},describe(){return{type:Ca.tablet}}},{test(t){return t.getOSName(!0)==="android"},describe(){return{type:Ca.mobile}}},{test(t){return t.getOSName(!0)==="macos"},describe(){return{type:Ca.desktop,vendor:"Apple"}}},{test(t){return t.getOSName(!0)==="windows"},describe(){return{type:Ca.desktop}}},{test(t){return t.getOSName(!0)==="linux"},describe(){return{type:Ca.desktop}}},{test(t){return t.getOSName(!0)==="playstation 4"},describe(){return{type:Ca.tv}}},{test(t){return t.getOSName(!0)==="roku"},describe(){return{type:Ca.tv}}}],KSe=[{test(t){return t.getBrowserName(!0)==="microsoft edge"},describe(t){if(/\sedg\//i.test(t))return{name:Qd.Blink};const n=Je.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:Qd.EdgeHTML,version:n}}},{test:[/trident/i],describe(t){const e={name:Qd.Trident},n=Je.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){return t.test(/presto/i)},describe(t){const e={name:Qd.Presto},n=Je.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test(t){const e=t.test(/gecko/i),n=t.test(/like gecko/i);return e&&!n},describe(t){const e={name:Qd.Gecko},n=Je.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:Qd.Blink}}},{test:[/(apple)?webkit/i],describe(t){const e={name:Qd.WebKit},n=Je.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}}];class P5{constructor(e,n=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},n!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=Je.find(jSe,n=>{if(typeof n.test=="function")return n.test(this);if(Array.isArray(n.test))return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=Je.find(GSe,n=>{if(typeof n.test=="function")return n.test(this);if(Array.isArray(n.test))return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:n}=this.getOS();return e?String(n).toLowerCase()||"":n||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:n}=this.getPlatform();return e?String(n).toLowerCase()||"":n||""}parsePlatform(){this.parsedResult.platform={};const e=Je.find(qSe,n=>{if(typeof n.test=="function")return n.test(this);if(Array.isArray(n.test))return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=Je.find(KSe,n=>{if(typeof n.test=="function")return n.test(this);if(Array.isArray(n.test))return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return Je.assign({},this.parsedResult)}satisfies(e){const n={};let r=0;const a={};let o=0;if(Object.keys(e).forEach(l=>{const f=e[l];typeof f=="string"?(a[l]=f,o+=1):typeof f=="object"&&(n[l]=f,r+=1)}),r>0){const l=Object.keys(n),f=Je.find(l,c=>this.isOS(c));if(f){const c=this.satisfies(n[f]);if(c!==void 0)return c}const p=Je.find(l,c=>this.isPlatform(c));if(p){const c=this.satisfies(n[p]);if(c!==void 0)return c}}if(o>0){const l=Object.keys(a),f=Je.find(l,p=>this.isBrowser(p,!0));if(f!==void 0)return this.compareVersion(a[f])}}isBrowser(e,n=!1){const r=this.getBrowserName().toLowerCase();let a=e.toLowerCase();const o=Je.getBrowserTypeByAlias(a);return n&&o&&(a=o.toLowerCase()),a===r}compareVersion(e){let n=[0],r=e,a=!1;const o=this.getBrowserVersion();if(typeof o=="string")return e[0]===">"||e[0]==="<"?(r=e.substr(1),e[1]==="="?(a=!0,r=e.substr(2)):n=[],e[0]===">"?n.push(1):n.push(-1)):e[0]==="="?r=e.substr(1):e[0]==="~"&&(a=!0,r=e.substr(1)),n.indexOf(Je.compareVersions(o,r,a))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,n=!1){return this.isBrowser(e,n)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some(n=>this.is(n))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class YSe{static getParser(e,n=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new P5(e,n)}static parse(e){return new P5(e).getResult()}static get BROWSER_MAP(){return F5}static get ENGINE_MAP(){return Qd}static get OS_MAP(){return Ys}static get PLATFORMS_MAP(){return Ca}}const XSe=({serviceId:t,clientVersion:e})=>async n=>{const r=typeof window<"u"&&window?.navigator?.userAgent?YSe.parse(window.navigator.userAgent):void 0,a=[["aws-sdk-js",e],["ua","2.1"],[`os/${r?.os?.name||"other"}`,r?.os?.version],["lang/js"],["md/browser",`${r?.browser?.name??"unknown"}_${r?.browser?.version??"unknown"}`]];t&&a.push([`api/${t}`,e]);const o=await n?.userAgentAppId?.();return o&&a.push([`app/${o}`]),a};let LI=class Q7{bytes;constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);const n=new Uint8Array(8);for(let r=7,a=Math.abs(Math.round(e));r>-1&&a>0;r--,a/=256)n[r]=a;return e<0&&L5(n),new Q7(n)}valueOf(){const e=this.bytes.slice(0),n=e[0]&128;return n&&L5(e),parseInt(Ki(e),16)*(n?-1:1)}toString(){return String(this.valueOf())}};function L5(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}class QSe{toUtf8;fromUtf8;constructor(e,n){this.toUtf8=e,this.fromUtf8=n}format(e){const n=[];for(const o of Object.keys(e)){const u=this.fromUtf8(o);n.push(Uint8Array.from([u.byteLength]),u,this.formatHeaderValue(e[o]))}const r=new Uint8Array(n.reduce((o,u)=>o+u.byteLength,0));let a=0;for(const o of n)r.set(o,a),a+=o.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":const n=new DataView(new ArrayBuffer(3));return n.setUint8(0,3),n.setInt16(1,e.value,!1),new Uint8Array(n.buffer);case"integer":const r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":const a=new Uint8Array(9);return a[0]=5,a.set(e.value.bytes,1),a;case"binary":const o=new DataView(new ArrayBuffer(3+e.value.byteLength));o.setUint8(0,6),o.setUint16(1,e.value.byteLength,!1);const u=new Uint8Array(o.buffer);return u.set(e.value,3),u;case"string":const l=this.fromUtf8(e.value),f=new DataView(new ArrayBuffer(3+l.byteLength));f.setUint8(0,7),f.setUint16(1,l.byteLength,!1);const p=new Uint8Array(f.buffer);return p.set(l,3),p;case"timestamp":const c=new Uint8Array(9);return c[0]=8,c.set(LI.fromNumber(e.value.valueOf()).bytes,1),c;case"uuid":if(!swe.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);const g=new Uint8Array(17);return g[0]=9,g.set(CL(e.value.replace(/\-/g,"")),1),g}}parse(e){const n={};let r=0;for(;r<e.byteLength;){const a=e.getUint8(r++),o=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+r,a));switch(r+=a,e.getUint8(r++)){case 0:n[o]={type:z5,value:!0};break;case 1:n[o]={type:z5,value:!1};break;case 2:n[o]={type:JSe,value:e.getInt8(r++)};break;case 3:n[o]={type:ZSe,value:e.getInt16(r,!1)},r+=2;break;case 4:n[o]={type:ewe,value:e.getInt32(r,!1)},r+=4;break;case 5:n[o]={type:twe,value:new LI(new Uint8Array(e.buffer,e.byteOffset+r,8))},r+=8;break;case 6:const u=e.getUint16(r,!1);r+=2,n[o]={type:nwe,value:new Uint8Array(e.buffer,e.byteOffset+r,u)},r+=u;break;case 7:const l=e.getUint16(r,!1);r+=2,n[o]={type:rwe,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+r,l))},r+=l;break;case 8:n[o]={type:awe,value:new Date(new LI(new Uint8Array(e.buffer,e.byteOffset+r,8)).valueOf())},r+=8;break;case 9:const f=new Uint8Array(e.buffer,e.byteOffset+r,16);r+=16,n[o]={type:owe,value:`${Ki(f.subarray(0,4))}-${Ki(f.subarray(4,6))}-${Ki(f.subarray(6,8))}-${Ki(f.subarray(8,10))}-${Ki(f.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return n}}var B5;(function(t){t[t.boolTrue=0]="boolTrue",t[t.boolFalse=1]="boolFalse",t[t.byte=2]="byte",t[t.short=3]="short",t[t.integer=4]="integer",t[t.long=5]="long",t[t.byteArray=6]="byteArray",t[t.string=7]="string",t[t.timestamp=8]="timestamp",t[t.uuid=9]="uuid"})(B5||(B5={}));const z5="boolean",JSe="byte",ZSe="short",ewe="integer",twe="long",nwe="binary",rwe="string",awe="timestamp",owe="uuid",swe=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,U5=4,Jd=U5*2,Ep=4,iwe=Jd+Ep*2;function uwe({byteLength:t,byteOffset:e,buffer:n}){if(t<iwe)throw new Error("Provided message too short to accommodate event stream message overhead");const r=new DataView(n,e,t),a=r.getUint32(0,!1);if(t!==a)throw new Error("Reported message length does not match received message length");const o=r.getUint32(U5,!1),u=r.getUint32(Jd,!1),l=r.getUint32(t-Ep,!1),f=new N2().update(new Uint8Array(n,e,Jd));if(u!==f.digest())throw new Error(`The prelude checksum specified in the message (${u}) does not match the calculated CRC32 checksum (${f.digest()})`);if(f.update(new Uint8Array(n,e+Jd,t-(Jd+Ep))),l!==f.digest())throw new Error(`The message checksum (${f.digest()}) did not match the expected value of ${l}`);return{headers:new DataView(n,e+Jd+Ep,o),body:new Uint8Array(n,e+Jd+Ep+o,a-o-(Jd+Ep+Ep))}}class lwe{headerMarshaller;messageBuffer;isEndOfStream;constructor(e,n){this.headerMarshaller=new QSe(e,n),this.messageBuffer=[],this.isEndOfStream=!1}feed(e){this.messageBuffer.push(this.decode(e))}endOfStream(){this.isEndOfStream=!0}getMessage(){const e=this.messageBuffer.pop(),n=this.isEndOfStream;return{getMessage(){return e},isEndOfStream(){return n}}}getAvailableMessages(){const e=this.messageBuffer;this.messageBuffer=[];const n=this.isEndOfStream;return{getMessages(){return e},isEndOfStream(){return n}}}encode({headers:e,body:n}){const r=this.headerMarshaller.format(e),a=r.byteLength+n.byteLength+16,o=new Uint8Array(a),u=new DataView(o.buffer,o.byteOffset,o.byteLength),l=new N2;return u.setUint32(0,a,!1),u.setUint32(4,r.byteLength,!1),u.setUint32(8,l.update(o.subarray(0,8)).digest(),!1),o.set(r,12),o.set(n,r.byteLength+12),u.setUint32(a-4,l.update(o.subarray(8,a-4)).digest(),!1),o}decode(e){const{headers:n,body:r}=uwe(e);return{headers:this.headerMarshaller.parse(n),body:r}}formatHeaders(e){return this.headerMarshaller.format(e)}}class cwe{options;constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.inputStream)yield this.options.decoder.decode(e)}}class dwe{options;constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.messageStream)yield this.options.encoder.encode(e);this.options.includeEndFrame&&(yield new Uint8Array(0))}}class fwe{options;constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.messageStream){const n=await this.options.deserializer(e);n!==void 0&&(yield n)}}}class pwe{options;constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.inputStream)yield this.options.serializer(e)}}function hwe(t){let e=0,n=0,r=null,a=null;const o=l=>{if(typeof l!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+l);e=l,n=4,r=new Uint8Array(l),new DataView(r.buffer).setUint32(0,l,!1)},u=async function*(){const l=t[Symbol.asyncIterator]();for(;;){const{value:f,done:p}=await l.next();if(p){if(e)if(e===n)yield r;else throw new Error("Truncated event message received.");else return;return}const c=f.length;let g=0;for(;g<c;){if(!r){const S=c-g;a||(a=new Uint8Array(4));const E=Math.min(4-n,S);if(a.set(f.slice(g,g+E),n),n+=E,g+=E,n<4)break;o(new DataView(a.buffer).getUint32(0,!1)),a=null}const y=Math.min(e-n,c-g);r.set(f.slice(g,g+y),n),n+=y,g+=y,e&&e===n&&(yield r,r=null,e=0,n=0)}}};return{[Symbol.asyncIterator]:u}}function mwe(t,e){return async function(n){const{value:r}=n.headers[":message-type"];if(r==="error"){const a=new Error(n.headers[":error-message"].value||"UnknownError");throw a.name=n.headers[":error-code"].value,a}else if(r==="exception"){const a=n.headers[":exception-type"].value,o={[a]:n},u=await t(o);if(u.$unknown){const l=new Error(e(n.body));throw l.name=a,l}throw u[a]}else if(r==="event"){const a={[n.headers[":event-type"].value]:n},o=await t(a);return o.$unknown?void 0:o}else throw Error(`Unrecognizable event type: ${n.headers[":event-type"].value}`)}}let gwe=class{eventStreamCodec;utfEncoder;constructor({utf8Encoder:e,utf8Decoder:n}){this.eventStreamCodec=new lwe(e,n),this.utfEncoder=e}deserialize(e,n){const r=hwe(e);return new fwe({messageStream:new cwe({inputStream:r,decoder:this.eventStreamCodec}),deserializer:mwe(n,this.utfEncoder)})}serialize(e,n){return new dwe({messageStream:new pwe({inputStream:e,serializer:n}),encoder:this.eventStreamCodec,includeEndFrame:!0})}};const vwe=t=>({[Symbol.asyncIterator]:async function*(){const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)return;yield r}}finally{e.releaseLock()}}}),ywe=t=>{const e=t[Symbol.asyncIterator]();return new ReadableStream({async pull(n){const{done:r,value:a}=await e.next();if(r)return n.close();n.enqueue(a)}})};class bwe{universalMarshaller;constructor({utf8Encoder:e,utf8Decoder:n}){this.universalMarshaller=new gwe({utf8Decoder:n,utf8Encoder:e})}deserialize(e,n){const r=Swe(e)?vwe(e):e;return this.universalMarshaller.deserialize(r,n)}serialize(e,n){const r=this.universalMarshaller.serialize(e,n);return typeof ReadableStream=="function"?ywe(r):r}}const Swe=t=>typeof ReadableStream=="function"&&t instanceof ReadableStream,wwe=t=>new bwe(t),Ewe=t=>()=>Promise.reject(t),H5="required",Pl="fn",Ll="argv",Tm="ref",V5=!0,W5="isSet",Iy="booleanEquals",Im="error",Ry="endpoint",Xs="tree",BI="PartitionResult",j5={[H5]:!1,type:"String"},G5={[H5]:!0,default:!1,type:"Boolean"},q5={[Tm]:"Endpoint"},K5={[Pl]:Iy,[Ll]:[{[Tm]:"UseFIPS"},!0]},Y5={[Pl]:Iy,[Ll]:[{[Tm]:"UseDualStack"},!0]},Bl={},X5={[Pl]:"getAttr",[Ll]:[{[Tm]:BI},"supportsFIPS"]},Q5={[Pl]:Iy,[Ll]:[!0,{[Pl]:"getAttr",[Ll]:[{[Tm]:BI},"supportsDualStack"]}]},J5=[K5],Z5=[Y5],e8=[{[Tm]:"Region"}],xwe={parameters:{Region:j5,UseDualStack:G5,UseFIPS:G5,Endpoint:j5},rules:[{conditions:[{[Pl]:W5,[Ll]:[q5]}],rules:[{conditions:J5,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Im},{rules:[{conditions:Z5,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Im},{endpoint:{url:q5,properties:Bl,headers:Bl},type:Ry}],type:Xs}],type:Xs},{rules:[{conditions:[{[Pl]:W5,[Ll]:e8}],rules:[{conditions:[{[Pl]:"aws.partition",[Ll]:e8,assign:BI}],rules:[{conditions:[K5,Y5],rules:[{conditions:[{[Pl]:Iy,[Ll]:[V5,X5]},Q5],rules:[{rules:[{endpoint:{url:"https://streaming-rekognition-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Bl,headers:Bl},type:Ry}],type:Xs}],type:Xs},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Im}],type:Xs},{conditions:J5,rules:[{conditions:[{[Pl]:Iy,[Ll]:[X5,V5]}],rules:[{rules:[{endpoint:{url:"https://streaming-rekognition-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Bl,headers:Bl},type:Ry}],type:Xs}],type:Xs},{error:"FIPS is enabled but this partition does not support FIPS",type:Im}],type:Xs},{conditions:Z5,rules:[{conditions:[Q5],rules:[{rules:[{endpoint:{url:"https://streaming-rekognition.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Bl,headers:Bl},type:Ry}],type:Xs}],type:Xs},{error:"DualStack is enabled but this partition does not support DualStack",type:Im}],type:Xs},{rules:[{endpoint:{url:"https://streaming-rekognition.{Region}.{PartitionResult#dnsSuffix}",properties:Bl,headers:Bl},type:Ry}],type:Xs}],type:Xs}],type:Xs},{error:"Invalid Configuration: Missing Region",type:Im}],type:Xs}]},Cwe=new xbe({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),kwe=(t,e={})=>Cwe.get(t,()=>Pbe(xwe,{endpointParams:t,logger:e.logger}));C2.aws=HL;const _we=t=>({apiVersion:"2022-05-30",base64Decoder:t?.base64Decoder??pI,base64Encoder:t?.base64Encoder??wL,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??kwe,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??ASe,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new Wbe}],logger:t?.logger??new u5,serviceId:t?.serviceId??"RekognitionStreaming",urlParser:t?.urlParser??A2,utf8Decoder:t?.utf8Decoder??Em,utf8Encoder:t?.utf8Encoder??SL}),Twe=["in-region","cross-region","mobile","standard","legacy"],Iwe=({defaultsMode:t}={})=>jbe(async()=>{const e=typeof t=="function"?await t():t;switch(e?.toLowerCase()){case"auto":return Promise.resolve(Rwe()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(e?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${Twe.join(", ")}, got ${e}`)}}),Rwe=()=>{const t=window?.navigator;if(t?.connection){const{effectiveType:e,rtt:n,downlink:r}=t?.connection;if(typeof e=="string"&&e!=="4g"||Number(n)>100||Number(r)<10)return!0}return t?.userAgentData?.mobile||typeof t?.maxTouchPoints=="number"&&t?.maxTouchPoints>1},Nwe=t=>{const e=Iwe(t),n=()=>e().then(_0e),r=_we(t);return{...r,...t,runtime:"browser",defaultsMode:e,bodyLengthChecker:t?.bodyLengthChecker??S0e,credentialDefaultProvider:t?.credentialDefaultProvider??(a=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:t?.defaultUserAgentProvider??XSe({serviceId:r.serviceId,clientVersion:$Se.version}),eventStreamPayloadHandlerProvider:t?.eventStreamPayloadHandlerProvider??p1e,eventStreamSerdeProvider:t?.eventStreamSerdeProvider??wwe,maxAttempts:t?.maxAttempts??D2,region:t?.region??Ewe("Region is missing"),requestHandler:MI.create(t?.requestHandler??n,Yye.create(n)),retryMode:t?.retryMode??(async()=>(await n()).retryMode||tSe),sha256:t?.sha256??VSe,streamCollector:t?.streamCollector??Xye,useDualstackEndpoint:t?.useDualstackEndpoint??(()=>Promise.resolve(D1e)),useFipsEndpoint:t?.useFipsEndpoint??(()=>Promise.resolve(O1e))}},Awe=t=>({setRegion(e){t.region=e},region(){return t.region}}),Dwe=t=>({region:t.region()}),Owe=t=>{const e=t.httpAuthSchemes;let n=t.httpAuthSchemeProvider,r=t.credentials;return{setHttpAuthScheme(a){const o=e.findIndex(u=>u.schemeId===a.schemeId);o===-1?e.push(a):e.splice(o,1,a)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(a){n=a},httpAuthSchemeProvider(){return n},setCredentials(a){r=a},credentials(){return r}}},Mwe=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()}),$we=(t,e)=>{const n=Object.assign(Awe(t),A0e(t),gye(t),Owe(t));return e.forEach(r=>r.configure(n)),Object.assign(t,Dwe(n),D0e(n),vye(n),Mwe(n))};class Fwe extends w0e{config;constructor(...[e]){const n=Nwe(e||{});super(n),this.initConfig=n;const r=OSe(n),a=Ebe(r),o=SSe(a),u=F1e(o),l=u,f=eSe(l),p=P1e(f),c=DSe(p),g=lye(c),y=w1e(g),S=$we(y,e?.extensions||[]);this.config=S,this.middlewareStack.use(Y0e(this.config)),this.middlewareStack.use(TSe(this.config)),this.middlewareStack.use(z1e(this.config)),this.middlewareStack.use(wye(this.config)),this.middlewareStack.use(Cye(this.config)),this.middlewareStack.use(Rye(this.config)),this.middlewareStack.use(Mye(this.config,{httpAuthSchemeParametersProvider:RSe,identityProviderConfigProvider:async E=>new vbe({"aws.auth#sigv4":E.credentials})})),this.middlewareStack.use(Vye(this.config))}destroy(){super.destroy()}}class zl extends xm{constructor(e){super(e),Object.setPrototypeOf(this,zl.prototype)}}class zI extends zl{name="AccessDeniedException";$fault="client";Message;Code;constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),Object.setPrototypeOf(this,zI.prototype),this.Message=e.Message,this.Code=e.Code}}var UI;(function(t){t.visit=(e,n)=>e.FaceMovementAndLightChallenge!==void 0?n.FaceMovementAndLightChallenge(e.FaceMovementAndLightChallenge):e.FaceMovementChallenge!==void 0?n.FaceMovementChallenge(e.FaceMovementChallenge):n._(e.$unknown[0],e.$unknown[1])})(UI||(UI={}));class HI extends zl{name="InternalServerException";$fault="server";Message;Code;constructor(e){super({name:"InternalServerException",$fault:"server",...e}),Object.setPrototypeOf(this,HI.prototype),this.Message=e.Message,this.Code=e.Code}}var VI;(function(t){t.visit=(e,n)=>e.VideoEvent!==void 0?n.VideoEvent(e.VideoEvent):e.ClientSessionInformationEvent!==void 0?n.ClientSessionInformationEvent(e.ClientSessionInformationEvent):n._(e.$unknown[0],e.$unknown[1])})(VI||(VI={}));var t8;(function(t){t.visit=(e,n)=>e.FaceMovementAndLightChallenge!==void 0?n.FaceMovementAndLightChallenge(e.FaceMovementAndLightChallenge):e.FaceMovementChallenge!==void 0?n.FaceMovementChallenge(e.FaceMovementChallenge):n._(e.$unknown[0],e.$unknown[1])})(t8||(t8={}));class WI extends zl{name="ServiceQuotaExceededException";$fault="client";Message;Code;constructor(e){super({name:"ServiceQuotaExceededException",$fault:"client",...e}),Object.setPrototypeOf(this,WI.prototype),this.Message=e.Message,this.Code=e.Code}}class jI extends zl{name="ServiceUnavailableException";$fault="server";Message;Code;constructor(e){super({name:"ServiceUnavailableException",$fault:"server",...e}),Object.setPrototypeOf(this,jI.prototype),this.Message=e.Message,this.Code=e.Code}}class GI extends zl{name="ThrottlingException";$fault="client";Message;Code;constructor(e){super({name:"ThrottlingException",$fault:"client",...e}),Object.setPrototypeOf(this,GI.prototype),this.Message=e.Message,this.Code=e.Code}}class qI extends zl{name="ValidationException";$fault="client";Message;Code;constructor(e){super({name:"ValidationException",$fault:"client",...e}),Object.setPrototypeOf(this,qI.prototype),this.Message=e.Message,this.Code=e.Code}}var n8;(function(t){t.visit=(e,n)=>e.ServerSessionInformationEvent!==void 0?n.ServerSessionInformationEvent(e.ServerSessionInformationEvent):e.DisconnectionEvent!==void 0?n.DisconnectionEvent(e.DisconnectionEvent):e.ChallengeEvent!==void 0?n.ChallengeEvent(e.ChallengeEvent):e.ValidationException!==void 0?n.ValidationException(e.ValidationException):e.InternalServerException!==void 0?n.InternalServerException(e.InternalServerException):e.ThrottlingException!==void 0?n.ThrottlingException(e.ThrottlingException):e.ServiceQuotaExceededException!==void 0?n.ServiceQuotaExceededException(e.ServiceQuotaExceededException):e.ServiceUnavailableException!==void 0?n.ServiceUnavailableException(e.ServiceUnavailableException):n._(e.$unknown[0],e.$unknown[1])})(n8||(n8={}));class KI extends zl{name="SessionNotFoundException";$fault="client";Message;Code;constructor(e){super({name:"SessionNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,KI.prototype),this.Message=e.Message,this.Code=e.Code}}const Pwe=t=>({...t,...t.LivenessRequestStream&&{LivenessRequestStream:"STREAMING_CONTENT"}}),Lwe=t=>({...t,...t.LivenessResponseStream&&{LivenessResponseStream:"STREAMING_CONTENT"}}),Bwe=async(t,e)=>{const n=hbe(t,e),r=Fl({},O0e,{"content-type":"application/json",[h8]:t[p8],[S2e]:t[v2e],[b2e]:t[g2e],[y2e]:t[m2e]});n.bp("/start-face-liveness-session");let a;return t.LivenessRequestStream!==void 0&&(a=jwe(t.LivenessRequestStream,e)),n.m("POST").h(r).b(a),n.build()},zwe=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return Uwe(t,e);const n=Fl({$metadata:Zd(t),[p8]:[,t.headers[h8]]}),r=t.body;return n.LivenessResponseStream=Kwe(r,e),n},Uwe=async(t,e)=>{const n={...t,body:await L0e(t.body,e)},r=B0e(t,n.body);switch(r){case"AccessDeniedException":case"com.amazonaws.rekognitionstreaming#AccessDeniedException":throw await Vwe(n);case"InternalServerException":case"com.amazonaws.rekognitionstreaming#InternalServerException":throw await r8(n);case"ServiceQuotaExceededException":case"com.amazonaws.rekognitionstreaming#ServiceQuotaExceededException":throw await a8(n);case"ServiceUnavailableException":case"com.amazonaws.rekognitionstreaming#ServiceUnavailableException":throw await o8(n);case"SessionNotFoundException":case"com.amazonaws.rekognitionstreaming#SessionNotFoundException":throw await Wwe(n);case"ThrottlingException":case"com.amazonaws.rekognitionstreaming#ThrottlingException":throw await s8(n);case"ValidationException":case"com.amazonaws.rekognitionstreaming#ValidationException":throw await i8(n);default:const a=n.body;return Hwe({output:t,parsedBody:a,errorCode:r})}},Hwe=C0e(zl),Vwe=async(t,e)=>{const n=Fl({}),r=t.body,a=Qa(r,{Code:Ks,Message:Ks});Object.assign(n,a);const o=new zI({$metadata:Zd(t),...n});return Yd(o,t.body)},r8=async(t,e)=>{const n=Fl({}),r=t.body,a=Qa(r,{Code:Ks,Message:Ks});Object.assign(n,a);const o=new HI({$metadata:Zd(t),...n});return Yd(o,t.body)},a8=async(t,e)=>{const n=Fl({}),r=t.body,a=Qa(r,{Code:Ks,Message:Ks});Object.assign(n,a);const o=new WI({$metadata:Zd(t),...n});return Yd(o,t.body)},o8=async(t,e)=>{const n=Fl({}),r=t.body,a=Qa(r,{Code:Ks,Message:Ks});Object.assign(n,a);const o=new jI({$metadata:Zd(t),...n});return Yd(o,t.body)},Wwe=async(t,e)=>{const n=Fl({}),r=t.body,a=Qa(r,{Code:Ks,Message:Ks});Object.assign(n,a);const o=new KI({$metadata:Zd(t),...n});return Yd(o,t.body)},s8=async(t,e)=>{const n=Fl({}),r=t.body,a=Qa(r,{Code:Ks,Message:Ks});Object.assign(n,a);const o=new GI({$metadata:Zd(t),...n});return Yd(o,t.body)},i8=async(t,e)=>{const n=Fl({}),r=t.body,a=Qa(r,{Code:Ks,Message:Ks});Object.assign(n,a);const o=new qI({$metadata:Zd(t),...n});return Yd(o,t.body)},jwe=(t,e)=>{const n=r=>VI.visit(r,{VideoEvent:a=>qwe(a,e),ClientSessionInformationEvent:a=>Gwe(a,e),_:a=>a});return e.eventStreamMarshaller.serialize(t,n)},Gwe=(t,e)=>{const n={":event-type":{type:"string",value:"ClientSessionInformationEvent"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:"application/json"}};let r=new Uint8Array;return r=a2e(t),r=e.utf8Decoder(JSON.stringify(r)),{headers:n,body:r}},qwe=(t,e)=>{const n={":event-type":{type:"string",value:"VideoEvent"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:"application/json"}};let r=new Uint8Array;return r=i2e(t,e),r=e.utf8Decoder(JSON.stringify(r)),{headers:n,body:r}},Kwe=(t,e)=>e.eventStreamMarshaller.deserialize(t,async n=>n.ServerSessionInformationEvent!=null?{ServerSessionInformationEvent:await Jwe(n.ServerSessionInformationEvent,e)}:n.DisconnectionEvent!=null?{DisconnectionEvent:await Xwe(n.DisconnectionEvent,e)}:n.ChallengeEvent!=null?{ChallengeEvent:await Ywe(n.ChallengeEvent,e)}:n.ValidationException!=null?{ValidationException:await n2e(n.ValidationException,e)}:n.InternalServerException!=null?{InternalServerException:await Qwe(n.InternalServerException,e)}:n.ThrottlingException!=null?{ThrottlingException:await t2e(n.ThrottlingException,e)}:n.ServiceQuotaExceededException!=null?{ServiceQuotaExceededException:await Zwe(n.ServiceQuotaExceededException,e)}:n.ServiceUnavailableException!=null?{ServiceUnavailableException:await e2e(n.ServiceUnavailableException,e)}:{$unknown:t}),Ywe=async(t,e)=>{const n={},r=await zc(t.body,e);return Object.assign(n,Cm(r)),n},Xwe=async(t,e)=>{const n={},r=await zc(t.body,e);return Object.assign(n,Cm(r)),n},Qwe=async(t,e)=>{const n={...t,body:await zc(t.body,e)};return r8(n)},Jwe=async(t,e)=>{const n={},r=await zc(t.body,e);return Object.assign(n,p2e(r)),n},Zwe=async(t,e)=>{const n={...t,body:await zc(t.body,e)};return a8(n)},e2e=async(t,e)=>{const n={...t,body:await zc(t.body,e)};return o8(n)},t2e=async(t,e)=>{const n={...t,body:await zc(t.body,e)};return s8(n)},n2e=async(t,e)=>{const n={...t,body:await zc(t.body,e)};return i8(n)},u8=(t,e)=>Qa(t,{Height:I2,Left:I2,Top:I2,Width:I2}),r2e=(t,e)=>UI.visit(t,{FaceMovementAndLightChallenge:n=>({FaceMovementAndLightChallenge:o2e(n)}),FaceMovementChallenge:n=>({FaceMovementChallenge:s2e(n)}),_:(n,r)=>({[n]:r})}),a2e=(t,e)=>Qa(t,{Challenge:n=>r2e(n)}),o2e=(t,e)=>Qa(t,{ChallengeId:[],ColorDisplayed:Cm,InitialFace:n=>l8(n),TargetFace:n=>c8(n),VideoEndTimestamp:[],VideoStartTimestamp:[]}),s2e=(t,e)=>Qa(t,{ChallengeId:[],InitialFace:n=>l8(n),TargetFace:n=>c8(n),VideoEndTimestamp:[],VideoStartTimestamp:[]}),l8=(t,e)=>Qa(t,{BoundingBox:n=>u8(n),InitialFaceDetectedTimestamp:[]}),c8=(t,e)=>Qa(t,{BoundingBox:n=>u8(n),FaceDetectedInTargetPositionEndTimestamp:[],FaceDetectedInTargetPositionStartTimestamp:[]}),i2e=(t,e)=>Qa(t,{TimestampMillis:[],VideoChunk:e.base64Encoder}),d8=(t,e)=>Qa(t,{BlazeFaceDetectionThreshold:ws,FaceDistanceThreshold:ws,FaceDistanceThresholdMax:ws,FaceDistanceThresholdMin:ws,FaceIouHeightThreshold:ws,FaceIouWidthThreshold:ws,OvalFitTimeout:sbe,OvalHeightWidthRatio:ws,OvalIouHeightThreshold:ws,OvalIouThreshold:ws,OvalIouWidthThreshold:ws}),u2e=(t,e)=>Qa(t,{DownscrollDuration:ws,FlatDisplayDuration:ws,FreshnessColor:Cm}),l2e=(t,e)=>(t||[]).filter(r=>r!=null).map(r=>u2e(r)),c2e=(t,e)=>Qa(t,{ChallengeConfig:n=>d8(n),ColorSequences:n=>l2e(n),LightChallengeType:Ks,OvalParameters:n=>f8(n)}),d2e=(t,e)=>Qa(t,{ChallengeConfig:n=>d8(n),OvalParameters:n=>f8(n)}),f8=(t,e)=>Qa(t,{CenterX:ws,CenterY:ws,Height:ws,Width:ws}),f2e=(t,e)=>t.FaceMovementAndLightChallenge!=null?{FaceMovementAndLightChallenge:c2e(t.FaceMovementAndLightChallenge)}:t.FaceMovementChallenge!=null?{FaceMovementChallenge:d2e(t.FaceMovementChallenge)}:{$unknown:Object.entries(t)[0]},p2e=(t,e)=>Qa(t,{SessionInformation:n=>h2e(n)}),h2e=(t,e)=>Qa(t,{Challenge:n=>f2e(z0e(n))}),Zd=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),m2e="ChallengeVersions",p8="SessionId",g2e="VideoHeight",v2e="VideoWidth",y2e="x-amz-rekognition-streaming-liveness-challenge-versions",h8="x-amz-rekognition-streaming-liveness-session-id",b2e="x-amz-rekognition-streaming-liveness-video-height",S2e="x-amz-rekognition-streaming-liveness-video-width";class w2e extends i5.classBuilder().ep(MSe).m(function(e,n,r,a){return[Lye(r,this.serialize,this.deserialize),Z1e(r,e.getEndpointParameterInstructions()),mye(r),b1e(r,{headerPrefix:"x-amz-rekognition-streaming-liveness-"})]}).s("RekognitionStreamingService","StartFaceLivenessSession",{eventStream:{input:!0,output:!0}}).n("RekognitionStreamingClient","StartFaceLivenessSessionCommand").f(Pwe,Lwe).ser(Bwe).de(zwe).build(){}const E2e="ui-react-liveness/3.4.7",x2e=()=>E2e,YI=t=>encodeURIComponent(t).replace(/[!'()*]/g,C2e),C2e=t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`;function k2e(t){const e=[];for(let n of Object.keys(t).sort()){const r=t[n];if(n=YI(n),Array.isArray(r))for(let a=0,o=r.length;a<o;a++)e.push(`${n}=${YI(r[a])}`);else{let a=n;(r||typeof r=="string")&&(a+=`=${YI(r)}`),e.push(a)}}return e.join("&")}function _2e(t){const{port:e,query:n}=t;let{protocol:r,path:a,hostname:o}=t;r&&r.slice(-1)!==":"&&(r+=":"),e&&(o+=`:${e}`),a&&a.charAt(0)!=="/"&&(a=`/${a}`);let u=n?k2e(n):"";u&&u[0]!=="?"&&(u=`?${u}`);let l="";if(t.username!=null||t.password!=null){const p=t.username??"",c=t.password??"";l=`${p}:${c}@`}let f="";return t.fragment&&(f=`#${t.fragment}`),`${r}//${l}${o}${a}${u}${f}`}const m8={},XI={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),m8[t]=e,XI[e]=t}function T2e(t){if(t.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const e=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2){const r=t.slice(n,n+2).toLowerCase();if(r in XI)e[n/2]=XI[r];else throw new Error(`Cannot decode unrecognized sequence ${r} as hexadecimal`)}return e}function xp(t){let e="";for(let n=0;n<t.byteLength;n++)e+=m8[t[n]];return e}const I2e=t=>({[Symbol.asyncIterator]:async function*(){const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)return;yield r}}finally{e.releaseLock()}}}),R2e=t=>{const e=t[Symbol.asyncIterator]();return new ReadableStream({async pull(n){const{done:r,value:a}=await e.next();if(r)return n.close();n.enqueue(a)}})};let g8=class{statusCode;reason;headers;body;constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const n=e;return typeof n.statusCode=="number"&&typeof n.headers=="object"}};const Cp=t=>encodeURIComponent(t).replace(/[!'()*]/g,N2e),N2e=t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`;function A2e(t){const e=[];for(let n of Object.keys(t).sort()){const r=t[n];if(n=Cp(n),Array.isArray(r))for(let a=0,o=r.length;a<o;a++)e.push(`${n}=${Cp(r[a])}`);else{let a=n;(r||typeof r=="string")&&(a+=`=${Cp(r)}`),e.push(a)}}return e.join("&")}function v8(t,e){return new Request(t,e)}function D2e(t=0){return new Promise((e,n)=>{t&&setTimeout(()=>{const r=new Error(`Request did not complete within ${t} ms`);r.name="TimeoutError",n(r)},t)})}const QI={supported:void 0};class JI{config;configProvider;static create(e){return typeof e?.handle=="function"?e:new JI(e)}constructor(e){typeof e=="function"?this.configProvider=e().then(n=>n||{}):(this.config=e??{},this.configProvider=Promise.resolve(this.config)),QI.supported===void 0&&(QI.supported=typeof Request<"u"&&"keepalive"in v8("https://[::1]"))}destroy(){}async handle(e,{abortSignal:n,requestTimeout:r}={}){this.config||(this.config=await this.configProvider);const a=r??this.config.requestTimeout,o=this.config.keepAlive===!0,u=this.config.credentials;if(n?.aborted){const R=new Error("Request aborted");return R.name="AbortError",Promise.reject(R)}let l=e.path;const f=A2e(e.query||{});f&&(l+=`?${f}`),e.fragment&&(l+=`#${e.fragment}`);let p="";if(e.username!=null||e.password!=null){const R=e.username??"",A=e.password??"";p=`${R}:${A}@`}const{port:c,method:g}=e,y=`${e.protocol}//${p}${e.hostname}${c?`:${c}`:""}${l}`,S=g==="GET"||g==="HEAD"?void 0:e.body,E={body:S,headers:new Headers(e.headers),method:g,credentials:u};this.config?.cache&&(E.cache=this.config.cache),S&&(E.duplex="half"),typeof AbortController<"u"&&(E.signal=n),QI.supported&&(E.keepalive=o),typeof this.config.requestInit=="function"&&Object.assign(E,this.config.requestInit(e));let k=()=>{};const _=v8(y,E),I=[fetch(_).then(R=>{const A=R.headers,O={};for(const U of A.entries())O[U[0]]=U[1];return R.body!=null?{response:new g8({headers:O,reason:R.statusText,statusCode:R.status,body:R.body})}:R.blob().then(U=>({response:new g8({headers:O,reason:R.statusText,statusCode:R.status,body:U})}))}),D2e(a)];return n&&I.push(new Promise((R,A)=>{const O=()=>{const L=new Error("Request aborted");L.name="AbortError",A(L)};if(typeof n.addEventListener=="function"){const L=n;L.addEventListener("abort",O,{once:!0}),k=()=>L.removeEventListener("abort",O)}else n.onabort=O})),Promise.race(I).finally(k)}updateHttpClientConfig(e,n){this.config=void 0,this.configProvider=this.configProvider.then(r=>(r[e]=n,r))}httpHandlerConfigs(){return this.config??{}}}const ZI=t=>new TextEncoder().encode(t),Ny=t=>typeof t=="string"?ZI(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t);var y8;(function(t){t.HEADER="header",t.QUERY="query"})(y8||(y8={}));var b8;(function(t){t.HEADER="header",t.QUERY="query"})(b8||(b8={}));var S8;(function(t){t.HTTP="http",t.HTTPS="https"})(S8||(S8={}));var w8;(function(t){t.MD5="md5",t.CRC32="crc32",t.CRC32C="crc32c",t.SHA1="sha1",t.SHA256="sha256"})(w8||(w8={}));var E8;(function(t){t[t.HEADER=0]="HEADER",t[t.TRAILER=1]="TRAILER"})(E8||(E8={}));var x8;(function(t){t.PROFILE="profile",t.SSO_SESSION="sso-session",t.SERVICES="services"})(x8||(x8={}));var C8;(function(t){t.HTTP_0_9="http/0.9",t.HTTP_1_0="http/1.0",t.TDS_8_0="tds/8.0"})(C8||(C8={}));class O2e{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const n=e;return typeof n.statusCode=="number"&&typeof n.headers=="object"}}const M2e=2e3,k8="Websocket connection timeout",$2e=t=>t.protocol==="ws:"||t.protocol==="wss:",F2e=t=>typeof ReadableStream=="function"&&t instanceof ReadableStream,P2e=t=>t[Symbol.asyncIterator]?t:F2e(t)?I2e(t):{[Symbol.asyncIterator]:async function*(){yield t}},L2e=t=>typeof ReadableStream=="function"?R2e(t):t;class B2e{constructor(e,n=new JI){this.metadata={handlerProtocol:"websocket/h1.1"},this.sockets={},this.utf8decoder=new TextDecoder,this.httpHandler=n,typeof e=="function"?(this.config={},this.configPromise=e().then(r=>this.config=r??{})):(this.config=e??{},this.configPromise=Promise.resolve(this.config))}destroy(){for(const[e,n]of Object.entries(this.sockets)){for(const r of n)r.close(1e3,"Socket closed through destroy() call");delete this.sockets[e]}}async handle(e){if(!$2e(e))return this.httpHandler.handle(e);const n=_2e(e),r=new WebSocket(n);this.sockets[n]||(this.sockets[n]=[]),this.sockets[n].push(r),r.binaryType="arraybuffer";const{connectionTimeout:a=M2e}=await this.configPromise;await this.waitForReady(r,a);const{body:o}=e,u=P2e(o),l=this.connect(r,u),f=L2e(l);return{response:new O2e({statusCode:200,body:f})}}updateHttpClientConfig(e,n){this.configPromise=this.configPromise.then(r=>({...r,[e]:n}))}httpHandlerConfigs(){return this.config??{}}removeNotUsableSockets(e){this.sockets[e]=(this.sockets[e]??[]).filter(n=>!(n.readyState===WebSocket.CLOSING||n.readyState===WebSocket.CLOSED))}waitForReady(e,n){return new Promise((r,a)=>{const o=setTimeout(()=>{this.removeNotUsableSockets(e.url),a(new Error(k8))},n);e.onopen=()=>{clearTimeout(o),r()}})}connect(e,n){let r,a=!1,o=()=>{},u=()=>{};e.onmessage=p=>{u({done:!1,value:new Uint8Array(p.data)})},e.onerror=p=>{a=!0,e.close(),o(p)},e.onclose=()=>{this.removeNotUsableSockets(e.url),!a&&(r?o(r):u({done:!0,value:void 0}))};const l={[Symbol.asyncIterator]:()=>({next:()=>new Promise((p,c)=>{u=p,o=c})})};return(async()=>{try{for await(const p of n){const c=this.utf8decoder.decode(p);if(c.includes("closeCode")){const g=c.match(/"closeCode":([0-9]*)/);if(g){const y=g[1];e.close(parseInt(y))}continue}e.send(p)}}catch(p){p instanceof Error&&(r=p)}finally{e.close(Kh.SUCCESS_CODE)}})(),l}}const z2e=t=>typeof t=="function",U2e=t=>!!(t?.accessKeyId&&t?.secretAccessKey);async function H2e(t){const e=z2e(t);if(t&&!e)throw new Error("Invalid credentialsProvider");if(e)return t;try{const n=(await kD()).credentials;if(U2e(n))return n;throw new Error("Missing credentials")}catch(n){const{message:r}=n;throw new Error(`Invalid credentials: ${r}`)}}const V2e="X-Amz-Algorithm",W2e="X-Amz-Credential",_8="X-Amz-Date",j2e="X-Amz-SignedHeaders",G2e="X-Amz-Expires",T8="X-Amz-Signature",I8="X-Amz-Security-Token",R8="authorization",N8=_8.toLowerCase(),q2e=[R8,N8,"date"],K2e=T8.toLowerCase(),e3="x-amz-content-sha256",Y2e=I8.toLowerCase(),X2e={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Q2e=/^proxy-/,J2e=/^sec-/,t3="AWS4-HMAC-SHA256",Z2e="AWS4-HMAC-SHA256-PAYLOAD",eEe="UNSIGNED-PAYLOAD",tEe=50,A8="aws4_request",nEe=3600*24*7,M2={},n3=[],r3=(t,e,n)=>`${t}/${e}/${n}/${A8}`,rEe=async(t,e,n,r,a)=>{const o=await D8(t,e.secretAccessKey,e.accessKeyId),u=`${n}:${r}:${a}:${xp(o)}:${e.sessionToken}`;if(u in M2)return M2[u];for(n3.push(u);n3.length>tEe;)delete M2[n3.shift()];let l=`AWS4${e.secretAccessKey}`;for(const f of[n,r,a,A8])l=await D8(t,l,f);return M2[u]=l},D8=(t,e,n)=>{const r=new t(e);return r.update(Ny(n)),r.digest()},O8=({headers:t},e,n)=>{const r={};for(const a of Object.keys(t).sort()){if(t[a]==null)continue;const o=a.toLowerCase();(o in X2e||e?.has(o)||Q2e.test(o)||J2e.test(o))&&(!n||n&&!n.has(o))||(r[o]=t[a].trim().replace(/\s+/g," "))}return r},aEe=t=>typeof ArrayBuffer=="function"&&t instanceof ArrayBuffer||Object.prototype.toString.call(t)==="[object ArrayBuffer]",a3=async({headers:t,body:e},n)=>{for(const r of Object.keys(t))if(r.toLowerCase()===e3)return t[r];if(e==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof e=="string"||ArrayBuffer.isView(e)||aEe(e)){const r=new n;return r.update(Ny(e)),xp(await r.digest())}return eEe};class oEe{format(e){const n=[];for(const o of Object.keys(e)){const u=ZI(o);n.push(Uint8Array.from([u.byteLength]),u,this.formatHeaderValue(e[o]))}const r=new Uint8Array(n.reduce((o,u)=>o+u.byteLength,0));let a=0;for(const o of n)r.set(o,a),a+=o.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":const n=new DataView(new ArrayBuffer(3));return n.setUint8(0,3),n.setInt16(1,e.value,!1),new Uint8Array(n.buffer);case"integer":const r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":const a=new Uint8Array(9);return a[0]=5,a.set(e.value.bytes,1),a;case"binary":const o=new DataView(new ArrayBuffer(3+e.value.byteLength));o.setUint8(0,6),o.setUint16(1,e.value.byteLength,!1);const u=new Uint8Array(o.buffer);return u.set(e.value,3),u;case"string":const l=ZI(e.value),f=new DataView(new ArrayBuffer(3+l.byteLength));f.setUint8(0,7),f.setUint16(1,l.byteLength,!1);const p=new Uint8Array(f.buffer);return p.set(l,3),p;case"timestamp":const c=new Uint8Array(9);return c[0]=8,c.set(o3.fromNumber(e.value.valueOf()).bytes,1),c;case"uuid":if(!sEe.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);const g=new Uint8Array(17);return g[0]=9,g.set(T2e(e.value.replace(/\-/g,"")),1),g}}}var M8;(function(t){t[t.boolTrue=0]="boolTrue",t[t.boolFalse=1]="boolFalse",t[t.byte=2]="byte",t[t.short=3]="short",t[t.integer=4]="integer",t[t.long=5]="long",t[t.byteArray=6]="byteArray",t[t.string=7]="string",t[t.timestamp=8]="timestamp",t[t.uuid=9]="uuid"})(M8||(M8={}));const sEe=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;class o3{constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);const n=new Uint8Array(8);for(let r=7,a=Math.abs(Math.round(e));r>-1&&a>0;r--,a/=256)n[r]=a;return e<0&&$8(n),new o3(n)}valueOf(){const e=this.bytes.slice(0),n=e[0]&128;return n&&$8(e),parseInt(xp(e),16)*(n?-1:1)}toString(){return String(this.valueOf())}}function $8(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}const iEe=(t,e)=>{t=t.toLowerCase();for(const n of Object.keys(e))if(t===n.toLowerCase())return!0;return!1};class Ay{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const n=new Ay({...e,headers:{...e.headers}});return n.query&&(n.query=uEe(n.query)),n}static isInstance(e){if(!e)return!1;const n=e;return"method"in n&&"protocol"in n&&"hostname"in n&&"path"in n&&typeof n.query=="object"&&typeof n.headers=="object"}clone(){return Ay.clone(this)}}function uEe(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return{...e,[n]:Array.isArray(r)?[...r]:r}},{})}const lEe=(t,e={})=>{const{headers:n,query:r={}}=Ay.clone(t);for(const a of Object.keys(n)){const o=a.toLowerCase();(o.slice(0,6)==="x-amz-"&&!e.unhoistableHeaders?.has(o)||e.hoistableHeaders?.has(o))&&(r[a]=n[a],delete n[a])}return{...t,headers:n,query:r}},F8=t=>{t=Ay.clone(t);for(const e of Object.keys(t.headers))q2e.indexOf(e.toLowerCase())>-1&&delete t.headers[e];return t},P8=t=>{if(typeof t=="function")return t;const e=Promise.resolve(t);return()=>e},cEe=({query:t={}})=>{const e=[],n={};for(const r of Object.keys(t)){if(r.toLowerCase()===K2e)continue;const a=Cp(r);e.push(a);const o=t[r];typeof o=="string"?n[a]=`${a}=${Cp(o)}`:Array.isArray(o)&&(n[a]=o.slice(0).reduce((u,l)=>u.concat([`${a}=${Cp(l)}`]),[]).sort().join("&"))}return e.sort().map(r=>n[r]).filter(r=>r).join("&")},dEe=t=>fEe(t).toISOString().replace(/\.\d{3}Z$/,"Z"),fEe=t=>typeof t=="number"?new Date(t*1e3):typeof t=="string"?Number(t)?new Date(Number(t)*1e3):new Date(t):t;class pEe{constructor({applyChecksum:e,credentials:n,region:r,service:a,sha256:o,uriEscapePath:u=!0}){this.service=a,this.sha256=o,this.uriEscapePath=u,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=P8(r),this.credentialProvider=P8(n)}createCanonicalRequest(e,n,r){const a=Object.keys(n).sort();return`${e.method}
${this.getCanonicalPath(e)}
${cEe(e)}
${a.map(o=>`${o}:${n[o]}`).join(`
`)}

${a.join(";")}
${r}`}async createStringToSign(e,n,r,a){const o=new this.sha256;o.update(Ny(r));const u=await o.digest();return`${a}
${e}
${n}
${xp(u)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){const n=[];for(const o of e.split("/"))o?.length!==0&&o!=="."&&(o===".."?n.pop():n.push(o));const r=`${e?.startsWith("/")?"/":""}${n.join("/")}${n.length>0&&e?.endsWith("/")?"/":""}`;return Cp(r).replace(/%2F/g,"/")}return e}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(e){const n=dEe(e).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.slice(0,8)}}getCanonicalHeaderList(e){return Object.keys(e).sort().join(";")}}class hEe extends pEe{constructor({applyChecksum:e,credentials:n,region:r,service:a,sha256:o,uriEscapePath:u=!0}){super({applyChecksum:e,credentials:n,region:r,service:a,sha256:o,uriEscapePath:u}),this.headerFormatter=new oEe}async presign(e,n={}){const{signingDate:r=new Date,expiresIn:a=3600,unsignableHeaders:o,unhoistableHeaders:u,signableHeaders:l,hoistableHeaders:f,signingRegion:p,signingService:c}=n,g=await this.credentialProvider();this.validateResolvedCredentials(g);const y=p??await this.regionProvider(),{longDate:S,shortDate:E}=this.formatDate(r);if(a>nEe)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const k=r3(E,y,c??this.service),_=lEe(F8(e),{unhoistableHeaders:u,hoistableHeaders:f});g.sessionToken&&(_.query[I8]=g.sessionToken),_.query[V2e]=t3,_.query[W2e]=`${g.accessKeyId}/${k}`,_.query[_8]=S,_.query[G2e]=a.toString(10);const I=O8(_,o,l);return _.query[j2e]=this.getCanonicalHeaderList(I),_.query[T8]=await this.getSignature(S,k,this.getSigningKey(g,y,E,c),this.createCanonicalRequest(_,I,await a3(e,this.sha256))),_}async sign(e,n){return typeof e=="string"?this.signString(e,n):e.headers&&e.payload?this.signEvent(e,n):e.message?this.signMessage(e,n):this.signRequest(e,n)}async signEvent({headers:e,payload:n},{signingDate:r=new Date,priorSignature:a,signingRegion:o,signingService:u}){const l=o??await this.regionProvider(),{shortDate:f,longDate:p}=this.formatDate(r),c=r3(f,l,u??this.service),g=await a3({headers:{},body:n},this.sha256),y=new this.sha256;y.update(e);const S=xp(await y.digest()),E=[Z2e,p,c,a,S,g].join(`
`);return this.signString(E,{signingDate:r,signingRegion:l,signingService:u})}async signMessage(e,{signingDate:n=new Date,signingRegion:r,signingService:a}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:n,signingRegion:r,signingService:a,priorSignature:e.priorSignature}).then(u=>({message:e.message,signature:u}))}async signString(e,{signingDate:n=new Date,signingRegion:r,signingService:a}={}){const o=await this.credentialProvider();this.validateResolvedCredentials(o);const u=r??await this.regionProvider(),{shortDate:l}=this.formatDate(n),f=new this.sha256(await this.getSigningKey(o,u,l,a));return f.update(Ny(e)),xp(await f.digest())}async signRequest(e,{signingDate:n=new Date,signableHeaders:r,unsignableHeaders:a,signingRegion:o,signingService:u}={}){const l=await this.credentialProvider();this.validateResolvedCredentials(l);const f=o??await this.regionProvider(),p=F8(e),{longDate:c,shortDate:g}=this.formatDate(n),y=r3(g,f,u??this.service);p.headers[N8]=c,l.sessionToken&&(p.headers[Y2e]=l.sessionToken);const S=await a3(p,this.sha256);!iEe(e3,p.headers)&&this.applyChecksum&&(p.headers[e3]=S);const E=O8(p,a,r),k=await this.getSignature(c,y,this.getSigningKey(l,f,g,u),this.createCanonicalRequest(p,E,S));return p.headers[R8]=`${t3} Credential=${l.accessKeyId}/${y}, SignedHeaders=${this.getCanonicalHeaderList(E)}, Signature=${k}`,p}async getSignature(e,n,r,a){const o=await this.createStringToSign(e,n,a,t3),u=new this.sha256(await r);return u.update(Ny(o)),xp(await u.digest())}getSigningKey(e,n,r,a){return rEe(this.sha256,e,r,n,a||this.service)}}class mEe extends hEe{presign(e,n){return super.presign(e,{...n,expiresIn:gj,unsignableHeaders:new Set(Object.keys(e.headers).filter(r=>r!=="host"))})}}const gEe=3e5;class Uc{static getAttemptCountAndUpdateTimestamp(){return Date.now()-Uc.timestamp>gEe?Uc.attemptCount=1:Uc.attemptCount+=1,Uc.timestamp=Date.now(),Uc.attemptCount}}Uc.attemptCount=0,Uc.timestamp=Date.now();const vEe=(t,e)=>n=>async r=>(r.request.query["attempt-count"]=t.toString(),r.request.query["precheck-view-enabled"]=e?"1":"0",await n(r)),yEe=`${q0()} ${x2e()}`;async function bEe({credentialsProvider:t,endpointOverride:e,region:n,systemClockOffset:r}){const a={credentials:await H2e(t),customUserAgent:yEe,region:n,requestHandler:new B2e({connectionTimeout:vj}),signerConstructor:mEe,systemClockOffset:r};return hp(e)&&(a.endpointProvider=()=>({url:new URL(e)})),new Fwe(a)}const SEe=({requestStream:t,sessionId:e,videoWidth:n,videoHeight:r})=>({ChallengeVersions:yj,SessionId:e,LivenessRequestStream:t,VideoWidth:n,VideoHeight:r});async function wEe(t){const e=await bEe(t);return e.middlewareStack.add(vEe(t.attemptCount,t.preCheckViewEnabled),{step:"build",name:"telemetryMiddleware",tags:["liveness","amplify-ui"]}),{async getResponseStream(n){const r=new w2e(SEe(n)),{LivenessResponseStream:a}=await e.send(r);return a}}}var ef,kp,Qs,tf,$2,F2,Dy,Oy,Rm,P2,L2,_p,L8,B8,s3,z8,U8;class EEe{constructor(e){if(ef.add(this),kp.set(this,void 0),Qs.set(this,void 0),tf.set(this,void 0),$2.set(this,!1),F2.set(this,void 0),Dy.set(this,void 0),Oy.set(this,void 0),Rm.set(this,void 0),P2.set(this,void 0),L2.set(this,void 0),_p.set(this,void 0),typeof MediaRecorder>"u")throw Error("MediaRecorder is not supported by this browser");Kr(this,kp,[],"f"),Kr(this,Qs,new MediaRecorder(e,{bitsPerSecond:1e6}),"f"),Kr(this,tf,_t(this,Qs,"f"),"f"),Kr(this,L2,_t(this,ef,"m",B8).call(this),"f"),Kr(this,_p,{},"f")}getVideoStream(){return _t(this,L2,"f")}setNewVideoStream(e){_t(this,ef,"m",U8).call(this),Kr(this,Qs,new MediaRecorder(e,{bitsPerSecond:1e6}),"f"),_t(this,ef,"m",s3).call(this,_t(this,Qs,"f"))}dispatchStreamEvent(e){const{type:n}=e,r=n==="streamStop"?void 0:e.data;_t(this,Qs,"f").dispatchEvent(new MessageEvent(n,{data:r}))}getRecordingStartTimestamp(){if(yy(_t(this,Oy,"f"))||yy(_t(this,Rm,"f")))throw new Error("Recording has not started");return Math.round(.73*(_t(this,Oy,"f")-_t(this,Rm,"f"))+_t(this,Rm,"f"))}getRecordingEndedTimestamp(){if(yy(_t(this,Dy,"f")))throw new Error("Recording has not ended");return _t(this,Dy,"f")}startRecording(){_t(this,ef,"m",L8).call(this),Kr(this,Rm,Date.now(),"f"),_t(this,Qs,"f").start(hj)}isRecording(){return _t(this,Qs,"f").state==="recording"}getChunksLength(){return _t(this,kp,"f").length}hasRecordingStarted(){return _t(this,$2,"f")&&_t(this,F2,"f")!==void 0}async stopRecording(){return this.isRecording()&&_t(this,Qs,"f").stop(),_t(this,P2,"f")}}kp=new WeakMap,Qs=new WeakMap,tf=new WeakMap,$2=new WeakMap,F2=new WeakMap,Dy=new WeakMap,Oy=new WeakMap,Rm=new WeakMap,P2=new WeakMap,L2=new WeakMap,_p=new WeakMap,ef=new WeakSet,L8=function(){Kr(this,kp,[],"f")},B8=function(){return new ReadableStream({start:e=>{_t(this,ef,"m",s3).call(this,_t(this,Qs,"f"),e)}})},s3=function(e,n){const r=n?({data:f})=>{f&&f.size>0&&(_t(this,kp,"f").length===0&&Kr(this,F2,Date.now(),"f"),_t(this,kp,"f").push(f),n.enqueue({type:"streamVideo",data:f}))}:({data:f})=>{_t(this,tf,"f").dispatchEvent(new MessageEvent("dataavailable",{data:f}))};e.ondataavailable=r;const a=n?f=>{const{data:p}=f;n.enqueue({type:"sessionInfo",data:p})}:f=>{const{data:p}=f;_t(this,tf,"f").dispatchEvent(new MessageEvent("sessionInfo",{data:p}))};e.addEventListener("sessionInfo",a);const o=n?()=>{n.enqueue({type:"streamStop"})}:()=>{_t(this,tf,"f").dispatchEvent(new MessageEvent("streamStop"))};e.addEventListener("streamStop",o);const u=n?f=>{const{data:p}=f;n.enqueue({type:"closeCode",data:p})}:f=>{const{data:p}=f;_t(this,tf,"f").dispatchEvent(new MessageEvent("closeCode",{data:p}))};e.addEventListener("closeCode",u);const l=n?()=>{n.close()}:()=>{_t(this,tf,"f").dispatchEvent(new MessageEvent("endStream"))};e.addEventListener("endStream",l),_t(this,ef,"m",z8).call(this),Kr(this,_p,{endStream:l,closeCode:u,streamStop:o,sessionInfo:a,dataavailable:r},"f")},z8=function(){_t(this,Qs,"f").onstart=()=>{Kr(this,$2,!0,"f"),Kr(this,Oy,Date.now(),"f")},Kr(this,P2,new Promise(e=>{_t(this,Qs,"f").onstop=()=>{Kr(this,Dy,Date.now(),"f"),e()}}),"f"),_t(this,Qs,"f").onerror=()=>{this.stopRecording()}},U8=function(){Object.keys(_t(this,_p,"f")).forEach(n=>{_t(this,Qs,"f").removeEventListener(n,_t(this,_p,"f")[n])}),Kr(this,_p,{},"f")};const xEe=t=>!!t?.ServerSessionInformationEvent,CEe=t=>{const{message:e}=t;return e.includes(k8)},kEe=t=>!!t?.DisconnectionEvent,_Ee=t=>!!t?.ValidationException,TEe=t=>!!t?.InternalServerException,IEe=t=>!!t?.ThrottlingException,REe=t=>!!t?.ServiceQuotaExceededException,NEe=t=>{const{message:e,name:n}=t;return n==="InvalidSignatureException"&&e.includes("valid region")},B2={width:{min:320,ideal:640},height:{min:240,ideal:480},frameRate:{min:15,ideal:30,max:60},facingMode:"user"},AEe="AmplifyLivenessCameraId",DEe=7e3;let H8;const OEe=async t=>{try{const e=await H8;for await(const n of e)xEe(n)?t({type:"SET_SESSION_INFO",data:{serverSessionInformation:n.ServerSessionInformationEvent.SessionInformation}}):kEe(n)?t({type:"DISCONNECT_EVENT"}):_Ee(n)?t({type:"SERVER_ERROR",data:{error:{...n.ValidationException}}}):TEe(n)?t({type:"SERVER_ERROR",data:{error:{...n.InternalServerException}}}):IEe(n)?t({type:"SERVER_ERROR",data:{error:{...n.ThrottlingException}}}):REe(n)&&t({type:"SERVER_ERROR",data:{error:{...n.ServiceQuotaExceededException}}})}catch(e){NEe(e)?t({type:"SERVER_ERROR",data:{error:new Error("Invalid region in FaceLivenessDetector or credentials are scoped to the wrong region.")}}):e instanceof Error&&t({type:CEe(e)?"CONNECTION_TIMEOUT":"SERVER_ERROR",data:{error:e}})}};function V8(t){localStorage.setItem(AEe,t)}const MEe=JW({id:"livenessMachine",initial:"initCamera",predictableActionArguments:!0,context:{challengeId:zC(),errorMessage:void 0,maxFailedAttempts:0,failedAttempts:0,componentProps:void 0,parsedSessionInformation:void 0,serverSessionInformation:void 0,videoAssociatedParams:{videoConstraints:B2,selectableDevices:[]},ovalAssociatedParams:void 0,faceMatchAssociatedParams:{illuminationState:void 0,faceMatchState:void 0,faceMatchPercentage:25,currentDetectedFace:void 0,startFace:void 0,endFace:void 0},freshnessColorAssociatedParams:{freshnessColorEl:void 0,freshnessColors:[],freshnessColorsComplete:!1},colorSequenceDisplay:void 0,errorState:void 0,livenessStreamProvider:void 0,responseStreamActorRef:void 0,shouldDisconnect:!1,faceMatchStateBeforeStart:void 0,isFaceFarEnoughBeforeRecording:void 0,isRecordingStopped:!1},on:{CANCEL:"userCancel",TIMEOUT:{target:"retryableTimeout",actions:"updateErrorStateForTimeout"},SET_SESSION_INFO:{internal:!0,actions:"updateSessionInfo"},DISCONNECT_EVENT:{internal:!0,actions:"updateShouldDisconnect"},SET_DOM_AND_CAMERA_DETAILS:{actions:"setDOMAndCameraDetails"},UPDATE_DEVICE_AND_STREAM:{actions:"updateDeviceAndStream",target:"start"},SERVER_ERROR:{target:"error",actions:"updateErrorStateForServer"},CONNECTION_TIMEOUT:{target:"error",actions:"updateErrorStateForConnectionTimeout"},RUNTIME_ERROR:{target:"error",actions:"updateErrorStateForRuntime"},MOBILE_LANDSCAPE_WARNING:{target:"mobileLandscapeWarning",actions:"updateErrorStateForServer"}},states:{initCamera:{initial:"cameraCheck",on:{SET_DOM_AND_CAMERA_DETAILS:{actions:"setDOMAndCameraDetails",target:"#livenessMachine.initWebsocket"}},states:{cameraCheck:{entry:"resetErrorState",invoke:{src:"checkVirtualCameraAndGetStream",onDone:{target:"waitForDOMAndCameraDetails",actions:"updateVideoMediaStream"},onError:{target:"#livenessMachine.permissionDenied"}}},waitForDOMAndCameraDetails:{}}},initWebsocket:{entry:()=>{},initial:"initializeLivenessStream",states:{initializeLivenessStream:{invoke:{src:"openLivenessStreamConnection",onDone:{target:"waitForSessionInfo",actions:["updateLivenessStreamProvider","spawnResponseStreamActor"]}}},waitForSessionInfo:{entry:()=>{},after:{0:{target:"#livenessMachine.start",cond:"hasParsedSessionInfo"},100:{target:"waitForSessionInfo"}}}}},start:{entry:["initializeFaceDetector",()=>{}],always:[{target:"detectFaceBeforeStart",cond:"shouldSkipStartScreen"}],on:{BEGIN:"detectFaceBeforeStart"}},detectFaceBeforeStart:{invoke:{src:"detectFace",onDone:{target:"checkFaceDetectedBeforeStart",actions:"updateFaceMatchBeforeStartDetails"}}},checkFaceDetectedBeforeStart:{after:{0:{target:"detectFaceDistanceBeforeRecording",cond:"hasSingleFaceBeforeStart"},100:{target:"detectFaceBeforeStart"}}},detectFaceDistanceBeforeRecording:{invoke:{src:"detectFaceDistance",onDone:{target:"checkFaceDistanceBeforeRecording",actions:"updateFaceDistanceBeforeRecording"}}},checkFaceDistanceBeforeRecording:{after:{0:{target:"recording",cond:"hasEnoughFaceDistanceBeforeRecording"},100:{target:"detectFaceDistanceBeforeRecording"}}},recording:{entry:["clearErrorState","startRecording","sendTimeoutAfterOvalDrawingDelay"],initial:"ovalDrawing",states:{ovalDrawing:{invoke:{src:"detectInitialFaceAndDrawOval",onDone:{target:"checkFaceDetected",actions:["updateOvalAndFaceDetailsPostDraw","sendTimeoutAfterOvalMatchDelay"]},onError:{target:"#livenessMachine.error",actions:"updateErrorStateForRuntime"}}},checkFaceDetected:{after:{0:{target:"cancelOvalDrawingTimeout",cond:"hasSingleFace"},100:{target:"ovalDrawing"}}},cancelOvalDrawingTimeout:{entry:["cancelOvalDrawingTimeout","sendTimeoutAfterRecordingDelay"],after:{0:{target:"checkRecordingStarted"}}},checkRecordingStarted:{entry:()=>{},after:{0:{target:"ovalMatching",cond:"hasRecordingStarted",actions:"updateRecordingStartTimestamp"},100:{target:"checkRecordingStarted"}}},ovalMatching:{entry:"cancelRecordingTimeout",invoke:{src:"detectFaceAndMatchOval",onDone:{target:"checkMatch",actions:"updateFaceDetailsPostMatch"}}},checkMatch:{entry:()=>{},after:{0:{target:"handleChallenge",cond:"hasFaceMatchedInOval",actions:["setFaceMatchTimeAndStartFace","updateEndFaceMatch","setColorDisplay","cancelOvalMatchTimeout","cancelOvalDrawingTimeout"]},1:{target:"ovalMatching"}}},handleChallenge:{entry:()=>{},always:[{target:"delayBeforeFlash",cond:"isFaceMovementAndLightChallenge"},{target:"success",cond:"isFaceMovementChallenge"}]},delayBeforeFlash:{entry:()=>{},after:{1e3:"flashFreshnessColors"}},flashFreshnessColors:{invoke:{src:"flashColors",onDone:[{target:"success",cond:"hasFreshnessColorShown"},{target:"flashFreshnessColors",actions:"updateFreshnessDetails"}]}},success:{entry:"stopRecording",type:"final"}},onDone:"uploading"},uploading:{initial:"pending",states:{pending:{entry:["pauseVideoStream"],invoke:{src:"stopVideo",onDone:"waitForDisconnectEvent",onError:{target:"#livenessMachine.error",actions:"updateErrorStateForRuntime"}}},waitForDisconnectEvent:{entry:()=>{},after:{0:{cond:"getShouldDisconnect",target:"getLivenessResult"},100:{target:"waitForDisconnectEvent"}}},getLivenessResult:{entry:["freezeStream"],invoke:{src:"getLiveness",onError:{target:"#livenessMachine.error",actions:"updateErrorStateForServer"}}}}},retryableTimeout:{entry:"updateFailedAttempts",always:[{target:"timeout",cond:"shouldTimeoutOnFailedAttempts"},{target:"start"}]},permissionDenied:{entry:"callUserPermissionDeniedCallback",on:{RETRY_CAMERA_CHECK:"initCamera"}},mobileLandscapeWarning:{entry:"callMobileLandscapeWarningCallback",always:{target:"error"}},timeout:{entry:["cleanUpResources","callUserTimeoutCallback","freezeStream"]},error:{entry:["cleanUpResources","callErrorCallback","cancelOvalDrawingTimeout","cancelOvalMatchTimeout","cancelRecordingTimeout","freezeStream"]},userCancel:{entry:["cleanUpResources","callUserCancelCallback","resetContext"],always:{target:"initCamera"}}}},{actions:{spawnResponseStreamActor:$r({responseStreamActorRef:()=>qW(OEe)}),updateFailedAttempts:$r({failedAttempts:t=>t.failedAttempts+1}),updateVideoMediaStream:$r({videoAssociatedParams:(t,e)=>({...t.videoAssociatedParams,videoMediaStream:e.data?.stream,selectedDeviceId:e.data?.selectedDeviceId,selectableDevices:e.data?.selectableDevices})}),initializeFaceDetector:$r({ovalAssociatedParams:t=>{const{componentProps:e}=t,{faceModelUrl:n,binaryPath:r}=e.config,a=new cve(r,n);return a.triggerModelLoading(),{...t.ovalAssociatedParams,faceDetector:a}}}),updateLivenessStreamProvider:$r({livenessStreamProvider:(t,e)=>e.data?.livenessStreamProvider}),setDOMAndCameraDetails:$r({videoAssociatedParams:(t,e)=>({...t.videoAssociatedParams,videoEl:e.data?.videoEl,canvasEl:e.data?.canvasEl,isMobile:e.data?.isMobile}),freshnessColorAssociatedParams:(t,e)=>({...t.freshnessColorAssociatedParams,freshnessColorEl:e.data?.freshnessColorEl})}),updateDeviceAndStream:$r({videoAssociatedParams:(t,e)=>(V8(e.data?.newDeviceId),t.livenessStreamProvider?.setNewVideoStream(e.data?.newStream),{...t.videoAssociatedParams,selectedDeviceId:e.data?.newDeviceId,videoMediaStream:e.data?.newStream})}),updateRecordingStartTimestamp:$r({videoAssociatedParams:t=>{const{challengeId:e,ovalAssociatedParams:n,videoAssociatedParams:r,livenessStreamProvider:a,parsedSessionInformation:o}=t,{videoMediaStream:u}=r,l=a.getRecordingStartTimestamp();return t.livenessStreamProvider.dispatchStreamEvent({type:"sessionInfo",data:sye({parsedSessionInformation:o,...dL(u),challengeId:e,ovalAssociatedParams:n,recordingStartedTimestamp:l})}),{...t.videoAssociatedParams,recordingStartedTimestamp:l}}}),startRecording:$r({videoAssociatedParams:t=>(t.livenessStreamProvider&&!t.livenessStreamProvider.isRecording()&&t.livenessStreamProvider.startRecording(),{...t.videoAssociatedParams})}),stopRecording:()=>{},updateFaceMatchBeforeStartDetails:$r({faceMatchStateBeforeStart:(t,e)=>e.data.faceMatchState}),updateFaceDistanceBeforeRecording:$r({isFaceFarEnoughBeforeRecording:(t,e)=>!!e.data.isFaceFarEnoughBeforeRecording}),updateFaceDistanceWhileLoading:$r({isFaceFarEnoughBeforeRecording:(t,e)=>!!e.data.isFaceFarEnoughBeforeRecording,errorState:(t,e)=>e.data?.error}),updateOvalAndFaceDetailsPostDraw:$r({ovalAssociatedParams:(t,e)=>({...t.ovalAssociatedParams,initialFace:e.data.initialFace,ovalDetails:e.data.ovalDetails,scaleFactor:e.data.scaleFactor}),faceMatchAssociatedParams:(t,e)=>({...t.faceMatchAssociatedParams,faceMatchState:e.data.faceMatchState,illuminationState:e.data.illuminationState})}),updateFaceDetailsPostMatch:$r({faceMatchAssociatedParams:(t,e)=>({...t.faceMatchAssociatedParams,faceMatchState:e.data.faceMatchState,faceMatchPercentage:e.data.faceMatchPercentage,illuminationState:e.data.illuminationState,currentDetectedFace:e.data.detectedFace})}),updateEndFaceMatch:$r({faceMatchAssociatedParams:t=>({...t.faceMatchAssociatedParams,endFace:t.faceMatchAssociatedParams.currentDetectedFace})}),setFaceMatchTimeAndStartFace:$r({faceMatchAssociatedParams:t=>({...t.faceMatchAssociatedParams,startFace:t.faceMatchAssociatedParams.startFace===void 0?t.faceMatchAssociatedParams.currentDetectedFace:t.faceMatchAssociatedParams.startFace})}),resetErrorState:$r({errorState:t=>{}}),updateErrorStateForConnectionTimeout:$r({errorState:t=>na.CONNECTION_TIMEOUT}),updateErrorStateForTimeout:$r({errorState:(t,e)=>e.data?.errorState||na.TIMEOUT,errorMessage:(t,e)=>e.data?.message}),updateErrorStateForRuntime:$r({errorState:(t,e)=>e.data?.errorState||na.RUNTIME_ERROR}),updateErrorStateForServer:$r({errorState:t=>na.SERVER_ERROR}),clearErrorState:$r({errorState:t=>{}}),updateSessionInfo:$r({parsedSessionInformation:(t,e)=>{const{serverSessionInformation:n}=e.data;return tye(n)}}),updateShouldDisconnect:$r({shouldDisconnect:()=>!0}),updateFreshnessDetails:$r({freshnessColorAssociatedParams:(t,e)=>({...t.freshnessColorAssociatedParams,freshnessColorsComplete:e.data.freshnessColorsComplete})}),setColorDisplay:$r({colorSequenceDisplay:({parsedSessionInformation:t})=>new Xve(_j(t))}),sendTimeoutAfterOvalDrawingDelay:d1({type:"RUNTIME_ERROR",data:{message:"Client failed to draw oval."}},{delay:5e3,id:"ovalDrawingTimeout"}),cancelOvalDrawingTimeout:f1("ovalDrawingTimeout"),sendTimeoutAfterRecordingDelay:d1({type:"RUNTIME_ERROR",data:{message:"Client failed to start recording."}},{delay:5e3,id:"recordingTimeout"}),cancelRecordingTimeout:f1("recordingTimeout"),sendTimeoutAfterOvalMatchDelay:d1({type:"TIMEOUT",data:{message:"Client timed out waiting for face to match oval."}},{delay:t=>t.parsedSessionInformation.Challenge.ChallengeConfig?.OvalFitTimeout??DEe,id:"ovalMatchTimeout"}),cancelOvalMatchTimeout:f1("ovalMatchTimeout"),callUserPermissionDeniedCallback:$r({errorState:(t,e)=>{let n;e.data.message.includes("15 fps")?n=na.CAMERA_FRAMERATE_ERROR:n=na.CAMERA_ACCESS_ERROR;const r=e.data.message||e.data.Message,a=new Error(r),o={state:n,error:a};return t.componentProps.onError?.(o),n}}),callMobileLandscapeWarningCallback:$r({errorState:()=>na.MOBILE_LANDSCAPE_ERROR}),callUserCancelCallback:t=>{t.componentProps.onUserCancel?.()},callUserTimeoutCallback:t=>{const e=new Error(t.errorMessage??"Client Timeout");e.name=t.errorState;const n={state:t.errorState,error:e};t.componentProps.onError?.(n)},callErrorCallback:(t,e)=>{const n={state:t.errorState,error:e.data?.error||e.data};t.componentProps.onError?.(n)},cleanUpResources:t=>{const{freshnessColorEl:e}=t.freshnessColorAssociatedParams;e&&(e.style.display="none");let n=Kh.DEFAULT_ERROR_CODE;t.errorState===na.TIMEOUT?n=Kh.FACE_FIT_TIMEOUT:t.errorState===na.RUNTIME_ERROR?n=Kh.RUNTIME_ERROR:t.errorState===na.FACE_DISTANCE_ERROR||t.errorState===na.MULTIPLE_FACES_ERROR?n=Kh.USER_ERROR_DURING_CONNECTION:t.errorState===void 0&&(n=Kh.USER_CANCEL),t.livenessStreamProvider?.stopRecording().then(()=>{t.livenessStreamProvider?.dispatchStreamEvent({type:"closeCode",data:{closeCode:n}})})},freezeStream:t=>{const{videoMediaStream:e,videoEl:n}=t.videoAssociatedParams;t.isRecordingStopped=!0,n?.pause(),e?.getTracks().forEach(function(r){r.stop()})},pauseVideoStream:t=>{const{videoEl:e}=t.videoAssociatedParams;t.isRecordingStopped=!0,e.pause()},resetContext:$r({challengeId:zC(),maxFailedAttempts:0,failedAttempts:0,componentProps:t=>t.componentProps,parsedSessionInformation:t=>{},videoAssociatedParams:t=>({videoConstraints:B2}),ovalAssociatedParams:t=>{},errorState:t=>{},livenessStreamProvider:t=>{},responseStreamActorRef:t=>{},shouldDisconnect:!1,faceMatchStateBeforeStart:t=>{},isFaceFarEnoughBeforeRecording:t=>{},isRecordingStopped:!1})},guards:{shouldTimeoutOnFailedAttempts:t=>t.failedAttempts>=t.maxFailedAttempts,hasFaceMatchedInOval:t=>t.faceMatchAssociatedParams.faceMatchState===Cr.MATCHED,hasSingleFace:t=>t.faceMatchAssociatedParams.faceMatchState===Cr.FACE_IDENTIFIED,hasSingleFaceBeforeStart:t=>t.faceMatchStateBeforeStart===Cr.FACE_IDENTIFIED,hasEnoughFaceDistanceBeforeRecording:t=>t.isFaceFarEnoughBeforeRecording,hasNotEnoughFaceDistanceBeforeRecording:t=>!t.isFaceFarEnoughBeforeRecording,hasFreshnessColorShown:t=>t.freshnessColorAssociatedParams.freshnessColorsComplete,hasParsedSessionInfo:t=>t.parsedSessionInformation!==void 0,hasDOMAndCameraDetails:t=>t.videoAssociatedParams.videoEl!==void 0&&t.videoAssociatedParams.canvasEl!==void 0&&t.freshnessColorAssociatedParams.freshnessColorEl!==void 0,isFaceMovementChallenge:t=>t.parsedSessionInformation?.Challenge?.Name===w1.type,isFaceMovementAndLightChallenge:t=>t.parsedSessionInformation?.Challenge?.Name===Ek.type,getShouldDisconnect:t=>!!t.shouldDisconnect,hasRecordingStarted:t=>t.livenessStreamProvider.hasRecordingStarted(),shouldSkipStartScreen:t=>!!t.componentProps?.disableStartScreen},services:{async checkVirtualCameraAndGetStream(t){const{videoConstraints:e}=t.videoAssociatedParams,n=await navigator.mediaDevices.getUserMedia({video:{...e},audio:!1}),a=(await navigator.mediaDevices.enumerateDevices()).filter(c=>c.kind==="videoinput").filter(c=>!wj(c));if(!a.length)throw new Error("No real video devices found");const o=n.getTracks().filter(c=>c.getSettings().frameRate>=15);if(o.length<1)throw new Error("No camera found with more than 15 fps");const u=o[0].getSettings().deviceId,l=a.some(c=>c.deviceId===u),f=l?u:a[0].deviceId;let p=n;return l||(p=await navigator.mediaDevices.getUserMedia({video:{...e,deviceId:{exact:f}},audio:!1})),V8(f),{stream:p,selectedDeviceId:u,selectableDevices:a}},async openLivenessStreamConnection(t){const{config:e,disableStartScreen:n}=t.componentProps,{credentialProvider:r,endpointOverride:a,systemClockOffset:o}=e,{videoHeight:u,videoWidth:l}=t.videoAssociatedParams.videoEl,f=new EEe(t.videoAssociatedParams.videoMediaStream),p=uye(f.getVideoStream()).getRequestStream(),{getResponseStream:c}=await wEe({credentialsProvider:r,endpointOverride:a,region:t.componentProps.region,attemptCount:Uc.getAttemptCountAndUpdateTimestamp(),preCheckViewEnabled:!n,systemClockOffset:o});return H8=c({requestStream:p,sessionId:t.componentProps.sessionId,videoHeight:u.toString(),videoWidth:l.toString()}),{livenessStreamProvider:f}},async detectFace(t){const{videoEl:e}=t.videoAssociatedParams,{faceDetector:n}=t.ovalAssociatedParams;try{await n.modelLoadingPromise}catch(a){console.log({err:a})}return{faceMatchState:await Tj(n,e)}},async detectFaceDistance(t){const{parsedSessionInformation:e,isFaceFarEnoughBeforeRecording:n}=t,{videoEl:r,videoMediaStream:a}=t.videoAssociatedParams,{faceDetector:o}=t.ovalAssociatedParams,{width:u,height:l}=a.getTracks()[0].getSettings(),f=e.Challenge.ChallengeConfig,p=j4({width:u,height:l,ovalHeightWidthRatio:f.OvalHeightWidthRatio}),{isDistanceBelowThreshold:c}=await Ij({parsedSessionInformation:e,faceDetector:o,videoEl:r,ovalDetails:p,reduceThreshold:n});return{isFaceFarEnoughBeforeRecording:c}},async detectInitialFaceAndDrawOval(t){const{parsedSessionInformation:e}=t,{videoEl:n,canvasEl:r,isMobile:a}=t.videoAssociatedParams,{faceDetector:o}=t.ovalAssociatedParams;try{await o.modelLoadingPromise}catch(_){console.log({err:_})}const u=await o.detectFaces(n);let l,f,p;switch(u.length){case 0:{f=Cr.CANT_IDENTIFY,p=Y4(n);break}case 1:{f=Cr.FACE_IDENTIFIED,l=u[0];break}default:{f=Cr.TOO_MANY;break}}if(!l)return{faceMatchState:f,illuminationState:p};const{width:c,height:g}=n.getBoundingClientRect();a?(r.width=window.innerWidth,r.height=window.innerHeight):(r.width=c,r.height=g);const y=c/n.videoWidth,S=bj({parsedSessionInformation:e,videoWidth:n.width}),E=e.Challenge.ChallengeConfig,k=xk({ovalHeightWidthRatio:E.OvalHeightWidthRatio,face:l,oval:S,frameHeight:n.videoHeight});return l.top=k.top,l.left=k.left,l.height=k.bottom-k.top,l.width=k.right-k.left,G4({canvas:r,oval:S,scaleFactor:y,videoEl:n}),{faceMatchState:f,ovalDetails:S,scaleFactor:y,initialFace:l}},async detectFaceAndMatchOval(t){const{parsedSessionInformation:e}=t,{videoEl:n}=t.videoAssociatedParams,{faceDetector:r,ovalDetails:a,initialFace:o}=t.ovalAssociatedParams,u=await r.detectFaces(n);let l,f=0,p,c;const g=e.Challenge.ChallengeConfig,y=xk({ovalHeightWidthRatio:g.OvalHeightWidthRatio,face:o,oval:a,frameHeight:n.videoHeight}),{ovalBoundingBox:S}=V4(a),E=W4(y,S);switch(u.length){case 0:{l=Cr.CANT_IDENTIFY,c=Y4(n);break}case 1:{p=u[0];const{faceMatchState:k,faceMatchPercentage:_}=dve({face:p,ovalDetails:a,initialFaceIntersection:E,parsedSessionInformation:e,frameHeight:n.videoHeight});l=k,f=_;break}default:{l=Cr.TOO_MANY;break}}return{faceMatchState:l,faceMatchPercentage:f,illuminationState:c,detectedFace:p}},async flashColors({challengeId:t,colorSequenceDisplay:e,freshnessColorAssociatedParams:n,livenessStreamProvider:r,ovalAssociatedParams:a,videoAssociatedParams:o}){const{freshnessColorsComplete:u,freshnessColorEl:l}=n;if(u)return;const{ovalDetails:f,scaleFactor:p}=a,{videoEl:c}=o;return{freshnessColorsComplete:await e.startSequences({onSequenceColorChange:({sequenceColor:y,prevSequenceColor:S,heightFraction:E})=>{Cj({heightFraction:E,overlayCanvas:l,ovalDetails:f,nextColor:y,prevColor:S,scaleFactor:p,videoEl:c})},onSequenceStart:()=>{l.style.display="block"},onSequencesComplete:()=>{l.style.display="none"},onSequenceChange:y=>{r.dispatchStreamEvent({type:"sessionInfo",data:iye({...y,challengeId:t})})}})}},async stopVideo(t){const{challengeId:e,parsedSessionInformation:n,faceMatchAssociatedParams:r,ovalAssociatedParams:a,livenessStreamProvider:o,videoAssociatedParams:u}=t,{videoMediaStream:l}=u;if(await o.stopRecording(),o.getChunksLength()===0)throw new Error("Video chunks not recorded successfully.");o.dispatchStreamEvent({type:"sessionInfo",data:oye({...dL(l),parsedSessionInformation:n,challengeId:e,faceMatchAssociatedParams:r,ovalAssociatedParams:a,recordingEndedTimestamp:o.getRecordingEndedTimestamp()})}),o.dispatchStreamEvent({type:"streamStop"})},async getLiveness(t){const{onAnalysisComplete:e}=t.componentProps;await e()}}}),W8=Ie.createContext({theme:uL(),colorMode:void 0}),i3={alignContent:"alignContent",alignItems:"alignItems",alignSelf:"alignSelf",area:"gridArea",aspectRatio:"aspectRatio",autoColumns:"gridAutoColumns",autoFlow:"gridAutoFlow",autoRows:"gridAutoRows",backgroundColor:"backgroundColor",backgroundImage:"backgroundImage",basis:"flexBasis",border:"border",borderRadius:"borderRadius",borderColor:"borderColor",borderWidth:"borderWidth",borderStyle:"borderStyle",bottom:"bottom",boxShadow:"boxShadow",color:"color",column:"gridColumn",columnEnd:"gridColumnEnd",columnGap:"columnGap",columnSpan:"gridColumn",columnStart:"gridColumnStart",direction:"flexDirection",display:"display",flex:"flex",fontFamily:"fontFamily",fontSize:"fontSize",fontStyle:"fontStyle",fontWeight:"fontWeight",gap:"gap",grow:"flexGrow",height:"height",justifyContent:"justifyContent",left:"left",letterSpacing:"letterSpacing",lineHeight:"lineHeight",margin:"margin",marginBlock:"marginBlock",marginBlockEnd:"marginBlockEnd",marginBlockStart:"marginBlockStart",marginBottom:"marginBlockEnd",marginInline:"marginInline",marginInlineEnd:"marginInlineEnd",marginInlineStart:"marginInlineStart",marginLeft:"marginInlineStart",marginRight:"marginInlineEnd",marginTop:"marginBlockStart",maxHeight:"maxHeight",maxWidth:"maxWidth",minHeight:"minHeight",minWidth:"minWidth",objectFit:"objectFit",objectPosition:"objectPosition",opacity:"opacity",order:"order",overflow:"overflow",padding:"padding",paddingBlock:"paddingBlock",paddingBlockEnd:"paddingBlockEnd",paddingBlockStart:"paddingBlockStart",paddingBottom:"paddingBlockEnd",paddingInline:"paddingInline",paddingInlineEnd:"paddingInlineEnd",paddingInlineStart:"paddingInlineStart",paddingLeft:"paddingInlineStart",paddingRight:"paddingInlineEnd",paddingTop:"paddingBlockStart",position:"position",resize:"resize",right:"right",row:"gridRow",rowEnd:"gridRowEnd",rowGap:"rowGap",rowSpan:"gridRow",rowStart:"gridRowStart",shrink:"flexShrink",templateAreas:"gridTemplateAreas",templateColumns:"gridTemplateColumns",templateRows:"gridTemplateRows",textAlign:"textAlign",textDecoration:"textDecoration",textTransform:"textTransform",top:"top",transform:"transform",transformOrigin:"transformOrigin",width:"width",whiteSpace:"whiteSpace",wrap:"flexWrap"},u3={backgroundColor:"colors",borderColor:"colors",borderWidth:"borderWidths",color:"colors",borderRadius:"radii",fontSize:"fontSizes",fontWeight:"fontWeights",fontFamily:"fonts",lineHeight:"lineHeights",opacity:"opacities",boxShadow:"shadows",transform:"transforms",left:"space",right:"space",top:"space",bottom:"space",height:"space",width:"space",letterSpacing:"space",margin:"space",marginBlock:"space",marginBlockEnd:"space",marginBlockStart:"space",marginInline:"space",marginInlineEnd:"space",marginInlineStart:"space",marginLeft:"space",marginRight:"space",marginTop:"space",marginBottom:"space",maxHeight:"space",maxWidth:"space",minHeight:"space",minWidth:"space",padding:"space",paddingBlock:"space",paddingBlockEnd:"space",paddingBlockStart:"space",paddingInline:"space",paddingInlineEnd:"space",paddingInlineStart:"space",paddingLeft:"space",paddingRight:"space",paddingTop:"space",paddingBottom:"space",gap:"space",columnGap:"space",rowGap:"space"},$Ee=t=>t in u3,j8=t=>typeof t=="string"&&t.length===0,G8=t=>t==null||j8(t),z2=t=>Object.keys(t),l3=(t,e,n)=>{if(typeof e!="string")return e;if(e.includes(" "))return e.split(" ").map(r=>l3(t,r,n)).join(" ");if($Ee(t)){const r=e.split("."),a=u3[t];let o=n[a];for(let u=0;u<r.length;u++){if(o){o=o[r[u]];continue}break}return v2(o)?`var(--${sI({path:[u3[t],...r]})})`:e}return e},FEe=({breakpoint:t,breakpoints:e,values:n})=>{const r=n[t];if(r!==void 0)return r;const a=z2(e).sort((u,l)=>e[l]-e[u]),o=a.slice(a.indexOf(t));for(const u of o){const l=n[u];if(l!==void 0)return l}return null},PEe=t=>z2(t).reduce((e,n)=>n in VP.breakpoints.values?{...e,[n]:t[n]}:e,{}),LEe=({breakpoint:t,breakpoints:e,values:n})=>{let r={};const a=z2(e).sort((o,u)=>e[o]-e[u]);return Array.isArray(n)?n.forEach((o,u)=>{r[a[u]]=o}):typeof n=="object"&&(r=PEe(n)),FEe({breakpoint:t,breakpoints:e,values:r})},BEe=({breakpoints:t})=>{const e=z2(t).sort((n,r)=>t[r]-t[n]);return e.map((n,r)=>{let a="";const o=t[n],u=e[r-1],l=u?t[u]-1:null;return o>=0&&(a=`(min-width: ${o}px)`),l!==null&&(a&&(a+=" and "),a+=`(max-width: ${l}px)`),{breakpoint:n,query:a,maxWidth:l,minWidth:o}})},zEe=typeof window>"u"?Ie.useEffect:Ie.useLayoutEffect,q8=({breakpoints:t,defaultBreakpoint:e})=>{const r=typeof window<"u"&&typeof window.matchMedia<"u"?window.matchMedia:null,a=Ie.useMemo(()=>BEe({breakpoints:t}),[t]),[o,u]=Ie.useState(e),l=Ie.useCallback((f,p)=>{f&&u(p)},[u]);return zEe(()=>{if(!r)return;const f=a.map(({query:p,breakpoint:c})=>{const g=r(p);l(g.matches,c);const y=S=>{S.matches&&u(c)};return g.addEventListener("change",y),()=>g.removeEventListener("change",y)});return()=>{f.forEach(p=>p())}},[t,u,r,a]),Ie.useDebugValue(o,f=>f),o},UEe=t=>typeof t>"u"||typeof t.theme>"u"?uL():t.theme,c3=()=>{const t=Ie.useContext(W8);return UEe(t)},HEe=()=>Ie.useContext(W8).colorMode,VEe=({value:t,propKey:e,tokens:n})=>v2(t)?t.toString():hp(t)?hp(e)?l3(e,t,n):t:null,WEe=t=>t==="auto"||typeof t=="number"&&!isNaN(t)||typeof t=="string"&&!isNaN(parseFloat(t)),d3=t=>t==="auto"?"auto":`span ${t}`,K8=t=>WEe(t)?d3(t):Array.isArray(t)?t.map(e=>d3(e)):typeof t=="object"&&t!=null?Object.entries(t).reduce((e,[n,r])=>({...e,[n]:d3(r)}),{}):null,jEe=t=>{const{rowSpan:e,columnSpan:n,row:r,column:a,...o}=t,{rowFromSpanValue:u,columnFromSpanValue:l}=Ie.useMemo(()=>({rowFromSpanValue:K8(e),columnFromSpanValue:K8(n)}),[e,n]);return{row:G8(r)?u:r,column:G8(a)?l:a,...o}},GEe=t=>t in i3,qEe=({props:t={},style:e={},breakpoint:n,breakpoints:r,tokens:a})=>{const o={};return Object.keys(t).filter(u=>t[u]!==null).forEach(u=>{if(GEe(u)){const l=t[u];if(l==null||j8(l))return;const f=i3[u];let p="";v2(l)?p=l.toString():typeof l=="string"?p=l3(u,l,a):typeof l=="number"?p=l:typeof l=="object"&&(p=VEe({propKey:u,tokens:a,value:LEe({values:l,breakpoint:n,breakpoints:r})})),e={...e,[f]:p}}else typeof t[u]<"u"&&(o[u]=t[u])}),{propStyles:e,nonStyleProps:o}},KEe=(t,e)=>{const{breakpoints:{values:n,defaultBreakpoint:r},tokens:a}=c3(),o=q8({breakpoints:n,defaultBreakpoint:r}),u=jEe(t);return Ie.useMemo(()=>qEe({props:u,style:e,breakpoint:o,breakpoints:n,tokens:a}),[u,e,n,o,a])},Ul=t=>Ie.forwardRef(t),kr=Ul(({as:t="div",children:e,testId:n,ariaLabel:r,isDisabled:a,style:o,inert:u,...l},f)=>{const{propStyles:p,nonStyleProps:c}=KEe(l,o);return Ie.createElement(t,{"aria-label":r,"data-testid":n,disabled:a,ref:f,inert:u?"":null,style:p,...c},e)});kr.displayName="View";const My={minX:0,minY:0,width:24,height:24},Y8=Ul(({className:t,as:e="svg",fill:n="currentColor",pathData:r,viewBox:a=My,children:o,paths:u,...l},f)=>{const p=a.minX?a.minX:My.minX,c=a.minY?a.minY:My.minY,g=a.width?a.width:My.width,y=a.height?a.height:My.height;let S;return o&&(S=o),u&&(S=u.map((E,k)=>Ie.createElement("path",{...E,key:k}))),r&&(S=Ie.createElement("path",{d:r,fill:n})),Ie.createElement(kr,{as:e,className:ba(hn.Icon,t),ref:f,viewBox:`${p} ${c} ${g} ${y}`,...l},S)});Y8.displayName="Icon";const YEe=Ie.createContext({});function X8(t){const e=Ie.useContext(YEe);if(t&&e)return e[t]}const XEe=t=>{const{className:e,...n}=t;return Ie.createElement(kr,{as:"span",width:"1em",height:"1em",className:ba(hn.Icon,e),...n},Ie.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ie.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20ZM16.59 7.58L10 14.17L7.41 11.59L6 13L10 17L18 9L16.59 7.58Z",fill:"currentColor"})))},QEe=t=>{const{className:e,...n}=t;return Ie.createElement(kr,{as:"span",width:"1em",height:"1em",className:ba(hn.Icon,e),...n},Ie.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ie.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM13 17H11V15H13V17ZM13 13H11V7H13V13Z",fill:"currentColor"})))},JEe=t=>{const{className:e,...n}=t;return Ie.createElement(kr,{as:"span",width:"1em",height:"1em",className:ba(hn.Icon,e),...n},Ie.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ie.createElement("path",{d:"M11 7H13V9H11V7ZM11 11H13V17H11V11ZM12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20Z",fill:"currentColor"})))},ZEe=t=>{const{className:e,...n}=t;return Ie.createElement(kr,{as:"span",width:"1em",height:"1em",className:ba(hn.Icon,e),...n},Ie.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ie.createElement("path",{d:"M1 21H23L12 2L1 21ZM13 18H11V16H13V18ZM13 14H11V10H13V14Z",fill:"currentColor"})))},f3=({variation:t,ariaHidden:e,ariaLabel:n,role:r})=>{const a=X8("alert");let o;switch(t){case"info":o=a?.info??Ie.createElement(JEe,{"aria-hidden":e,"aria-label":n,role:r});break;case"error":o=a?.error??Ie.createElement(QEe,{"aria-hidden":e,"aria-label":n,role:r});break;case"warning":o=a?.warning??Ie.createElement(ZEe,{"aria-hidden":e,"aria-label":n,role:r});break;case"success":o=a?.success??Ie.createElement(XEe,{"aria-hidden":e,"aria-label":n,role:r});break}return o?Ie.createElement("span",{className:hn.AlertIcon},o):null};f3.displayName="AlertIcon";const exe=globalThis?.document?Ie.useLayoutEffect:()=>{},txe="amplify-id",nxe=t9.useId||(()=>{});let rxe=0;const Q8=t=>{const[e,n]=Ie.useState(nxe());return exe(()=>{t||n(r=>r??String(rxe++))},[t]),t??(e?`${txe}-${e}`:"")},axe=Ie.createContext({isFieldsetDisabled:!1}),J8=()=>Ie.useContext(axe),Pr=Ul(({className:t,children:e,...n},r)=>Ie.createElement(kr,{className:ba(hn.Flex,t),ref:r,...n},e));Pr.displayName="Flex";const oxe="linear-empty",sxe="linear-filled",ixe="circular-empty",uxe="circular-filled",Z8=8,p3=42,U2=2*p3*Math.PI,$y=Ul(({className:t,filledColor:e,emptyColor:n,size:r,variation:a,isDeterminate:o=!1,isPercentageTextHidden:u=!1,percentage:l=0,...f},p)=>{l=Math.min(l,100),l=Math.max(l,0);const c=`${l}%`,g=ba(hn.Loader,Ol(hn.Loader,r),Ol(hn.Loader,a),mp(hn.Loader,"determinate",o),t),y=Ie.createElement("g",null,Ie.createElement("line",{x1:"0",x2:"100%",y1:"50%",y2:"50%",style:{stroke:String(n)},"data-testid":oxe}),Ie.createElement("line",{x1:"0",x2:o?c:"100%",y1:"50%",y2:"50%",style:{stroke:o&&l===0?"none":e?String(e):void 0},"data-testid":sxe}),o?Ie.createElement("text",{"aria-live":"polite",className:ba(hn.LoaderLabel,u?hn.VisuallyHidden:null),x:`${-1+l}%`,y:"200%"},c):null),S=Ie.createElement("g",null,Ie.createElement("circle",{cx:"50%",cy:"50%",r:`${p3}%`,strokeWidth:`${Z8}%`,style:{stroke:String(n)},"data-testid":ixe}),Ie.createElement("circle",{cx:"50%",cy:"50%",r:`${p3}%`,strokeWidth:`${Z8}%`,style:{stroke:String(e),strokeDasharray:o?`${U2}% ${U2}%`:void 0,strokeDashoffset:o?`${U2-U2*l/100}%`:void 0},"data-testid":uxe}),o?Ie.createElement("text",{"aria-live":"polite",className:ba(hn.LoaderLabel,u?hn.VisuallyHidden:null),x:"130%",y:"80%"},c):null);return Ie.createElement(kr,{as:"svg","aria-valuenow":o?l:void 0,className:g,ref:p,role:"progressbar",...f},a==="linear"?y:S)});$y.displayName="Loader";const lxe=["link","primary",void 0],Tp=Ul(({className:t,children:e,colorTheme:n,isFullWidth:r=!1,isDisabled:a,isLoading:o,loadingText:u="",size:l,type:f="button",variation:p,...c},g)=>{const y=lxe.includes(p)&&n?`${p??"outlined"}--${n}`:void 0,{isFieldsetDisabled:S}=J8(),E=S||(a??o??c.disabled),k=ba(hn.Button,hn.FieldGroupControl,Ol(hn.Button,p),Ol(hn.Button,y),Ol(hn.Button,l),mp(hn.Button,"disabled",E),mp(hn.Button,"loading",o),mp(hn.Button,"fullwidth",r),t);return Ie.createElement(kr,{ref:g,as:"button",className:k,isDisabled:E,type:f,...c},o?Ie.createElement(Pr,{as:"span",className:hn.ButtonLoaderWrapper},Ie.createElement($y,{size:l}),u||null):e)});Tp.displayName="Button";const cxe=t=>{const{className:e,size:n,...r}=t;return Ie.createElement(kr,{as:"span",width:n??"1em",height:n??"1em",className:ba(hn.Icon,e),...r},Ie.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:n?{width:n,height:n}:void 0},Ie.createElement("path",{d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z",fill:"currentColor"})))},yu=Ul(({as:t="p",className:e,children:n,isTruncated:r,variation:a,...o},u)=>{const l=ba(hn.Text,Ol(hn.Text,a),mp(hn.Text,"truncated",r),e);return Ie.createElement(kr,{as:t,className:l,ref:u,...o},n)});yu.displayName="Text";const dxe="qa-field-description",eB=({descriptiveText:t,labelHidden:e,...n})=>t?Ie.createElement(yu,{"data-testid":dxe,className:ba(hn.FieldDescription,{[hn.VisuallyHidden]:e}),...n},t):null;eB.displayName="FieldDescription";const tB=({errorMessage:t,hasError:e,...n})=>e&&t?Ie.createElement(yu,{className:hn.FieldErrorMessage,...n},t):null;tB.displayName="FieldErrorMessage";const h3=Ul(({children:t,className:e,visuallyHidden:n,...r},a)=>Ie.createElement(kr,{as:"label",className:ba(hn.Label,e,{[hn.VisuallyHidden]:n}),ref:a,...r},t));h3.displayName="Label";const nB=(t,e)=>t&&e?`${t}-${e}`:void 0,fxe=t=>t in i3,pxe=t=>{const e={styleProps:{},rest:{}};return Object.keys(t).forEach(n=>{fxe(n)?e.styleProps={...e.styleProps,[n]:t[n]}:e.rest={...e.rest,[n]:t[n]}}),e},hxe=t=>{const e=t.filter(n=>n!==void 0).join(" ");return e.length>0?e:void 0},mxe="error",gxe="description",H2=Ul(({as:t="span",children:e,className:n,...r},a)=>Ie.createElement(kr,{as:t,className:ba(hn.VisuallyHidden,n),ref:a,...r},e));H2.displayName="VisuallyHidden";const vxe=t=>{const{className:e,...n}=t;return Ie.createElement(kr,{as:"span",width:"1em",height:"1em",className:ba(hn.Icon,e),...n},Ie.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ie.createElement("path",{d:"M16.59 8.58984L12 13.1698L7.41 8.58984L6 9.99984L12 15.9998L18 9.99984L16.59 8.58984Z",fill:"currentColor"})))},rB=Ul(({autoComplete:t,className:e,size:n,variation:r,value:a,defaultValue:o,hasError:u,icon:l,iconColor:f,children:p,placeholder:c,isDisabled:g,isRequired:y,isMultiple:S=!1,selectSize:E=1,...k},_)=>{const R=a===void 0&&o===void 0&&c,A=S||E>1,O=ba(hn.Select,hn.FieldGroupControl,Ol(hn.Select,n),Ol(hn.Select,r),mp(hn.Select,"error",u),mp(hn.Select,"expanded",A),e),L=X8("select"),{isFieldsetDisabled:U}=J8();return Ie.createElement(kr,{className:hn.SelectWrapper},Ie.createElement(kr,{"aria-invalid":u,as:"select",autoComplete:t,value:a,defaultValue:R?"":o,isDisabled:U||g,multiple:S,size:E,required:y,className:O,ref:_,...k},c&&Ie.createElement("option",{value:""},c),p),A?null:Ie.createElement(Pr,{className:ba(hn.SelectIcon,Ol(hn.SelectIcon,n)),color:f,"aria-hidden":"true"},l??L?.expand??Ie.createElement(vxe,null)))});rB.displayName="Select";const yxe=({children:t,options:e})=>t?(e?.length&&console.warn("Amplify UI: <SelectField> component  defaults to rendering children over `options`. When using the `options` prop, omit children."),t):e?.map((n,r)=>Ie.createElement("option",{label:n,value:n,key:`${n}-${r}`},n)),aB=Ul((t,e)=>{const{children:n,className:r,descriptiveText:a,errorMessage:o,hasError:u=!1,id:l,label:f,labelHidden:p=!1,options:c,size:g,testId:y,inputStyles:S,...E}=t,k=Q8(l),_=Q8(),I=a?nB(_,gxe):void 0,R=u?nB(_,mxe):void 0,A=hxe([R,I]),{styleProps:O,rest:L}=pxe(E);return Ie.createElement(Pr,{className:ba(hn.Field,Ol(hn.Field,g),hn.SelectField,r),testId:y,...O},Ie.createElement(h3,{htmlFor:k,visuallyHidden:p},f),Ie.createElement(eB,{id:I,labelHidden:p,descriptiveText:a}),Ie.createElement(rB,{"aria-describedby":A,hasError:u,id:k,ref:e,size:g,...L,...S},yxe({children:n,options:c})),Ie.createElement(tB,{id:R,hasError:u,errorMessage:o}))});aB.displayName="SelectField";const oB=wt.createContext(null);function bxe({children:t,...e}){return wt.createElement(oB.Provider,{value:e},t)}function sB(){const t=wt.useContext(oB);if(t===null)throw new Error("useFaceLivenessDetector must be used within a FaceLivenessDetectorProvider");return t}const Sxe=()=>{const{breakpoints:{values:t,defaultBreakpoint:e}}=c3();return q8({breakpoints:t,defaultBreakpoint:e})};function V2(){const{service:t}=sB();return sj(t)}function mAe(t){return t}function xs(t){const{service:e}=sB();return lj(e,t)}function wxe(t){const e=B2.height.ideal,n=B2.width.ideal,r=Ie.useRef(null),[a,o]=Ie.useState(e),[u,l]=Ie.useState(n);return Ie.useEffect(()=>{if(t){Mc(r.current)&&(r.current.srcObject=t);const f=t.getTracks()?.[0]?.getSettings();f&&(o(f.height),l(f.width))}return()=>{t&&t.getTracks().forEach(f=>{t.removeTrack(f),f.stop()})}},[t]),{videoRef:r,videoHeight:a,videoWidth:u}}var Sn;(function(t){t.CameraModule="amplify-liveness-camera-module",t.CancelContainer="amplify-liveness-cancel-container",t.CancelButton="amplify-liveness-cancel-button",t.CenteredLoader="amplify-liveness-centered-loader",t.ConnectingLoader="amplify-liveness-connecting-loader",t.CountdownContainer="amplify-liveness-countdown-container",t.DescriptionBullet="amplify-liveness-description-bullet",t.DescriptionBulletIndex="amplify-liveness-description-bullet__index",t.DescriptionBulletIndexText="amplify-liveness-description-bullet__index__text",t.DescriptionBulletMessage="amplify-liveness-description-bullet__message",t.ErrorModal="amplify-liveness-error-modal",t.ErrorModalHeading="amplify-liveness-error-modal__heading",t.FadeOut="amplify-liveness-fade-out",t.FreshnessCanvas="amplify-liveness-freshness-canvas",t.InstructionList="amplify-liveness-instruction-list",t.InstructionOverlay="amplify-liveness-instruction-overlay",t.Hint="amplify-liveness-hint",t.HintText="amplify-liveness-hint__text",t.LandscapeErrorModal="amplify-liveness-landscape-error-modal",t.LandscapeErrorModalButton="amplify-liveness-landscape-error-modal__button",t.LandscapeErrorModalHeader="amplify-liveness-landscape-error-modal__header",t.Loader="amplify-liveness-loader",t.MatchIndicator="amplify-liveness-match-indicator",t.OvalCanvas="amplify-liveness-oval-canvas",t.OpaqueOverlay="amplify-liveness-overlay-opaque",t.Overlay="amplify-liveness-overlay",t.Popover="amplify-liveness-popover",t.PopoverContainer="amplify-liveness-popover__container",t.PopoverAnchor="amplify-liveness-popover__anchor",t.PopoverAnchorSecondary="amplify-liveness-popover__anchor-secondary",t.RecordingIconContainer="amplify-liveness-recording-icon-container",t.RecordingIcon="amplify-liveness-recording-icon",t.StartScreenCameraSelect="amplify-liveness-start-screen-camera-select",t.StartScreenCameraSelectContainer="amplify-liveness-start-screen-camera-select__container",t.StartScreenCameraWaiting="amplify-liveness-start-screen-camera-waiting",t.StartScreenHeader="amplify-liveness-start-screen-header",t.StartScreenHeaderBody="amplify-liveness-start-screen-header__body",t.StartScreenHeaderHeading="amplify-liveness-start-screen-header__heading",t.StartScreenWarning="amplify-liveness-start-screen-warning",t.StartScreenInstructions="amplify-liveness-start-screen-instructions",t.StartScreenInstructionsHeading="amplify-liveness-start-screen-instructions__heading",t.Toast="amplify-liveness-toast",t.ToastContainer="amplify-liveness-toast__container",t.ToastMessage="amplify-liveness-toast__message",t.UserFacingVideo="amplify-liveness-video--user-facing",t.Video="amplify-liveness-video",t.VideoAnchor="amplify-liveness-video-anchor"})(Sn||(Sn={}));const W2=({variation:t="default",size:e="medium",children:n,isInitial:r=!1,...a})=>{const{tokens:o}=c3();return Ie.createElement(kr,{className:`${Sn.Toast} ${Sn.Toast}--${t} ${Sn.Toast}--${e}`,...r&&{backgroundColor:o.colors.background.primary},...a},Ie.createElement(Pr,{className:Sn.ToastContainer},Ie.createElement(Pr,{className:Sn.ToastMessage,...r?{color:o.colors.font.primary}:{}},n)))},Exe=({displayText:t})=>Ie.createElement(W2,{"aria-live":"polite"},Ie.createElement(Pr,{className:Sn.HintText},Ie.createElement($y,null),Ie.createElement(kr,null,t))),m3=t=>t.context.errorState,xxe=t=>t.context.faceMatchAssociatedParams.faceMatchState,Cxe=t=>t.context.faceMatchAssociatedParams.illuminationState,kxe=t=>t.context.isFaceFarEnoughBeforeRecording,_xe=t=>t.context.faceMatchStateBeforeStart,Txe=t=>t.context.faceMatchAssociatedParams?.faceMatchPercentage,Nm=({text:t,isInitial:e=!1})=>Ie.createElement(W2,{size:"large",variation:"primary",isInitial:e},Ie.createElement(kr,{"aria-live":"assertive"},t)),Ixe=({hintDisplayText:t})=>{const[e]=V2(),n=xs(m3),r=xs(xxe),a=xs(Cxe),o=xs(_xe),u=xs(kxe),l=xs(Txe),f=e.matches("checkFaceDetectedBeforeStart")||e.matches("detectFaceBeforeStart"),p=e.matches("checkFaceDistanceBeforeRecording")||e.matches("detectFaceDistanceBeforeRecording"),c=e.matches("start")||e.matches("userCancel"),g=e.matches("recording"),y=e.matches("uploading"),S=e.matches("checkSucceeded"),E=e.matches("checkFailed"),k=e.matches({recording:"flashFreshnessColors"}),_={[Cr.CANT_IDENTIFY]:t.hintCanNotIdentifyText,[Cr.FACE_IDENTIFIED]:t.hintTooFarText,[Cr.TOO_MANY]:t.hintTooManyFacesText,[Cr.TOO_FAR]:t.hintTooFarText,[Cr.MATCHED]:t.hintHoldFaceForFreshnessText,[Cr.OFF_CENTER]:t.hintFaceOffCenterText},I={[xc.BRIGHT]:t.hintIlluminationTooBrightText,[xc.DARK]:t.hintIlluminationTooDarkText,[xc.NORMAL]:t.hintIlluminationNormalText};if(c)return Ie.createElement(Ie.Fragment,null,Ie.createElement(H2,{role:"alert"},t.hintCenterFaceInstructionText),Ie.createElement(Nm,{text:t.hintCenterFaceText,isInitial:!0}));if(n??(E||S))return null;if(!g){if(f)return o===Cr.TOO_MANY?Ie.createElement(Nm,{text:t.hintTooManyFacesText}):Ie.createElement(Nm,{text:t.hintMoveFaceFrontOfCameraText});if(p&&u===!1)return Ie.createElement(Nm,{text:t.hintTooCloseText});if(y)return Ie.createElement(Ie.Fragment,null,Ie.createElement(H2,{"aria-live":"assertive"},t.hintCheckCompleteText),Ie.createElement(Exe,{displayText:t.hintVerifyingText}));if(a&&a!==xc.NORMAL)return Ie.createElement(Nm,{text:I[a]})}if(k)return Ie.createElement(Nm,{text:t.hintHoldFaceForFreshnessText});if(g&&!k){let R=_[Cr.TOO_FAR];r===Cr.MATCHED&&(R=_[r]);let A=R;return r===Cr.OFF_CENTER?A=_[r]:r===Cr.TOO_FAR&&l>50&&(A=t.hintMatchIndicatorText),Ie.createElement(W2,{size:"large",variation:"primary"},Ie.createElement(H2,{"aria-live":"assertive"},A),Ie.createElement(kr,{"aria-label":A},R))}return null},Rxe=({percentage:t,initialPercentage:e=25,testId:n})=>{const[r,a]=wt.useState(e);wt.useEffect(()=>{t<0?a(0):t>100?a(100):a(t)},[t]);const o={"--percentage":`${r}%`};return wt.createElement("div",{className:Sn.MatchIndicator,"data-testid":n},wt.createElement("div",{className:`${Sn.MatchIndicator}__bar`,style:o,role:"progressbar","aria-label":"MatchIndicator","aria-valuenow":t,"aria-valuetext":`${t}% face fit`}))},iB=({children:t,horizontal:e="center",vertical:n="center",className:r,...a})=>Ie.createElement(Pr,{className:`${Sn.Overlay} ${r}`,alignItems:e,justifyContent:n,...a},t);function Nxe(){return/Macintosh/i.test(navigator.userAgent)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>1}function Axe(){return/Android|iPhone|iPad/i.test(navigator.userAgent)||Nxe()}async function Dxe(t){const n=(await navigator.mediaDevices?.enumerateDevices())?.find(r=>r.deviceId===t&&r.kind==="videoinput");return n?!n.label.toLowerCase().includes("back"):!0}function uB(){return window.matchMedia("(orientation: landscape)")}const j2={errorLabelText:"Error",connectionTimeoutHeaderText:"Connection time out",connectionTimeoutMessageText:"Connection has timed out.",timeoutHeaderText:"Time out",timeoutMessageText:"Face didn't fit inside oval in time limit. Try again and completely fill the oval with face in it.",faceDistanceHeaderText:"Forward movement detected",faceDistanceMessageText:"Avoid moving closer when connecting.",multipleFacesHeaderText:"Multiple faces detected",multipleFacesMessageText:"Ensure only one face is present in front of the camera when connecting.",clientHeaderText:"Client error",clientMessageText:"Check failed due to client issue",serverHeaderText:"Server issue",serverMessageText:"Cannot complete check due to server issue",landscapeHeaderText:"Landscape orientation not supported",landscapeMessageText:"Rotate your device to portrait (vertical) orientation.",portraitMessageText:"Ensure your device remains in portrait (vertical) orientation for the checks duration.",tryAgainText:"Try again"},G2={cameraMinSpecificationsHeadingText:"Camera does not meet minimum specifications",cameraMinSpecificationsMessageText:"Camera must support at least 320*240 resolution and 15 frames per second.",cameraNotFoundHeadingText:"Camera is not accessible.",cameraNotFoundMessageText:"Check that a camera is connected and there is not another application using the camera. You may have to go into settings to grant camera permissions and close out all instances of your browser and retry.",a11yVideoLabelText:"Webcam for liveness check",cancelLivenessCheckText:"Cancel Liveness check",goodFitCaptionText:"Good fit",goodFitAltText:"Ilustration of a person's face, perfectly fitting inside of an oval.",hintCenterFaceText:"Center your face",hintCenterFaceInstructionText:"Instruction: Before starting the check, make sure your camera is at the center top of your screen and center your face to the camera. When the check starts an oval will show up in the center. You will be prompted to move forward into the oval and then prompted to hold still. After holding still for a few seconds, you should hear check complete.",hintFaceOffCenterText:"Face is not in the oval, center your face to the camera.",hintMoveFaceFrontOfCameraText:"Move face in front of camera",hintTooManyFacesText:"Ensure only one face is in front of camera",hintFaceDetectedText:"Face detected",hintCanNotIdentifyText:"Move face in front of camera",hintTooCloseText:"Move back",hintTooFarText:"Move closer",hintConnectingText:"Connecting...",hintVerifyingText:"Verifying...",hintCheckCompleteText:"Check complete",hintIlluminationTooBrightText:"Move to dimmer area",hintIlluminationTooDarkText:"Move to brighter area",hintIlluminationNormalText:"Lighting conditions normal",hintHoldFaceForFreshnessText:"Hold still",hintMatchIndicatorText:"50% completed. Keep moving closer.",photosensitivityWarningBodyText:"This check flashes different colors. Use caution if you are photosensitive.",photosensitivityWarningHeadingText:"Photosensitivity warning",photosensitivityWarningInfoText:"Some people may experience epileptic seizures when exposed to colored lights. Use caution if you, or anyone in your family, have an epileptic condition.",photosensitivityWarningLabelText:"More information about photosensitivity",photosensitivyWarningBodyText:"This check flashes different colors. Use caution if you are photosensitive.",photosensitivyWarningHeadingText:"Photosensitivity warning",photosensitivyWarningInfoText:"Some people may experience epileptic seizures when exposed to colored lights. Use caution if you, or anyone in your family, have an epileptic condition.",photosensitivyWarningLabelText:"More information about photosensitivity",retryCameraPermissionsText:"Retry",recordingIndicatorText:"Rec",startScreenBeginCheckText:"Start video check",tooFarCaptionText:"Too far",tooFarAltText:"Illustration of a person's face inside of an oval; there is a gap between the perimeter of the face and the boundaries of the oval.",waitingCameraPermissionText:"Waiting for you to allow camera permission.",...j2},Oxe=t=>{const{error:e,displayText:n}=t,{connectionTimeoutHeaderText:r,connectionTimeoutMessageText:a,errorLabelText:o,timeoutHeaderText:u,timeoutMessageText:l,faceDistanceHeaderText:f,faceDistanceMessageText:p,multipleFacesHeaderText:c,multipleFacesMessageText:g,clientHeaderText:y,clientMessageText:S,serverHeaderText:E,serverMessageText:k}=n;let _,I;switch(e){case na.CONNECTION_TIMEOUT:_=r,I=a;break;case na.TIMEOUT:_=u,I=l;break;case na.FACE_DISTANCE_ERROR:_=f,I=p;break;case na.MULTIPLE_FACES_ERROR:_=c,I=g;break;case na.RUNTIME_ERROR:_=y,I=S;break;case na.SERVER_ERROR:default:_=E,I=k}return wt.createElement(wt.Fragment,null,wt.createElement(Pr,{className:Sn.ErrorModal},wt.createElement(f3,{ariaLabel:o,role:"img",variation:"error"}),wt.createElement(yu,{className:Sn.ErrorModalHeading,id:"amplify-liveness-error-heading"},_)),wt.createElement(yu,{id:"amplify-liveness-error-message"},I))},Mxe=({errorState:t,overrideErrorDisplayText:e})=>{const n={...j2,...e};return t===na.CAMERA_ACCESS_ERROR||t===na.CAMERA_FRAMERATE_ERROR||t===na.MOBILE_LANDSCAPE_ERROR?null:Oxe({error:t,displayText:n})},$xe=t=>{const{children:e,onRetry:n,displayText:r}=t,a={...j2,...r},{tryAgainText:o}=a;return wt.createElement(iB,{className:Sn.OpaqueOverlay},wt.createElement(W2,{"aria-labelledby":"amplify-liveness-error-heading","aria-describedby":"amplify-liveness-error-message",role:"alertdialog"},e,wt.createElement(Pr,{justifyContent:"center"},wt.createElement(Tp,{variation:"primary",type:"button",onClick:n},o))))},lB=({ariaLabel:t})=>{const[e,n]=V2(),r=e.done,a=()=>{n({type:"CANCEL"})};return r?null:wt.createElement(Tp,{autoFocus:!0,variation:"link",onClick:a,size:"large",className:Sn.CancelButton,"aria-label":t},wt.createElement(cxe,{"aria-hidden":"true","data-testid":"close-icon"}))},Fxe=({children:t})=>wt.createElement(Pr,{className:Sn.RecordingIcon},wt.createElement(Pr,{"data-testid":"rec-icon",justifyContent:"center"},wt.createElement(Y8,{viewBox:{width:20,height:20},width:"20",height:"20"},wt.createElement("circle",{cx:"10",cy:"10",r:"8",fill:"red"}))),wt.createElement(yu,{as:"span",fontWeight:"bold"},t)),cB=({children:t,headingText:e,labelText:n})=>{const r=Sxe(),[a,o]=Ie.useState(!1),u=Ie.useRef(null),l=r==="base";return Ie.useEffect(()=>{function f(p){a&&u.current&&!u.current.contains(p.target)&&o(!1)}return document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[u,a]),Ie.createElement("div",{className:Sn.Popover,ref:u},Ie.createElement(Tp,{"aria-controls":"photosensitivity-description","aria-expanded":a,role:"alertdialog","aria-label":n,"aria-describedby":"photosensitivity-description",colorTheme:"info",id:"popover-button",onClick:()=>o(!a),testId:"popover-icon"},Ie.createElement(f3,{ariaHidden:!0,variation:"info"})),a&&Ie.createElement(Ie.Fragment,null,Ie.createElement(Pr,{className:Sn.PopoverAnchor}),Ie.createElement(Pr,{className:Sn.PopoverAnchorSecondary}),Ie.createElement(Pr,{"aria-hidden":!a,"aria-label":e,className:Sn.PopoverContainer,"data-testid":"popover-text",id:"photosensitivity-description",left:l?-190:-108,role:"alertdialog"},t)))};cB.displayName="LivenessIconWithPopover";const Pxe=({bodyText:t,headingText:e,infoText:n,labelText:r})=>wt.createElement(Pr,{className:`${hn.Alert} ${Sn.StartScreenWarning}`,style:{zIndex:"3"}},wt.createElement(kr,{flex:"1"},wt.createElement(kr,{className:hn.AlertHeading},e),wt.createElement(kr,{className:hn.AlertBody},t)),wt.createElement(cB,{labelText:r,headingText:e},n)),Lxe=({recordingIndicatorText:t})=>wt.createElement(kr,{className:Sn.RecordingIconContainer},wt.createElement(Fxe,null,t)),Bxe=({cancelLivenessCheckText:t})=>wt.createElement(kr,{className:Sn.CancelContainer},wt.createElement(lB,{ariaLabel:t})),zxe=t=>{const{onSelect:e,devices:n,deviceId:r}=t;return wt.createElement(Pr,{className:Sn.StartScreenCameraSelect},wt.createElement(kr,{className:Sn.StartScreenCameraSelectContainer},wt.createElement(h3,{htmlFor:"amplify-liveness-camera-select",className:`${Sn.StartScreenCameraSelect}__label`},"Camera:"),wt.createElement(aB,{id:"amplify-liveness-camera-select",testId:"amplify-liveness-camera-select",label:"Camera",labelHidden:!0,value:r,onChange:e},n.map(a=>wt.createElement("option",{value:a.deviceId,key:a.deviceId},a.label)))))},Uxe=t=>t.context.parsedSessionInformation?.Challenge?.Name,Hxe=t=>t.context.videoAssociatedParams?.videoConstraints,Vxe=t=>t.context.videoAssociatedParams?.videoMediaStream,Wxe=t=>t.context.faceMatchAssociatedParams?.faceMatchPercentage,jxe=t=>t.context.faceMatchAssociatedParams?.faceMatchState,Gxe=t=>t.context.videoAssociatedParams?.selectedDeviceId,qxe=t=>t.context.videoAssociatedParams?.selectableDevices,Kxe=[Cr.TOO_FAR,Cr.CANT_IDENTIFY,Cr.FACE_IDENTIFIED,Cr.OFF_CENTER],Yxe=wt.memo(Rxe),Xxe=t=>{const{isMobileScreen:e,isRecordingStopped:n,instructionDisplayText:r,streamDisplayText:a,hintDisplayText:o,errorDisplayText:u,cameraDisplayText:l,components:f,testId:p}=t,{cancelLivenessCheckText:c,recordingIndicatorText:g}=a,{ErrorView:y=$xe,PhotosensitiveWarning:S=Pxe}=f??{},[E,k]=V2(),_=xs(Uxe)===w1.type,I=xs(Vxe),R=xs(Hxe),A=xs(Gxe),O=xs(qxe),L=xs(Wxe),U=xs(jxe),j=xs(m3),J=HEe(),{videoRef:q,videoWidth:K,videoHeight:z}=wxe(I),te=Ie.useRef(null),ee=Ie.useRef(null),[le,ce]=Ie.useState(!1),[ye,ve]=Ie.useState(!1),[oe,he]=Ie.useState(!0),ge=E.matches("initCamera"),Q=E.matches("initWebsocket"),ue=E.matches({initCamera:"cameraCheck"}),ke=E.matches({initCamera:"waitForDOMAndCameraDetails"}),Ce=E.matches("start")||E.matches("userCancel"),Me=E.matches("detectFaceBeforeStart"),Ve=E.matches("recording"),Ke=E.matches("checkSucceeded"),He=E.matches({recording:"flashFreshnessColors"}),[Xe,ct]=Ie.useState(K),[St,Rt]=Ie.useState(z),[Dt,jt]=Ie.useState(()=>K&&z?K/z:0),zt=!!O?.length&&O.length>1,vt=Ce&&zt&&(!e||_);wt.useEffect(()=>{async function Vn(){const gn=await Dxe(A);he(gn)}Vn()},[A]),wt.useEffect(()=>{const Vn=te?.current&&q?.current&&I&&Ce&&ye;Vn&&q4(te.current,q.current,I);const gn=pr=>{pr.matches&&Vn&&q4(te.current,q.current,I)},Un=window.matchMedia("(prefers-color-scheme: dark)"),Nn=window.matchMedia("(prefers-color-scheme: light)");return Un.addEventListener("change",gn),Nn.addEventListener("change",gn),()=>{Un.removeEventListener("change",gn),Nn.addEventListener("change",gn)}},[q,I,J,Ce,ye]),wt.useLayoutEffect(()=>{le&&k({type:"SET_DOM_AND_CAMERA_DETAILS",data:{videoEl:q.current,canvasEl:te.current,freshnessColorEl:ee.current,isMobile:e}}),q.current&&(ct(q.current.videoWidth),Rt(q.current.videoHeight),jt(q.current.videoWidth/q.current.videoHeight))},[k,q,le,e]),wt.useEffect(()=>{Me&&Sj({canvas:te.current})},[Me]);const on=wt.useMemo(()=>wt.createElement(kr,{style:{visibility:Ce?"visible":"hidden"}},wt.createElement(S,{bodyText:r.photosensitivityWarningBodyText,headingText:r.photosensitivityWarningHeadingText,infoText:r.photosensitivityWarningInfoText,labelText:r.photosensitivityWarningLabelText})),[S,r,Ce]),dn=()=>{ce(!0)},mn=()=>{ve(!0)},Jt=wt.useCallback(()=>{k({type:"BEGIN"})},[k]),Rn=wt.useCallback(Vn=>{const gn=Vn.target.value;(async()=>{ve(!1);const Nn=await navigator.mediaDevices.getUserMedia({video:{...R,deviceId:{exact:gn}},audio:!1});k({type:"UPDATE_DEVICE_AND_STREAM",data:{newDeviceId:gn,newStream:Nn}})})()},[R,k]);if(ue)return wt.createElement(Pr,{justifyContent:"center",className:Sn.StartScreenCameraWaiting},wt.createElement($y,{size:"large",className:Sn.CenteredLoader,"data-testid":"centered-loader",position:"unset"}),wt.createElement(yu,{fontSize:"large",fontWeight:"bold","data-testid":"waiting-camera-permission",className:`${Sn.StartScreenCameraWaiting}__text`},l.waitingCameraPermissionText));const bn=ge||Q,Dn=e&&!Ce&&!bn;return wt.createElement(wt.Fragment,null,!_&&on,bn&&wt.createElement(Pr,{className:Sn.ConnectingLoader},wt.createElement($y,{size:"large",className:Sn.Loader,"data-testid":"centered-loader"}),wt.createElement(yu,{className:Sn.LandscapeErrorModalHeader},o.hintConnectingText)),wt.createElement(Pr,{className:ba(Sn.CameraModule,Dn&&`${Sn.CameraModule}--mobile`),"data-testid":p,gap:"zero"},wt.createElement(iB,{horizontal:"center",vertical:Ve&&!He?"start":"space-between",className:Sn.InstructionOverlay},Ve&&wt.createElement(Lxe,{recordingIndicatorText:g}),!Ce&&!ke&&!Ke&&wt.createElement(Bxe,{cancelLivenessCheckText:c}),wt.createElement(Pr,{className:ba(Sn.Hint,Dn&&`${Sn.Hint}--mobile`)},wt.createElement(Ixe,{hintDisplayText:o})),j&&wt.createElement(y,{onRetry:()=>{k({type:"CANCEL"})},displayText:u},Mxe({errorState:j,overrideErrorDisplayText:u})),Ve&&!He&&Kxe.includes(U)?wt.createElement(Yxe,{percentage:Math.ceil(L)}):null),wt.createElement(kr,{as:"canvas",ref:ee,className:Sn.FreshnessCanvas,hidden:!0}),wt.createElement(kr,{className:Sn.VideoAnchor,style:{aspectRatio:`${Dt}`}},wt.createElement("video",{ref:q,muted:!0,autoPlay:!0,playsInline:!0,width:Xe,height:St,onCanPlay:dn,onLoadedMetadata:mn,"data-testid":"video",className:ba(Sn.Video,oe&&Sn.UserFacingVideo,n&&Sn.FadeOut),"aria-label":l.a11yVideoLabelText}),wt.createElement(Pr,{className:ba(Sn.OvalCanvas,Dn&&`${Sn.OvalCanvas}--mobile`,n&&Sn.FadeOut)},wt.createElement(kr,{as:"canvas",ref:te})),vt?wt.createElement(zxe,{onSelect:Rn,devices:O,deviceId:A}):null)),Ce&&wt.createElement(Pr,{justifyContent:"center"},wt.createElement(Tp,{variation:"primary",type:"button",onClick:Jt},r.startScreenBeginCheckText)))},Qxe=t=>{const{onRetry:e,header:n,portraitMessage:r,landscapeMessage:a,tryAgainText:o}=t,[u,l]=Ie.useState(!0);return Ie.useLayoutEffect(()=>{const f=uB();return l(f.matches),f.addEventListener("change",p=>{l(p.matches)}),()=>{f.removeEventListener("change",p=>l(p.matches))}},[]),Ie.createElement(Pr,{className:Sn.LandscapeErrorModal,height:u?"auto":480},Ie.createElement(yu,{className:Sn.LandscapeErrorModalHeader},n),Ie.createElement(yu,null,u?a:r),u?null:Ie.createElement(Pr,{className:Sn.LandscapeErrorModalButton},Ie.createElement(Tp,{variation:"primary",type:"button",onClick:e},o)))},dB="liveness-detector-check",Jxe=420,Zxe=t=>t.context.isRecordingStopped,eCe=({instructionDisplayText:t,hintDisplayText:e,cameraDisplayText:n,streamDisplayText:r,errorDisplayText:a,components:o})=>{const[u,l]=V2(),f=xs(m3),p=xs(Zxe),c=u.matches("permissionDenied"),g=Axe(),y=()=>{l({type:"RETRY_CAMERA_CHECK"})},{cameraMinSpecificationsHeadingText:S,cameraMinSpecificationsMessageText:E,cameraNotFoundHeadingText:k,cameraNotFoundMessageText:_,retryCameraPermissionsText:I}=n,{cancelLivenessCheckText:R}=r;Ie.useLayoutEffect(()=>{if(g){const O=U=>{U&&l({type:"MOBILE_LANDSCAPE_WARNING"})},L=uB();return O(L.matches),L.addEventListener("change",U=>{O(U.matches)}),()=>{L.removeEventListener("change",U=>O(U.matches))}}},[g,l]);const A=()=>{if(f===na.MOBILE_LANDSCAPE_ERROR){const O={...j2,...a},{landscapeHeaderText:L,portraitMessageText:U,landscapeMessageText:j,tryAgainText:J}=O;return Ie.createElement(Pr,{backgroundColor:"background.primary",direction:"column",textAlign:"center",alignItems:"center",justifyContent:"center",position:"absolute",width:"100%"},Ie.createElement(Qxe,{header:L,portraitMessage:U,landscapeMessage:j,tryAgainText:J,onRetry:()=>{l({type:"CANCEL"})}}))}else return c?Ie.createElement(Pr,{backgroundColor:"background.primary",direction:"column",textAlign:"center",alignItems:"center",justifyContent:"center",width:"100%",height:480},Ie.createElement(yu,{fontSize:"large",fontWeight:"bold"},f===na.CAMERA_FRAMERATE_ERROR?S:k),Ie.createElement(yu,{maxWidth:Jxe},f===na.CAMERA_FRAMERATE_ERROR?E:_),Ie.createElement(Tp,{variation:"primary",type:"button",onClick:y},I),Ie.createElement(kr,{position:"absolute",top:"medium",right:"medium"},Ie.createElement(lB,{ariaLabel:R}))):Ie.createElement(Xxe,{isMobileScreen:g,isRecordingStopped:p,instructionDisplayText:t,streamDisplayText:r,hintDisplayText:e,errorDisplayText:a,cameraDisplayText:n,components:o})};return Ie.createElement(Pr,{direction:"column",position:"relative",testId:dB,className:dB,gap:"xl"},A())};function tCe(t){const e=(n,r)=>t[n]&&t[n]!==G2[n]?t[n]:t[r]&&t[r]!==G2[n]?t[r]:G2[n];return{photosensitivityWarningBodyText:e("photosensitivityWarningBodyText","photosensitivyWarningBodyText"),photosensitivityWarningHeadingText:e("photosensitivityWarningHeadingText","photosensitivyWarningHeadingText"),photosensitivityWarningInfoText:e("photosensitivityWarningInfoText","photosensitivyWarningInfoText"),photosensitivityWarningLabelText:e("photosensitivityWarningLabelText","photosensitivyWarningLabelText")}}function nCe(t){const e=tCe(t??{}),n={...G2,...t,...e},{a11yVideoLabelText:r,cameraMinSpecificationsHeadingText:a,cameraMinSpecificationsMessageText:o,cameraNotFoundHeadingText:u,cameraNotFoundMessageText:l,cancelLivenessCheckText:f,connectionTimeoutHeaderText:p,connectionTimeoutMessageText:c,clientHeaderText:g,clientMessageText:y,errorLabelText:S,hintCanNotIdentifyText:E,hintCenterFaceText:k,hintCenterFaceInstructionText:_,hintFaceOffCenterText:I,hintConnectingText:R,hintFaceDetectedText:A,hintHoldFaceForFreshnessText:O,hintIlluminationNormalText:L,hintIlluminationTooBrightText:U,hintIlluminationTooDarkText:j,hintMoveFaceFrontOfCameraText:J,hintTooManyFacesText:q,hintTooCloseText:K,hintTooFarText:z,hintVerifyingText:te,hintCheckCompleteText:ee,hintMatchIndicatorText:le,faceDistanceHeaderText:ce,faceDistanceMessageText:ye,goodFitCaptionText:ve,goodFitAltText:oe,landscapeHeaderText:he,landscapeMessageText:ge,multipleFacesHeaderText:Q,multipleFacesMessageText:ue,photosensitivityWarningBodyText:ke,photosensitivityWarningHeadingText:Ce,photosensitivityWarningInfoText:Me,photosensitivityWarningLabelText:Ve,photosensitivyWarningBodyText:Ke,photosensitivyWarningHeadingText:He,photosensitivyWarningInfoText:Xe,photosensitivyWarningLabelText:ct,portraitMessageText:St,retryCameraPermissionsText:Rt,recordingIndicatorText:Dt,serverHeaderText:jt,serverMessageText:zt,startScreenBeginCheckText:vt,timeoutHeaderText:on,timeoutMessageText:dn,tooFarCaptionText:mn,tooFarAltText:Jt,tryAgainText:Rn,waitingCameraPermissionText:bn}=n;return{hintDisplayText:{hintMoveFaceFrontOfCameraText:J,hintTooManyFacesText:q,hintFaceDetectedText:A,hintCanNotIdentifyText:E,hintTooCloseText:K,hintTooFarText:z,hintConnectingText:R,hintVerifyingText:te,hintCheckCompleteText:ee,hintIlluminationTooBrightText:U,hintIlluminationTooDarkText:j,hintIlluminationNormalText:L,hintHoldFaceForFreshnessText:O,hintCenterFaceText:k,hintCenterFaceInstructionText:_,hintFaceOffCenterText:I,hintMatchIndicatorText:le},cameraDisplayText:{cameraMinSpecificationsHeadingText:a,cameraMinSpecificationsMessageText:o,cameraNotFoundHeadingText:u,cameraNotFoundMessageText:l,retryCameraPermissionsText:Rt,waitingCameraPermissionText:bn,a11yVideoLabelText:r},instructionDisplayText:{photosensitivityWarningBodyText:ke,photosensitivityWarningHeadingText:Ce,photosensitivityWarningInfoText:Me,photosensitivityWarningLabelText:Ve,photosensitivyWarningBodyText:Ke,photosensitivyWarningHeadingText:He,photosensitivyWarningInfoText:Xe,photosensitivyWarningLabelText:ct,goodFitCaptionText:ve,goodFitAltText:oe,tooFarCaptionText:mn,tooFarAltText:Jt,startScreenBeginCheckText:vt},streamDisplayText:{cancelLivenessCheckText:f,recordingIndicatorText:Dt},errorDisplayText:{connectionTimeoutHeaderText:p,connectionTimeoutMessageText:c,errorLabelText:S,timeoutHeaderText:on,timeoutMessageText:dn,faceDistanceHeaderText:ce,faceDistanceMessageText:ye,multipleFacesHeaderText:Q,multipleFacesMessageText:ue,clientHeaderText:g,clientMessageText:y,serverHeaderText:jt,serverMessageText:zt,landscapeHeaderText:he,landscapeMessageText:ge,portraitMessageText:St,tryAgainText:Rn}}}const fB="liveness-detector";function rCe(t){const{components:e,config:n,displayText:r}=t,a=Ie.useRef(null),{hintDisplayText:o,cameraDisplayText:u,instructionDisplayText:l,streamDisplayText:f,errorDisplayText:p}=nCe(r),c=tj(MEe,{devTools:process.env.NODE_ENV==="development",context:{componentProps:{...t,config:n??{}}}});return Ie.createElement(kr,{className:fB,testId:fB},Ie.createElement(bxe,{componentProps:t,service:c},Ie.createElement(Pr,{direction:"column",ref:a},Ie.createElement(eCe,{instructionDisplayText:l,hintDisplayText:o,cameraDisplayText:u,streamDisplayText:f,errorDisplayText:p,components:e}))))}const aCe=async()=>{const{credentials:t}=await kD();if(!t)throw new Error("No credentials provided");return t};function g3(t){const{config:e,...n}=t;return Ie.createElement(rCe,{...n,config:{credentialProvider:aCe,...e}})}function oCe(){const[t,e]=Ie.useState(null),[n,r]=Ie.useState(null),[a,o]=Ie.useState(!0);Ie.useEffect(()=>{const g=document.currentScript?.ownerDocument?.currentScript||document.querySelector("face-liveness-widget");if(!g){r("Elemento face-liveness-widget no encontrado"),o(!1);return}const y=g.getAttribute("region")||"us-east-1",S=g.getAttribute("create-session-url"),E=g.getAttribute("identity-pool-id");let k=g.getAttribute("session-id");if(!E){r("identity-pool-id no fornecido. Configure o Identity Pool ID no componente Angular."),o(!1);return}try{r4.configure({Auth:{Cognito:{identityPoolId:E,allowGuestAccess:!0}}}),console.log(" Amplify configurado com Identity Pool:",E)}catch(O){console.warn(" Erro ao configurar Amplify v6, tentando configurao alternativa:",O),r4.configure({Auth:{region:y,identityPoolId:E,identityPoolRegion:y}})}const _=O=>O?(console.log(" SessionId recebido:",O),e(O),o(!1),!0):!1;let I=!1;if(k&&_(k)){I=!0;return}const R=new MutationObserver(O=>{O.forEach(L=>{if(L.type==="attributes"&&L.attributeName==="session-id"){const U=g.getAttribute("session-id");U&&!I&&(console.log(" SessionId atualizado via MutationObserver:",U),_(U)&&(I=!0,R.disconnect()))}})});R.observe(g,{attributes:!0,attributeFilter:["session-id"]});const A=setTimeout(()=>{if(k=g.getAttribute("session-id"),k&&!I&&_(k)){I=!0,R.disconnect();return}!I&&S?fetch(S,{method:"POST"}).then(O=>{if(!O.ok)throw new Error(`HTTP ${O.status}: ${O.statusText}`);return O.json()}).then(O=>{if(O.sessionId)e(O.sessionId),o(!1),console.log(" Sesso criada pelo widget:",O.sessionId),I=!0,R.disconnect();else throw new Error("Resposta da sesso no contm sessionId")}).catch(O=>{console.error("Erro ao criar sesso:",O),r(O.message||"Erro ao criar sesso de liveness"),o(!1),R.disconnect()}):!S&&!I&&(r("create-session-url ou session-id no fornecido"),o(!1),R.disconnect())},500);return()=>{clearTimeout(A),R.disconnect()}},[]);const u=async()=>{const y=document.querySelector("face-liveness-widget")?.getAttribute("results-url");if(y&&t)try{const E=await(await fetch(`${y}?sessionId=${t}`)).json(),k=new CustomEvent("liveness-complete",{detail:E});document.dispatchEvent(k)}catch(S){console.error("Erro ao buscar resultados:",S);const E=new CustomEvent("liveness-error",{detail:{message:S.message}});document.dispatchEvent(E)}},l=g=>{console.error("Erro no Face Liveness:",g);const y=new CustomEvent("liveness-error",{detail:{message:g.message||"Erro durante verificao de liveness"}});document.dispatchEvent(y)};if(a)return Hs.jsx("div",{style:{padding:"20px",textAlign:"center"},children:Hs.jsx("div",{children:"Carregando sesso..."})});if(n)return Hs.jsxs("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:[Hs.jsxs("div",{children:["Erro: ",n]}),Hs.jsx("p",{style:{fontSize:"12px",marginTop:"10px",color:"#666"},children:"Verifique se o backend est rodando e se as URLs esto corretas."})]});console.log(" [widget.jsx] Teste rpido de verificao antes de renderizar:");const f=typeof window<"u"?window.AWS:null;if(console.log("AWS:",f),console.log("FaceLivenessDetector:",g3),console.log("SessionId:",t),!f)return console.error(" AWS no est disponvel no window"),Hs.jsxs("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:[Hs.jsx("div",{children:" Erro: AWS SDK no est disponvel"}),Hs.jsx("p",{style:{fontSize:"12px",marginTop:"10px",color:"#666"},children:"Verifique se o script aws-sdk est carregado no index.html"})]});if(!g3)return console.error(" FaceLivenessDetector no est disponvel"),Hs.jsxs("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:[Hs.jsx("div",{children:" Erro: FaceLivenessDetector no est disponvel"}),Hs.jsx("p",{style:{fontSize:"12px",marginTop:"10px",color:"#666"},children:"Verifique se @aws-amplify/ui-react-liveness est instalado corretamente"})]});if(!t)return console.error(" SessionId no est disponvel"),Hs.jsxs("div",{style:{padding:"20px",color:"orange",textAlign:"center"},children:[Hs.jsx("div",{children:" Sesso no criada"}),Hs.jsx("p",{style:{fontSize:"12px",marginTop:"10px",color:"#666"},children:"Aguardando criao da sesso..."})]});console.log(" [widget.jsx] Todas as verificaes passaram, renderizando FaceLivenessDetector...");const c=document.querySelector("face-liveness-widget")?.getAttribute("region")||"us-east-1";return Hs.jsx(g3,{sessionId:t,region:c,onAnalysisComplete:u,onError:l,displayText:{cameraMinSpecificationsHeadingText:"Use a cmera frontal do seu dispositivo",cameraMinSpecificationsMessageText:"Verifique se sua cmera atende aos requisitos mnimos",goodFitCaptionText:"Posio perfeita",hintMoveFaceText:"No detectamos um rosto. Ajuste sua posio.",hintTooCloseText:"Muito perto da cmera. Afaste-se um pouco.",hintTooFarText:"Muito longe. Aproxime-se da cmera.",hintCenterFaceText:"Centralize seu rosto na tela.",photosensitivityWarningBodyText:"Este teste de liveness usa luz estroboscpica que pode afetar pessoas com epilepsia fotossensvel. Caso deseje continuar, clique em OK.",photosensitivityWarningHeadingText:"Aviso de fotossensibilidade",instructionMoveCloserText:"Muito longe. Aproxime-se da cmera.",instructionMoveFartherText:"Muito perto da cmera. Afaste-se um pouco.",instructionMoveFaceText:"Ajuste sua posio at centralizar seu rosto na tela.",startScreenBeginCheckText:"Iniciar Verificao"}})}console.log(" [widget.js] Iniciando registro do custom element...");try{const t=f9(oCe,wt,l9,{shadow:!1});console.log(" [widget.js] reactToWebComponent criado (sem Shadow DOM), registrando custom element..."),customElements.define("face-liveness-widget",t),console.log(" [widget.js] Custom element face-liveness-widget registrado com sucesso!"),typeof window<"u"&&(window.dispatchEvent(new CustomEvent("face-liveness-widget-ready")),console.log(" [widget.js] Evento face-liveness-widget-ready disparado"))}catch(t){console.error(" [widget.js] ERRO ao registrar custom element:",t),console.error(" [widget.js] Stack trace:",t.stack),typeof window<"u"&&window.dispatchEvent(new CustomEvent("face-liveness-widget-error",{detail:{error:t.message,stack:t.stack}}))}})();
